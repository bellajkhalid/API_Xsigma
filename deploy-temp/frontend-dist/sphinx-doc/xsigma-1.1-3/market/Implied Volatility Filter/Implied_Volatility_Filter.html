<!doctype html>
<html class="no-js" lang="en" data-content_root="../../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="author" title="About these documents" href="../../about.html" /><link rel="index" title="Index" href="../../genindex.html" /><link rel="search" title="Search" href="../../search.html" /><link rel="next" title="1.7. Linear_Interest_Rate_Swaps Guides" href="../Ir/index.html" /><link rel="prev" title="1.6. Implied Volatility Filter Guides" href="index.html" />

    <link rel="shortcut icon" href="../../_static/xsigma_favicon.png"/><!-- Generated with Sphinx 7.2.6 and Furo 2023.09.10 -->
        <title>1.6.1. Implied Volatility Filter - PRETORIAN Documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=8c702e86" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?v=36a5483c" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=8c702e86" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --color-brand-primary: #0066cc;
  --color-brand-content: #0066cc;
  --color-admonition-background: #f8f9fa;
  --color-sidebar-background: #f8f9fa;
  --color-sidebar-background-border: #e9ecef;
  --font-stack: system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, sans-serif;
  --font-stack--monospace: SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-brand-primary: #4da6ff;
  --color-brand-content: #4da6ff;
  --color-admonition-background: #1e1e1e;
  --color-sidebar-background: #1e1e1e;
  --color-sidebar-background-border: #404040;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-brand-primary: #4da6ff;
  --color-brand-content: #4da6ff;
  --color-admonition-background: #1e1e1e;
  --color-sidebar-background: #1e1e1e;
  --color-sidebar-background-border: #404040;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">PRETORIAN Documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../../_static/Logo.ico" alt="Logo"/>
  </div>
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../../_static/../../Logo.ico" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="../../_static/../../Logo.ico" alt="Dark Logo"/>
  </div>
  
  <span class="sidebar-brand-text">PRETORIAN Documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../about.html">About</a></li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../index.html">1. Market</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of 1. Market</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="../ASV/index.html">1.1. Analytical Sigma Volatility (ASV)</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of 1.1. Analytical Sigma Volatility (ASV)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../ASV/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/scope.html">2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/implementation.html">5. Implementation and Numerical Schema</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/calibration.html">6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/model_monitoring.html">10. Model Monitoring and KPIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/user_guide.html">11. User Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/references.html">12. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/README.html">13. Analytical Sigma Volatility (ASV) Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/scope.html">2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/implementation.html">5. Implementation and Numerical Schema</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/calibration.html">6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/model_monitoring.html">10. Model Monitoring and KPIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/user_guide.html">11. User Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/references.html">12. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/README.html">13. Analytical Sigma Volatility (ASV) Documentation</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Cheyette/index.html">Cheyette Local Vol Model</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Cheyette Local Vol Model</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/scope.html">2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/products_and_payoffs.html">1.2.1.3. Products and Payoffs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/model_methodology.html">3. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/implementation.html">4. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/calibration.html">5. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/risk_analysis.html">6. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/testing_and_validation.html">7. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/assumptions_and_limitations.html">1.2.1.9. Assumptions and Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/monitoring_and_kpis.html">8. Monitoring and KPIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/appendices.html">1.2.1.11. Appendices</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/README.html">1.2.1.12. Cheyette Local Vol Model Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/scope.html">2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/model_methodology.html">3. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/implementation.html">4. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/calibration.html">5. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/risk_analysis.html">6. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/testing_and_validation.html">7. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/monitoring_and_kpis.html">8. Monitoring and KPIs</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Curve%20Construction/index.html">1.3. Curve Construction and Risk Framework (New Curve Framework)</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of 1.3. Curve Construction and Risk Framework (New Curve Framework)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/scope.html">2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/implementation.html">5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/calibration.html">6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/model_monitoring.html">10. Model Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/development_feedback.html">11. Development Feedback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/references.html">12. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/README.html">1.3.1.13. Curve Construction and Risk Framework Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/scope.html">2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/implementation.html">5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/calibration.html">6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/model_monitoring.html">10. Model Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/development_feedback.html">11. Development Feedback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/references.html">12. References</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../DBOPT-CorrelationSkew/index.html">1.1. DBOPT Correlation Skew Guides</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of 1.1. DBOPT Correlation Skew Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../DBOPT-CorrelationSkew/DBOPT-CorrelationSkew.html">1.1.1. Deutsche Bank Risk Model Validation Document</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../DBOPT/index.html">1.2. RateDeterministic Inflation Deterministic Guides</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of 1.2. RateDeterministic Inflation Deterministic Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../DBOPT/RateDeterministic_InflationDeterministic.html">1.2.1. Interest Rate Volatility Model GSABR</a></li>
<li class="toctree-l3"><a class="reference internal" href="../DBOPT/RateDeterministic_InflationDeterministic.html#independent-validation-testing">1.2.2. 4 Independent Validation Testing</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../DBSMC/index.html">1.3. DBSMC Rate terministic FX Market Guides</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of 1.3. DBSMC Rate terministic FX Market Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../DBSMC/DBSMC-RateDeterministic_FXMarket.html">1.3.1. FX Market Model Validation Document</a></li>
<li class="toctree-l3"><a class="reference internal" href="../DBSMC/DBSMC-RateDeterministic_FXMarket.html#model-uncertainty-identification-measurement-and-management">1.3.2. 5 Model Uncertainty Identification, Measurement, and Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="../DBSMC/DBSMC-RateDeterministic_FXMarket.html#control-assessment">1.3.3. 6 Control Assessment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../DBSMC/DBSMC-RateDeterministic_FXMarket.html#conclusion">1.3.4. 7 Conclusion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../DBSMC/DBSMC-RateDeterministic_FXMarket.html#document-change-history">1.3.5. 8 Document Change History</a></li>
<li class="toctree-l3"><a class="reference internal" href="../DBSMC/DBSMC-RateDeterministic_FXMarket.html#a-fx-sabr3formulapd-interpolation-and-extrapolation-retired">1.3.6. A FX SABR3FORMULAPD interpolation and extrapolation (retired)</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../DBX-ShortRate%20and%20FX%20Skew%20Stochastic%20Volatility%20models/index.html">1.4. DBX-Short Rate and FX Skew StochVol Guides</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of 1.4. DBX-Short Rate and FX Skew StochVol Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../DBX-ShortRate%20and%20FX%20Skew%20Stochastic%20Volatility%20models/DBX-ShortRate_FXSkewStochVol.html">1.4.1. DBX-ShortRate_FXSkewStochVol Document</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Fx/index.html">1.5. fx_volatility_surface Guides</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of 1.5. fx_volatility_surface Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../Fx/fx_volatility_surface.html">1.5.1. FX Analytic Volatility Surfaces</a></li>
</ul>
</li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="index.html">1.6. Implied Volatility Filter Guides</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of 1.6. Implied Volatility Filter Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">1.6.1. Implied Volatility Filter</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Ir/index.html">1.7. Linear_Interest_Rate_Swaps Guides</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of 1.7. Linear_Interest_Rate_Swaps Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../Ir/Linear_Interest_Rate_Swaps.html">1.7.1. Linear Interest Rate Swaps</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../LSV/index.html">1.8. LSV Guides</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle navigation of 1.8. LSV Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../LSV/LSV.html">1.8.1. LSV</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle navigation of 1.8.1. LSV</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../LSV/FX%20LSV%20Markov%20Switching%20%20Monte%20Carlo/FX_LSV_Markov_Switching_Monte_Carlo.html">1.8.1.1. FX LSV Markov Switching : Monte Carlo</a></li>
<li class="toctree-l4"><a class="reference internal" href="../LSV/FX%20LSV%20Markov%20Switching%20PDE/FX_LSV_Markov_Switching_PDE.html">1.8.1.2. FX LSV Markov Switching : PDE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../LSV/Local%20Volatility%20PDE%20and%20MC/Local_Volatility_PDE_and_MC.html">1.8.1.3. Local Volatility: PDE and MC</a></li>
<li class="toctree-l4"><a class="reference internal" href="../LSV/LSV%20Markov%20Switching%20%20Monte%20Carlo/LSV_Markov_Switching_Monte_Carlo.html">1.8.1.4. LSV Markov Switching : Monte Carlo</a></li>
<li class="toctree-l4"><a class="reference internal" href="../LSV/LSV%20Markov%20Switching%20%20PDE/LSV_Markov_Switching_PDE.html">1.8.1.5. LSV Markov Switching : PDE</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Local_Volatility_PDE_MC/index.html">1.9. Local Volatility PDE MC Guides</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle navigation of 1.9. Local Volatility PDE MC Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../Local_Volatility_PDE_MC/Local_Volatility_PDE_MC.html">1.9.1. Local Volatility: PDE and MC</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Model%20Rate%20Deterministic_InflationDeterministic/index.html">1.10. Model Rate Deterministic Inflation Deterministic Guides</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle navigation of 1.10. Model Rate Deterministic Inflation Deterministic Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../Model%20Rate%20Deterministic_InflationDeterministic/RateDeterministic_InflationDeterministic.html">1.10.1. Model Rate Deterministic Document (DBOPT/DBX)</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Model%20RateDeterministic/index.html">1.11. Rate Deterministic Guides</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle navigation of 1.11. Rate Deterministic Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../Model%20RateDeterministic/RateDeterministic.html">1.11.1. The model RateDeterministic</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Model%20Short%20Rate%20Normal/index.html">1.12. Short Rate Normal Guides</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle navigation of 1.12. Short Rate Normal Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../Model%20Short%20Rate%20Normal/Short_Rate_Normal.html">1.12.1. Short Rate Normal Model Validation Document</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../SABR/index.html">1.16. Interest Rate Volatility Model GSABR</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle navigation of 1.16. Interest Rate Volatility Model GSABR</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../SABR/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/scope.html">2. Scope and Use</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/implementation.html">5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/calibration.html">6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/model_monitoring.html">10. Model Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/market_data_integration.html">11. Market Data Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/performance_benchmarking.html">12. Performance Benchmarking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/troubleshooting_guide.html">13. Troubleshooting Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/development_feedback.html">14. Development Feedback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/references.html">15. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/scope.html">2. Scope and Use</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/implementation.html">5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/calibration.html">6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/model_monitoring.html">10. Model Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/market_data_integration.html">11. Market Data Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/performance_benchmarking.html">12. Performance Benchmarking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/troubleshooting_guide.html">13. Troubleshooting Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/development_feedback.html">14. Development Feedback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/references.html">15. References</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../getting_started/index.html">Getting Started</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle navigation of Getting Started</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../learning.html">Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../supported_data_formats.html">Supported Data Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../supported_hardware.html">Supported Hardware</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../modules/index.html">Modules</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><div class="visually-hidden">Toggle navigation of Modules</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../modules/xsigma-modules/Wrapping/PythonCore/README.html">Python Wrapper Core Classes</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../build_instructions/index.html">Building</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" role="switch" type="checkbox"/><label for="toctree-checkbox-21"><div class="visually-hidden">Toggle navigation of Building</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../build_instructions/build_settings.html">Build Settings</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../api/index.html">API</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" role="switch" type="checkbox"/><label for="toctree-checkbox-22"><div class="visually-hidden">Toggle navigation of API</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../api/cpp.html">1.1. C++</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../api/python.html">1.2. Python</a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" role="switch" type="checkbox"/><label for="toctree-checkbox-23"><div class="visually-hidden">Toggle navigation of 1.2. Python</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" role="switch" type="checkbox"/><label for="toctree-checkbox-24"><div class="visually-hidden">Toggle navigation of xsigmamodules</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.common.html">1.2.1.1.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.common</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" role="switch" type="checkbox"/><label for="toctree-checkbox-25"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.1. xsigmamodules.common</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.common.helper.html">1.2.1.1.1.1.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.common.helper</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.common.instrument.html">1.2.1.1.1.1.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.common.instrument</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.market.html">1.2.1.1.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.market</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" role="switch" type="checkbox"/><label for="toctree-checkbox-26"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.2. xsigmamodules.market</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.market.market_data.html">1.2.1.1.1.2.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.market.market_data</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.market.object_factory.html">1.2.1.1.1.2.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.market.object_factory</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.simulation.html">1.2.1.1.1.3. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.simulation</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" role="switch" type="checkbox"/><label for="toctree-checkbox-27"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.3. xsigmamodules.simulation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.simulation.simulation.html">1.2.1.1.1.3.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.simulation.simulation</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.test.html">1.2.1.1.1.4. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.test</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" role="switch" type="checkbox"/><label for="toctree-checkbox-28"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.4. xsigmamodules.test</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.test.BlackBox.html">1.2.1.1.1.4.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.test.BlackBox</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.test.Testing.html">1.2.1.1.1.4.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.test.Testing</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.util.html">1.2.1.1.1.5. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-29" name="toctree-checkbox-29" role="switch" type="checkbox"/><label for="toctree-checkbox-29"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.5. xsigmamodules.util</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.util.misc.html">1.2.1.1.1.5.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.misc</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.util.numpy_support.html">1.2.1.1.1.5.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.numpy_support</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.util.object_converter.html">1.2.1.1.1.5.1.3. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.object_converter</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.util.xsigmaConstants.html">1.2.1.1.1.5.1.4. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.xsigmaConstants</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.util.xsigmaMethodParser.html">1.2.1.1.1.5.1.5. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.xsigmaMethodParser</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.xlwing.html">1.2.1.1.1.6. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.xlwing</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-30" name="toctree-checkbox-30" role="switch" type="checkbox"/><label for="toctree-checkbox-30"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.6. xsigmamodules.xlwing</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.xlwing.hartman_watson_template.html">1.2.1.1.1.6.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.xlwing.hartman_watson_template</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.xlwing.sabr_template.html">1.2.1.1.1.6.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.xlwing.sabr_template</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.generate_pyi.html">1.2.1.1.2.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.generate_pyi</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../api/cmake/cmake-modules.html">1.3. CMake</a><input class="toctree-checkbox" id="toctree-checkbox-31" name="toctree-checkbox-31" role="switch" type="checkbox"/><label for="toctree-checkbox-31"><div class="visually-hidden">Toggle navigation of 1.3. CMake</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/cmake/ModuleSystem.html">1.3.1. Module System</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/cmake/xsigmaModule.html">1.3.2. xsigmaModule</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/cmake/xsigmaModuleTesting.html">1.3.3. xsigmaModuleTesting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/cmake/xsigmaModuleWrapPython.html">1.3.4. xsigmaModuleWrapPython</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/cmake/xsigmaModuleWrapJava.html">1.3.5. xsigmaModuleWrapJava</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/cmake/xsigmaModuleJSON.html">1.3.6. xsigmaModuleJSON</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/cmake/xsigmaModuleGraphviz.html">1.3.7. xsigmaModuleGraphviz</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../advanced/index.html">Advanced Topics</a><input class="toctree-checkbox" id="toctree-checkbox-32" name="toctree-checkbox-32" role="switch" type="checkbox"/><label for="toctree-checkbox-32"><div class="visually-hidden">Toggle navigation of Advanced Topics</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/available_python_wheels.html">Additional Python Wheels</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/spdx_and_sbom.html">SPDX &amp; SBOM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/build_python_wheels.html">Building Python Wheels</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/build_wasm_emscripten.html">Building using emscripten for WebAssembly</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/build_for_mobile.html">Cross-compiling for Mobile devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/build_documentation.html">Building documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/marshalling_hints.html">Marshalling Hints</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/object_manager.html">Object manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/object_serialization.html">Auto serialization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/PythonWrappers.html">Python Wrappers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/runtime_settings.html">Runtime settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/WrappingTools.html">Wrapping Tools</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../advanced/migration_guides/index.html">Migration Guides</a><input class="toctree-checkbox" id="toctree-checkbox-33" name="toctree-checkbox-33" role="switch" type="checkbox"/><label for="toctree-checkbox-33"><div class="visually-hidden">Toggle navigation of Migration Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../advanced/migration_guides/ModuleMigration.html">Module Migration from XSIGMA 8.2 to 9+</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../design_documents/index.html">Design Documents</a><input class="toctree-checkbox" id="toctree-checkbox-34" name="toctree-checkbox-34" role="switch" type="checkbox"/><label for="toctree-checkbox-34"><div class="visually-hidden">Toggle navigation of Design Documents</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../design_documents/XSIGMAFileFormats.html">XSIGMA File Formats</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../design_documents/smptools.html">Parallel Processing with XSIGMA’s SMP Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../design_documents/data_assemply.html">Data Assembly</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../developers_guide/index.html">Developer’s Guide</a><input class="toctree-checkbox" id="toctree-checkbox-35" name="toctree-checkbox-35" role="switch" type="checkbox"/><label for="toctree-checkbox-35"><div class="visually-hidden">Toggle navigation of Developer’s Guide</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../developers_guide/git/develop.html">Develop</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developers_guide/testing.html">Regression Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developers_guide/git/test.html">Adding Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developers_guide/git/dashboard.html">Dashboard Scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developers_guide/git/thirdparty.html">Imported Third Party Projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developers_guide/git/thirdparty-projects.html">Imported Third Party Projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developers_guide/git/deprecation.html">Deprecation Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developers_guide/release_process.html">Release Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developers_guide/coding_conventions.html">Coding Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developers_guide/about_this_documentation.html">About this documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../resources.html">Resources</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../release_details/index.html">Release Details</a><input class="toctree-checkbox" id="toctree-checkbox-36" name="toctree-checkbox-36" role="switch" type="checkbox"/><label for="toctree-checkbox-36"><div class="visually-hidden">Toggle navigation of Release Details</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../getting_started/index.html">Getting Started</a><input class="toctree-checkbox" id="toctree-checkbox-37" name="toctree-checkbox-37" role="switch" type="checkbox"/><label for="toctree-checkbox-37"><div class="visually-hidden">Toggle navigation of Getting Started</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Market Models</span></p>
<ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="../index.html">1. Market Models Overview</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-38" name="toctree-checkbox-38" role="switch" type="checkbox"/><label for="toctree-checkbox-38"><div class="visually-hidden">Toggle navigation of 1. Market Models Overview</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="../ASV/index.html">1.1. Analytical Sigma Volatility (ASV)</a><input class="toctree-checkbox" id="toctree-checkbox-39" name="toctree-checkbox-39" role="switch" type="checkbox"/><label for="toctree-checkbox-39"><div class="visually-hidden">Toggle navigation of 1.1. Analytical Sigma Volatility (ASV)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../ASV/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/scope.html">2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/implementation.html">5. Implementation and Numerical Schema</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/calibration.html">6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/model_monitoring.html">10. Model Monitoring and KPIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/user_guide.html">11. User Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/references.html">12. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/README.html">13. Analytical Sigma Volatility (ASV) Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/scope.html">2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/implementation.html">5. Implementation and Numerical Schema</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/calibration.html">6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/model_monitoring.html">10. Model Monitoring and KPIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/user_guide.html">11. User Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/references.html">12. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/README.html">13. Analytical Sigma Volatility (ASV) Documentation</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Cheyette/index.html">Cheyette Local Vol Model</a><input class="toctree-checkbox" id="toctree-checkbox-40" name="toctree-checkbox-40" role="switch" type="checkbox"/><label for="toctree-checkbox-40"><div class="visually-hidden">Toggle navigation of Cheyette Local Vol Model</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/scope.html">2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/products_and_payoffs.html">1.2.1.3. Products and Payoffs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/model_methodology.html">3. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/implementation.html">4. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/calibration.html">5. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/risk_analysis.html">6. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/testing_and_validation.html">7. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/assumptions_and_limitations.html">1.2.1.9. Assumptions and Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/monitoring_and_kpis.html">8. Monitoring and KPIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/appendices.html">1.2.1.11. Appendices</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/README.html">1.2.1.12. Cheyette Local Vol Model Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/scope.html">2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/model_methodology.html">3. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/implementation.html">4. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/calibration.html">5. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/risk_analysis.html">6. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/testing_and_validation.html">7. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/monitoring_and_kpis.html">8. Monitoring and KPIs</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Curve%20Construction/index.html">1.3. Curve Construction and Risk Framework (New Curve Framework)</a><input class="toctree-checkbox" id="toctree-checkbox-41" name="toctree-checkbox-41" role="switch" type="checkbox"/><label for="toctree-checkbox-41"><div class="visually-hidden">Toggle navigation of 1.3. Curve Construction and Risk Framework (New Curve Framework)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/scope.html">2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/implementation.html">5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/calibration.html">6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/model_monitoring.html">10. Model Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/development_feedback.html">11. Development Feedback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/references.html">12. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/README.html">1.3.1.13. Curve Construction and Risk Framework Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/scope.html">2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/implementation.html">5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/calibration.html">6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/model_monitoring.html">10. Model Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/development_feedback.html">11. Development Feedback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/references.html">12. References</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../DBOPT-CorrelationSkew/index.html">1.1. DBOPT Correlation Skew Guides</a><input class="toctree-checkbox" id="toctree-checkbox-42" name="toctree-checkbox-42" role="switch" type="checkbox"/><label for="toctree-checkbox-42"><div class="visually-hidden">Toggle navigation of 1.1. DBOPT Correlation Skew Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../DBOPT-CorrelationSkew/DBOPT-CorrelationSkew.html">1.1.1. Deutsche Bank Risk Model Validation Document</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../DBOPT/index.html">1.2. RateDeterministic Inflation Deterministic Guides</a><input class="toctree-checkbox" id="toctree-checkbox-43" name="toctree-checkbox-43" role="switch" type="checkbox"/><label for="toctree-checkbox-43"><div class="visually-hidden">Toggle navigation of 1.2. RateDeterministic Inflation Deterministic Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../DBOPT/RateDeterministic_InflationDeterministic.html">1.2.1. Interest Rate Volatility Model GSABR</a></li>
<li class="toctree-l3"><a class="reference internal" href="../DBOPT/RateDeterministic_InflationDeterministic.html#independent-validation-testing">1.2.2. 4 Independent Validation Testing</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../DBSMC/index.html">1.3. DBSMC Rate terministic FX Market Guides</a><input class="toctree-checkbox" id="toctree-checkbox-44" name="toctree-checkbox-44" role="switch" type="checkbox"/><label for="toctree-checkbox-44"><div class="visually-hidden">Toggle navigation of 1.3. DBSMC Rate terministic FX Market Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../DBSMC/DBSMC-RateDeterministic_FXMarket.html">1.3.1. FX Market Model Validation Document</a></li>
<li class="toctree-l3"><a class="reference internal" href="../DBSMC/DBSMC-RateDeterministic_FXMarket.html#model-uncertainty-identification-measurement-and-management">1.3.2. 5 Model Uncertainty Identification, Measurement, and Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="../DBSMC/DBSMC-RateDeterministic_FXMarket.html#control-assessment">1.3.3. 6 Control Assessment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../DBSMC/DBSMC-RateDeterministic_FXMarket.html#conclusion">1.3.4. 7 Conclusion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../DBSMC/DBSMC-RateDeterministic_FXMarket.html#document-change-history">1.3.5. 8 Document Change History</a></li>
<li class="toctree-l3"><a class="reference internal" href="../DBSMC/DBSMC-RateDeterministic_FXMarket.html#a-fx-sabr3formulapd-interpolation-and-extrapolation-retired">1.3.6. A FX SABR3FORMULAPD interpolation and extrapolation (retired)</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../DBX-ShortRate%20and%20FX%20Skew%20Stochastic%20Volatility%20models/index.html">1.4. DBX-Short Rate and FX Skew StochVol Guides</a><input class="toctree-checkbox" id="toctree-checkbox-45" name="toctree-checkbox-45" role="switch" type="checkbox"/><label for="toctree-checkbox-45"><div class="visually-hidden">Toggle navigation of 1.4. DBX-Short Rate and FX Skew StochVol Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../DBX-ShortRate%20and%20FX%20Skew%20Stochastic%20Volatility%20models/DBX-ShortRate_FXSkewStochVol.html">1.4.1. DBX-ShortRate_FXSkewStochVol Document</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Fx/index.html">1.5. fx_volatility_surface Guides</a><input class="toctree-checkbox" id="toctree-checkbox-46" name="toctree-checkbox-46" role="switch" type="checkbox"/><label for="toctree-checkbox-46"><div class="visually-hidden">Toggle navigation of 1.5. fx_volatility_surface Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../Fx/fx_volatility_surface.html">1.5.1. FX Analytic Volatility Surfaces</a></li>
</ul>
</li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="index.html">1.6. Implied Volatility Filter Guides</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-47" name="toctree-checkbox-47" role="switch" type="checkbox"/><label for="toctree-checkbox-47"><div class="visually-hidden">Toggle navigation of 1.6. Implied Volatility Filter Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3 current current-page"><a class="current reference internal" href="#">1.6.1. Implied Volatility Filter</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Ir/index.html">1.7. Linear_Interest_Rate_Swaps Guides</a><input class="toctree-checkbox" id="toctree-checkbox-48" name="toctree-checkbox-48" role="switch" type="checkbox"/><label for="toctree-checkbox-48"><div class="visually-hidden">Toggle navigation of 1.7. Linear_Interest_Rate_Swaps Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../Ir/Linear_Interest_Rate_Swaps.html">1.7.1. Linear Interest Rate Swaps</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../LSV/index.html">1.8. LSV Guides</a><input class="toctree-checkbox" id="toctree-checkbox-49" name="toctree-checkbox-49" role="switch" type="checkbox"/><label for="toctree-checkbox-49"><div class="visually-hidden">Toggle navigation of 1.8. LSV Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../LSV/LSV.html">1.8.1. LSV</a><input class="toctree-checkbox" id="toctree-checkbox-50" name="toctree-checkbox-50" role="switch" type="checkbox"/><label for="toctree-checkbox-50"><div class="visually-hidden">Toggle navigation of 1.8.1. LSV</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../LSV/FX%20LSV%20Markov%20Switching%20%20Monte%20Carlo/FX_LSV_Markov_Switching_Monte_Carlo.html">1.8.1.1. FX LSV Markov Switching : Monte Carlo</a></li>
<li class="toctree-l4"><a class="reference internal" href="../LSV/FX%20LSV%20Markov%20Switching%20PDE/FX_LSV_Markov_Switching_PDE.html">1.8.1.2. FX LSV Markov Switching : PDE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../LSV/Local%20Volatility%20PDE%20and%20MC/Local_Volatility_PDE_and_MC.html">1.8.1.3. Local Volatility: PDE and MC</a></li>
<li class="toctree-l4"><a class="reference internal" href="../LSV/LSV%20Markov%20Switching%20%20Monte%20Carlo/LSV_Markov_Switching_Monte_Carlo.html">1.8.1.4. LSV Markov Switching : Monte Carlo</a></li>
<li class="toctree-l4"><a class="reference internal" href="../LSV/LSV%20Markov%20Switching%20%20PDE/LSV_Markov_Switching_PDE.html">1.8.1.5. LSV Markov Switching : PDE</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Local_Volatility_PDE_MC/index.html">1.9. Local Volatility PDE MC Guides</a><input class="toctree-checkbox" id="toctree-checkbox-51" name="toctree-checkbox-51" role="switch" type="checkbox"/><label for="toctree-checkbox-51"><div class="visually-hidden">Toggle navigation of 1.9. Local Volatility PDE MC Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../Local_Volatility_PDE_MC/Local_Volatility_PDE_MC.html">1.9.1. Local Volatility: PDE and MC</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Model%20Rate%20Deterministic_InflationDeterministic/index.html">1.10. Model Rate Deterministic Inflation Deterministic Guides</a><input class="toctree-checkbox" id="toctree-checkbox-52" name="toctree-checkbox-52" role="switch" type="checkbox"/><label for="toctree-checkbox-52"><div class="visually-hidden">Toggle navigation of 1.10. Model Rate Deterministic Inflation Deterministic Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../Model%20Rate%20Deterministic_InflationDeterministic/RateDeterministic_InflationDeterministic.html">1.10.1. Model Rate Deterministic Document (DBOPT/DBX)</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Model%20RateDeterministic/index.html">1.11. Rate Deterministic Guides</a><input class="toctree-checkbox" id="toctree-checkbox-53" name="toctree-checkbox-53" role="switch" type="checkbox"/><label for="toctree-checkbox-53"><div class="visually-hidden">Toggle navigation of 1.11. Rate Deterministic Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../Model%20RateDeterministic/RateDeterministic.html">1.11.1. The model RateDeterministic</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Model%20Short%20Rate%20Normal/index.html">1.12. Short Rate Normal Guides</a><input class="toctree-checkbox" id="toctree-checkbox-54" name="toctree-checkbox-54" role="switch" type="checkbox"/><label for="toctree-checkbox-54"><div class="visually-hidden">Toggle navigation of 1.12. Short Rate Normal Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../Model%20Short%20Rate%20Normal/Short_Rate_Normal.html">1.12.1. Short Rate Normal Model Validation Document</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../SABR/index.html">1.16. Interest Rate Volatility Model GSABR</a><input class="toctree-checkbox" id="toctree-checkbox-55" name="toctree-checkbox-55" role="switch" type="checkbox"/><label for="toctree-checkbox-55"><div class="visually-hidden">Toggle navigation of 1.16. Interest Rate Volatility Model GSABR</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../SABR/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/scope.html">2. Scope and Use</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/implementation.html">5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/calibration.html">6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/model_monitoring.html">10. Model Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/market_data_integration.html">11. Market Data Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/performance_benchmarking.html">12. Performance Benchmarking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/troubleshooting_guide.html">13. Troubleshooting Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/development_feedback.html">14. Development Feedback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/references.html">15. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/scope.html">2. Scope and Use</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/implementation.html">5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/calibration.html">6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/model_monitoring.html">10. Model Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/market_data_integration.html">11. Market Data Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/performance_benchmarking.html">12. Performance Benchmarking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/troubleshooting_guide.html">13. Troubleshooting Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/development_feedback.html">14. Development Feedback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/references.html">15. References</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../SABR/index.html">1.16. SABR/GSABR Models</a><input class="toctree-checkbox" id="toctree-checkbox-56" name="toctree-checkbox-56" role="switch" type="checkbox"/><label for="toctree-checkbox-56"><div class="visually-hidden">Toggle navigation of 1.16. SABR/GSABR Models</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../SABR/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/scope.html">2. Scope and Use</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/implementation.html">5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/calibration.html">6. Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/model_monitoring.html">10. Model Monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/market_data_integration.html">11. Market Data Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/performance_benchmarking.html">12. Performance Benchmarking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/troubleshooting_guide.html">13. Troubleshooting Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/development_feedback.html">14. Development Feedback</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/references.html">15. References</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/scope.html">2. Scope and Use</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/implementation.html">5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/calibration.html">6. Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/model_monitoring.html">10. Model Monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/market_data_integration.html">11. Market Data Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/performance_benchmarking.html">12. Performance Benchmarking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/troubleshooting_guide.html">13. Troubleshooting Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/development_feedback.html">14. Development Feedback</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/references.html">15. References</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../ASV/index.html">1.1. Analytical Sigma Volatility</a><input class="toctree-checkbox" id="toctree-checkbox-57" name="toctree-checkbox-57" role="switch" type="checkbox"/><label for="toctree-checkbox-57"><div class="visually-hidden">Toggle navigation of 1.1. Analytical Sigma Volatility</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../ASV/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/scope.html">2. Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/implementation.html">5. Implementation and Numerical Schema</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/calibration.html">6. Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/model_monitoring.html">10. Model Monitoring and KPIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/user_guide.html">11. User Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/references.html">12. References</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/README.html">13. Analytical Sigma Volatility (ASV) Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/scope.html">2. Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/implementation.html">5. Implementation and Numerical Schema</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/calibration.html">6. Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/model_monitoring.html">10. Model Monitoring and KPIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/user_guide.html">11. User Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/references.html">12. References</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/README.html">13. Analytical Sigma Volatility (ASV) Documentation</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Cheyette/index.html">Cheyette Interest Rate Model</a><input class="toctree-checkbox" id="toctree-checkbox-58" name="toctree-checkbox-58" role="switch" type="checkbox"/><label for="toctree-checkbox-58"><div class="visually-hidden">Toggle navigation of Cheyette Interest Rate Model</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Cheyette/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Cheyette/scope.html">2. Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Cheyette/products_and_payoffs.html">1.2.1.3. Products and Payoffs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Cheyette/model_methodology.html">3. Model Methodology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Cheyette/implementation.html">4. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Cheyette/calibration.html">5. Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Cheyette/risk_analysis.html">6. Risk Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Cheyette/testing_and_validation.html">7. Testing and Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Cheyette/assumptions_and_limitations.html">1.2.1.9. Assumptions and Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Cheyette/monitoring_and_kpis.html">8. Monitoring and KPIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Cheyette/appendices.html">1.2.1.11. Appendices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Cheyette/README.html">1.2.1.12. Cheyette Local Vol Model Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Cheyette/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Cheyette/scope.html">2. Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Cheyette/model_methodology.html">3. Model Methodology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Cheyette/implementation.html">4. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Cheyette/calibration.html">5. Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Cheyette/risk_analysis.html">6. Risk Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Cheyette/testing_and_validation.html">7. Testing and Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Cheyette/monitoring_and_kpis.html">8. Monitoring and KPIs</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Curve%20Construction/index.html">1.3. Curve Construction Framework</a><input class="toctree-checkbox" id="toctree-checkbox-59" name="toctree-checkbox-59" role="switch" type="checkbox"/><label for="toctree-checkbox-59"><div class="visually-hidden">Toggle navigation of 1.3. Curve Construction Framework</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/scope.html">2. Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/implementation.html">5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/calibration.html">6. Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/model_monitoring.html">10. Model Monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/development_feedback.html">11. Development Feedback</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/references.html">12. References</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/README.html">1.3.1.13. Curve Construction and Risk Framework Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/scope.html">2. Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/implementation.html">5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/calibration.html">6. Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/model_monitoring.html">10. Model Monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/development_feedback.html">11. Development Feedback</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/references.html">12. References</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../api/index.html">API Documentation</a><input class="toctree-checkbox" id="toctree-checkbox-60" name="toctree-checkbox-60" role="switch" type="checkbox"/><label for="toctree-checkbox-60"><div class="visually-hidden">Toggle navigation of API Documentation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../api/cpp.html">1.1. C++</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../api/python.html">1.2. Python</a><input class="toctree-checkbox" id="toctree-checkbox-61" name="toctree-checkbox-61" role="switch" type="checkbox"/><label for="toctree-checkbox-61"><div class="visually-hidden">Toggle navigation of 1.2. Python</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-62" name="toctree-checkbox-62" role="switch" type="checkbox"/><label for="toctree-checkbox-62"><div class="visually-hidden">Toggle navigation of xsigmamodules</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.common.html">1.2.1.1.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.common</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-63" name="toctree-checkbox-63" role="switch" type="checkbox"/><label for="toctree-checkbox-63"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.1. xsigmamodules.common</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.common.helper.html">1.2.1.1.1.1.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.common.helper</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.common.instrument.html">1.2.1.1.1.1.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.common.instrument</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.market.html">1.2.1.1.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.market</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-64" name="toctree-checkbox-64" role="switch" type="checkbox"/><label for="toctree-checkbox-64"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.2. xsigmamodules.market</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.market.market_data.html">1.2.1.1.1.2.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.market.market_data</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.market.object_factory.html">1.2.1.1.1.2.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.market.object_factory</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.simulation.html">1.2.1.1.1.3. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.simulation</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-65" name="toctree-checkbox-65" role="switch" type="checkbox"/><label for="toctree-checkbox-65"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.3. xsigmamodules.simulation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.simulation.simulation.html">1.2.1.1.1.3.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.simulation.simulation</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.test.html">1.2.1.1.1.4. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.test</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-66" name="toctree-checkbox-66" role="switch" type="checkbox"/><label for="toctree-checkbox-66"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.4. xsigmamodules.test</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.test.BlackBox.html">1.2.1.1.1.4.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.test.BlackBox</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.test.Testing.html">1.2.1.1.1.4.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.test.Testing</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.util.html">1.2.1.1.1.5. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-67" name="toctree-checkbox-67" role="switch" type="checkbox"/><label for="toctree-checkbox-67"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.5. xsigmamodules.util</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.util.misc.html">1.2.1.1.1.5.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.misc</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.util.numpy_support.html">1.2.1.1.1.5.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.numpy_support</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.util.object_converter.html">1.2.1.1.1.5.1.3. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.object_converter</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.util.xsigmaConstants.html">1.2.1.1.1.5.1.4. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.xsigmaConstants</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.util.xsigmaMethodParser.html">1.2.1.1.1.5.1.5. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.xsigmaMethodParser</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.xlwing.html">1.2.1.1.1.6. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.xlwing</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-68" name="toctree-checkbox-68" role="switch" type="checkbox"/><label for="toctree-checkbox-68"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.6. xsigmamodules.xlwing</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.xlwing.hartman_watson_template.html">1.2.1.1.1.6.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.xlwing.hartman_watson_template</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.xlwing.sabr_template.html">1.2.1.1.1.6.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.xlwing.sabr_template</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.generate_pyi.html">1.2.1.1.2.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.generate_pyi</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../api/cmake/cmake-modules.html">1.3. CMake</a><input class="toctree-checkbox" id="toctree-checkbox-69" name="toctree-checkbox-69" role="switch" type="checkbox"/><label for="toctree-checkbox-69"><div class="visually-hidden">Toggle navigation of 1.3. CMake</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/cmake/ModuleSystem.html">1.3.1. Module System</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/cmake/xsigmaModule.html">1.3.2. xsigmaModule</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/cmake/xsigmaModuleTesting.html">1.3.3. xsigmaModuleTesting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/cmake/xsigmaModuleWrapPython.html">1.3.4. xsigmaModuleWrapPython</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/cmake/xsigmaModuleWrapJava.html">1.3.5. xsigmaModuleWrapJava</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/cmake/xsigmaModuleJSON.html">1.3.6. xsigmaModuleJSON</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/cmake/xsigmaModuleGraphviz.html">1.3.7. xsigmaModuleGraphviz</a></li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section class="tex2jax_ignore mathjax_ignore" id="implied-volatility-filter">
<h1><span class="section-number">1.6.1. </span>Implied Volatility Filter<a class="headerlink" href="#implied-volatility-filter" title="Link to this heading">#</a></h1>
<section id="table-of-contents">
<h2><span class="section-number">1.6.1.1. </span>Table of Contents<a class="headerlink" href="#table-of-contents" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="#implied-volatility-filter">Implied Volatility Filter</a></p>
<ul>
<li><p><a class="reference internal" href="#table-of-contents">Table of Contents</a></p></li>
<li><p><a class="reference internal" href="#executive-summary">1. Executive Summary</a></p></li>
<li><p><a class="reference internal" href="#scope">2. Scope</a></p>
<ul>
<li><p><a class="reference internal" href="#model-purpose-and-intended-usage">2.1. Model Purpose and Intended Usage</a></p></li>
<li><p><a class="reference internal" href="#conceptual-soundness">2.2. Conceptual Soundness</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#product-payoff-portfolio">3. Product / Payoff / Portfolio</a></p>
<ul>
<li><p><a class="reference internal" href="#product-description">3.1. Product Description</a></p></li>
<li><p><a class="reference internal" href="#markets-and-regions">3.2. Markets and Regions</a></p></li>
<li><p><a class="reference internal" href="#target-users">3.3. Target Users</a></p></li>
<li><p><a class="reference internal" href="#applications">3.4. Applications</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#model-methodology">4. Model / Methodology</a></p>
<ul>
<li><p><a class="reference internal" href="#description">4.1. Description</a></p>
<ul>
<li><p><a class="reference internal" href="#overview">4.1.1. Overview</a></p></li>
<li><p><a class="reference internal" href="#implied-repo-calibration">4.1.2. Implied Repo Calibration</a></p>
<ul>
<li><p><a class="reference internal" href="#bracketing-strikes-selection">4.1.2.1. Bracketing Strikes Selection</a></p>
<ul>
<li><p><a class="reference internal" href="#european-options">4.1.2.2. European Options</a></p></li>
<li><p><a class="reference internal" href="#american-options">4.1.2.3. American Options</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#volatility-inversion">4.1.3. Volatility Inversion</a></p></li>
<li><p><a class="reference internal" href="#asv-volatility-surface-fitting">4.1.4. ASV Volatility Surface Fitting</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#phase-1-preprocessing">Phase 1: Preprocessing</a></p></li>
<li><p><a class="reference internal" href="#phase-2-core-fitting">Phase 2: Core Fitting</a></p></li>
<li><p><a class="reference internal" href="#phase-3-post-processing">Phase 3: Post-processing</a></p>
<ul>
<li><p><a class="reference internal" href="#quote-filtering">4.1.4.1. Quote Filtering</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#data-validity-checks">Data Validity Checks</a></p></li>
<li><p><a class="reference internal" href="#spread-based-filters">Spread-Based Filters</a></p></li>
<li><p><a class="reference internal" href="#option-characteristics-filters">Option Characteristics Filters</a></p>
<ul>
<li><p><a class="reference internal" href="#initial-setup-for-the-fitting-process">4.1.4.2. Initial Setup For The Fitting Process</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#surface-re-anchoring">1. Surface Re-anchoring</a></p></li>
<li><p><a class="reference internal" href="#maturity-classification">2. Maturity Classification</a></p></li>
<li><p><a class="reference internal" href="#weight-initialization">3. Weight Initialization</a></p></li>
<li><p><a class="reference internal" href="#standard-deviation-adjustment">4. Standard Deviation Adjustment</a></p></li>
<li><p><a class="reference internal" href="#quality-based-weighting">5. Quality-Based Weighting</a></p></li>
<li><p><a class="reference internal" href="#validation-and-performance"><span class="xref myst">Validation and Performance</span></a></p>
<ul>
<li><p><a class="reference internal" href="#automatic-poor-maturity-selection">4.1.4.3. Automatic Poor Maturity Selection</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#selection-criteria">Selection Criteria</a></p></li>
<li><p><a class="reference internal" href="#process-details">Process Details</a></p>
<ul>
<li><p><a class="reference internal" href="#conditional-fit">4.1.4.4. Conditional Fit</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#initial-checks">Initial Checks</a></p></li>
<li><p><a class="reference internal" href="#maturity-evaluation">Maturity Evaluation</a></p></li>
<li><p><a class="reference internal" href="#spot-move-evaluation">Spot Move Evaluation</a></p></li>
<li><p><a class="reference internal" href="#fitting-decision">Fitting Decision</a></p></li>
<li><p><a class="reference internal" href="#validation-and-quality-control">Validation and Quality Control</a></p>
<ul>
<li><p><a class="reference internal" href="#local-fitting-per-liquid-maturity">4.1.4.5. Local Fitting Per Liquid Maturity</a></p>
<ul>
<li><p><a class="reference internal" href="#key-parameters-and-variables">Key Parameters and Variables</a></p></li>
<li><p><a class="reference internal" href="#poor-maturity-interpolation">4.1.4.6. Poor Maturity Interpolation</a></p></li>
<li><p><a class="reference internal" href="#optional-term-structure-fitting">4.1.4.7. Optional Term Structure Fitting</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#optional-global-fitting">4.1.4.8. Optional Global Fitting</a></p>
<ul>
<li><p><a class="reference internal" href="#optional-smoothing-with-quality">4.1.4.9. Optional Smoothing with Quality</a></p></li>
<li><p><a class="reference internal" href="#parameter-interpolation-extrapolation-for-extra-non-liquid-maturities">4.1.4.10. Parameter Interpolation/Extrapolation For Extra Non-Liquid Maturities</a></p></li>
<li><p><a class="reference internal" href="#optional-grid-volatility-generation">4.1.4.11. Optional Grid Volatility Generation</a></p></li>
<li><p><a class="reference internal" href="#calendar-volatility-conversion">4.1.4.12. Calendar Volatility Conversion</a></p></li>
<li><p><a class="reference internal" href="#optional-overlay-volatility-surface-generation">4.1.4.13. Optional Overlay Volatility Surface Generation</a></p></li>
<li><p><a class="reference internal" href="#post-fit-checks-processing">4.1.4.14. Post Fit Checks Processing</a></p></li>
<li><p><a class="reference internal" href="#fit-quality-check">4.1.4.15. Fit Quality Check</a></p></li>
<li><p><a class="reference internal" href="#optional-box-rate-fit">4.1.4.16. Optional Box Rate Fit</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#two-stage-volatility-fitting">4.1.5. Two-Stage Volatility Fitting</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#assumptions-limitations-and-outliers">4.2. Assumptions, Limitations and Outliers</a></p>
<ul>
<li><p><a class="reference internal" href="#core-limitations">4.2.1. Core Limitations</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#model-parameters-variables">4.3. Model Parameters / Variables</a></p>
<ul>
<li><p><a class="reference internal" href="#repo-fitting-parameters">Repo Fitting Parameters</a></p></li>
<li><p><a class="reference internal" href="#quote-inversion-instructions">Quote Inversion Instructions</a></p></li>
<li><p><a class="reference internal" href="#quality-instructions">Quality Instructions</a></p></li>
<li><p><a class="reference internal" href="#market-data">Market Data</a></p></li>
<li><p><a class="reference internal" href="#repo-fitting-instructions">Repo Fitting Instructions</a></p></li>
<li><p><a class="reference internal" href="#smoothing-anchors">Smoothing Anchors</a></p></li>
<li><p><a class="reference internal" href="#smoothing-anchors-parameters">Smoothing Anchors Parameters</a></p></li>
<li><p><a class="reference internal" href="#box-rate-fitting-instructions">Box Rate Fitting Instructions</a></p></li>
<li><p><a class="reference internal" href="#volatility-fitting-instructions">Volatility Fitting Instructions</a></p></li>
<li><p><a class="reference internal" href="#ts-fitting-instructions">TS Fitting Instructions</a></p></li>
<li><p><a class="reference internal" href="#poor-maturity-check-instructions">Poor Maturity Check Instructions</a></p></li>
<li><p><a class="reference internal" href="#param-smooth-ts-instructions">Param Smooth TS Instructions</a></p></li>
<li><p><a class="reference internal" href="#constraint-instructions">Constraint Instructions</a></p></li>
<li><p><a class="reference internal" href="#conditional-fit-instructions">Conditional Fit Instructions</a></p></li>
<li><p><a class="reference internal" href="#averaged-forward-volatility-instructions">Averaged Forward Volatility Instructions</a></p></li>
<li><p><a class="reference internal" href="#post-fit-checks-instructions">Post-fit Checks Instructions</a></p></li>
<li><p><a class="reference internal" href="#calibrated-vs-implied-vols-checks-instructions">Calibrated vs Implied Vols Checks Instructions</a></p></li>
<li><p><a class="reference internal" href="#local-vol-checks-instructions">Local Vol Checks Instructions</a></p></li>
<li><p><a class="reference internal" href="#local-volatility-score-instructions">Local Volatility Score Instructions</a></p></li>
<li><p><a class="reference internal" href="#volatility-moves-checks-instructions">Volatility Moves Checks Instructions</a></p></li>
<li><p><a class="reference internal" href="#fit-quality-instructions">Fit Quality Instructions</a></p></li>
<li><p><a class="reference internal" href="#two-stage-vol-fitting-instructions">Two Stage Vol Fitting Instructions</a></p></li>
<li><p><a class="reference internal" href="#reference-volatility-fitter-parameters">Reference Volatility Fitter Parameters</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#model-outputs">4.4. Model Outputs</a></p></li>
<li><p><a class="reference internal" href="#model-uncertainty">4.5. Model Uncertainty</a></p></li>
<li><p><a class="reference internal" href="#risk-factors">4.6. Risk Factors</a></p></li>
<li><p><a class="reference internal" href="#feeder-models">4.7. Feeder Models</a></p></li>
<li><p><a class="reference internal" href="#justification-against-alternative-approaches">4.8. Justification against alternative approaches</a></p></li>
<li><p><a class="reference internal" href="#conditions-of-use">4.9. Conditions of Use</a></p></li>
<li><p><a class="reference internal" href="#core-assumptions">Core Assumptions</a></p>
<ul>
<li><p><a class="reference internal" href="#stressed-market-conditions">4.9.1. Stressed Market Conditions</a></p></li>
<li><p><a class="reference internal" href="#other">4.9.2. Other</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#implementation-numerical-schema-description">5. Implementation / Numerical Schema Description</a></p>
<ul>
<li><p><a class="reference internal" href="#id1">5.1. Description</a></p>
<ul>
<li><p><a class="reference internal" href="#stage-1-quote-processing-pipeline">Stage 1: Quote Processing Pipeline</a></p></li>
<li><p><a class="reference internal" href="#stage-2-surface-parameter-fitting">Stage 2: Surface Parameter Fitting</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#inputs">5.2. Inputs</a></p></li>
<li><p><a class="reference internal" href="#quality-control">5.3. Quality control</a></p></li>
<li><p><a class="reference internal" href="#limitations">5.4. Limitations</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#calibration">6. Calibration</a></p>
<ul>
<li><p><a class="reference internal" href="#calibration-strategy">6.1. Calibration Strategy</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#stage-1-repo-forward-curve-calibration">Stage 1: Repo/Forward Curve Calibration</a></p></li>
<li><p><a class="reference internal" href="#stage-2-premium-inversion">Stage 2: Premium Inversion</a></p></li>
<li><p><a class="reference internal" href="#stage-3-parameter-fitting-sequence">Stage 3: Parameter Fitting Sequence</a></p>
<ul>
<li><p><a class="reference internal" href="#calibration-data">6.2. Calibration Data</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#data-quality-filtering">Data Quality Filtering:</a></p>
<ul>
<li><p><a class="reference internal" href="#calibration-frequency">6.3. Calibration Frequency</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#standard-calibration-schedule">Standard Calibration Schedule</a></p></li>
<li><p><a class="reference internal" href="#event-driven-calibration">Event-Driven Calibration</a></p></li>
<li><p><a class="reference internal" href="#on-demand-calibration">On-Demand Calibration</a></p></li>
<li><p><a class="reference internal" href="#automated-system-integration">Automated System Integration</a></p>
<ul>
<li><p><a class="reference internal" href="#calibration-quality-control">6.4. Calibration Quality Control</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#quantitative-quality-metrics">Quantitative Quality Metrics</a></p></li>
<li><p><a class="reference internal" href="#specific-threshold-checks">Specific Threshold Checks</a></p></li>
<li><p><a class="reference internal" href="#classification-system">Classification System</a></p></li>
<li><p><a class="reference internal" href="#post-fit-analysis">Post-Fit Analysis</a></p></li>
<li><p><a class="reference internal" href="#feedback-mechanisms">Feedback Mechanisms</a></p></li>
<li><p><a class="reference internal" href="#risk-calculated-by-the-model-payoff">7. Risk (Calculated by the model/payoff)</a></p>
<ul>
<li><p><a class="reference internal" href="#id2">7.1. Risk Factors</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#primary-asv-parameter-risk-factors">Primary ASV Parameter Risk Factors</a></p></li>
<li><p><a class="reference internal" href="#term-structure-risk-factors">Term Structure Risk Factors</a></p></li>
<li><p><a class="reference internal" href="#specific-term-structure-parameters">Specific Term Structure Parameters</a></p>
<ul>
<li><p><a class="reference internal" href="#risk-sensitivities">7.2. Risk Sensitivities</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#standard-volatility-sensitivities">Standard Volatility Sensitivities</a></p></li>
<li><p><a class="reference internal" href="#parameter-based-sensitivities">Parameter-Based Sensitivities</a></p></li>
<li><p><a class="reference internal" href="#term-structure-sensitivities">Term Structure Sensitivities</a></p>
<ul>
<li><p><a class="reference internal" href="#stress-testing-framework">7.3. Stress Testing Framework</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#parametric-stress-scenarios">Parametric Stress Scenarios</a></p></li>
<li><p><a class="reference internal" href="#historical-stress-scenarios">Historical Stress Scenarios</a></p></li>
<li><p><a class="reference internal" href="#hypothetical-stress-scenarios">Hypothetical Stress Scenarios</a></p>
<ul>
<li><p><a class="reference internal" href="#risk-reporting">7.4. Risk Reporting</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#volatility-surface-visualizations">Volatility Surface Visualizations</a></p></li>
<li><p><a class="reference internal" href="#risk-metrics-reporting">Risk Metrics Reporting</a></p></li>
<li><p><a class="reference internal" href="#standard-outputs-for-risk-systems">Standard Outputs for Risk Systems</a></p></li>
<li><p><a class="reference internal" href="#specialized-analysis">Specialized Analysis</a></p></li>
<li><p><a class="reference internal" href="#quality-and-validation-reporting">Quality and Validation Reporting</a></p></li>
<li><p><a class="reference internal" href="#tests-outcome-analyses-performed-on-payoff-model-portfolio">8. Tests &amp; Outcome Analyses performed on Payoff / Model / Portfolio</a></p>
<ul>
<li><p><a class="reference internal" href="#back-testing">8.1. Back-testing</a></p></li>
<li><p><a class="reference internal" href="#scenario-and-stress-testing">8.2. Scenario and Stress Testing</a></p></li>
<li><p><a class="reference internal" href="#statistical-testing">8.3. Statistical Testing</a></p></li>
<li><p><a class="reference internal" href="#impact-of-assumptions-and-limitations">8.4. Impact of Assumptions and Limitations</a></p></li>
<li><p><a class="reference internal" href="#accuracy-convergence-stability-and-sensitivity">8.5. Accuracy, Convergence, Stability and Sensitivity</a></p>
<ul>
<li><p><a class="reference internal" href="#accuracy-and-convergence">8.5.1. Accuracy and Convergence</a></p>
<ul>
<li><p><a class="reference internal" href="#repo-fitting-validation">8.5.1.1. Repo Fitting Validation</a></p>
<ul>
<li><p><a class="reference internal" href="#volatility-inversion-validation">8.5.1.2. Volatility Inversion Validation</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#surface-parameter-fitting-stability">8.3.1.4 Surface Parameter Fitting Stability</a></p></li>
<li><p><a class="reference internal" href="#analytic-gradient">8.3.1.4 Analytic gradient</a></p></li>
<li><p><a class="reference internal" href="#arbitrage-removal">8.5.1.2. Arbitrage removal</a></p></li>
<li><p><a class="reference internal" href="#stability">8.5.2. Stability</a></p></li>
<li><p><a class="reference internal" href="#sensitivity-analysis">8.5.3. Sensitivity Analysis</a></p></li>
<li><p><a class="reference internal" href="#minimum-delta-threshold">8.5.3.1. Minimum Delta Threshold</a></p></li>
<li><p><a class="reference internal" href="#weight-adjustment-power-analysis">8.5.3.2. Weight Adjustment Power Analysis</a></p></li>
<li><p><a class="reference internal" href="#wing-parameter-cost-analysis">8.5.3.3. Wing Parameter Cost Analysis</a></p></li>
<li><p><a class="reference internal" href="#use-quality-for-fitting-flag">8.5.3.4. Use quality for fitting flag</a></p></li>
<li><p><a class="reference internal" href="#local-seed-coefficients">8.5.3.5. Local seed coefficients</a></p></li>
<li><p><a class="reference internal" href="#global-seed-coefficients">8.5.3.6. Global seed coefficients</a></p></li>
<li><p><a class="reference internal" href="#extrapolation-method-and-smoothening-at-ts-start-date">8.5.3.7. Extrapolation method and smoothening at TS start date</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#boundary-cases">8.6. Boundary Cases</a></p></li>
<li><p><a class="reference internal" href="#comparison-to-other-models">8.7. Comparison to Other Models</a></p></li>
<li><p><a class="reference internal" href="#other-outcome-analysis">8.8. Other Outcome Analysis</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#a-appendix-quality-of-bid-ask-quotes">A. Appendix: Quality of bid/ask quotes</a></p>
<ul>
<li><p><a class="reference internal" href="#a-1-quality-of-data">A.1. Quality of data</a></p></li>
<li><p><a class="reference internal" href="#performance-optimization">Performance Optimization</a></p>
<ul>
<li><p><a class="reference internal" href="#error-handling-and-edge-cases">Error Handling and Edge Cases</a></p></li>
<li><p><a class="reference internal" href="#performance-optimizations">Performance Optimizations</a></p></li>
<li><p><a class="reference internal" href="#implementation-notes-and-best-practices">Implementation Notes and Best Practices</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</section>
<section id="executive-summary">
<h2><span class="section-number">1.6.1.2. </span>1. Executive Summary<a class="headerlink" href="#executive-summary" title="Link to this heading">#</a></h2>
<p>This document describes the Aleph implementation for the ASV (Advanced Stochastic Volatility) parametrized implied volatility surface fitter. It includes the details about the objectives for a robust parameter fit as well as the numerical routines used to achieve them. The main objectives are defined as follows:</p>
<ul class="simple">
<li><p>Optional repo curve calibration for both American and European option quotes to detect the implied forward levels for each liquid maturity</p></li>
<li><p>Enforcing no arbitrage through cost and constraint functions while fitting ASV volatility surface parameters</p></li>
<li><p>Enforcing smooth parameter extrapolation beyond the last liquid maturity through term structures</p></li>
<li><p>Controlling the quality of the fit and its stability using bid/ask implied volatility data</p></li>
</ul>
<p>The ASV volatility fitter provides efficient and robust calibration of volatility surfaces, making it particularly valuable for risk management and pricing applications. It takes European/American vanilla (Call/Put) option quotes along with repo and volatility fitting instructions as input parameters and returns fitted ASV volatility surface parameters.</p>
<p>The fitting process consists of the repo curve fitting, premium inversion followed by the volatility surface parameters fitting. Parameter fitting is done in the following sequence: local fit (per maturity, cross strikes), term structure fit (per parameter, optional), global fit (all maturities together using global cost function, optional) and interpolation/extrapolation for extra maturities. A numerical method, Brent algorithm is used for root finder procedures while NAG E04UFA routine (referred to as NMS throughout the document) is used for volatility surface parameters fitting.</p>
<p>The robustness of calibration depends on the quality and availability of quotes and the fitting is controlled by various parameters that are meant to remove/decrease the impact of the outliers, add memory from the previous fit, extrapolate for non-listed maturities, etc. Choice of these parameters impacts the fitting results and need to be set up properly.</p>
<p>Volatility fitter also performs extensive post-fit checks and validation procedures once the fitting process is finished, extending the fitting report with error/warning messages relating to the requested checks. Fitter doesn’t reject the fitted result itself and lets the IT application to decide whether to accept or reject it based on the post-fit checks report.</p>
<p>The backtesting results for different underliers demonstrated stable fit results over a period of six months, with consistent performance across various market conditions.</p>
</section>
<section id="scope">
<h2><span class="section-number">1.6.1.3. </span>2. Scope<a class="headerlink" href="#scope" title="Link to this heading">#</a></h2>
<p>The ASV volatility fitter model is designed to provide robust and efficient calibration of implied volatility surfaces across multiple asset classes and markets. Its primary application is in the pricing and risk management of derivative products.</p>
<section id="model-purpose-and-intended-usage">
<h3><span class="section-number">1.6.1.3.1. </span>2.1. Model Purpose and Intended Usage<a class="headerlink" href="#model-purpose-and-intended-usage" title="Link to this heading">#</a></h3>
<p>The purpose of the implied volatility fitter model is to calculate the implied volatility of option quotes and fit the ASV parameters which minimizes the difference between the implied volatility and the parameterized implied volatility while controlling the calendar arbitrage and butterfly arbitrages. The scope includes both European and American options which covers major option markets including NYSE, NASDAQ, Eurex, and Asian exchanges. The resulting fitted volatility surface is used for pricing and risk management of various financial instruments, including:</p>
<ul class="simple">
<li><p>Vanilla options</p></li>
<li><p>Exotic options (lookbacks, cliques, barriers)</p></li>
<li><p>Structured products (autocallables, reverse convertibles)</p></li>
<li><p>Hybrid products (equity-interest rate derivatives)</p></li>
</ul>
<p>For simple products, the surface is used directly, whereas for more complex products it serves as a key input for calibrating advanced pricing models (local vol, LSV, hybrids etc).</p>
</section>
<section id="conceptual-soundness">
<h3><span class="section-number">1.6.1.3.2. </span>2.2. Conceptual Soundness<a class="headerlink" href="#conceptual-soundness" title="Link to this heading">#</a></h3>
<p>The model employs a robust and computationally efficient approach to volatility surface fitting, validated through extensive backtesting and stress testing. Broadly speaking, there are two major approaches used by financial institutions to fit the parametrized volatility surface to the options market data:</p>
<ul class="simple">
<li><p>Fitting by minimizing the difference between implied volatilities of option quotes and the parameterized curve implied volatilities. This approach involves quote inversion first and parameter fitting afterwards, making it comparatively faster.</p></li>
<li><p>Fitting by minimizing the difference between option quotes and the parameterized curve implied option prices. This approach is more time consuming since there are multiple option pricings for each parameter value change during the optimization process.</p></li>
</ul>
<p>Volatility fitter inverts European/American option quotes and fits a parameterized curve to the corresponding implied volatilities. The inversion is done using European/American option price model along with the Brent’s root finder algorithm. NAG E04UFA routine is used to fit the ASV parameterized curve to the implied volatility points. The routine minimizes the cost function under certain constraints such as calendar or butterfly arbitrage where cost function is defined as a weighted sum of volatility mismatch squares. Each weight is a function of the Vega of an option struck at the corresponding strike which effectively puts more importance for fitting the points with higher Vegas more closely. Since Vega is the option’s sensitivity to volatility movements the resulting fitted volatility surface produces option prices that are close to option quotes that were used for fitting even though the minimization is done in volatility space.</p>
<p>The European/American option pricer models are both well researched and thoroughly tested (see [*] and [†]) while Brent’s method is well known and widely used root finder algorithm that is both robust and fast. NAG E04UFA routine is also a popular minimization algorithm used for various optimization problems.</p>
<p>There are several root finder algorithms that can be used for option quote inversion such as bisection, Newton’s, secant, inverse quadratic interpolation etc. While bisection method guarantees that the algorithm converges to the root it’s not as fast as Brent’s method. Newton’s, secant and inverse quadratic interpolation are open methods and don’t guarantee that they will eventually converge to the root. Brent’s method is a combination of the bisection method, the secant method and inverse quadratic interpolation. At every iteration, Brent’s method decides which method out of these three is likely to do best, and proceeds by doing a step according to that method. This gives a robust and fast method, which therefore enjoys considerable popularity.</p>
<p>NAG E04UFA routine implements a sequential quadratic programming (SQP) method. SQP is an iterative method for nonlinear optimization with constraints. The advantage of SQP method is that it’s much faster and does not require computation of the Hessian matrix, which can be quite expensive both in terms of the symbolic computation and numerical evaluation.</p>
<p>The parameter fitting involves several stages including local fit (fits each maturity separately subject to the butterfly and calendar constraint), term structure fit (fits TS curves for each parameter as an initial guess for global fit), global fit (fits TS curves subject to the global cost and various constraints) and extrapolation (sets the TS implied parameter values for extra dates) which is the resulting fitted volatility surface. The quality of the fit is controlled through the post fit checks that includes local volatility quality, fitted vs implied volatility, volatility moves and grid volatility related checks.</p>
<p>This multi-step procedure is designed to have a good initial fit during the local fit and later smoothens the parameters over the maturities in TS fit to reduce the variance in the parameter values between fits (especially wing parameters that are mostly sensitive to data quality and noise and their contribution to the local cost function is relatively small). Besides smoothening TS curves are also used later on to extrapolate the parameter values for extended maturities. During global fit the TS parameters are adjusted to minimize the global cost consisting of the local fitting costs as well as to achieve further smoothening at the TS start point. Extrapolation step generated a volatility surface with extended maturities that came into used without TS parameters. The fitter also uses various constraints to make the fitted surface arbitrage free as much as possible.</p>
</section>
</section>
<section id="product-payoff-portfolio">
<h2><span class="section-number">1.6.1.4. </span>3. Product / Payoff / Portfolio<a class="headerlink" href="#product-payoff-portfolio" title="Link to this heading">#</a></h2>
<section id="product-description">
<h3><span class="section-number">1.6.1.4.1. </span>3.1. Product Description<a class="headerlink" href="#product-description" title="Link to this heading">#</a></h3>
<p>The Implied Volatility Filter is a comprehensive mathematical framework for constructing arbitrage-free volatility surfaces from market option data. The model implements the ASV (Anchored Stochastic Volatility) parameterization, which uses five key parameters (Anchor Vol, Skew, Smile, Call Wing, and Put Wing) to capture the volatility smile/skew across strikes while ensuring smoothness and consistency across maturities.</p>
<p>Unlike traditional interpolation methods, this filter:</p>
<ul class="simple">
<li><p>Detects and removes arbitrage opportunities (both calendar and butterfly)</p></li>
<li><p>Handles sparse or noisy data through intelligent filtering mechanisms</p></li>
<li><p>Provides smooth parameter evolution across the term structure</p></li>
<li><p>Ensures wing behavior is controlled for extreme strikes</p></li>
<li><p>Accommodates both European and American option quotes within a unified framework</p></li>
</ul>
<p>The outputs are designed to be consumed by various pricing engines, risk systems, and model calibration frameworks.</p>
</section>
<section id="markets-and-regions">
<h3><span class="section-number">1.6.1.4.2. </span>3.2. Markets and Regions<a class="headerlink" href="#markets-and-regions" title="Link to this heading">#</a></h3>
<p>The Implied Volatility Filter has been designed and extensively tested across:</p>
<p><strong>US Markets:</strong></p>
<ul class="simple">
<li><p>Single stock options (American-style exercise)</p></li>
<li><p>Index options (including SPX, European-style exercise)</p></li>
<li><p>ETF options (various exercise styles)</p></li>
</ul>
<p><strong>European Markets:</strong></p>
<ul class="simple">
<li><p>Single stock options (varying by country, predominantly European-style exercise)</p></li>
<li><p>Index options (including EURO STOXX, DAX, European-style exercise)</p></li>
<li><p>Dividend considerations specific to European markets</p></li>
</ul>
<p><strong>Asian Markets:</strong></p>
<ul class="simple">
<li><p>Single stock options (varying by country, mixture of American and European styles)</p></li>
<li><p>Index options (predominantly European-style exercise)</p></li>
<li><p>Different trading hour considerations</p></li>
</ul>
<p>The model accounts for exchange-specific features including:</p>
<ul class="simple">
<li><p>Different settlement conventions</p></li>
<li><p>Exercise style variations</p></li>
<li><p>Market-specific volatility pattern characteristics</p></li>
<li><p>Regional liquidity considerations</p></li>
</ul>
</section>
<section id="target-users">
<h3><span class="section-number">1.6.1.4.3. </span>3.3. Target Users<a class="headerlink" href="#target-users" title="Link to this heading">#</a></h3>
<p><strong>Trading Desks:</strong></p>
<ul class="simple">
<li><p>Equity derivatives traders requiring accurate real-time volatility surfaces</p></li>
<li><p>Exotic products desks using the surfaces for model calibration</p></li>
<li><p>Volatility arbitrage traders identifying market anomalies</p></li>
<li><p>Delta-one traders analyzing forward curve implications</p></li>
</ul>
<p><strong>Risk Management:</strong></p>
<ul class="simple">
<li><p>Market risk teams calculating portfolio sensitivities</p></li>
<li><p>Scenario analysis teams running stress tests</p></li>
<li><p>Risk control teams setting volatility-based limits</p></li>
<li><p>Regulatory reporting teams calculating risk measures</p></li>
</ul>
<p><strong>Quantitative Teams:</strong></p>
<ul class="simple">
<li><p>Model validation teams verifying pricing accuracy</p></li>
<li><p>Research teams developing new volatility models</p></li>
<li><p>Quantitative developers implementing pricing libraries</p></li>
<li><p>Market data teams providing calibrated inputs to systems</p></li>
</ul>
<p><strong>Client-Facing Functions:</strong></p>
<ul class="simple">
<li><p>Structuring teams designing volatility-linked products</p></li>
<li><p>Sales teams quoting option prices based on the surface</p></li>
<li><p>Client valuations teams providing mark-to-market services</p></li>
</ul>
</section>
<section id="applications">
<h3><span class="section-number">1.6.1.4.4. </span>3.4. Applications<a class="headerlink" href="#applications" title="Link to this heading">#</a></h3>
<p><strong>Direct Pricing Applications:</strong></p>
<ul class="simple">
<li><p>Vanilla option pricing and market making</p></li>
<li><p>Portfolio revaluation and mark-to-market</p></li>
<li><p>Greek calculations for hedging</p></li>
<li><p>Generation of volatility skew/smile charts for analysis</p></li>
</ul>
<p><strong>Model Calibration:</strong></p>
<ul class="simple">
<li><p>Local volatility model calibration for path-dependent options</p></li>
<li><p>Stochastic volatility model calibration (Heston, SABR, etc.)</p></li>
<li><p>Hybrid models combining equity and interest rate factors</p></li>
<li><p>Jump-diffusion models requiring consistent volatility inputs</p></li>
</ul>
<p><strong>Risk Management Applications:</strong></p>
<ul class="simple">
<li><p>VaR (Value at Risk) calculations using parameterized surfaces</p></li>
<li><p>Scenario analysis with controlled parameter shifts</p></li>
<li><p>Stress testing for extreme market movements</p></li>
<li><p>Sensitivity analysis across multiple dimensions</p></li>
</ul>
<p><strong>Structured Products:</strong></p>
<ul class="simple">
<li><p>Barrier option pricing requiring smooth local volatility</p></li>
<li><p>Cliquet and forward-starting option pricing</p></li>
<li><p>Lookback and Asian option pricing</p></li>
<li><p>Volatility-linked note valuation</p></li>
</ul>
<p><strong>Additional Applications:</strong></p>
<ul class="simple">
<li><p>Relative value analysis between similar underlyings</p></li>
<li><p>Volatility trading strategy development</p></li>
<li><p>Implied correlation extraction from index vs. components</p></li>
<li><p>Forward volatility extraction for volatility swap pricing</p></li>
</ul>
</section>
</section>
<section id="model-methodology">
<h2><span class="section-number">1.6.1.5. </span>4. Model / Methodology<a class="headerlink" href="#model-methodology" title="Link to this heading">#</a></h2>
<p>This section is relevant for model/methodology/engine centric LTAs/Risk models</p>
<section id="description">
<h3><span class="section-number">1.6.1.5.1. </span>4.1. Description<a class="headerlink" href="#description" title="Link to this heading">#</a></h3>
<p>The volatility fitter model provides an efficient and robust framework for volatility surface calibration, validated through extensive backtesting and stress testing. It takes put/call option quotes and returns a set of parameters that constitute a fitted volatility surface, which is crucial for both pricing and risk management applications.</p>
<p>The process begins with an optional repo fitting, followed by premium inversion and parameter fitting. Repo fitting is performed to fit the implied forward levels per each maturity implied by options market, ensuring smooth transition from OTM put implied vols to OTM call implied vols near ATM strikes.</p>
<p>The parameter fitting phase starts with the local fit process during which ASV parameters are fitted per maturity subject to calendar and butterfly arbitrage constraints. To make the parameter values curves smooth over the time axis, term structure fits per parameter are performed. The fit minimizes the difference between parameterized curve implied values and fitted parameter values per maturity from local fit. To further optimize the smoothened term structure implied parameter values, global fit is performed afterwards that minimizes the difference between the implied volatility and the parameterized term structure implied volatility subject to global constraints. The final step is to extend the fitted surface for longer maturities through extrapolation and run post fit checks to assess the quality of the fit.</p>
<section id="overview">
<h4><span class="section-number">1.6.1.5.1.1. </span>4.1.1. Overview<a class="headerlink" href="#overview" title="Link to this heading">#</a></h4>
<p>The volatility fitter model performs the following steps to fit the ASV parameters:</p>
<ul class="simple">
<li><p>Implied repo calibration: fits forward curve through the repo curve to the options market implied forward levels (see below in 4.1.2)</p></li>
<li><p>Volatility inversion: inverts the option prices into Black Scholes implied volatilities and generates the target mid volatilities (see below in 4.1.3)</p></li>
<li><p>Volatility surface parameter fitting: fit the ASV parameterized curves to the target mid volatilities (see below in 4.1.4)</p></li>
<li><p>Two-stage volatility surface parameter fitting: fit the ASV parameterized curves to the target mid volatilities, generate the new quotes with fitted volatility surface and then fit the ASV parameterized curves to the new quotes with different market data (see below in 4.1.5)</p></li>
</ul>
</section>
<section id="implied-repo-calibration">
<h4><span class="section-number">1.6.1.5.1.2. </span>4.1.2. Implied Repo Calibration<a class="headerlink" href="#implied-repo-calibration" title="Link to this heading">#</a></h4>
<p>The objective is to adjust the forward curve through the repo curve so that the implied volatilities of call and put options with the same strike and maturity match. Repo fitting can be skipped by setting the forward curve source to Input Forward in the fitting instructions, where forward curve source can be one of the following:</p>
<ul class="simple">
<li><p>Implied Forward, fits repo curve and uses the new forward curve for both premium inversion and volatility surface anchor strikes,</p></li>
<li><p>Input Forward, no repo fitting,</p></li>
<li><p>Input Forward For Anchoring Only, fits repo curve and uses the new forward curve for premium inversion only,</p></li>
<li><p>Forward With Averaged Repo, fits repo curve and uses the new forward curve with the averaged repo curve, which is mentioned before section 4.1.2.1, for both premium inversion and volatility surface anchor strikes,</p></li>
<li><p>Forward With Transformed Repo, use the forward curve with transformed repo curve, (see section 4.1.5), for both premium inversion and volatility surface anchor strikes.</p></li>
</ul>
<p>A threshold repo_fit_start_offset (default 0) controls the starting maturity. The repo fit is skipped if the maturity is less than or equal to the pricing date plus the repo_fit_start_offset.</p>
<p>Since at each maturity different quotes may imply different forward levels only the most precise option quotes are used. Given that the quotes with strikes closes to the “at the money” level (ATM) are more accurate, the target forward level is computed as the average of num_strikes_for_repo_fit forward values implied by the put/call pairs with strikes closest to the switching strike, half above and the other half below. The default num_strikes_for_repo_fit is two. The switching strike is the smallest list strike that is satisfying two requirements: price is smaller than put mid price and call vega is bigger than 20% of put vega.</p>
<p>The selection methodology for these strikes is described in 4.1.2.1. It may happen that some strikes don’t have both put and call option quotes, and they will be filtered out. If none of the strikes has both put and call quotes and there are no fitting is done and no error message is issued. If there are both put and call strikes available, then no fitting is done and the repo rate is based on the repo rate of the previous maturity (if there is no previous fitted maturity then input repo rate is used for that maturity (warning message will be included in the final report)). If there are more than num_available_strikes, the num_excluded_strikes strikes that have worst implied forward values comparing to the median forward value are filtered out. When the number of valid strikes is smaller or equal to num_excluded_strikes, the strikes with respect to the median forward value are removed.</p>
<p>Furthermore, in case if the pricing date is different from the spot date of the original forward curve we first re-anchor the forward to the pricing date. This will simplify the fitting algorithm due to the fact that we will always move forward while bootstrapping the repo curve. Once re-anchored, the original spot date is added to the fitting maturities list so that we also fit to the original spot date during bootstrapping.</p>
<p>The process for implied forward calculation per each of these valid strikes is different for American and European options and can be found below in 4.1.2.2 and 4.1.2.3. Once we determined the target forward level we use the Brent algorithm to find the corresponding repo rate which we add to the repo curve and move to the next maturity. After going over all the fitting maturities the resulting bootstrapped repo curve is used to construct a new forward curve which we re-anchor back to the original spot date. The next step is to cap and floor the resulting repo rates as well as the corresponding repo moves. At the end, the calibrated repo curve is extrapolated for the extra-fitting dates that are after the last fitting maturity. The extrapolation method is controlled repo_extrapolation_method. In the default no spread mode, the original repo curve rates will be used. There is a flat spread mode. In the flat spread mode, the difference between the original repo rate and the fitted repo rate at the last fitting maturity will be calculated, and it will be added to all the original repo curve rates after last fitting maturity.</p>
<p>In addition, a repo rate smoothing report is generated based on either Kalman filtering or exponential smoothening logic controlled by a flag. The logic for updating the input repo is described in Appendix A.3.</p>
<section id="bracketing-strikes-selection">
<h5><span class="section-number">1.6.1.5.1.2.1. </span>4.1.2.1. Bracketing Strikes Selection<a class="headerlink" href="#bracketing-strikes-selection" title="Link to this heading">#</a></h5>
<p>The strike above ATM is calculated using mid premiums, i.e. the first strike for which valid call option quotes exist or the corresponding put strike above-assuming the strikes in an increasing order. If the latter condition is not satisfied then the ATM is determined as the highest strike for which both put and call quotes exist. In case if there is no common strike shared between put and call option quotes, the ATM is determined as the highest strike for which valid put quote exists. Otherwise it is based on the previous forward curve, i.e. the smallest strike that is above the input forward level. The second strike is just below the first strike or in case if the flag “enforce equal put call” instructions is set to true then it will be the strike below the first strike for which both put and call options exist.</p>
<section id="european-options">
<h6><span class="section-number">1.6.1.5.1.2.1.1. </span>4.1.2.2. European Options<a class="headerlink" href="#european-options" title="Link to this heading">#</a></h6>
<p>For european options the implied forward level is calculated using the call/put parity formula:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
F_t = \frac{Call_t - Put_t}{DF_t} + K_t
\]</div>
</div>
<p>Where:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(F_t\)</span> is the implied forward at time t</p></li>
<li><p><span class="math notranslate nohighlight">\(Call_t\)</span> and <span class="math notranslate nohighlight">\(Put_t\)</span> are the call and put prices</p></li>
<li><p><span class="math notranslate nohighlight">\(DF_t\)</span> is the discount factor</p></li>
<li><p><span class="math notranslate nohighlight">\(K_t\)</span> is the strike price at time t</p></li>
</ul>
</section>
<section id="american-options">
<h6><span class="section-number">1.6.1.5.1.2.1.2. </span>4.1.2.3. American Options<a class="headerlink" href="#american-options" title="Link to this heading">#</a></h6>
<p>For American options the repo rate is calibrated in such a way that implied volatilities of the put and call options match within a tolerance. Starting from the initial repo from the previous forward curve, the Brent root finding algorithm is used to find the zero of the function:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
f(repo) = \sigma_{put} - \sigma_{call}
\]</div>
</div>
<p>Where:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\sigma_{put}\)</span> is the put implied volatility</p></li>
<li><p><span class="math notranslate nohighlight">\(\sigma_{call}\)</span> is the call implied volatility</p></li>
</ul>
<p>The Brent root finding algorithm is used to find the zero of the function <span class="math notranslate nohighlight">\(f(repo) = MidImplVolPut - MidImplVolCall\)</span>, where the put and call quotes are inverted at every iteration using the current iterating repo value. The root finder finishes the search when the change in repo is less than the repo tolerance. Otherwise it fails to find the root when either maximum number of iterations is reached or both put and call inversions failed. In case if only put or call inversion failed, the failed implied volatility value is replaced with 0 and the search is continued. This may happen in cases when the initial repo is too high/low and the resulting intrinsic value of the option is greater than the option quote. However, since the put implied volatility is a decreasing function of repo and the call implied volatility is an increasing function of repo, root finder will search in the direction that will make it possible to invert both put and call quotes in case if the initial repo was too off. We also note that this approach keeps the objective function continuous.</p>
</section>
</section>
</section>
<section id="volatility-inversion">
<h4><span class="section-number">1.6.1.5.1.3. </span>4.1.3. Volatility Inversion<a class="headerlink" href="#volatility-inversion" title="Link to this heading">#</a></h4>
<p>The volatility inversion process provides an efficient and robust method for converting option prices to implied volatilities, validated through extensive testing. It follows the same steps for both European and American options where all quotes must have the same type and can be one of the following: Volatility, Price, Forward Price type.</p>
<p>If the quote type is set to Volatility, the fitter skips the repo and premium inversion steps and does parameter fitting only using the volatility quotes. For Forward Price type quotes, they are discounted using the discount curve from the market data followed by the same steps as in the case of Price type.</p>
<p>The target implied volatilities are the mid volatilities that are calculated by either inverting the mid quotes (the average of the bid/ask quotes) or averaging the bid/ask implied volatilities. The inversion is done using the Brent root finder algorithm to find the zero of the function:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
f(\sigma) = Q - P(\sigma)
\]</div>
</div>
<p>Where:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(Q\)</span> is the option quote</p></li>
<li><p><span class="math notranslate nohighlight">\(P(\sigma)\)</span> is the option price as function of volatility</p></li>
</ul>
<p>The Brent algorithm provides robust and efficient convergence, with detailed implementation available in [†]. Failed inversions are handled by adjusting the search bounds and retrying with modified parameters.</p>
<p>To calculate the option price for a given volatility value, we specify through the quote inversion instructions the pricing engine parameters as well as the exchange code that include exchange calendar, premium payment date and interest rate convention, exercise type for American options (e.g. German exercise) and expiry rule. So quote and the exchange information together specify the product that is priced using the provided pricing engine where the engine is either a closed-form approximation solver for American options or analytic Black Scholes solver for European options. The details about the pricing functions for American and European options are specified in the [*] and [†] respectively.</p>
<p>American and European pricers can be found in [*] and [†]. Once the Brent algorithm finishes its routine and returns the root for f(vol) function, the Vega of the options is approximated using finite difference with 1 basis point bump. These Vega values are later used for the quote weighting during the fitting. In addition, quotes also have an optional standard deviation input. These are used as a weight adjustment factor during the fitting. Their usage is described in 4.1.4.1.</p>
</section>
<section id="asv-volatility-surface-fitting">
<h4><span class="section-number">1.6.1.5.1.4. </span>4.1.4. ASV Volatility Surface Fitting<a class="headerlink" href="#asv-volatility-surface-fitting" title="Link to this heading">#</a></h4>
<p>This section describes the ASV volatility surface parameter fitting process, which employs advanced optimization techniques to ensure robust and accurate results. The input data for the process includes:</p>
<ul class="simple">
<li><p>Initial volatility surface</p></li>
<li><p>Forward curve with previous or newly fitted repo curve</p></li>
<li><p>Pricing date</p></li>
<li><p>Liquid maturities dates</p></li>
<li><p>Implied volatilities (both bid, ask and mid)</p></li>
<li><p>Corresponding strikes and weights</p></li>
<li><p>Fitting instructions specifying the fitting procedure details</p></li>
<li><p>Optional quality instructions</p></li>
</ul>
<p>The fitting procedure is divided into three main phases:</p>
</section>
</section>
<section id="phase-1-preprocessing">
<h3><span class="section-number">1.6.1.5.2. </span>Phase 1: Preprocessing<a class="headerlink" href="#phase-1-preprocessing" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Quote filtering: Removes outliers and invalid quotes using statistical methods</p></li>
<li><p>Initial setup: Re-anchors the initial volatility surface and sets up weights for cost function</p></li>
<li><p>Local fitting per liquid maturity: Fits parameters per maturity through constrained minimization of local cost function</p></li>
<li><p>Interpolation for poor maturities: Interpolates parameter values using neighboring fitted maturities</p></li>
</ul>
</section>
<section id="phase-2-core-fitting">
<h3><span class="section-number">1.6.1.5.3. </span>Phase 2: Core Fitting<a class="headerlink" href="#phase-2-core-fitting" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Optional term structure fitting: Fits term structure (TS) curves for each ASV parameter using smoothing splines</p></li>
<li><p>Optional global fitting: Refines TS curves through constrained minimization of global cost function</p></li>
<li><p>Smoothing with quality: Applies kernel smoothing to ASV parameters across maturities</p></li>
<li><p>Parameter interpolation/extrapolation: Handles extra non-liquid maturities</p></li>
</ul>
</section>
<section id="phase-3-post-processing">
<h3><span class="section-number">1.6.1.5.4. </span>Phase 3: Post-processing<a class="headerlink" href="#phase-3-post-processing" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Optional grid volatility generation: Creates volatility grids for downstream systems</p></li>
<li><p>Calendar volatility conversion: Handles calendar-specific volatility adjustments</p></li>
<li><p>Optional overlay volatility surface generation: Creates additional volatility surfaces</p></li>
<li><p>Optional post-fit checks: Performs quality assurance and validation</p></li>
</ul>
<p>Both the local and term structure fitting are usually preliminary stages of global fitting, with the global fitting result being used for the final extrapolated volatility surface. However, users can choose to perform only local or term TS fitting by specifying it in the fitting instructions.</p>
<p>The framework also supports an InversionOnly mode, which skips the parameter fitting phase and returns the inverted volatilities after the volatility inversion step. This mode is activated by setting fitting_mode = InversionOnly.</p>
<p>Performance optimizations include parallel processing of liquid maturities and efficient memory management for large datasets. Error handling includes robust fallback mechanisms and detailed logging of fitting progress.</p>
<section id="quote-filtering">
<h4><span class="section-number">1.6.1.5.4.1. </span>4.1.4.1. Quote Filtering<a class="headerlink" href="#quote-filtering" title="Link to this heading">#</a></h4>
<p>The quote filtering process employs rigorous statistical methods to ensure data quality and fitting robustness. It processes all inverted volatilities from valid out-of-the-money put/call option quotes (where both bid and ask are positive). The filtering is performed per maturity and removes quotes based on the following criteria:</p>
</section>
</section>
<section id="data-validity-checks">
<h3><span class="section-number">1.6.1.5.5. </span>Data Validity Checks<a class="headerlink" href="#data-validity-checks" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Invalid bid, ask, or mid volatility (occurs when volatility inversion fails due to bad data)</p></li>
</ul>
</section>
<section id="spread-based-filters">
<h3><span class="section-number">1.6.1.5.6. </span>Spread-Based Filters<a class="headerlink" href="#spread-based-filters" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>bid volatility / ask volatility &lt; maximum_relative_spread (default: 0.8)</p></li>
<li><p>ask volatility - bid volatility &gt; maximum_absolute_spread (default: 0.1)</p></li>
<li><p>|(ask volatility - bid volatility) - average_spread| &gt; maximum_STD * spread_STD</p>
<ul>
<li><p>average_spread and spread_STD are calculated per liquid maturity</p></li>
<li><p>maximum_STD is typically set to 3 for 3-sigma filtering</p></li>
</ul>
</li>
</ul>
</section>
<section id="option-characteristics-filters">
<h3><span class="section-number">1.6.1.5.7. </span>Option Characteristics Filters<a class="headerlink" href="#option-characteristics-filters" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Black-Scholes Delta corresponding to the strike of the mid implied volatility data &lt; minimum_Delta_threshold (default: 0.05)</p></li>
</ul>
<p>The filtering thresholds are determined through extensive backtesting and can be adjusted through the quality instructions. The process uses robust statistical methods, including outlier detection using modified z-scores and interquartile ranges.</p>
<p>Filtered quotes are logged with detailed rejection reasons to support debugging and analysis. The impact of filtering on fitting results is monitored through quality metrics, including:</p>
<ul class="simple">
<li><p>Percentage of quotes removed per maturity</p></li>
<li><p>Distribution of rejected quotes across strike ranges</p></li>
<li><p>Impact on fitted volatility surface stability</p></li>
</ul>
<section id="initial-setup-for-the-fitting-process">
<h4><span class="section-number">1.6.1.5.7.1. </span>4.1.4.2. Initial Setup For The Fitting Process<a class="headerlink" href="#initial-setup-for-the-fitting-process" title="Link to this heading">#</a></h4>
<p>The initialization process prepares the volatility surface for fitting through several key steps:</p>
<section id="surface-re-anchoring">
<h5><span class="section-number">1.6.1.5.7.1.1. </span>1. Surface Re-anchoring<a class="headerlink" href="#surface-re-anchoring" title="Link to this heading">#</a></h5>
<ul class="simple">
<li><p>Adjusts the initial volatility surface to forward levels implied by the repo-fitted forward curve</p></li>
<li><p>Modifies only the Anchor Vol parameter values while keeping others constant</p></li>
<li><p>Uses linear interpolation for Anchor Vol term structure adjustments</p></li>
<li><p>Skips re-anchoring when extrapolation type is TdlcmSpecific</p></li>
</ul>
</section>
<section id="maturity-classification">
<h5><span class="section-number">1.6.1.5.7.1.2. </span>2. Maturity Classification<a class="headerlink" href="#maturity-classification" title="Link to this heading">#</a></h5>
<ul class="simple">
<li><p>Marks maturities with &lt; 4 quotes as “poor”</p></li>
<li><p>Allows manual designation of poor maturities via instructions</p></li>
<li><p>Handles edge cases where all maturities are marked as poor</p>
<ul>
<li><p>Sets all parameters except Anchor Vol for maturities with ≥1 quote</p></li>
<li><p>Interpolates/extrapolates parameters for remaining maturities</p></li>
</ul>
</li>
</ul>
</section>
<section id="weight-initialization">
<h5><span class="section-number">1.6.1.5.7.1.3. </span>3. Weight Initialization<a class="headerlink" href="#weight-initialization" title="Link to this heading">#</a></h5>
<p>Uses option Vega for error weighting with the formula:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
weight(t_k,k_j) = \left(\frac{Vega(t_k,k_j)}{Forward(t_k)}\right)^{\alpha}
\]</div>
</div>
<p>Where:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(α\)</span> typically ranges from 1.0 to 3.0</p></li>
<li><p>Emphasizes near-the-money quotes due to higher Vega values</p></li>
</ul>
</section>
<section id="standard-deviation-adjustment">
<h5><span class="section-number">1.6.1.5.7.1.4. </span>4. Standard Deviation Adjustment<a class="headerlink" href="#standard-deviation-adjustment" title="Link to this heading">#</a></h5>
<p>For quotes with non-empty stdcv fields:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
weight_{adj} = \frac{weight}{stdcv/mid\_quote}
\]</div>
</div>
<p>For quotes with empty stdcv fields:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
weight_{adj} = \frac{weight}{max(stdcv/mid\_quote)}
\]</div>
</div>
</section>
<section id="quality-based-weighting">
<h5><span class="section-number">1.6.1.5.7.1.5. </span>5. Quality-Based Weighting<a class="headerlink" href="#quality-based-weighting" title="Link to this heading">#</a></h5>
<p>When using bid/ask quality:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
weight(t_k,k_j) = weight(t_k,k_j) + \sum_{p=1}^{P} param\_weight_p(t_k,k_j) \cdot param\_quality_p(t_j)
\]</div>
</div>
</section>
<section id="validation-and-performance">
<h5><span class="section-number">1.6.1.5.7.1.6. </span>6.Validation and Performance<a class="headerlink" href="#validation-and-performance" title="Link to this heading">#</a></h5>
<ul class="simple">
<li><p>Extensive validation of initialized parameters</p></li>
<li><p>Detailed logging of initialization steps</p></li>
<li><p>Performance optimizations for large datasets</p></li>
<li><p>Robust error handling for edge cases</p></li>
</ul>
</section>
</section>
<section id="automatic-poor-maturity-selection">
<h4><span class="section-number">1.6.1.5.7.2. </span>4.1.4.3. Automatic Poor Maturity Selection<a class="headerlink" href="#automatic-poor-maturity-selection" title="Link to this heading">#</a></h4>
<p>The automatic poor maturity selection process uses quality metrics to identify unreliable maturities:</p>
<section id="selection-criteria">
<h5><span class="section-number">1.6.1.5.7.2.1. </span>Selection Criteria<a class="headerlink" href="#selection-criteria" title="Link to this heading">#</a></h5>
<ul class="simple">
<li><p>Maturity quality &lt; threshold_mult × threshold × average_quality</p>
<ul>
<li><p>average_quality: Average across all maturities</p></li>
<li><p>threshold_mult and threshold: User-configurable parameters</p></li>
</ul>
</li>
</ul>
</section>
<section id="process-details">
<h5><span class="section-number">1.6.1.5.7.2.2. </span>Process Details<a class="headerlink" href="#process-details" title="Link to this heading">#</a></h5>
<ol class="arabic simple">
<li><p>Iterates through maturities in reverse order</p></li>
<li><p>Sets threshold_mult to 1.0 after first poor maturity is found</p></li>
<li><p>Regenerates volatility inversion report if poor maturities are detected</p></li>
</ol>
<p>A maturity is considered “poor” if any of these conditions are met:</p>
<ol class="arabic simple">
<li><p>Less than 4 valid quotes available</p></li>
<li><p>Quality metric below threshold (see section 4.1.4.3)</p></li>
<li><p>Explicitly marked as poor in fitting instructions</p></li>
<li><p>Bid-ask spreads exceed configured thresholds</p></li>
</ol>
</section>
</section>
<section id="conditional-fit">
<h4><span class="section-number">1.6.1.5.7.3. </span>4.1.4.4. Conditional Fit<a class="headerlink" href="#conditional-fit" title="Link to this heading">#</a></h4>
<p>The conditional fit process provides additional control over the fitting procedure:</p>
<section id="initial-checks">
<h5><span class="section-number">1.6.1.5.7.3.1. </span>Initial Checks<a class="headerlink" href="#initial-checks" title="Link to this heading">#</a></h5>
<ul class="simple">
<li><p>Cancels fitting if conditional fit instruction is provided and conditions are met</p></li>
<li><p>Updates inverted spread report:</p>
<ul>
<li><p>Initializes with current spread (weight = 1) if no previous report exists</p></li>
<li><p>Averages with previous report otherwise (see Appendix A.3)</p></li>
</ul>
</li>
</ul>
</section>
<section id="maturity-evaluation">
<h5><span class="section-number">1.6.1.5.7.3.2. </span>Maturity Evaluation<a class="headerlink" href="#maturity-evaluation" title="Link to this heading">#</a></h5>
<p>For maturities after conditional_fit_start_hour:</p>
<ul class="simple">
<li><p>Marks as “hit threshold” if:
$<span class="math notranslate nohighlight">\(
inverted\_spread &gt; average\_spread \cdot fit\_spread\_threshold
\)</span>$</p>
<ul>
<li><p>fit_spread_threshold defaults to 2.0</p></li>
</ul>
</li>
</ul>
</section>
<section id="spot-move-evaluation">
<h5><span class="section-number">1.6.1.5.7.3.3. </span>Spot Move Evaluation<a class="headerlink" href="#spot-move-evaluation" title="Link to this heading">#</a></h5>
<p>Marks spot move as “hit threshold” if:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
first\_anchor\_strike\_move &gt; spot\_move\_stdcv \cdot vol \cdot \sqrt{T}
\]</div>
</div>
<p>Where:</p>
<ul class="simple">
<li><p>spot_move_stdcv: User-configurable parameter</p></li>
<li><p>vol: 7-day volatility from initial surface</p></li>
<li><p>T: Time fraction between build date and pricing date</p></li>
</ul>
</section>
<section id="fitting-decision">
<h5><span class="section-number">1.6.1.5.7.3.4. </span>Fitting Decision<a class="headerlink" href="#fitting-decision" title="Link to this heading">#</a></h5>
<ul class="simple">
<li><p>If num_hit_threshold &gt; num_max_hits:</p>
<ul>
<li><p>cancel_fitting = true (if spot move doesn’t hit threshold)</p></li>
<li><p>cancel_fitting = false (if spot move hits threshold)</p>
<ul>
<li><p>Resets all maturities to “not hit threshold”</p></li>
</ul>
</li>
</ul>
</li>
<li><p>If cancel_fitting = false:</p>
<ul>
<li><p>Marks hit threshold maturities as poor</p></li>
</ul>
</li>
</ul>
</section>
<section id="validation-and-quality-control">
<h5><span class="section-number">1.6.1.5.7.3.5. </span>Validation and Quality Control<a class="headerlink" href="#validation-and-quality-control" title="Link to this heading">#</a></h5>
<ul class="simple">
<li><p>Extensive validation of initialized parameters through unit tests</p></li>
<li><p>Detailed logging of initialization steps for debugging</p></li>
<li><p>Performance optimizations for handling large datasets efficiently</p></li>
<li><p>Robust error handling for edge cases and invalid inputs</p></li>
<li><p>Automated regression testing of key functionality</p></li>
<li><p>Continuous monitoring of fitting quality metrics</p></li>
<li><p>Detailed logging of conditional fit decisions</p></li>
<li><p>Robust error handling for edge cases</p></li>
<li><p>Performance optimizations for large datasets</p></li>
</ul>
</section>
</section>
<section id="local-fitting-per-liquid-maturity">
<h4><span class="section-number">1.6.1.5.7.4. </span>4.1.4.5. Local Fitting Per Liquid Maturity<a class="headerlink" href="#local-fitting-per-liquid-maturity" title="Link to this heading">#</a></h4>
<p>Local fit is performed to fit ASV parameters per each listed maturity subject to the arbitrage constraints. The fitted results will be used either directly in the final fitted results or as an input to the TS fitting stage.</p>
<section id="key-parameters-and-variables">
<h5><span class="section-number">1.6.1.5.7.4.1. </span>Key Parameters and Variables<a class="headerlink" href="#key-parameters-and-variables" title="Link to this heading">#</a></h5>
<p><strong>ASV Parameters:</strong></p>
<ul class="simple">
<li><p><strong>Anchor Vol</strong>: Base volatility level controlling the overall surface height</p></li>
<li><p><strong>Skew</strong>: Linear slope component capturing the asymmetry of the volatility smile</p></li>
<li><p><strong>Smile</strong>: Quadratic curvature parameter controlling the U-shape of the volatility curve</p></li>
<li><p><strong>Call Wing</strong>: Exponential term controlling the behavior of OTM call options</p></li>
<li><p><strong>Put Wing</strong>: Exponential term controlling the behavior of OTM put options</p></li>
</ul>
<p><strong>Optimization Parameters:</strong></p>
<ul class="simple">
<li><p><strong>calendar_arb_coeff</strong>: Weight for calendar arbitrage penalty term (default: 1.0)</p></li>
<li><p><strong>local_seed_coefficient</strong>: Array of 5 coefficients controlling memory from initial surface</p></li>
<li><p><strong>param_diff_tolerance</strong>: Tolerance for parameter differences between maturities</p></li>
<li><p><strong>distance_decay</strong>: Controls the decay of parameter smoothing across maturities</p></li>
<li><p><strong>diff_power</strong>: Power parameter for difference calculations (fixed at 4.0)</p></li>
<li><p><strong>rank_adjust_mult</strong>: Multiplier for maturity rank adjustment (fixed at 0.2)</p></li>
</ul>
<p><strong>Grid Parameters:</strong></p>
<ul class="simple">
<li><p><strong>Variance_ATM</strong>: Total variance at the at-the-money strike</p></li>
<li><p><strong>call_stdcv</strong>: Standard deviation multiplier for call wing constraint points</p></li>
<li><p><strong>put_stdcv</strong>: Standard deviation multiplier for put wing constraint points</p></li>
</ul>
<p>The first step in local parameter fit is to reorder the liquid maturities in order to accommodate calendar arbitrage checks efficiently. Since calendar arbitrage check is performed on the wing of the parameterized curves between to be fitted maturity and it’s fitted neighboring maturities we need to start from a maturity that has more information relating to maturities of OTM calls/puts.</p>
<p>If bid/ask quality data is available and the flag “reorder with quality” is set to true in the instructions then the maturities are reordered in decreasing order with respect to the qualities of maturities. Otherwise reordering of liquid maturities is done the following way:</p>
<ul class="simple">
<li><p>find the maturity which has the most number of mid vols excluding any maturities which fall within 2 weeks of the fitting date or are after half a year horizon.</p></li>
<li><p>add all the liquid maturities after it in increasing order</p></li>
<li><p>add all the liquid maturities before it in decreasing order.</p></li>
</ul>
<p>Once reordering done, ASV parameters are fitted per each non-poor maturity using NAG routine E04UFA. This routine minimizes an arbitrary smooth function subject to constraints (which may include simple bounds on the variables, linear constraints and smooth nonlinear constraints) using a sequential quadratic programming (SQP) method. Starting from the first maturity in the reordered maturities list the local fitting procedure performs the following steps per each non-poor maturity:</p>
<ul>
<li><p>For each parameter initialize the lower and upper boundaries as specified in the fitting instructions and set implied parameter values from the initial volatility surface as an initial guess for them. In case if the implied Anchor Vol parameter is not valid, we initialize it to zero and Anchor Vol to 20% so that we have a valid starting point for the NAG optimizer.</p></li>
<li><p>Set up the local cost (objective) function as the sum of the following costs:</p>
<ul>
<li><p>weighted sum of the squared errors between the target mid volatilities and volatility values implied by the current set of ASV parameters. This sum is normalized by dividing by the sum of the used weights where the weights are the adjusted Vega values described in the section 4.1.42:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
    mismatch\ cost(t_j) = \frac{\sum_{i=1}^N weight(k_i,t_j) * (ASV(k_i,t_j) - mid\ vol(k_i,t_j))^2}{\sum_{i=1}^N weight(k_i,t_j)}
    \]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(N\)</span> is the number of quotes for maturity <span class="math notranslate nohighlight">\(t_j\)</span>.</p>
</li>
<li><p>calendar arbitrage cost that penalizes for the negative forward  variance between current liquid maturity and the fitted maturities before and after it. If there is a fitted liquid maturity before (after) current fitting maturity then generate a uniform grid consisting of 11 points, ranging from <span class="math notranslate nohighlight">\(-6.0 * \sqrt{Variance_{ATM}}\)</span> to <span class="math notranslate nohighlight">\(+6.0 * \sqrt{Variance_{ATM}}\)</span> where <span class="math notranslate nohighlight">\(Variance_{ATM}\)</span> is the total variance at the at-the-money strike of the current maturity. Total variances at the strikes <span class="math notranslate nohighlight">\(k_i = anchor\_strike * exp(grid_i), i = 1,13\)</span> are calculated and the cost is then set as:</p></li>
</ul>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
  calendar\_cost(t_j) = \left( \sum_{i=1}^{13} \min \left( 0, \frac{ASV(k_i, t_{curr})^2 * t_{curr} - ASV(k_i, t_{prev})^2 * t_{prev}}{t_{curr} - t_{prev}} \right) + \sum_{i=1}^{13} \min \left( 0, \frac{ASV(k_i, t_{next})^2 * t_{next} - ASV(k_i, t_{curr})^2 * t_{curr}}{t_{next} - t_{curr}} \right) \right) / 13 * calendar\_arb\_coeff
  \]</div>
</div>
<p>Note that the cost will contain both sums (next and previous) only when there are fitted maturities both before and after the current fitting maturity (which may be the case when the reordering of the maturities was done with respect to the bid/ask quotes quality)</p>
<ul class="simple">
<li><p>reduce wing coefficient * (|WingPut| + |WingCall|). This is to penalize for large absolute wing coefficient values in order to capture most of the curvature through the Smile parameter. This allows to reduce/control the wings for deep OTM strikes</p></li>
<li><p>cost for moving away from the initial volatility surface parameters in the form of:</p></li>
</ul>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
  \sum_{i=1}^{5} local\_seed\_coefficient_i * mismatch_i^2
  \]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(mismatch_i\)</span> is the difference between the <span class="math notranslate nohighlight">\(i-th\)</span> ASV parameter values. Note that this cost can be disabled through a flag in fitting instructions.</p>
<ul>
<li><p>cost for having different parameters compared with the left and right neighbors. If <span class="math notranslate nohighlight">\(param\_smooth\_ts\_instructions\)</span> (user input) is provided, the <span class="math notranslate nohighlight">\(param\_diff\_tolerance\)</span> is non-empty, and one of the left and right maturity is valid, the cost for the current maturity <span class="math notranslate nohighlight">\(t_{curr}\)</span> is as follows:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
    smooth\_ts\_cost(t_{curr}) = multiplier \cdot \sum_{j=1}^{5} param\_diff_j
    \]</div>
</div>
<p>The value of <span class="math notranslate nohighlight">\(multiplier\)</span> depends on the <span class="math notranslate nohighlight">\(adjust\_for\_init\_cost\)</span> flag, which is hard-coded as true at the moment. When this flag is true, <span class="math notranslate nohighlight">\(multiplier\)</span> equals:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
    maturity\_rank\_adj \cdot short\_term\_decay\_multiplier \cdot initial\_local\_cost(t_{curr})
    \]</div>
</div>
<p>.
Otherwise, it equals to <span class="math notranslate nohighlight">\(maturity\_rank\_adj \cdot short\_term\_decay\_multiplier\)</span>. The parameter <span class="math notranslate nohighlight">\(maturity\_rank\_adj\)</span> equals</p>
</li>
</ul>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
  1 - exp(-rank\_adjust\_mult \cdot maturity\_rank)
  \]</div>
</div>
<p>In the current implementation, <span class="math notranslate nohighlight">\(rank\_adjust\_mult\)</span> is hard-coded to 0.2. <span class="math notranslate nohighlight">\(maturity\_rank\)</span> is the ranked maturity based on quote quality. The value of <span class="math notranslate nohighlight">\(short\_term\_decay\_multiplier\)</span> depends the value of <span class="math notranslate nohighlight">\(short\_term\_decay\)</span>. If this parameter is positive and the <span class="math notranslate nohighlight">\(t_{curr}\)</span> has a left maturity, <span class="math notranslate nohighlight">\(short\_term\_decay\_multiplier\)</span> is set to:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
  \left[ 1 - exp \left( -t_{left} / short\_term\_decay \right) \right]^{diff\_power}
  \]</div>
</div>
<p>Otherwise, it is set to 1. The parameter <span class="math notranslate nohighlight">\(short\_term\_decay\)</span> is user input; <span class="math notranslate nohighlight">\(diff\_power\)</span> is hard-coded to 4.0 (the meaning of the number is not documented).
For j-th ASV parameter, <span class="math notranslate nohighlight">\(param\_diff_j\)</span> equals</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
  left\_distance\_mult_j \cdot diff\_left_j^{diff\_power} + right\_distance\_mult_j \cdot diff\_right_j^{diff\_power}
  \]</div>
</div>
<p>If the left maturity exists,</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
  diff\_left_j = \frac{param_j(t_{curr}) - param_j(t_{left})}{param\_diff\_tolerance_j}
  \]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
  left\_distance\_mult_j = exp \left( -\frac{t_{curr} - t_{left}}{distance\_decay} \cdot diff\_power \right)
  \]</div>
</div>
<p>Here, <span class="math notranslate nohighlight">\(distance\_decay\)</span> is user input, <span class="math notranslate nohighlight">\(param_j(t_{curr})\)</span> is the <span class="math notranslate nohighlight">\(j\)</span>th ASV parameter of the current maturity. When <span class="math notranslate nohighlight">\(distance\_decay\)</span> is zero, <span class="math notranslate nohighlight">\(left\_distance\_mult_j\)</span> is set to 1. Similarly, if the right maturity exists,</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
  diff\_right_j = \frac{param_j(t_{curr}) - param_j(t_{right})}{param\_diff\_tolerance_j}
  \]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
  right\_distance\_mult_j = exp \left( -\frac{t_{right} - t_{curr}}{distance\_decay} \cdot diff\_power \right)
  \]</div>
</div>
<p>When <span class="math notranslate nohighlight">\(distance\_decay\)</span> is zero, <span class="math notranslate nohighlight">\(right\_distance\_mult_j\)</span> is set to 1.</p>
</li>
<li><p>Fix the Smile, Call and Put Wings parameters at the initial values and run the NAG routine to get the best   fit for Anchor Vol and Skew parameters using the local cost function specified above.</p></li>
<li><p>Run NAG routine one more time to fit all 5 parameters together.</p></li>
<li><p>Set up the following optional local constraints:</p>
<ul class="simple">
<li><p>butterfly constraint: generate a uniform grid consisting of 101 points ranging from <span class="math notranslate nohighlight">\(-6.0 * \sqrt{Variance_{ATM}}\)</span> to <span class="math notranslate nohighlight">\(+4.0 * \sqrt{Variance_{ATM}}\)</span> where <span class="math notranslate nohighlight">\(Variance_{ATM}\)</span> is the total variance at the anchor strike of the current maturity. Calculate the total variances at the strikes <span class="math notranslate nohighlight">\(strike_i = anchor\_strike * exp(grid_i), i = 1, 101\)</span> and use them to evaluate the denominator of the Dupire’s formula on each grid point using:</p></li>
</ul>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
  denum_i = 1.0 - \frac{y_i \cdot \partial \sigma_i}{\sigma_i \cdot \partial y_i} + \frac{1}{2} \frac{y_i^2}{\sigma_i^2} \left( \frac{\partial \sigma_i}{\partial y_i} \right)^2 + \frac{1}{2}\frac{\partial^2 \sigma_i}{\partial y_i^2}
  \]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(\sigma_i\)</span> is the total variance for the <span class="math notranslate nohighlight">\(strike_i\)</span> and <span class="math notranslate nohighlight">\(y_i = grid_i\)</span>. If <span class="math notranslate nohighlight">\(\min(denum_i) &lt; 0\)</span> then the constraint is violated.</p>
<ul class="simple">
<li><p>calendar constraint: calculate the forward variance between the current fitting maturity and the neighboring fitted maturities on Call and Put wings (both options). The distance of the wings from the anchor strike is controlled through the <span class="math notranslate nohighlight">\(call\_stdcv\)</span> and <span class="math notranslate nohighlight">\(put\_stdcv\)</span> inputs in instructions and are as follows: <span class="math notranslate nohighlight">\(Call Wing = anchor\_strike * exp(call\_stdcv * \sqrt{Variance_{ATM}})\)</span> and <span class="math notranslate nohighlight">\(Put Wing = anchor\_strike * exp(put\_stdcv * \sqrt{Variance_{ATM}})\)</span> where <span class="math notranslate nohighlight">\(Variance_{ATM}\)</span> is the total variance at the anchor strike of the current maturity and the neighboring fitted maturity. If</p></li>
</ul>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
  min(Variance_{CW,current} - Variance_{CW,left}, Variance_{PW,current} - Variance_{PW,left}, Variance_{CW,right} - Variance_{CW,current}, Variance_{PW,right} - Variance_{PW,current}) &lt; 0
  \]</div>
</div>
<p>then the constraint is violated where CW stands for Call Wing and PW stands for Put Wing. The reason only two points are used instead of multiple strikes is that NAG optimizer usually fails to find a feasible point satisfying the constraint for multiple points or the works fine with two points. Given the smooth shape of the ASV parameterized curve and the fact that listed strikes are usually free of the calendar arbitrage the two point checks on the wings will remove the arbitrage most of the time.</p>
</li>
<li><p>Check whether the current fitted parameters violate the above constraints. If it is the case, fix the Anchor Vol and Skew parameters and run NAG routine again with the same cost function but now subject to the local constraints.</p></li>
<li><p>Update the volatility surface with the results, mark the maturity as fitted and move on to the next maturity in the reordered maturities list.</p></li>
</ul>
</section>
<section id="poor-maturity-interpolation">
<h5><span class="section-number">1.6.1.5.7.4.2. </span>4.1.4.6. Poor Maturity Interpolation<a class="headerlink" href="#poor-maturity-interpolation" title="Link to this heading">#</a></h5>
<p>After fitting ASV parameters for all the non-poor maturities parameter values corresponding to the poor maturities are interpolated using its neighboring fitted maturities. For each poor maturity the following steps are performed:</p>
<ul class="simple">
<li><p>If there are two neighboring fitted maturities for the current poor maturity then do linear interpolation in variance space for the Anchor Vol parameter while for the other 4 parameters do linear interpolation in time weighted values, i.e. linearly interpolate between <span class="math notranslate nohighlight">\(param_{prev} * t_{prev}\)</span> and <span class="math notranslate nohighlight">\(param_{next} * t_{next}\)</span> and divide by <span class="math notranslate nohighlight">\(t_{current}\)</span>. If there is only one neighboring fitted maturity then copy the parameter values from it. There is only one exception for the Anchor Vol parameter in the case when there is no fitted maturities after the poor maturity but at the same time there are more than one fitted maturity before it. In that case we do linear extrapolation in variance using the two prior fitted maturity values.</p></li>
<li><p>In case if there are two or more target mid volatilities for the poor maturity which is earlier than the time threshold specified in instructions then instead of using the interpolated value of Anchor Vol parameter try to fit it to the available data. Fitting is done by running NAG routine without any constrains using the local cost function described earlier. This fitting is disabled for the maturities that are marked specifically as poor through the instructions.</p></li>
<li><p>Set up the optional local constraints described earlier and check whether the current fitted parameters satisfy them. If it is not the case, fix the Anchor Vol, Skew and Smile parameters and run NAG routine with the same cost function but now subject to the local constraints.</p></li>
<li><p>Update the volatility surface with the results, mark the poor maturity as fitted and move on to the next poor maturity in the poor maturities list.</p></li>
</ul>
<p>The resulting volatility surface is added to the fitting report as “Local” result.</p>
</section>
<section id="optional-term-structure-fitting">
<h5><span class="section-number">1.6.1.5.7.4.3. </span>4.1.4.7. Optional Term Structure Fitting<a class="headerlink" href="#optional-term-structure-fitting" title="Link to this heading">#</a></h5>
<p>The ASV volatility surface parameterization includes optional term structure (TS) parameters for each ASV parameter. Each TS has its own start time after which it overrides the local (per-maturity) parameters, configurable through fitting instructions.</p>
<p>Two parameterization types are available:</p>
<ol class="arabic">
<li><p><strong>Smooth Term Structure</strong></p>
<p>Uses double or single exponential interpolation, with separate terms controlling short-term and long-term behavior.</p>
<p>For double exponential case:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
   P(t) = a \cdot e^{-10t/\tau} + b \cdot e^{-t/\tau} + c
   \]</div>
</div>
<p>For single exponential case:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
   P(t) = P_0 + b \cdot e^{-t/\tau} + c
   \]</div>
</div>
<p>The functional form factors are derived by solving the system of equations using these parameters. For the single exponential case, it is defined by only 3 parameters (<span class="math notranslate nohighlight">\(P_0\)</span>, <span class="math notranslate nohighlight">\(P_{\infty}\)</span> and <span class="math notranslate nohighlight">\(\tau\)</span>), with <span class="math notranslate nohighlight">\(P_1\)</span> and <span class="math notranslate nohighlight">\(T_1\)</span> (internally set to 1 year) set such that <span class="math notranslate nohighlight">\(a = 0\)</span> and <span class="math notranslate nohighlight">\(P_1 = b \cdot e^{-T_1/\tau} + c\)</span>.</p>
<p>Where:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(P(t)\)</span> is the parameter value at time <span class="math notranslate nohighlight">\(t\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(P_0\)</span> is the parameter value at <span class="math notranslate nohighlight">\(T_0\)</span> (fixed at 1 day)</p></li>
<li><p><span class="math notranslate nohighlight">\(P_{\infty}\)</span> is the terminal parameter value</p></li>
<li><p><span class="math notranslate nohighlight">\(a\)</span>, <span class="math notranslate nohighlight">\(b\)</span>, <span class="math notranslate nohighlight">\(c\)</span> are derived coefficients</p></li>
<li><p><span class="math notranslate nohighlight">\(\tau\)</span> is the decay time parameter</p></li>
</ul>
<p>Key Parameters:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(P_0\)</span>: Initial parameter value at <span class="math notranslate nohighlight">\(T_0\)</span> (fixed at 1 day)</p></li>
<li><p><span class="math notranslate nohighlight">\(P_{\infty}\)</span>: Terminal parameter value at <span class="math notranslate nohighlight">\(T_{\infty}\)</span> (fixed at 10 years)</p></li>
<li><p><span class="math notranslate nohighlight">\((P_1, T_1)\)</span>: Parameter value and time at intermediate point</p></li>
<li><p><span class="math notranslate nohighlight">\(\tau\)</span>: Decay parameter controlling convergence speed to <span class="math notranslate nohighlight">\(P_{\infty}\)</span></p></li>
</ul>
</li>
<li><p><strong>Non-smooth Term Structure</strong></p>
<p>Uses piecewise power interpolation with the same parameter set but different internal fixed points:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(T_0 = 1\)</span> day</p></li>
<li><p><span class="math notranslate nohighlight">\(T_{\infty} = 5\)</span> years</p></li>
</ul>
<p>The functional form is:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}
   P(t) = \begin{cases}
   \frac{t}{t_0} \left( P_0 t_0 + (P_1 t_1 - P_0 t_0) \frac{t - t_0}{t_1 - t_0} \right), &amp; t_0 \leq t &lt; t_1 \\[2ex]
   \frac{1}{t^\tau} \left( P_1 t_1^\tau + (P_{\infty} t_\infty^\tau - P_1 t_1^\tau) \frac{t^\tau - t_1^\tau}{t_\infty^\tau - t_1^\tau} \right), &amp; t_1 \leq t
   \end{cases}
   \end{split}\]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(\tau\)</span> is the decay parameter controlling the power law behavior.</p>
</li>
</ol>
</section>
</section>
<section id="optional-global-fitting">
<h4><span class="section-number">1.6.1.5.7.5. </span>4.1.4.8. Optional Global Fitting<a class="headerlink" href="#optional-global-fitting" title="Link to this heading">#</a></h4>
<p>Global fitting is performed only when the previous TS fitting step was successful (requiring at least 3 data points for TS parameter fitting). The TS fitting results serve as initial guesses for the global fit, which further optimizes them to minimize the global cost function and eliminate arbitrage opportunities. The Global fitting process consists of these steps:</p>
<ul>
<li><p>Set up the global cost function as the sum of:</p>
<ol class="arabic">
<li><p>Local costs for each liquid maturity up to the TS cutoff time:</p>
<ul class="simple">
<li><p>Uses the same local costs described in the local fit section</p></li>
<li><p>Seeding (memory) cost is disabled</p></li>
<li><p>Calendar cost is calculated only between the current maturity and its prior neighbor</p></li>
</ul>
</li>
<li><p>Cost for deviating from initial volatility surface TS parameters (if any):</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
     \sum_{i=1}^{25} TS\_seed\_coefficient_i \cdot mismatch_i^2
     \]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(mismatch_i\)</span> represents the difference between the <span class="math notranslate nohighlight">\(i\)</span>-th TS parameters.
Note: For “Single Exponential” TS type, costs for <span class="math notranslate nohighlight">\(P_0\)</span>, <span class="math notranslate nohighlight">\(P_1\)</span>, and <span class="math notranslate nohighlight">\(T_1\)</span> parameters are disabled due to the constraint requiring exact fit to the last liquid maturity’s parameter value. This cost can be disabled via fitting instructions.</p>
</li>
</ol>
</li>
<li><p>Execute NAG routine to fit all 25 TS parameters (5 TS parameters per ASV parameter).</p></li>
<li><p>Implement optional global constraints:</p>
<ol class="arabic simple">
<li><p>Butterfly constraint:</p>
<ul class="simple">
<li><p>Check local butterfly constraint for each liquid maturity</p></li>
<li><p>Global constraint is violated if any local constraint is violated</p></li>
</ul>
</li>
<li><p>Calendar constraint:</p>
<ul class="simple">
<li><p>Check local calendar constraint for each liquid maturity</p></li>
<li><p>Only evaluate between current maturity and prior neighbor</p></li>
<li><p>Global constraint is violated if any local constraint is violated</p></li>
</ul>
</li>
<li><p>Minimum wing constraint:</p>
<ul class="simple">
<li><p>Evaluates Call/Put Wing TS implied parameter values at 30-year horizon</p></li>
<li><p>Violation occurs if values fall below minimum wing value in fitting instructions</p></li>
<li><p>Helps maintain positive wing values for long maturities</p></li>
</ul>
</li>
<li><p>Enforce local bounds constraint:</p>
<ul class="simple">
<li><p>Check TS implied parameter values for every ASV parameter</p></li>
<li><p>Compare against local lower and upper bounds for each liquid maturity</p></li>
<li><p>Constraint is violated if any implied values fall outside bounds on any liquid maturity</p></li>
</ul>
</li>
</ol>
</li>
<li><p>Validate and adjust TS parameters:</p>
<ol class="arabic">
<li><p>Check constraint violations:</p>
<ul class="simple">
<li><p>Evaluate current fitted TS parameters against all constraints</p></li>
<li><p>If violations exist:</p>
<ul>
<li><p>Fix <span class="math notranslate nohighlight">\(T_1\)</span> and <span class="math notranslate nohighlight">\(Decay\)</span> parameters for all ASV parameters</p></li>
<li><p>Re-run NAG routine with global cost function under constraints</p></li>
</ul>
</li>
<li><p>If violations persist and magnitude increases:</p>
<ul>
<li><p>Revert to parameters from unconstrained fit</p></li>
</ul>
</li>
</ul>
</li>
<li><p>Apply smoothness cost:</p>
<ul class="simple">
<li><p>Add non-smoothness penalty to global cost function:
$<span class="math notranslate nohighlight">\(
\sum_{i=1}^{5} smoothing\_coefficient_i \cdot mismatch_i^2
\)</span>$</p></li>
</ul>
<p>where <span class="math notranslate nohighlight">\(mismatch_i\)</span> represents slope difference for <span class="math notranslate nohighlight">\(i\)</span>-th ASV parameter:</p>
<ul class="simple">
<li><p>For Anchor Vol: forward volatility difference</p></li>
<li><p>For other parameters: time-weighted value ratio difference
Slopes are calculated between:</p></li>
<li><p>Before TS start: TS start time and prior liquid maturity</p></li>
<li><p>After TS start: TS start time and next liquid maturity</p></li>
</ul>
</li>
<li><p>Final optimization:</p>
<ul class="simple">
<li><p>If any <span class="math notranslate nohighlight">\(smoothing\_coefficient_i \neq 0\)</span>:</p>
<ul>
<li><p>Re-run NAG routine with updated cost function</p></li>
</ul>
</li>
<li><p>If constraints are violated and magnitude increases:</p>
<ul>
<li><p>Revert to previous step’s parameters</p></li>
</ul>
</li>
</ul>
</li>
<li><p>Update and report:</p>
<ul class="simple">
<li><p>Apply fitted TS parameters to volatility surface</p></li>
<li><p>Add result to fitting report as “Global” result</p></li>
</ul>
</li>
</ol>
</li>
</ul>
<section id="optional-smoothing-with-quality">
<h5><span class="section-number">1.6.1.5.7.5.1. </span>4.1.4.9. Optional Smoothing with Quality<a class="headerlink" href="#optional-smoothing-with-quality" title="Link to this heading">#</a></h5>
<p>The volatility surface fitter implements quality-based parameter smoothing to enhance surface stability and consistency. This process is executed under specific conditions:</p>
<ol class="arabic">
<li><p>Activation Requirements:</p>
<ul class="simple">
<li><p>Quality metrics exist for all ASV parameters</p></li>
<li><p>Memory utilization is active (use_memory = true)</p></li>
<li><p>Quality smoothing is enabled (smooth_with_quality = true)</p></li>
</ul>
</li>
<li><p>Smoothing Methodology:
For each ASV parameter (Anchor Vol, Skew, Smile, Call Wing, Put Wing):</p>
<ul class="simple">
<li><p>Computes parameter differences between fitted and initial surfaces</p></li>
<li><p>Applies quality-weighted kernel smoothing across maturities</p></li>
<li><p>Integrates smoothed differences with initial parameters</p></li>
<li><p>Validates and applies boundary conditions</p></li>
</ul>
</li>
<li><p>Parameter Smoothing Process:
Illustrated using the Skew parameter:</p>
<p>a. Data Collection:</p>
<ul class="simple">
<li><p>Extract <span class="math notranslate nohighlight">\(Skew_j\)</span> from fitted surface at <span class="math notranslate nohighlight">\(T_j\)</span></p></li>
<li><p>Extract <span class="math notranslate nohighlight">\(Skew_j'\)</span> from initial surface at <span class="math notranslate nohighlight">\(T_j\)</span></p></li>
<li><p>Obtain quality metric <span class="math notranslate nohighlight">\(quality_j\)</span> for maturity <span class="math notranslate nohighlight">\(T_j\)</span></p></li>
</ul>
<p>b. Quality-Weighted Calculation:</p>
<ul class="simple">
<li><p>Compute parameter difference: <span class="math notranslate nohighlight">\(y_j = Skew_j - Skew_j'\)</span></p></li>
<li><p>Calculate quality weight: <span class="math notranslate nohighlight">\(w_j = \max(quality_j, 10^{-4})\)</span></p></li>
<li><p>Apply time-based kernel weighting</p></li>
</ul>
<p>c. Smoothing Application:
The smoothed parameter adjustment <span class="math notranslate nohighlight">\(\tilde{y}_j\)</span> is computed as:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}
   lde{y}_j = \begin{cases}
   w_j \cdot \frac{w_j}{\sum w_j \cdot quality_j} \cdot y_j + \left(1 - \frac{w_j}{\sum w_j \cdot quality_j}\right) \cdot kernel(t_j), &amp; \text{if } quality_j \geq target\_quality \\
   kernel(t_j), &amp; \text{otherwise}
   \end{cases}
   \end{split}\]</div>
</div>
<p>d. Boundary Conditions:</p>
<ul class="simple">
<li><p>Apply boundary conditions:</p>
<ul>
<li><p>Set <span class="math notranslate nohighlight">\(\tilde{y}_j\)</span> to zero if <span class="math notranslate nohighlight">\(quality_j &lt; target\_quality\)</span></p></li>
<li><p>Set <span class="math notranslate nohighlight">\(\tilde{y}_j\)</span> to <span class="math notranslate nohighlight">\(kernel(t_j)\)</span> if <span class="math notranslate nohighlight">\(quality_j &lt; target\_quality\)</span> and <span class="math notranslate nohighlight">\(t_j\)</span> is after the last liquid maturity
e. Parameter Update:</p></li>
</ul>
</li>
<li><p>Update <span class="math notranslate nohighlight">\(Skew_j\)</span> with the smoothed adjustment: <span class="math notranslate nohighlight">\(Skew_j \leftarrow Skew_j' + \tilde{y}_j\)</span></p></li>
</ul>
</li>
<li><p>Validation and Reporting:</p>
<ul class="simple">
<li><p>Validate and report the smoothed parameters</p></li>
<li><p>Add result to fitting report as “Smooth with Quality”</p></li>
<li><p>The “Smooth with Quality” result is added to the fitting report as “Local” result</p></li>
</ul>
</li>
</ol>
</section>
<section id="parameter-interpolation-extrapolation-for-extra-non-liquid-maturities">
<h5><span class="section-number">1.6.1.5.7.5.2. </span>4.1.4.10. Parameter Interpolation/Extrapolation For Extra Non-Liquid Maturities<a class="headerlink" href="#parameter-interpolation-extrapolation-for-extra-non-liquid-maturities" title="Link to this heading">#</a></h5>
<p>Calibrated volatility surface can be interpolated/extrapolated in time using the Extra Dates parameter. There are three types of extrapolation schemes namely: Flat Forward Vol, Time Weighted Vol Spread or Totem Specific that can be specified as follows:</p>
<p>In case of Totem Specific extrapolation Extra Dates parameters are ignored and it described separately.</p>
<p>For both Flat Forward Vol and Time Weighted Vol Spread for all the parameters but Anchor Vol are interpolated linearly between local maturities of the fitted volatility surface. Anchor Vol is interpolated linearly in variance. For all parameters term structure dominates if the interpolation zone is after TS start date. For maturities before TS that are not local maturities the TS implied values are discarded and local parameter values are used for maturities until the TS start date.</p>
<p>If the extra date is after the last liquid maturity of the fitted volatility surface (i.e. extrapolation is needed) then:</p>
<ul class="simple">
<li><p>In case of Flat Forward Vol for all the parameters but Anchor Vol the extrapolation is flat using the parameter values on the last liquid maturity of the fitted volatility surface. Anchor Vol is extrapolated linearly in variance so that the forward volatility is constant in the log flat forward volatility after the last liquid maturity, where the forward volatility is averaged across time. The forward volatility is the volatility between the last two maturities of the fitted volatility if the quote quality of the last maturity passes certain criterion. Otherwise, the forward volatility between the third last and second last maturities is used. When there is only one maturity, the volatility of that maturity is used as forward volatility, the forward volatility is floored by the minimum forward vol for extrapolation, whose value is provided by user. Please refer to Appendix A.4 for the calculation of the averaged forward volatility.</p></li>
<li><p>In case of Time Weighted Vol Spread for all the parameters but Anchor Vol the extrapolation is done using the exponentially extrapolated using re-anchored initial volatility surface which is later adjusted by propagating the variance change on the last liquid maturity of the fitted volatility surface as follows:</p></li>
</ul>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\text{Extrapolated Anchor Vol}(extra\_date) = \text{Initial Anchor Vol}(extra\_date) + (\text{Anchor Vol}(last\_maturity) - \text{Initial Anchor Vol}(last\_maturity)) \times \sqrt{\frac{t_{last\_date}}{t_{extra\_date}}}
\]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(t_{last\_maturity}\)</span> and <span class="math notranslate nohighlight">\(t_{extra\_date}\)</span> are calculated using the annualized of the fitted volatility surface.</p>
<p>Again for all parameters term structure dominates if the extrapolation zone is after the corresponding TS start date and the extrapolation is done by reading from the TS curve.</p>
<p>In case of Totem Specific extrapolation the extrapolation dates are set to be all the maturities of the initial volatility surface that are after the last liquid maturity of the fitted volatility surface. Then the parameters of the initial volatility surface for these extrapolation dates (other than Anchor Vol and Skew parameters of the initial volatility surface) are refitted using the corresponding anchor strikes (fixed maturity of the fitted volatility surface). This is done in order to adjust the parameters of the refitted initial surface (which will be the volatility surface used by the trading desk) to the anchor strikes of the totem volatility surface fitted to the totem data. It is done by doing the following steps:</p>
<ul class="simple">
<li><p>Generate a uniform grid consisting of 7 points ranging from <span class="math notranslate nohighlight">\(-4.0 \times \sqrt{Variance_{ATM}}\)</span> to <span class="math notranslate nohighlight">\(+4.0 \times \sqrt{Variance_{ATM}}\)</span> where <span class="math notranslate nohighlight">\(Variance_{ATM}\)</span> is the total variance at the anchor strike of the corresponding maturity. Get the implied volatilities from the initial volatility surface at the strikes <span class="math notranslate nohighlight">\(strike_i = anchor\_strike \times exp(grid_i), i = 1, 7\)</span>.</p></li>
<li><p>Set the corresponding weight t as the Vega of the European call option with the strike i and the corresponding implied volatility i.</p></li>
<li><p>Run the parameter fitter to fit to these implied volatilities with their corresponding weights.</p></li>
</ul>
<p>The resulting extrapolated parameter values are targeted to be the parameters of the refitted initial volatility surface. The Anchor Vol and Skew parameters are later adjusted by adding to them the difference of these parameters between fitted volatility surface and the refitted initial volatility surface on the last liquid maturity of the fitted volatility surface.</p>
<p>The final volatility surface with extended maturities is reported as “Extrapolation” result of the volatility fitter report.</p>
</section>
<section id="optional-grid-volatility-generation">
<h5><span class="section-number">1.6.1.5.7.5.3. </span>4.1.4.11. Optional Grid Volatility Generation<a class="headerlink" href="#optional-grid-volatility-generation" title="Link to this heading">#</a></h5>
<p>The fitter provides an optional grid volatility surface output through the following process:</p>
<ol class="arabic simple">
<li><p>Input Processing:</p>
<ul class="simple">
<li><p>Accepts vector of relative strikes from fitting instructions</p></li>
<li><p>Calculates absolute strikes:</p>
<ul>
<li><p>Determines implied spot at fitting date using forward curve</p></li>
<li><p>Multiplies relative strikes by implied spot</p></li>
</ul>
</li>
</ul>
</li>
<li><p>Surface Generation:</p>
<ul class="simple">
<li><p>Creates volatility matrix using:</p>
<ul>
<li><p>Absolute strikes vector (horizontal axis)</p></li>
<li><p>Extrapolated surface maturities (vertical axis)</p></li>
</ul>
</li>
<li><p>Queries implied volatilities from extrapolated surface for each point</p></li>
</ul>
</li>
<li><p>Output Format:</p>
<ul class="simple">
<li><p>Returns cubic linear volatility surface:</p>
<ul>
<li><p>Uses cubic splines per maturity</p></li>
<li><p>Provides interpolation/extrapolation between volatility points</p></li>
</ul>
</li>
<li><p>Serves as auxiliary output for IT systems:</p>
<ul>
<li><p>Eliminates need for additional volatility library calls</p></li>
<li><p>Enables direct access to transformed fitted surface</p></li>
</ul>
</li>
</ul>
</li>
</ol>
</section>
<section id="calendar-volatility-conversion">
<h5><span class="section-number">1.6.1.5.7.5.4. </span>4.1.4.12. Calendar Volatility Conversion<a class="headerlink" href="#calendar-volatility-conversion" title="Link to this heading">#</a></h5>
<p>The fitter converts annualized time parameters to calendar time using the following process:</p>
<ol class="arabic">
<li><p><strong>Time Fraction Calculation</strong>For each maturity in the extrapolated surface:</p>
<ul>
<li><p><strong>Annualized Time</strong> (holiday/business-day aware):</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
     t_{ann} = \frac{\text{annualizer}(pricing\_date, maturity)}{365}
     \]</div>
</div>
</li>
<li><p><strong>Calendar Time</strong>:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
     t_{calendar} = \frac{maturity - pricing\_date}{365}
     \]</div>
</div>
</li>
<li><p><strong>Time Ratio</strong>:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
     \alpha = \frac{t_{ann}}{t_{calendar}}
     \]</div>
</div>
</li>
</ul>
</li>
<li><p><strong>Parameter Adjustments</strong>Apply time ratio to volatility surface parameters:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Adjustment Formula</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Smile</p></td>
<td><p><span class="math notranslate nohighlight">\(Smile_{new} = \alpha \times Smile\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>Call Wing</p></td>
<td><p><span class="math notranslate nohighlight">\(CallWing_{new} = \alpha \times CallWing\)</span></p></td>
</tr>
<tr class="row-even"><td><p>Put Wing</p></td>
<td><p><span class="math notranslate nohighlight">\(PutWing_{new} = \alpha \times PutWing\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>Anchor Vol</p></td>
<td><p><span class="math notranslate nohighlight">\(AnchorVol_{new} = \sqrt{\alpha} \times AnchorVol\)</span></p></td>
</tr>
<tr class="row-even"><td><p>Skew</p></td>
<td><p>No adjustment</p></td>
</tr>
</tbody>
</table>
</div>
</li>
<li><p><strong>Surface Generation</strong></p>
<ul class="simple">
<li><p>Creates new volatility surface with adjusted parameters</p></li>
<li><p>Applies Calendar annualizer conventions</p></li>
<li><p>Returns as auxiliary output for direct IT system integration</p></li>
</ul>
</li>
</ol>
<p><strong>Purpose:</strong> Enables seamless integration with systems using calendar-based time calculations without requiring additional volatility library transformations.</p>
</section>
<section id="optional-overlay-volatility-surface-generation">
<h5><span class="section-number">1.6.1.5.7.5.5. </span>4.1.4.13. Optional Overlay Volatility Surface Generation<a class="headerlink" href="#optional-overlay-volatility-surface-generation" title="Link to this heading">#</a></h5>
<p>The overlay volatility surface aligns effective volatilities between market quotes and fitted values by applying strike-dependent spreads. This process ensures consistency with liquid market observations while maintaining parameterized surface properties.</p>
<ol class="arabic">
<li><p><strong>Purpose and Function</strong></p>
<ul class="simple">
<li><p>Aligns volatilities until specified liquid maturity dates</p></li>
<li><p>Creates spread adjustments between fitted and market volatilities</p></li>
<li><p>Maintains consistency with SRV volatility from section 4.1.4.10</p></li>
</ul>
</li>
<li><p><strong>Strike Generation Process</strong></p>
<ul class="simple">
<li><p><strong>Delta-Based Grid Configuration</strong>:</p>
<ul>
<li><p>Primary delta points: <span class="math notranslate nohighlight">\(\delta = [-20, -30]\)</span></p></li>
<li><p>Volatility delta points: <span class="math notranslate nohighlight">\(\delta_{\Delta Vol} = [-40, -50, -60]\)</span></p></li>
<li><p>Creates equally spaced segments between <span class="math notranslate nohighlight">\(\delta\)</span> and <span class="math notranslate nohighlight">\(\delta_{\Delta Vol}\)</span></p></li>
<li><p>Excludes final delta point (<span class="math notranslate nohighlight">\(\delta_0\)</span>)</p></li>
</ul>
</li>
<li><p><strong>Conversion to Spot Grid</strong>:</p>
<ul>
<li><p>Maps delta grid to spot strikes: <span class="math notranslate nohighlight">\(S_{\delta}\)</span> to <span class="math notranslate nohighlight">\(S_{\delta_0}\)</span></p></li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Interpolation Methodology</strong></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Number of Strikes</p></th>
<th class="head"><p>Method Used</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>Constant value</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>Linear interpolation</p></td>
</tr>
<tr class="row-even"><td><p>3+</p></td>
<td><p>Monotonic cubic spline</p></td>
</tr>
</tbody>
</table>
</div>
</li>
<li><p><strong>Spread Calculation Workflow</strong></p>
<ol class="arabic simple">
<li><p>Calculate volatility difference between mid-quoted and fitted values on liquid strikes</p></li>
<li><p>Apply averaging methodology (detailed in Appendix A.5)</p></li>
<li><p>Generate new overlay spreads using appropriate interpolation/extrapolation</p></li>
</ol>
</li>
<li><p><strong>Averaging Control</strong></p>
<ul class="simple">
<li><p>Automatically disabled when averaged overlay volatility difference equals zero</p></li>
<li><p>Generates maturity-specific spread/strike reports</p></li>
<li><p>Uses same methodology as average repo rate calculations</p></li>
</ul>
</li>
</ol>
<p><strong>Note</strong>: The complete averaging logic for spread generation is documented in Appendix A.5.</p>
</section>
<section id="post-fit-checks-processing">
<h5><span class="section-number">1.6.1.5.7.5.6. </span>4.1.4.14. Post Fit Checks Processing<a class="headerlink" href="#post-fit-checks-processing" title="Link to this heading">#</a></h5>
<p>If post_fit_checks_instructions is provided in fitting instructions the fitter performs post fit checks for the fitted volatility surface. By doing so the fitter produces the set of warning and error messages to be used by the IT systems whether to accept or reject the fitted surface. Fitter doesn’t reject the fitted result itself but rather propagates it to the IT system. post_fit_checks_instructions contains optional check instructions for volatility moves between initial and fitted surfaces, target versus parameterization implied volatility mismatch, grid versus parameterization volatility mismatch, minimum grid volatility and minimum/maximum local volatility values.</p>
<ul>
<li><p>volatility movements checks
If std_moves_checks_instructions is provided in post_fit_checks_instructions the fitter performs checks for the volatility movements between initial and fitted surfaces. std_moves_checks_instructions contains optional parameters including vector of relative strikes, number of standard deviations, start maturity offset in days, volatility move threshold and volatility move warning threshold.
The input vector contains relative strikes which are multiplied by the implied spot as of the fitting date to get the absolute values. Implied spot is calculated using forward curve and querying the implied forward level as of the fitting date. It later merges the maturities from the initial and fitted volatility surfaces and queries implied volatilities from them all the dates that are before the maximum of the build date or after the minimum of the last maturities of the initial and fitted volatility surfaces. Using the absolute strikes vector and these filtered maturities the fitter generates a matrix of implied volatilities differences between initial and fitted volatility surfaces by querying volatilities from them. The matrix of volatility movements is also returned in the final fitting report as part of the auxiliary output information.
Start maturity offset in days and Number of standard deviations parameters are used to control the starting maturity and the boundaries of strike axis where the maximums of volatility moves is taken over. For each maturity the strike boundaries are defined in the following way:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
  min\_strike = forward\_level \times exp(-0.5 \times Variance_{ATM} - num\_stdvs \times \sqrt{Variance_{ATM}})
  \]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
  max\_strike = forward\_level \times exp(-0.5 \times Variance_{ATM} + num\_stdvs \times \sqrt{Variance_{ATM}})
  \]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(Variance_{ATM}\)</span> is the total variance at the forward level of the current maturity calculated using the fitted volatility surface.
The maximum of absolute volatility movements over all maturities that are at least of first number of days after the fitting date and all strikes that are within the above defined bounds is reported. If it is greater than volatility move threshold then the breach is reported. In case if the maximum of absolute volatility movements over all maturities and strikes within the above defined period) is greater than volatility move warning threshold then warning message is reported.</p>
</li>
<li><p>target vs parameterization implied volatility mismatch check
If implied_vols_checks_instructions is provided in post_fit_checks_instructions the fitter performs checks for the mismatch between target and parameterization implied volatility. calibrated_vs_implied_vols_checks_instructions contains optional parameters including number of standard deviations, start maturity offset in days and threshold.
Start maturity offset in days and Number of standard deviations parameters are used to control the starting maturity and the boundaries of strike axis where the maximum of volatility mismatch is taken over. Note that here the fitter is using the strikes it was using during fitting process. For each maturity the strike boundaries are defined in the following way:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
  min\_strike = forward\_level \times exp(-0.5 \times Variance_{ATM} - num\_stdvs \times \sqrt{Variance_{ATM}})
  \]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
  max\_strike = forward\_level \times exp(-0.5 \times Variance_{ATM} + num\_stdvs \times \sqrt{Variance_{ATM}})
  \]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(Variance_{ATM}\)</span> is the total variance at the forward level of the current maturity calculated using the fitted volatility surface.
The maximum of absolute volatility mismatch over all maturities that are at least of first number of days after the fitting date and all strikes that are within the above defined bounds is reported. If it is greater than volatility mismatch threshold then the breach is reported.</p>
</li>
<li><p>grid vs parameterization implied volatility mismatch check
If grid_vol_diff_threshold is provided in post_fit_checks_instructions and there is a generated grid volatility surface then the filter performs checks for the mismatch between grid and parameterization implied volatilities. For each maturity of the grid volatility surface it generates a uniform strike grid consisting of 21 points ranging from <span class="math notranslate nohighlight">\(-4.0 \times \sqrt{Variance_{ATM}}\)</span> to <span class="math notranslate nohighlight">\(+4.0 \times \sqrt{Variance_{ATM}}\)</span> where <span class="math notranslate nohighlight">\(Variance_{ATM}\)</span> is the total variance at the anchor strike of the current maturity. Any strike point that is smaller than the minimum strike or greater than the maximum strike of the grid volatility surface is discarded. If the maximum of absolute mismatch between the grid and parameterization implied volatilities over all maturities and corresponding strike grids is greater than grid_vol_diff_threshold then the breach is reported.</p></li>
<li><p>minimum grid volatility
If the minimum of grid volatilities over all maturities and all strike grids is smaller than min_grid_vol (default 1%) then the breach is reported.</p></li>
<li><p>minimum/maximum local volatility and local vol score check
If local_vol_checks_instructions is provided in post_fit_checks_instructions the filter performs checks for the local volatility quality by checking its minimum and maximum values. local_vol_checks_instructions contains the following parameters: number of standard deviations (default 3), start maturity offset in days (default 0), number of days to extend to (default 90), minimum local vol threshold (default 0) and maximum local vol threshold (default infinity).
Start maturity offset in days and Number of standard deviations parameters are used to control the starting maturity and the boundaries of strike axis for local volatility calculation and checks. Local volatility score calculation uses a schedule on which to calculate the local volatility parameters. The filter generates a sample schedule according the following rules: every single day for the first day from the number of days to include every 3rd day until 42 days from the fitting date, every 7th day from 43 to 182 days, every 14th day from 183 to 730 days, every 28th day from 731 days to 5 years and finally every 56th day from 5 years onwards. The schedule generation process stops when the current schedule date is on or after the last maturity of the volatility surface. The final schedule is also extended to a last date of the schedule. Once the schedule is ready the filter calls the local volatility calibrator and evaluates the minimum and maximum local volatility values. If minimum local vol is smaller than minimum local vol threshold or maximum local vol is greater than maximum local vol threshold then the breach is reported.
If local_vol_score_instructions is provided in local_vol_checks_instructions, the filter calculates the local volatility score. The local volatility score is a measure of the local volatility surface quality. Lower local volatility score means better local volatility surface. local_vol_score_instructions contains the following parameters: local volatility spot power (default 2), local volatility smooth param (default 0.5), local volatility smoothness (default 0.001), maximum local volatility threshold (default 10), minimum local volatility threshold (default 0), vega ratio power (default 2) and maximum local volatility score threshold (optional). The mathematical formula for local volatility score is:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
  LVscore = \sum_{i=0}^{num\_IV\_dates} \beta_i \cdot \mathbb{1}(i = 0 \text{ or } LV\_date_{i-1} \leq valuation\_date + 30) + \alpha_i
  \]</div>
</div>
<p>with</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
  \beta_i = LV\_smoothness \cdot [(a_i - LV\_smooth\_param)_+]^2
  \]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
  \alpha_i = w_{i,1} \cdot [LV_{i,1}^2 - LV_{i,2}^2 + LV_{i,3}^2 + LV_{i,3}^2 + \sum_{j=2}^{num\_strikes-3} w_{i,j} \cdot (LV_{i,j-1}^2 + LV_{i,j+2}^2 - 2LV_{i,j}^2)]
  \]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
  a_i = \frac{1}{num\_strikes} \cdot \sum_{j=1}^{num\_strikes} w_{i,j} \cdot \left[ \left( \frac{LV_{i,j} - mathLV_{i,j}}{0.025} \right)^2 + \left( \frac{LV_{i,j} - maxLV_{i,j}}{0.025} \right)^2 \right]
  \]</div>
</div>
</li>
</ul>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
w_{i,j} = \left( \frac{vega_{i,j}}{atm\_vega_i} \right)^{-2/\gamma}
\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
v_{i,j} = \left( \frac{vega_{i,j}}{atm\_vega_i} \right)^{2/\gamma}
\]</div>
</div>
<p>Here, <span class="math notranslate nohighlight">\(a\)</span> is local vol cost power and <span class="math notranslate nohighlight">\(\gamma\)</span> is the vega ratio power. <span class="math notranslate nohighlight">\(vega_{i,j}\)</span> is the vega risk of the European option with the <span class="math notranslate nohighlight">\(j\)</span>th strike and maturity on the <span class="math notranslate nohighlight">\(i\)</span>th LV date, and <span class="math notranslate nohighlight">\(atm\_vega_i\)</span> is the vega risk of the ATM European option with maturity on the <span class="math notranslate nohighlight">\(i\)</span>th LV date.</p>
<p>If the maximum local volatility score threshold is provided, the filter will compare the local volatility score with this threshold and set MaxLVScoreReached to True if it is bigger than this threshold.</p>
</section>
<section id="fit-quality-check">
<h5><span class="section-number">1.6.1.5.7.5.7. </span>4.1.4.15. Fit Quality Check<a class="headerlink" href="#fit-quality-check" title="Link to this heading">#</a></h5>
<p>The fit quality check evaluates and labels fitted volatility surfaces when fit_quality_instructions are provided and post-fit checks report is non-empty.</p>
<ol class="arabic">
<li><p><strong>Strike Quality Assessment</strong></p>
<ul>
<li><p><strong>Good Strike Definition</strong>:
Calibrated volatility must fall within:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
     [bid\_vol - vol\_diff\_tolerance, ask\_vol + vol\_diff\_tolerance]
     \]</div>
</div>
<p>where vol_diff_tolerance defaults to 5 bps</p>
</li>
<li><p><strong>Connected Strikes</strong>:</p>
<ul class="simple">
<li><p>Strikes are connected if gap contains &lt; num_consecutive_bad_strikes bad strikes</p></li>
<li><p>Reports largest connected component as good strikes range</p></li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Maturity Label Assignment</strong>
Labels are based on five key metrics:</p>
<ul class="simple">
<li><p>Current spread</p></li>
<li><p>Averaged spread</p></li>
<li><p>Older spread (time-weighted average of spread differences)</p></li>
<li><p>Current fit quality</p></li>
<li><p>Averaged fit quality</p></li>
</ul>
</li>
<li><p><strong>Classification Process</strong></p>
<ul class="simple">
<li><p><strong>Training Data</strong>: 3,398 samples using classification tree algorithm</p></li>
<li><p><strong>Output Labels</strong>:</p>
<ul>
<li><p>“Good”: High-quality fit</p></li>
<li><p>“Weak”: Acceptable but suboptimal</p></li>
<li><p>“Bad”: Poor quality fit</p></li>
<li><p>“Missing”: When averaged spread needs update</p></li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Classification Features</strong>
For each maturity, evaluates:</p>
<ul class="simple">
<li><p><strong>Bid-Ask Conformity</strong>: Percentage of calibrated volatilities within bid-ask spread</p></li>
<li><p><strong>Error Metrics</strong>:</p>
<ul>
<li><p>Error to current spread ratio (mismatch cost vs average bid-ask spread)</p></li>
<li><p>Error to average error (final mismatch cost vs time-weighted average)</p></li>
<li><p>Spread to threshold spread comparison</p></li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Update Conditions</strong>
Label assignment triggers when:</p>
<ul class="simple">
<li><p>Averaged spread requires update (see Appendix A.3)</p></li>
<li><p>Averaged fit quality is positive</p></li>
<li><p>Classifier is provided in fit_quality_instructions</p></li>
</ul>
</li>
</ol>
<p><strong>Note</strong>: Time-weighted average calculations detailed in Appendix A.3</p>
</section>
<section id="optional-box-rate-fit">
<h5><span class="section-number">1.6.1.5.7.5.8. </span>4.1.4.16. Optional Box Rate Fit<a class="headerlink" href="#optional-box-rate-fit" title="Link to this heading">#</a></h5>
<p>The box rate filter calculates rates for option expiries when fitting mode is BoxFitOnly or FullFitWithBoxFit.</p>
<ol class="arabic">
<li><p><strong>Quote Filtering</strong></p>
<ul class="simple">
<li><p><strong>Expiry Thresholds</strong>:</p>
<ul>
<li><p>Before: pricing_date + num_days_exclude_from_start</p></li>
<li><p>After: cutoff_date</p></li>
</ul>
</li>
<li><p><strong>Strike Range</strong>: <span class="math notranslate nohighlight">\(spot \times [(1 - strike\_range), (1 + strike\_range)]\)</span></p></li>
<li><p><strong>Optional Third Friday Filter</strong>: When exclude_3rd_Fridays_only is true</p></li>
</ul>
</li>
<li><p><strong>Box Rate Calculation</strong>
For each maturity:</p>
<p>a. <strong>Core Formulas</strong>:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
   box\_rate = -\frac{1}{t} \ln(-slope)
   \]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
   forward = -\frac{intercept}{slope \times \min(1, -10 \times slope)}
   \]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(t\)</span> = time between pricing_date and maturity</p>
<p>b. <strong>Parameter Definitions</strong>:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
   slope = median \left( \frac{call\_put\_diff_i - call\_put\_diff_j}{strike_i - strike_j} \right)
   \]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
   int
   ercept = median (call\_put\_diff_i - slope \times strike_i)
   \]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(call\_put\_diff\)</span> = premium difference between call and put options</p>
</li>
<li><p><strong>Quality Control</strong>
When slope_variance_threshold is provided:</p>
<p>a. <strong>Variance Threshold</strong>:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
   variance_{max} = slope\_variance\_threshold \times Median(variances)
   \]</div>
</div>
<p>b. <strong>Maturity Set</strong>:
<span class="math notranslate nohighlight">\(\mathcal{T} = \{t_i : variance_i &lt; variance_{max}\}\)</span></p>
<p>c. <strong>Rate Determination</strong>:
For <span class="math notranslate nohighlight">\(t_i \notin \mathcal{T}\)</span>, use:</p>
<ul class="simple">
<li><p>Flat interpolation (single maturity in <span class="math notranslate nohighlight">\(\mathcal{T}\)</span>)</p></li>
<li><p>Linear interpolation (multiple maturities)</p></li>
<li><p>Flat extrapolation (outside <span class="math notranslate nohighlight">\(\mathcal{T}\)</span> range)</p></li>
</ul>
</li>
</ol>
</section>
</section>
<section id="two-stage-volatility-fitting">
<h4><span class="section-number">1.6.1.5.7.6. </span>4.1.5. Two-Stage Volatility Fitting<a class="headerlink" href="#two-stage-volatility-fitting" title="Link to this heading">#</a></h4>
<p>If two_stage_vol_fitting_instructions is provided, a two-stage volatility fitting process will be executed in the volatility fitter. This process includes two parts: two-stage volatility fitting and repo transformation. In the two-stage volatility fitting, new quotes are generated using the market data in the reference volatility fitter, and the second stage volatility fitter calibrates volatility surface with these new quotes. The fitted volatility surfaces are populated in the result section, which is the same as the usual one stage volatility fitting. On the other side, the first stage volatility fitting results are populated in the reference_vol_fitting_report. The generated quotes can be found in debug_invref_quote_collection. In the repo transformation, The volatility inversion output contains a transformed repo curve, which can be used to recover the implied forward values at the money market quotes of the reference volatility fitter with the second stage input market curves.</p>
<p>In more detail, the two stage volatility fitting process is controlled by the two_stage_vol_fitting_instructions in the vol_fitting_instructions. There are three fitting types in the two-stage volatility fitting instructions: no_first_stage_fit, fd_first_stage, repo_transform_only.</p>
<ul>
<li><p>When the fitting type is no first stage fit, the input volatility surface, discount curve and forward curve in the reference volatility fitter will be used to generate the quotes. The maturities of the new quotes are from the maturities of input volatility surface. The number of strikes can be specified in the number_of_generated_strikes. There are equal number of strikes on both call side and put side. They are uniformly distributed in the log-moneyness space on both sides:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
  -\lambda \max \left( \sigma(F), \frac{1}{2}(\sigma(F) + \sigma(K_{put})) \right), 0]
  \]</div>
</div>
<p>and</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
  0,\lambda \max \left( \sigma(F), \frac{1}{2}(\sigma(F) + \sigma(K_{call})) \right)]
  \]</div>
</div>
<p>respectively, where <span class="math notranslate nohighlight">\(\lambda\)</span> is the input number_of_standard_deviations, <span class="math notranslate nohighlight">\(F\)</span> is the at the money forward, <span class="math notranslate nohighlight">\(K_{put} = F\exp^{-\Delta\sigma\sqrt{T}}\)</span> and <span class="math notranslate nohighlight">\(K_{call} = F\exp^{\Delta\sigma\sqrt{T}}\)</span>. The option type of the quotes is the considered type with respect to the engine in the quote inversion instruction of repo fitting instructions.</p>
</li>
<li><p>When the fitting type is fd first stage, a full fitting process will be executed. The fitted volatility surface, implied forward curve and input discount curve in the reference volatility fitter will be used to generate the quotes. The new quotes are generated on all maturities and list strikes. The generated strikes which are mentioned in the no first stage fit will be included. In addition, in order to include the extrapolated maturities is controlled by the flag include_extrapolation_dates_for_quote_generation.</p></li>
<li><p>When fitting type is repo transform only, no quotes for volatility fitting will be generated and there will be no volatility fitting in the second stage.</p></li>
</ul>
<p>The repo transformation is controlled by repo_transformation_type:</p>
<ul class="simple">
<li><p>When repo transformation type is no_transformation. There is no repo transformation.</p></li>
<li><p>When repo transformation type is repo_instructions_based. The target maturities are the union of the maturities from the implied repo curve of the reference fitter and the maturities of the reference fitter, excluding all the past maturities. At the money option prices will be generated as input quotes using the input forward curve and discount curve from the reference volatility fitter. The input volatility surface will be used when the fitting type is no first stage fit or repo transform only, and fitted volatility surface will be used when the fitting type is fd first stage. Following the repo instructions, the repo filter will recover these quotes with the transformed repo curve using the market data in second stage: discount curve, forward curve and volatility surface. The detail of the repo fitting process can be found in the section 4.1.2.</p></li>
<li><p>When repo transformation type is match_implied_forward. The target maturities are the same as input repo in the reference fitter, excluding all the past maturities. The target forward values are generated from the input forward curve of reference fitter. The fitting process will use Brent algorithm to recover the target values with second stage forward curve.</p></li>
</ul>
</section>
</section>
<section id="assumptions-limitations-and-outliers">
<h3><span class="section-number">1.6.1.5.8. </span>4.2. Assumptions, Limitations and Outliers<a class="headerlink" href="#assumptions-limitations-and-outliers" title="Link to this heading">#</a></h3>
<p>The volatility surface calibration quality is fundamentally dependent on two key factors:</p>
<ol class="arabic simple">
<li><p>The availability and quality of listed option quotes</p></li>
<li><p>The accuracy of underlying market data (dividends and discount yield curves)</p></li>
</ol>
<section id="core-limitations">
<h4><span class="section-number">1.6.1.5.8.1. </span>4.2.1. Core Limitations<a class="headerlink" href="#core-limitations" title="Link to this heading">#</a></h4>
<ol class="arabic simple">
<li><p><strong>Quote Quality Dependencies</strong></p>
<ul class="simple">
<li><p>Surface robustness directly correlates with quote availability</p></li>
<li><p>Sparse or poor-quality quotes lead to unreliable fitting results</p></li>
<li><p>Market illiquidity can significantly impact calibration quality</p></li>
<li><p>Critical regions (ATM, near-term) require sufficient quote density</p></li>
</ul>
</li>
<li><p><strong>Outlier Management</strong></p>
<ul class="simple">
<li><p><strong>Quote Filtering</strong>: Systematic removal of anomalous data points</p></li>
<li><p><strong>Error Weighting</strong>: Dynamic weight adjustment based on quote reliability</p></li>
<li><p><strong>Impact Trade-offs</strong>:</p>
<ul>
<li><p>High weights power → Poor wing fits but stable core</p></li>
<li><p>Low weights power → Better wing fits but potential overfitting to outliers</p></li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Pricer Limitations</strong></p>
<ul class="simple">
<li><p><strong>European Options</strong>: Standard Black-Scholes assumptions apply</p></li>
<li><p><strong>American Options</strong>:</p>
<ul>
<li><p>PDE resolution sensitivity</p></li>
<li><p>Computational accuracy depends on grid density</p></li>
<li><p>Risk of numerical instabilities with fine-grain settings</p></li>
</ul>
</li>
<li><p>Refer to sections [‡] and [§] for detailed pricer constraints</p></li>
</ul>
</li>
<li><p><strong>Parameter Sensitivity</strong></p>
<ul class="simple">
<li><p><strong>Critical Parameters</strong>:</p>
<ul>
<li><p>Weight adjustment power</p></li>
<li><p>Seed memory cost coefficients</p></li>
<li><p>Smoothing parameters</p></li>
</ul>
</li>
<li><p><strong>Stability Impacts</strong>:</p>
<ul>
<li><p>Large seed memory coefficients → Initial parameter bias</p></li>
<li><p>Small coefficients → Potential fitting instability</p></li>
</ul>
</li>
<li><p>Comprehensive parameter impact analysis in section 8.2.3</p></li>
</ul>
</li>
<li><p><strong>Extrapolation Considerations</strong></p>
<ul class="simple">
<li><p>Method selection impacts:</p>
<ul>
<li><p>Pre-TS start date behavior</p></li>
<li><p>Beyond liquid maturity projections</p></li>
</ul>
</li>
<li><p>Liquidity-dependent methodology choice</p></li>
<li><p>Detailed extrapolation analysis in section 8.2.3.7</p></li>
</ul>
</li>
<li><p><strong>Arbitrage Management</strong></p>
<ul class="simple">
<li><p><strong>Calendar (Time) Arbitrage</strong>:</p>
<ul>
<li><p>Limited to two wing point checks</p></li>
<li><p>Potential undetected arbitrage in other strikes</p></li>
</ul>
</li>
<li><p><strong>Butterfly (Strike) Arbitrage</strong>:</p>
<ul>
<li><p>Constraint effectiveness limited to tested strike range</p></li>
<li><p>No guarantee of global arbitrage removal</p></li>
</ul>
</li>
<li><p>Arbitrage removal validation detailed in section 8.3.1.5</p></li>
</ul>
</li>
<li><p><strong>NAG Routine Warnings</strong></p>
<ul class="simple">
<li><p><strong>Acceptable Warning Cases</strong>:</p>
<ul>
<li><p>IFAIL = 1: Feasible but unconverged solution</p></li>
<li><p>IFAIL = 4: Iteration limit reached</p></li>
<li><p>IFAIL = 6: Merit function improvement failure</p></li>
</ul>
</li>
<li><p>Warning acceptance rationale:</p>
<ul>
<li><p>High accuracy requirements trigger most warnings</p></li>
<li><p>Results typically maintain cross-maturity consistency</p></li>
<li><p>Rejection would cause excessive fit failures</p></li>
</ul>
</li>
</ul>
</li>
</ol>
</section>
</section>
<section id="model-parameters-variables">
<h3><span class="section-number">1.6.1.5.9. </span>4.3. Model Parameters / Variables<a class="headerlink" href="#model-parameters-variables" title="Link to this heading">#</a></h3>
<p>The input parameters of the volatility fitter can be divided into the following groups:</p>
<ul class="simple">
<li><p>market data: contains discount and forward curves, volatility surface and quotes collection.</p></li>
<li><p>repo fitting instructions: contains both repo fitting and quote inversion instructions</p></li>
<li><p>volatility fitting instructions: contains instructions relating to quote filtration, seeding (memory), term structure fitting etc.</p></li>
</ul>
<section id="repo-fitting-parameters">
<h4><span class="section-number">1.6.1.5.9.1. </span>Repo Fitting Parameters<a class="headerlink" href="#repo-fitting-parameters" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter / Variable Name</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Type / Data Input / Calibration</p></th>
<th class="head"><p>Impact</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>repo averaging start offset</p></td>
<td><p>offset to use the averaged repo</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-odd"><td><p>repo extrapolation method</p></td>
<td><p>the extrapolation method of repo after last fit maturity. Could be no spread or flat spread</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="quote-inversion-instructions">
<h4><span class="section-number">1.6.1.5.9.2. </span>Quote Inversion Instructions<a class="headerlink" href="#quote-inversion-instructions" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter / Variable Name</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Type / Data Input / Calibration</p></th>
<th class="head"><p>Impact</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>cutoff date</p></td>
<td><p>quotes with maturities after cutoff date are filtered out</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-odd"><td><p>exchange</p></td>
<td><p>exchange information containing settlement rules, holiday calendar etc</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-even"><td><p>engine</p></td>
<td><p>pricing engine that can be either Analytic or PDE Bespoke</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-odd"><td><p>invert ITM</p></td>
<td><p>if false then filter will invert OTM quotes only (used for debugging only)</p></td>
<td><p>input</p></td>
<td><p>no impact</p></td>
</tr>
<tr class="row-even"><td><p>mid vol source</p></td>
<td><p>if set to Volatility then the mid volatility is the average of the bid/ask volatilities, if Premium then it’s the inverted mid premium</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
<tr class="row-odd"><td><p>max iterations</p></td>
<td><p>maximum number of iterations for quote inversion</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
<tr class="row-even"><td><p>volatility tolerance</p></td>
<td><p>the tolerance for root finder algorithm</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="quality-instructions">
<h4><span class="section-number">1.6.1.5.9.3. </span>Quality Instructions<a class="headerlink" href="#quality-instructions" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter / Variable Name</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Type / Data Input / Calibration</p></th>
<th class="head"><p>Impact</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>confidence param</p></td>
<td><p>parameter used to generate confidence intervals</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-odd"><td><p>decay lambda</p></td>
<td><p>parameter used to calculate ASV parameter quality</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-even"><td><p>factor model coefs</p></td>
<td><p>parameter used to calculate the spread for reference quotes</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-odd"><td><p>integration points number</p></td>
<td><p>number of integration points used to calculate quality</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-even"><td><p>interim steps</p></td>
<td><p>parameter used in confidence interval calculation</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-odd"><td><p>number of points per std call side</p></td>
<td><p>number of sample strikes on the call side</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-even"><td><p>number of points per std put side</p></td>
<td><p>number of sample strikes on the put side</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="market-data">
<h4><span class="section-number">1.6.1.5.9.4. </span>Market Data<a class="headerlink" href="#market-data" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter / Variable Name</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Type / Data Input / Calibration</p></th>
<th class="head"><p>Impact</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>discount curve</p></td>
<td><p>discount yield curve calibrated to the bonds market and other fixed income instruments</p></td>
<td><p>market data</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-odd"><td><p>forward curve</p></td>
<td><p>forward curve of the asset</p></td>
<td><p>market data</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-even"><td><p>volatility surface</p></td>
<td><p>volatility surface of the asset to be used as an initial guess</p></td>
<td><p>market data</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-odd"><td><p>quote collection</p></td>
<td><p>list of American/European options quotes</p></td>
<td><p>market data</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-even"><td><p>repo fitting instructions</p></td>
<td><p>instructions for both repo fitting routine and quote inversion</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-odd"><td><p>box rate fitting instructions</p></td>
<td><p>instructions for box rate fitting, needed only when fitting mode is BoxFitOnly or FullFitWithBoxFit</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
<tr class="row-even"><td><p>volatility fitting instructions</p></td>
<td><p>instructions for volatility surface parameter fitting routine</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-odd"><td><p>reference volatility fitter</p></td>
<td><p>reference volatility fitter, which is only required for two stage volatility fitting</p></td>
<td><p>input and market data</p></td>
<td><p>major</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="repo-fitting-instructions">
<h4><span class="section-number">1.6.1.5.9.5. </span>Repo Fitting Instructions<a class="headerlink" href="#repo-fitting-instructions" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter / Variable Name</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Type / Data Input / Calibration</p></th>
<th class="head"><p>Impact</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>quote inversion instructions</p></td>
<td><p>instructions for option quote inversions</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-odd"><td><p>repo lower / upper bound</p></td>
<td><p>boundaries for repo fitting</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
<tr class="row-even"><td><p>repo move lower / upper bound</p></td>
<td><p>minimum / maximum allowed repo rate move</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
<tr class="row-odd"><td><p>max relative forward move</p></td>
<td><p>if fitted forward moves from the original forward by more than this threshold - a warning is generated</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
<tr class="row-even"><td><p>enforce two sided put call</p></td>
<td><p>if true then the highest OTM Put strike has to have both valid Call and Put options</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
<tr class="row-odd"><td><p>max iterations</p></td>
<td><p>maximum number of iterations for repo fitting</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
<tr class="row-even"><td><p>repo tolerance</p></td>
<td><p>the tolerance for root finder algorithm</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-odd"><td><p>quality instructions</p></td>
<td><p>provide parameters used in smooth with quality</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-even"><td><p>add fit report</p></td>
<td><p>if true then add simple fit report after repo fitting</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
<tr class="row-odd"><td><p>repo fit start offset</p></td>
<td><p>control the starting maturity of repo fit</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-even"><td><p>averaged repo half life</p></td>
<td><p>half life of the weight used to calculate the averaged repo</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-odd"><td><p>averaged repo rate report</p></td>
<td><p>the previous averaged repo report used to calculate the weighted average</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="smoothing-anchors">
<h4><span class="section-number">1.6.1.5.9.6. </span>Smoothing Anchors<a class="headerlink" href="#smoothing-anchors" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter / Variable Name</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Type / Data Input / Calibration</p></th>
<th class="head"><p>Impact</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>smoothing anchors</p></td>
<td><p>parameters used in smooth with quality</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-odd"><td><p>smoothness</p></td>
<td><p>smoothing parameter used in smooth with quality</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-even"><td><p>time power</p></td>
<td><p>power parameter used in kernel smoothing</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="smoothing-anchors-parameters">
<h4><span class="section-number">1.6.1.5.9.7. </span>Smoothing Anchors Parameters<a class="headerlink" href="#smoothing-anchors-parameters" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter / Variable Name</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Type / Data Input / Calibration</p></th>
<th class="head"><p>Impact</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>short term</p></td>
<td><p>threshold for short term</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-odd"><td><p>long term</p></td>
<td><p>threshold for long term</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-even"><td><p>short term quality</p></td>
<td><p>parameter quality for short term</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-odd"><td><p>long term quality</p></td>
<td><p>parameter quality for long term</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-even"><td><p>min quality</p></td>
<td><p>quality threshold in smooth with quality parameter gets smoothed only if its quality is below this threshold</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="box-rate-fitting-instructions">
<h4><span class="section-number">1.6.1.5.9.8. </span>Box Rate Fitting Instructions<a class="headerlink" href="#box-rate-fitting-instructions" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter / Variable Name</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Type / Data Input / Calibration</p></th>
<th class="head"><p>Impact</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>num days exclude from start</p></td>
<td><p>threshold for short term, quote expiry shorter than this threshold will be filtered out</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-odd"><td><p>cutoff date</p></td>
<td><p>threshold for long term, quote expiry longer than this date will be filtered out</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-even"><td><p>strike range</p></td>
<td><p>relative threshold for strike</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-odd"><td><p>averaged box rate half life</p></td>
<td><p>half life of the averaging weights used to calculate the averaged box rate</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-even"><td><p>fit third fridays only</p></td>
<td><p>if true, only quotes expiring on third Fridays will be use for box rate fitting</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
<tr class="row-odd"><td><p>exchange</p></td>
<td><p>if specified, used for dates settlements in the time difference calculation between pricing date and quote expiry</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
<tr class="row-even"><td><p>box rate fitting report</p></td>
<td><p>previous box rate fitting report, used in average box rate calculation</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
<tr class="row-odd"><td><p>reference box curve</p></td>
<td><p>reference box curve that used for flat spread extrapolation</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
<tr class="row-even"><td><p>slope variance threshold</p></td>
<td><p>slope variance threshold that used to ensure the fitted box rates on the maturities with large variance of slopes</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="volatility-fitting-instructions">
<h4><span class="section-number">1.6.1.5.9.9. </span>Volatility Fitting Instructions<a class="headerlink" href="#volatility-fitting-instructions" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter / Variable Name</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Type / Data Input / Calibration</p></th>
<th class="head"><p>Impact</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>use memory</p></td>
<td><p>when true this is the seeding cost is activated</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-odd"><td><p>cliff params</p></td>
<td><p>parameter that allows the flattening of the surface in the wings</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-even"><td><p>min num quotes for anchor vol fit</p></td>
<td><p>specifies the minimum number of quotes required to fit the anchor vol for poor maturities</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-odd"><td><p>normalize cost in initial weights</p></td>
<td><p>if true then normalize the weight by the corresponding initial weight</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-even"><td><p>correlated then automatically detect poor maturities</p></td>
<td><p>if provided then automatically detect poor maturities</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-odd"><td><p>poor maturity check instructions</p></td>
<td><p>provide poor maturity detection instructions</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-even"><td><p>use quality for fitting</p></td>
<td><p>if true then quality adjustments are applied</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-odd"><td><p>reorder maturities with quality</p></td>
<td><p>if true then reorder the liquid maturities based on quality</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-even"><td><p>smooth with quality</p></td>
<td><p>if true then the fitted parameters are smoothed based on quality</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-odd"><td><p>use analytic gradient</p></td>
<td><p>if true then analytic gradients for cost and constrain functions are supplied to NMS routine</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
<tr class="row-even"><td><p>post-fit checks instructions</p></td>
<td><p>if not null then generate the post fit check report</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
<tr class="row-odd"><td><p>fit quality instructions</p></td>
<td><p>if not null then generate the fit quality report</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
<tr class="row-even"><td><p>averaged forward volatility instructions</p></td>
<td><p>if not null then generate the averaged forward volatility report</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
<tr class="row-odd"><td><p>two stage vol fitting instructions</p></td>
<td><p>the instructions for two stage volatility fitting</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="ts-fitting-instructions">
<h4><span class="section-number">1.6.1.5.9.10. </span>TS Fitting Instructions<a class="headerlink" href="#ts-fitting-instructions" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter / Variable Name</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Type / Data Input / Calibration</p></th>
<th class="head"><p>Impact</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>lower boundary</p></td>
<td><p>table of lower boundaries for TS parameters per ASV parameter</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
<tr class="row-odd"><td><p>upper boundary</p></td>
<td><p>table of upper boundaries for TS parameters per ASV parameter</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
<tr class="row-even"><td><p>seeding coefficients</p></td>
<td><p>cost coefficients per parameter to reduce their value changes relative to initial values</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-odd"><td><p>smooth forward param at TS start/offs</p></td>
<td><p>cost coefficients per parameter to smooth down the TS curve parameter values at the TS start date</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="poor-maturity-check-instructions">
<h4><span class="section-number">1.6.1.5.9.11. </span>Poor Maturity Check Instructions<a class="headerlink" href="#poor-maturity-check-instructions" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter / Variable Name</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Type / Data Input / Calibration</p></th>
<th class="head"><p>Impact</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>quality threshold</p></td>
<td><p>threshold used for poor maturity detection</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-odd"><td><p>threshold mult</p></td>
<td><p>multiplier of the quality threshold</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="param-smooth-ts-instructions">
<h4><span class="section-number">1.6.1.5.9.12. </span>Param Smooth TS Instructions<a class="headerlink" href="#param-smooth-ts-instructions" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter / Variable Name</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Type / Data Input / Calibration</p></th>
<th class="head"><p>Impact</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>param diff tolerance</p></td>
<td><p>tolerance for parameter difference</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-odd"><td><p>short term decay</p></td>
<td><p>decay parameter for short term parameter</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-even"><td><p>distance decay</p></td>
<td><p>decay parameter for distance</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="constraint-instructions">
<h4><span class="section-number">1.6.1.5.9.13. </span>Constraint Instructions<a class="headerlink" href="#constraint-instructions" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter / Variable Name</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Type / Data Input / Calibration</p></th>
<th class="head"><p>Impact</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>butterfly</p></td>
<td><p>boolean flag to remove the butterfly arbitrage</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-odd"><td><p>enforce local bounds</p></td>
<td><p>boolean flag to make sure that TS market parameters are within the local boundaries that are set per maturity</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-even"><td><p>min wings</p></td>
<td><p>if set to a positive number then Put/Call Wing TS implied parameter for a long term maturity should be above that level</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-odd"><td><p>calendar call order</p></td>
<td><p>optional parameter; if set then there will be a no-calendar arbitrage enforcement at the strike call order (non-negative input) away from the anchor strike</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-even"><td><p>calendar put order</p></td>
<td><p>optional parameter; if set then there will be a no-calendar arbitrage enforcement at the strike put order (non-positive input) away from the anchor strike</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="conditional-fit-instructions">
<h4><span class="section-number">1.6.1.5.9.14. </span>Conditional Fit Instructions<a class="headerlink" href="#conditional-fit-instructions" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter / Variable Name</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Type / Data Input / Calibration</p></th>
<th class="head"><p>Impact</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>averaged spread half life</p></td>
<td><p>half life of the weight used to calculate the average spread in equation (A.1)</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-odd"><td><p>averaged spread report</p></td>
<td><p>the previous average spread report used to calculate the weighted average</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-even"><td><p>conditional fit start hour</p></td>
<td><p>start hour of the conditional fit</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-odd"><td><p>fit spread threshold</p></td>
<td><p>the bid ask spread is considered as wide if it is larger than the product of the fit spread threshold and the average spread</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-even"><td><p>num max hits</p></td>
<td><p>maximum number of hits</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-odd"><td><p>spot move stdcv</p></td>
<td><p>parameter used to check the first anchor strike move</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="averaged-forward-volatility-instructions">
<h4><span class="section-number">1.6.1.5.9.15. </span>Averaged Forward Volatility Instructions<a class="headerlink" href="#averaged-forward-volatility-instructions" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter / Variable Name</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Type / Data Input / Calibration</p></th>
<th class="head"><p>Impact</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>averaged forward volatility half life</p></td>
<td><p>half life used in the averaged forward volatility calculation</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-odd"><td><p>averaged forward volatility report</p></td>
<td><p>the previous averaged forward volatility report</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="post-fit-checks-instructions">
<h4><span class="section-number">1.6.1.5.9.16. </span>Post-fit Checks Instructions<a class="headerlink" href="#post-fit-checks-instructions" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter / Variable Name</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Type / Data Input / Calibration</p></th>
<th class="head"><p>Impact</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>calibrated vs implied vols checks instructions</p></td>
<td><p>contains optional parameters including number of standard deviation, start maturity offset in days and volatility mismatch threshold</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-odd"><td><p>local vol checks</p></td>
<td><p>instructions for local vol checks</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-even"><td><p>grid vol diff threshold</p></td>
<td><p>optional parameter: if provided then check mismatch between grid and parameterized implied volatilities</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
<tr class="row-odd"><td><p>min grid vol</p></td>
<td><p>threshold to reported in the minimum grid volatility is below this threshold</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
<tr class="row-even"><td><p>volatility moves checks instructions</p></td>
<td><p>if provided then check the volatility movements between initial and fitted surfaces</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="calibrated-vs-implied-vols-checks-instructions">
<h4><span class="section-number">1.6.1.5.9.17. </span>Calibrated vs Implied Vols Checks Instructions<a class="headerlink" href="#calibrated-vs-implied-vols-checks-instructions" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter / Variable Name</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Type / Data Input / Calibration</p></th>
<th class="head"><p>Impact</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>mismatch threshold</p></td>
<td><p>optional parameter: threshold when breach is reported</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
<tr class="row-odd"><td><p>num std deviations</p></td>
<td><p>optional parameter: number of standard deviations, used to control the boundaries of strike axis</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
<tr class="row-even"><td><p>start maturity offset in days</p></td>
<td><p>control the starting maturity</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="local-vol-checks-instructions">
<h4><span class="section-number">1.6.1.5.9.18. </span>Local Vol Checks Instructions<a class="headerlink" href="#local-vol-checks-instructions" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter / Variable Name</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Type / Data Input / Calibration</p></th>
<th class="head"><p>Impact</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>min local vol threshold</p></td>
<td><p>lower bound for the local volatility</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
<tr class="row-odd"><td><p>max local vol threshold</p></td>
<td><p>optional parameter: cap for the local volatility</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
<tr class="row-even"><td><p>num std deviations</p></td>
<td><p>number of standard deviation used, which define the region to check</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-odd"><td><p>num vol sampling</p></td>
<td><p>number of volatilities sampled in the designated region</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-even"><td><p>start maturity offset in days</p></td>
<td><p>control the starting maturity</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
<tr class="row-odd"><td><p>use legacy local vol cone</p></td>
<td><p>if true then use the legacy local volatility cone</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
<tr class="row-even"><td><p>local vol score instructions</p></td>
<td><p>if provided then calculate the local volatility score</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="local-volatility-score-instructions">
<h4><span class="section-number">1.6.1.5.9.19. </span>Local Volatility Score Instructions<a class="headerlink" href="#local-volatility-score-instructions" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter / Variable Name</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Type / Data Input / Calibration</p></th>
<th class="head"><p>Impact</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>lv cost power</p></td>
<td><p>local volatility cost power used in the local volatility score formula</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
<tr class="row-odd"><td><p>min lv</p></td>
<td><p>minimum local volatility threshold (minLV) in the local volatility score formula</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
<tr class="row-even"><td><p>max lv</p></td>
<td><p>maximum local volatility threshold (maxLV) in the local volatility score formula</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
<tr class="row-odd"><td><p>lv smoothness</p></td>
<td><p>local volatility smoothness</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
<tr class="row-even"><td><p>lv smoothness param</p></td>
<td><p>local volatility smoothness parameter</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
<tr class="row-odd"><td><p>vega ratio power</p></td>
<td><p>vega ratio power in the local volatility score formula</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
<tr class="row-even"><td><p>max lv score threshold</p></td>
<td><p>maximum local volatility score threshold</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="volatility-moves-checks-instructions">
<h4><span class="section-number">1.6.1.5.9.20. </span>Volatility Moves Checks Instructions<a class="headerlink" href="#volatility-moves-checks-instructions" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter / Variable Name</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Type / Data Input / Calibration</p></th>
<th class="head"><p>Impact</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>vol move threshold</p></td>
<td><p>optional parameter: threshold when breach is reported</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
<tr class="row-odd"><td><p>vol move warning threshold</p></td>
<td><p>optional parameter: threshold when warning message is reported</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
<tr class="row-even"><td><p>num std deviations</p></td>
<td><p>optional parameter: number of standard deviations, used to control the boundaries of strike axis</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
<tr class="row-odd"><td><p>relative strikes</p></td>
<td><p>absolute strike is the product of relative strike and the implied spot as of the fitting date</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
<tr class="row-even"><td><p>start maturity offset in days</p></td>
<td><p>control the starting maturity</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="fit-quality-instructions">
<h4><span class="section-number">1.6.1.5.9.21. </span>Fit Quality Instructions<a class="headerlink" href="#fit-quality-instructions" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter / Variable Name</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Type / Data Input / Calibration</p></th>
<th class="head"><p>Impact</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>averaged data half life</p></td>
<td><p>half life of the weight used to calculate the average spread, fit error and older spread</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-odd"><td><p>classifier</p></td>
<td><p>classification tree used to label the fit result</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-even"><td><p>fit quality report</p></td>
<td><p>the previous fit quality report used to calculate the weighted averages</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-odd"><td><p>num consecutive bad strikes</p></td>
<td><p>number of consecutive bad strikes allowed when calculating the good strikes ranges</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-even"><td><p>vol diff tolerance</p></td>
<td><p>threshold used to check whether the fitted vol is within bid/ask</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-odd"><td><p>vol spread stdcv</p></td>
<td><p>threshold used to check whether the bid/ask spread is wide</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="two-stage-vol-fitting-instructions">
<h4><span class="section-number">1.6.1.5.9.22. </span>Two Stage Vol Fitting Instructions<a class="headerlink" href="#two-stage-vol-fitting-instructions" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter / Variable Name</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Type / Data Input / Calibration</p></th>
<th class="head"><p>Impact</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>fitting type</p></td>
<td><p>the two stage fitting type. Could be no_first_stage_fit, fd_first_stage, and repo_transform_only</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-odd"><td><p>include extrapolation dates for quote generation</p></td>
<td><p>if true, include extrapolation dates for quotes generation</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
<tr class="row-even"><td><p>number of generated strikes</p></td>
<td><p>the number of generated strikes. Default is 20</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
<tr class="row-odd"><td><p>number of standard deviations</p></td>
<td><p>number of standard deviation to control the range of generated strikes. Default is 4</p></td>
<td><p>input</p></td>
<td><p>minor</p></td>
</tr>
<tr class="row-even"><td><p>repo transformation type</p></td>
<td><p>repo transformation type. Could be no_transformation, repo_instructions_based, or match_implied_forward</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="reference-volatility-fitter-parameters">
<h4><span class="section-number">1.6.1.5.9.23. </span>Reference Volatility Fitter Parameters<a class="headerlink" href="#reference-volatility-fitter-parameters" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter / Variable Name</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Type / Data Input / Calibration</p></th>
<th class="head"><p>Impact</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>discount curve</p></td>
<td><p>discount yield curve calibrated to the bonds market and other fixed income instruments</p></td>
<td><p>market data</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-odd"><td><p>forward curve</p></td>
<td><p>forward curve of the asset</p></td>
<td><p>market data</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-even"><td><p>volatility surface</p></td>
<td><p>volatility surface of the asset to be used as an initial guess</p></td>
<td><p>market data</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-odd"><td><p>quote collection</p></td>
<td><p>list of American/European options quotes</p></td>
<td><p>market data</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-even"><td><p>repo fitting instructions</p></td>
<td><p>instructions for both repo fitting routine and quote inversion</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
<tr class="row-odd"><td><p>volatility fitting instructions</p></td>
<td><p>instructions for volatility surface parameter fitting routine</p></td>
<td><p>input</p></td>
<td><p>major</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<section id="model-outputs">
<h3><span class="section-number">1.6.1.5.10. </span>4.4. Model Outputs<a class="headerlink" href="#model-outputs" title="Link to this heading">#</a></h3>
<p>The volatility fitter generates a comprehensive report containing:</p>
<ol class="arabic simple">
<li><p><strong>Primary Outputs</strong></p>
<ul class="simple">
<li><p>Fitted volatility surface (extrapolation result)</p></li>
<li><p>Fitted repo curve table</p></li>
<li><p>Post-fit checks information</p></li>
</ul>
</li>
<li><p><strong>Auxiliary Surfaces</strong></p>
<ul class="simple">
<li><p>Calendar volatility surface</p></li>
<li><p>Grid volatility surface</p></li>
<li><p>Risk management system conversions</p></li>
</ul>
</li>
<li><p><strong>Fitting Process Stages</strong></p>
<ul class="simple">
<li><p>Local fit result</p></li>
<li><p>Term Structure fit result</p></li>
<li><p>Global fit result</p></li>
</ul>
</li>
<li><p><strong>Usage</strong></p>
<ul class="simple">
<li><p>Post-fit checks: Used by client applications for surface acceptance criteria</p></li>
<li><p>Calendar/Grid surfaces: Provide standardized conversions for risk systems</p></li>
<li><p>Process stages: Enable detailed analysis of fitting quality and behavior</p></li>
</ul>
</li>
</ol>
</section>
<section id="model-uncertainty">
<h3><span class="section-number">1.6.1.5.11. </span>4.5. Model Uncertainty<a class="headerlink" href="#model-uncertainty" title="Link to this heading">#</a></h3>
<p>Model uncertainty factors are detailed in section 4.2, covering:</p>
<ul class="simple">
<li><p>Parameter sensitivity</p></li>
<li><p>Market data quality impact</p></li>
<li><p>Fitting process stability</p></li>
<li><p>Extrapolation reliability</p></li>
</ul>
</section>
<section id="risk-factors">
<h3><span class="section-number">1.6.1.5.12. </span>4.6. Risk Factors<a class="headerlink" href="#risk-factors" title="Link to this heading">#</a></h3>
<p>The volatility fitting process is influenced by three primary risk factors:</p>
<ol class="arabic simple">
<li><p><strong>Option Price Risk</strong></p>
<ul class="simple">
<li><p>Market liquidity impact</p></li>
<li><p>Bid-ask spread variations</p></li>
<li><p>Quote availability across strikes/maturities</p></li>
</ul>
</li>
<li><p><strong>Dividend Risk</strong></p>
<ul class="simple">
<li><p>Accuracy of dividend forecasts</p></li>
<li><p>Impact on forward price calculations</p></li>
<li><p>Seasonal dividend patterns</p></li>
</ul>
</li>
<li><p><strong>Yield Curve Risk</strong></p>
<ul class="simple">
<li><p>Discount rate uncertainty</p></li>
<li><p>Term structure changes</p></li>
<li><p>Interest rate regime shifts</p></li>
</ul>
</li>
</ol>
</section>
<section id="feeder-models">
<h3><span class="section-number">1.6.1.5.13. </span>4.7. Feeder Models<a class="headerlink" href="#feeder-models" title="Link to this heading">#</a></h3>
<p>The implementation relies on the following core models:</p>
<ol class="arabic simple">
<li><p><strong>Option Pricing Models</strong></p>
<ul class="simple">
<li><p>European model [‡] (GMD 2216)</p></li>
<li><p>American model [§] (GMD 2239)</p></li>
</ul>
</li>
<li><p><strong>Surface Parameterization</strong></p>
<ul class="simple">
<li><p>ASV volatility model [¶] (GMD 1719)</p></li>
</ul>
</li>
<li><p><strong>Curve Infrastructure</strong></p>
<ul class="simple">
<li><p>New Curves Model (GMD 1746)</p>
<ul>
<li><p>Accrual curves</p></li>
<li><p>Repo curves</p></li>
<li><p>Discount curves
Note: All curves are resampled to non-accrual format [∥]</p></li>
</ul>
</li>
</ul>
</li>
</ol>
</section>
<section id="justification-against-alternative-approaches">
<h3><span class="section-number">1.6.1.5.14. </span>4.8. Justification against alternative approaches<a class="headerlink" href="#justification-against-alternative-approaches" title="Link to this heading">#</a></h3>
<p>NA</p>
</section>
<section id="conditions-of-use">
<h3><span class="section-number">1.6.1.5.15. </span>4.9. Conditions of Use<a class="headerlink" href="#conditions-of-use" title="Link to this heading">#</a></h3>
</section>
<section id="core-assumptions">
<h3><span class="section-number">1.6.1.5.16. </span>Core Assumptions<a class="headerlink" href="#core-assumptions" title="Link to this heading">#</a></h3>
<ol class="arabic simple">
<li><p>Rate Evolution</p>
<ul class="simple">
<li><p>Deterministic rate behavior</p></li>
<li><p>Impact on long-dated options</p></li>
<li><p>Rate sensitivity considerations</p></li>
</ul>
</li>
<li><p>Market Structure</p>
<ul class="simple">
<li><p>Listed option price availability</p></li>
<li><p>Surface construction robustness</p></li>
<li><p>Quote continuity requirements</p></li>
</ul>
</li>
<li><p>Volatility Properties</p>
<ul class="simple">
<li><p>Continuous price-volatility relationship</p></li>
<li><p>Parameter stability assumptions</p></li>
<li><p>See Section 6.1 for detailed limitations</p></li>
</ul>
</li>
</ol>
<section id="stressed-market-conditions">
<h4><span class="section-number">1.6.1.5.16.1. </span>4.9.1. Stressed Market Conditions<a class="headerlink" href="#stressed-market-conditions" title="Link to this heading">#</a></h4>
<p>Back-testing validation completed over 6-month period (details in Section 8.2)</p>
</section>
<section id="other">
<h4><span class="section-number">1.6.1.5.16.2. </span>4.9.2. Other<a class="headerlink" href="#other" title="Link to this heading">#</a></h4>
<p>NA</p>
</section>
</section>
</section>
<section id="implementation-numerical-schema-description">
<h2><span class="section-number">1.6.1.6. </span>5. Implementation / Numerical Schema Description<a class="headerlink" href="#implementation-numerical-schema-description" title="Link to this heading">#</a></h2>
<p>Volatility fitter implementation is organized as a class volatilityFitter whose member variables are all the input parameters. It contains a function fit() that triggers the fitting process and returns the fitting report.</p>
<section id="id1">
<h3><span class="section-number">1.6.1.6.1. </span>5.1. Description<a class="headerlink" href="#id1" title="Link to this heading">#</a></h3>
<p>The volatility fitter implementation centers around the <code class="docutils literal notranslate"><span class="pre">fit()</span></code> function, which operates in two sequential stages:</p>
<ol class="arabic simple">
<li><p><strong>Quote Processing and Repo Fitting</strong> (<code class="docutils literal notranslate"><span class="pre">implied_volatility_from_quotes()</span></code>)</p></li>
<li><p><strong>Surface Parameter Fitting</strong> (<code class="docutils literal notranslate"><span class="pre">fit_volatility_surface_from_report()</span></code>)</p></li>
</ol>
<section id="stage-1-quote-processing-pipeline">
<h4><span class="section-number">1.6.1.6.1.1. </span>Stage 1: Quote Processing Pipeline<a class="headerlink" href="#stage-1-quote-processing-pipeline" title="Link to this heading">#</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">implied_volatility_from_quotes()</span></code> function executes through the following sequence:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Function Name</p></th>
<th class="head"><p>Purpose</p></th>
<th class="head"><p>Output</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">filter_aggregated_quotes()</span></code></p></td>
<td><p>Quote preprocessing and organization</p></td>
<td><p>Maturity-ordered quote lists with ATM indices</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">implied_repo_curve_from_quotes()</span></code></p></td>
<td><p>ATM-based repo curve calibration</p></td>
<td><p>Fitted repo rates matching Call/Put volatilities</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">invert_premiums()</span></code></p></td>
<td><p>Premium-to-volatility conversion</p></td>
<td><p>Implied volatilities using fitted repo curve</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">volatility_inversion_report()</span></code></p></td>
<td><p>Results consolidation</p></td>
<td><p>Complete inversion report with:<code class="docutils literal notranslate"><span class="pre">&lt;br&gt;</span></code>- Inverted volatilities<code class="docutils literal notranslate"><span class="pre">&lt;br&gt;</span></code>- Repo curve data<code class="docutils literal notranslate"><span class="pre">&lt;br&gt;</span></code>- Updated forward curve</p></td>
</tr>
</tbody>
</table>
</div>
<p>All numerical root-finding operations utilize Brent’s algorithm, combining bisection, secant, and inverse quadratic interpolation methods for optimal convergence.</p>
</section>
<section id="stage-2-surface-parameter-fitting">
<h4><span class="section-number">1.6.1.6.1.2. </span>Stage 2: Surface Parameter Fitting<a class="headerlink" href="#stage-2-surface-parameter-fitting" title="Link to this heading">#</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">fit_volatility_surface_from_report()</span></code> function instantiates a <code class="docutils literal notranslate"><span class="pre">vol_param_fitter</span></code> class and executes the following optimization sequence:</p>
<ol class="arabic simple">
<li><p><strong>Initialization Phase</strong></p>
<ul class="simple">
<li><p>Processes volatility inversion report</p></li>
<li><p>Applies data quality filters</p></li>
<li><p>Initializes optimization parameters</p></li>
<li><p>Configures fitting environment</p></li>
</ul>
</li>
<li><p><strong>Optimization Pipeline</strong></p></li>
</ol>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Function</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Deliverables</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">local_fit()</span></code></p></td>
<td><p>Maturity-specific parameter calibration</p></td>
<td><p>• Liquid maturity parameters<code class="docutils literal notranslate"><span class="pre">&lt;br&gt;</span></code>• Gap interpolation results</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">fit_term_structures()</span></code></p></td>
<td><p>Term structure parameter optimization</p></td>
<td><p>• Fitted TS parameters<code class="docutils literal notranslate"><span class="pre">&lt;br&gt;</span></code>• Continuous parameter curves</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">global_fit()</span></code></p></td>
<td><p>Surface-wide parameter refinement</p></td>
<td><p>• Globally optimized parameters<code class="docutils literal notranslate"><span class="pre">&lt;br&gt;</span></code>• Arbitrage-free constraints</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">extrapolate_vol_surface()</span></code></p></td>
<td><p>Surface extension and completion</p></td>
<td><p>• Complete parameter surface<code class="docutils literal notranslate"><span class="pre">&lt;br&gt;</span></code>• Boundary region handling</p></td>
</tr>
</tbody>
</table>
</div>
<p>Each optimization phase employs Brent’s algorithm for root-finding, adaptively selecting between:</p>
<ul class="simple">
<li><p>Bisection method</p></li>
<li><p>Secant method</p></li>
<li><p>Inverse quadratic interpolation</p></li>
</ul>
<p>The core optimization utilizes NAG E04UFA solver for constrained nonlinear programming:</p>
<p><strong>Optimization Problem:</strong>
minimize <span class="math notranslate nohighlight">\(F(x)\)</span> subject to:
<span class="math notranslate nohighlight">\(l \leq \begin{pmatrix} x \\ A_L x \\ c(x) \end{pmatrix} \leq u\)</span></p>
<p>Where:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(F(x)\)</span>: Smooth nonlinear objective function</p></li>
<li><p><span class="math notranslate nohighlight">\(l, u\)</span>: Parameter bounds</p></li>
<li><p><span class="math notranslate nohighlight">\(A_L\)</span>: Linear constraint matrix (<span class="math notranslate nohighlight">\(n_L \times n\)</span>)</p></li>
<li><p><span class="math notranslate nohighlight">\(c(x)\)</span>: Nonlinear constraint vector (<span class="math notranslate nohighlight">\(n_N\)</span> elements)</p></li>
</ul>
<p><strong>Requirements:</strong></p>
<ul class="simple">
<li><p>Twice-differentiable objective and constraints</p></li>
<li><p>Analytic gradients recommended (<code class="docutils literal notranslate"><span class="pre">use_analytic_gradient</span> <span class="pre">=</span> <span class="pre">true</span></code>)</p></li>
</ul>
<p>For implementation details, see Section 11 (Algorithmic Details) of NAG documentation [?].</p>
</section>
</section>
<section id="inputs">
<h3><span class="section-number">1.6.1.6.2. </span>5.2. Inputs<a class="headerlink" href="#inputs" title="Link to this heading">#</a></h3>
<p>Please refer to Section 4.3 for the input parameters for the volatility fitter.</p>
</section>
<section id="quality-control">
<h3><span class="section-number">1.6.1.6.3. </span>5.3. Quality control<a class="headerlink" href="#quality-control" title="Link to this heading">#</a></h3>
<p>The volatility fitter report contains post-fit checks report that contains any threshold breaches from 4.1.1.1.1 to 4.1.1.1.4 (see details). It also contains auxiliary fitting data showing the fitting process that includes selected ATM strike values, both filtered and unfiltered bid/ask/mid volatility data, initial and adjusted weights, average bid/ask spreads, final local (global) root mean square, initial and final local (global) constraint function values and overall number of iterations spent by NAG routine per maturity (during global fit). This information allows to monitor the numerical schema results of different parts of the fitting process.</p>
</section>
<section id="limitations">
<h3><span class="section-number">1.6.1.6.4. </span>5.4. Limitations<a class="headerlink" href="#limitations" title="Link to this heading">#</a></h3>
<p>Please refer to Section 4.2 for the limitations of the implied volatility fitter model.</p>
</section>
</section>
<section id="calibration">
<h2><span class="section-number">1.6.1.7. </span>6. Calibration<a class="headerlink" href="#calibration" title="Link to this heading">#</a></h2>
<section id="calibration-strategy">
<h3><span class="section-number">1.6.1.7.1. </span>6.1. Calibration Strategy<a class="headerlink" href="#calibration-strategy" title="Link to this heading">#</a></h3>
<p>The calibration strategy employs a multi-stage optimization approach designed to achieve both accuracy and stability:</p>
</section>
</section>
<section id="stage-1-repo-forward-curve-calibration">
<h2><span class="section-number">1.6.1.8. </span>Stage 1: Repo/Forward Curve Calibration<a class="headerlink" href="#stage-1-repo-forward-curve-calibration" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Identifies implied forwards from put-call parity or volatility matching</p></li>
<li><p>Uses a number of strikes around the ATM level (configurable, default is 2)</p></li>
<li><p>Implements Brent’s algorithm for root finding to determine implied repo rates</p></li>
<li><p>Constructs a bootstrapped repo curve across maturities</p></li>
<li><p>Optional smoothing of repo curve (exponential or Kalman filtering)</p></li>
<li><p>Extrapolation beyond liquid maturities (configurable methods)</p></li>
</ul>
</section>
<section id="stage-2-premium-inversion">
<h2><span class="section-number">1.6.1.9. </span>Stage 2: Premium Inversion<a class="headerlink" href="#stage-2-premium-inversion" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Inverts option premiums to implied volatilities using Brent algorithm</p></li>
<li><p>Applies numerical approximation methods for American options</p></li>
<li><p>Calculates vega values for subsequent weighting in optimization</p></li>
<li><p>Applies quality metrics to assess reliability of individual quotes</p></li>
<li><p>Produces target mid-volatilities from either premium averaging or volatility averaging</p></li>
</ul>
</section>
<section id="stage-3-parameter-fitting-sequence">
<h2><span class="section-number">1.6.1.10. </span>Stage 3: Parameter Fitting Sequence<a class="headerlink" href="#stage-3-parameter-fitting-sequence" title="Link to this heading">#</a></h2>
<ol class="arabic simple">
<li><p><strong>Local Fitting:</strong></p>
<ul class="simple">
<li><p>Fits individual maturities independently</p></li>
<li><p>Optimizes ASV parameters using NAG E04UFA routine</p></li>
<li><p>Applies local constraints for butterfly and calendar arbitrage</p></li>
<li><p>Weighs strikes based on vega and quality measures</p></li>
<li><p>Adjusts for memory from previous day’s surface if requested</p></li>
</ul>
</li>
<li><p><strong>Term Structure Fitting:</strong></p>
<ul class="simple">
<li><p>Fits smooth parameter curves across maturities</p></li>
<li><p>Supports multiple TS types (Double/Single Exponential, Piecewise Power)</p></li>
<li><p>Enables controlled extrapolation beyond liquid maturities</p></li>
<li><p>Applies parameter-specific TS start dates</p></li>
</ul>
</li>
<li><p><strong>Global Fitting:</strong></p>
<ul class="simple">
<li><p>Refines TS parameters using global objective function</p></li>
<li><p>Enforces global constraints across the entire surface</p></li>
<li><p>Optimizes smoothness at TS transition points</p></li>
<li><p>Balances fit quality with parameter stability</p></li>
</ul>
</li>
<li><p><strong>Quality-Based Smoothing:</strong></p>
<ul class="simple">
<li><p>Applies kernel smoothing based on quote quality</p></li>
<li><p>Adjusts parameters inversely proportional to data quality</p></li>
<li><p>Controls short-term vs. long-term parameter behavior</p></li>
<li><p>Ensures stability where market data is sparse or noisy</p></li>
</ul>
</li>
<li><p><strong>Extrapolation:</strong></p>
<ul class="simple">
<li><p>Extends surface to required maturities using configurable methods</p></li>
<li><p>Flat Forward Vol: maintains constant forward volatility</p></li>
<li><p>Time Weighted Vol Spread: propagates volatility adjustments with decay</p></li>
<li><p>Totem Specific: special handling for benchmark submissions</p></li>
</ul>
</li>
</ol>
<section id="calibration-data">
<h3><span class="section-number">1.6.1.10.1. </span>6.2. Calibration Data<a class="headerlink" href="#calibration-data" title="Link to this heading">#</a></h3>
<p><strong>Market Data Requirements:</strong></p>
<ul class="simple">
<li><p>Option quotes with the following attributes:</p>
<ul>
<li><p>Strike price</p></li>
<li><p>Expiration date</p></li>
<li><p>Bid/ask prices or volatilities</p></li>
<li><p>Option type (Call/Put)</p></li>
<li><p>Exercise style (American/European)</p></li>
<li><p>Quote type (Price, Forward Price, Volatility)</p></li>
</ul>
</li>
<li><p>Supporting market data:</p>
<ul>
<li><p>Discount curve (properly calibrated yield curve)</p></li>
<li><p>Initial forward curve (may be adjusted during repo fitting)</p></li>
<li><p>Dividend schedule or dividend yield curve (for single stocks)</p></li>
<li><p>Previous day’s volatility surface for seeding/stability</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="data-quality-filtering">
<h2><span class="section-number">1.6.1.11. </span>Data Quality Filtering:<a class="headerlink" href="#data-quality-filtering" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Bid/ask spread thresholds (both relative and absolute)</p>
<ul>
<li><p>Maximum relative spread (default varies by underlying)</p></li>
<li><p>Maximum absolute spread (typically 3-5%)</p></li>
<li><p>Statistical outlier detection based on standard deviations</p></li>
</ul>
</li>
<li><p>Delta-based filtering:</p>
<ul>
<li><p>Minimum delta threshold to exclude deep OTM options</p></li>
<li><p>Adjustable based on underlying liquidity</p></li>
<li><p>Typically ranges from 0.01 to 0.05</p></li>
</ul>
</li>
<li><p>Statistical filtering:</p>
<ul>
<li><p>Outlier detection based on spread distribution</p></li>
<li><p>Identification of poor maturities with insufficient quotes</p></li>
<li><p>Automatic handling of suspect data points</p></li>
</ul>
</li>
<li><p>Exchange-specific adjustments:</p>
<ul>
<li><p>Settlement rules</p></li>
<li><p>Holiday calendars</p></li>
<li><p>Market-specific conventions</p></li>
</ul>
</li>
</ul>
<section id="calibration-frequency">
<h3><span class="section-number">1.6.1.11.1. </span>6.3. Calibration Frequency<a class="headerlink" href="#calibration-frequency" title="Link to this heading">#</a></h3>
</section>
</section>
<section id="standard-calibration-schedule">
<h2><span class="section-number">1.6.1.12. </span>Standard Calibration Schedule<a class="headerlink" href="#standard-calibration-schedule" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>End-of-day calibration for overnight risk and next-day trading</p></li>
<li><p>Intraday calibrations at key market times:</p>
<ul>
<li><p>Market open</p></li>
<li><p>Mid-session update</p></li>
<li><p>Pre-close update</p></li>
</ul>
</li>
<li><p>Frequency increases during high volatility periods</p></li>
</ul>
</section>
<section id="event-driven-calibration">
<h2><span class="section-number">1.6.1.13. </span>Event-Driven Calibration<a class="headerlink" href="#event-driven-calibration" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Triggered by significant market moves:</p>
<ul>
<li><p>Underlying price movement threshold (typically 2-3%)</p></li>
<li><p>Implied volatility shift threshold (typically 1-2%)</p></li>
<li><p>Trading volume spikes</p></li>
</ul>
</li>
<li><p>Corporate action events (earnings, dividends, etc.)</p></li>
<li><p>Market disruption events</p></li>
</ul>
</section>
<section id="on-demand-calibration">
<h2><span class="section-number">1.6.1.14. </span>On-Demand Calibration<a class="headerlink" href="#on-demand-calibration" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Available for ad-hoc trader requests</p></li>
<li><p>Required for large trade pricing</p></li>
<li><p>Used for special pricing runs or analysis</p></li>
<li><p>Model validation exercises</p></li>
</ul>
</section>
<section id="automated-system-integration">
<h2><span class="section-number">1.6.1.15. </span>Automated System Integration<a class="headerlink" href="#automated-system-integration" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Real-time pricing engines for trading systems</p></li>
<li><p>Risk calculation engines for limit monitoring</p></li>
<li><p>Batch processing for end-of-day reporting</p></li>
<li><p>API access for client systems</p></li>
</ul>
<section id="calibration-quality-control">
<h3><span class="section-number">1.6.1.15.1. </span>6.4. Calibration Quality Control<a class="headerlink" href="#calibration-quality-control" title="Link to this heading">#</a></h3>
</section>
</section>
<section id="quantitative-quality-metrics">
<h2><span class="section-number">1.6.1.16. </span>Quantitative Quality Metrics<a class="headerlink" href="#quantitative-quality-metrics" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Root Mean Square Error (RMSE) between target and fitted volatilities</p></li>
<li><p>Maximum absolute deviation between target and fitted volatilities</p></li>
<li><p>Parameter stability measures vs. previous calibration</p></li>
<li><p>Butterfly and calendar arbitrage violation checks</p></li>
<li><p>Local volatility surface smoothness measures</p></li>
</ul>
</section>
<section id="specific-threshold-checks">
<h2><span class="section-number">1.6.1.17. </span>Specific Threshold Checks<a class="headerlink" href="#specific-threshold-checks" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Minimum local volatility threshold (typically &gt; 0%)</p></li>
<li><p>Maximum local volatility threshold (typically &lt; 200%)</p></li>
<li><p>Maximum grid volatility difference (&lt; 0.5%)</p></li>
<li><p>Maximum volatility movement between calibrations</p></li>
<li><p>Parameter boundaries enforcement</p></li>
</ul>
</section>
<section id="classification-system">
<h2><span class="section-number">1.6.1.18. </span>Classification System<a class="headerlink" href="#classification-system" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Automated classification based on multiple metrics:</p>
<ul>
<li><p>“Good”: High-quality fit with minimal issues</p></li>
<li><p>“Weak”: Acceptable fit with some minor issues</p></li>
<li><p>“Bad”: Problematic fit requiring attention</p></li>
<li><p>“Missing”: Insufficient data for reliable calibration</p></li>
</ul>
</li>
</ul>
</section>
<section id="post-fit-analysis">
<h2><span class="section-number">1.6.1.19. </span>Post-Fit Analysis<a class="headerlink" href="#post-fit-analysis" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Visual inspection tools:</p>
<ul>
<li><p>Fitted vs. market volatility charts</p></li>
<li><p>Parameter evolution graphs</p></li>
<li><p>Local volatility surface heatmaps</p></li>
</ul>
</li>
<li><p>Automated alerts for threshold violations</p></li>
<li><p>Diagnostic information for failed fits</p></li>
<li><p>Historical performance tracking</p></li>
</ul>
</section>
<section id="feedback-mechanisms">
<h2><span class="section-number">1.6.1.20. </span>Feedback Mechanisms<a class="headerlink" href="#feedback-mechanisms" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Adjustment of calibration parameters based on fit quality</p></li>
<li><p>Conditional fitting based on market conditions</p></li>
<li><p>Poor maturity detection and special handling</p></li>
<li><p>Memory mechanisms to control day-to-day stability</p></li>
</ul>
</section>
<section id="risk-calculated-by-the-model-payoff">
<h2><span class="section-number">1.6.1.21. </span>7. Risk (Calculated by the model/payoff)<a class="headerlink" href="#risk-calculated-by-the-model-payoff" title="Link to this heading">#</a></h2>
<section id="id2">
<h3><span class="section-number">1.6.1.21.1. </span>7.1. Risk Factors<a class="headerlink" href="#id2" title="Link to this heading">#</a></h3>
<p>The volatility surface generated by the Implied Volatility Filter decomposes market volatility information into parameterized risk factors that can be systematically analyzed and shocked:</p>
</section>
</section>
<section id="primary-asv-parameter-risk-factors">
<h2><span class="section-number">1.6.1.22. </span>Primary ASV Parameter Risk Factors<a class="headerlink" href="#primary-asv-parameter-risk-factors" title="Link to this heading">#</a></h2>
<ol class="arabic simple">
<li><p><strong>Anchor Vol Parameter:</strong></p>
<ul class="simple">
<li><p>Captures ATM volatility level</p></li>
<li><p>Primarily influenced by overall market volatility expectations</p></li>
<li><p>Typically the most significant volatility risk factor</p></li>
<li><p>Directly impacts vega exposure across all strikes</p></li>
</ul>
</li>
<li><p><strong>Skew Parameter:</strong></p>
<ul class="simple">
<li><p>Captures the linear slope of the volatility smile</p></li>
<li><p>Reflects directional risk premium in the market</p></li>
<li><p>Influenced by perceived tail risk asymmetry</p></li>
<li><p>Impacts risk reversal strategies and delta-hedged positions</p></li>
</ul>
</li>
<li><p><strong>Smile Parameter:</strong></p>
<ul class="simple">
<li><p>Captures the curvature/convexity of the volatility smile</p></li>
<li><p>Reflects market’s pricing of large moves in either direction</p></li>
<li><p>Influenced by expected jump risk and volatility of volatility</p></li>
<li><p>Critical for butterfly strategies and straddle positions</p></li>
</ul>
</li>
<li><p><strong>Wing Parameters (Call Wing and Put Wing):</strong></p>
<ul class="simple">
<li><p>Control the behavior of extreme strikes</p></li>
<li><p>Reflect tail risk pricing beyond standard deviations</p></li>
<li><p>Important for barrier options and other exotic products</p></li>
<li><p>Capture crash risk (Put Wing) and upside surprise risk (Call Wing)</p></li>
</ul>
</li>
</ol>
</section>
<section id="term-structure-risk-factors">
<h2><span class="section-number">1.6.1.23. </span>Term Structure Risk Factors<a class="headerlink" href="#term-structure-risk-factors" title="Link to this heading">#</a></h2>
<p>For each ASV parameter, the term structure introduces additional risk dimensions:</p>
<ul class="simple">
<li><p>Short-term vs. long-term parameter behavior</p></li>
<li><p>Forward parameter expectations</p></li>
<li><p>Smoothness and stability of parameters across time</p></li>
<li><p>Calendar spread risks between maturities</p></li>
</ul>
</section>
<section id="specific-term-structure-parameters">
<h2><span class="section-number">1.6.1.24. </span>Specific Term Structure Parameters<a class="headerlink" href="#specific-term-structure-parameters" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>P₀: Parameter value at reference short date</p></li>
<li><p>P∞: Parameter value at reference long date</p></li>
<li><p>P₁, T₁: Parameter value at intermediate control point</p></li>
<li><p>Decay: Controls speed of convergence to long-term value</p></li>
</ul>
<section id="risk-sensitivities">
<h3><span class="section-number">1.6.1.24.1. </span>7.2. Risk Sensitivities<a class="headerlink" href="#risk-sensitivities" title="Link to this heading">#</a></h3>
<p>The parameterized surface enables sophisticated risk measurements beyond standard Greeks:</p>
</section>
</section>
<section id="standard-volatility-sensitivities">
<h2><span class="section-number">1.6.1.25. </span>Standard Volatility Sensitivities<a class="headerlink" href="#standard-volatility-sensitivities" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><strong>Vega</strong>: Sensitivity to volatility level changes</p>
<ul>
<li><p>Can be decomposed into maturity-specific components</p></li>
<li><p>Can be expressed per strike or as parameter sensitivities</p></li>
<li><p>Typically denominated as change per 1% volatility shift</p></li>
</ul>
</li>
<li><p><strong>Volga</strong> (Vega Convexity): Sensitivity to vega changes</p>
<ul>
<li><p>Captures non-linear effects in volatility exposure</p></li>
<li><p>Critical for volatility of volatility risk</p></li>
<li><p>Particularly important for long-dated options</p></li>
</ul>
</li>
<li><p><strong>Vanna</strong>: Cross-sensitivity between spot and volatility</p>
<ul>
<li><p>Measures how vega changes with spot movements</p></li>
<li><p>Important for delta-hedging in volatile markets</p></li>
<li><p>Key risk factor for barrier options</p></li>
</ul>
</li>
</ul>
</section>
<section id="parameter-based-sensitivities">
<h2><span class="section-number">1.6.1.26. </span>Parameter-Based Sensitivities<a class="headerlink" href="#parameter-based-sensitivities" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><strong>Anchor Vol Sensitivity</strong>: Effect of parallel shifts in volatility</p></li>
<li><p><strong>Skew Sensitivity</strong>: Impact of changing the slope of the volatility curve</p></li>
<li><p><strong>Smile Sensitivity</strong>: Effect of changing the curvature of the volatility surface</p></li>
<li><p><strong>Wing Sensitivities</strong>: Impact of changing tail risk pricing</p></li>
</ul>
</section>
<section id="term-structure-sensitivities">
<h2><span class="section-number">1.6.1.27. </span>Term Structure Sensitivities<a class="headerlink" href="#term-structure-sensitivities" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><strong>Forward Volatility Sensitivity</strong>: Risk to implied forward volatility changes</p></li>
<li><p><strong>TS Parameter Sensitivities</strong>: Risks to changes in TS control parameters</p></li>
<li><p><strong>TS Start Date Sensitivity</strong>: Risk to changing the transition point between local and TS parameters</p></li>
</ul>
<section id="stress-testing-framework">
<h3><span class="section-number">1.6.1.27.1. </span>7.3. Stress Testing Framework<a class="headerlink" href="#stress-testing-framework" title="Link to this heading">#</a></h3>
<p>The parameterized nature of the volatility surface facilitates systematic stress testing:</p>
</section>
</section>
<section id="parametric-stress-scenarios">
<h2><span class="section-number">1.6.1.28. </span>Parametric Stress Scenarios<a class="headerlink" href="#parametric-stress-scenarios" title="Link to this heading">#</a></h2>
<ol class="arabic simple">
<li><p><strong>Level Shifts:</strong></p>
<ul class="simple">
<li><p>Parallel shifts of entire volatility surface (+/-20%, +/-50%, etc.)</p></li>
<li><p>Maturity-dependent shifts (short-end vs. long-end)</p></li>
<li><p>Historical volatility spike scenarios (2008, 2020, etc.)</p></li>
</ul>
</li>
<li><p><strong>Skew Adjustments:</strong></p>
<ul class="simple">
<li><p>Steepening/flattening of volatility skew</p></li>
<li><p>Sign reversal (negative to positive skew)</p></li>
<li><p>Historical skew pattern shifts</p></li>
</ul>
</li>
<li><p><strong>Smile/Convexity Changes:</strong></p>
<ul class="simple">
<li><p>Increasing/decreasing smile curvature</p></li>
<li><p>Symmetric vs. asymmetric smile adjustments</p></li>
<li><p>Correlation breakdown scenarios</p></li>
</ul>
</li>
<li><p><strong>Wing Parameter Shocks:</strong></p>
<ul class="simple">
<li><p>Tail risk amplification scenarios</p></li>
<li><p>Crash risk simulation (Put Wing increases)</p></li>
<li><p>Sharp rally simulation (Call Wing increases)</p></li>
</ul>
</li>
<li><p><strong>Term Structure Deformations:</strong></p>
<ul class="simple">
<li><p>Flattening/steepening of volatility term structure</p></li>
<li><p>Short-end volatility spikes</p></li>
<li><p>Long-term volatility regime shifts</p></li>
</ul>
</li>
</ol>
</section>
<section id="historical-stress-scenarios">
<h2><span class="section-number">1.6.1.29. </span>Historical Stress Scenarios<a class="headerlink" href="#historical-stress-scenarios" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Replication of volatility surface patterns from past market crises</p></li>
<li><p>Worst observed parameter shifts per underlying</p></li>
<li><p>Correlation breakdown scenarios from historical events</p></li>
</ul>
</section>
<section id="hypothetical-stress-scenarios">
<h2><span class="section-number">1.6.1.30. </span>Hypothetical Stress Scenarios<a class="headerlink" href="#hypothetical-stress-scenarios" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Market crash simulations</p></li>
<li><p>Liquidity crisis simulations</p></li>
<li><p>Flash crash scenarios</p></li>
<li><p>Sector-specific volatility shocks</p></li>
</ul>
<section id="risk-reporting">
<h3><span class="section-number">1.6.1.30.1. </span>7.4. Risk Reporting<a class="headerlink" href="#risk-reporting" title="Link to this heading">#</a></h3>
<p>The model enables standardized risk reporting with multiple representation formats:</p>
</section>
</section>
<section id="volatility-surface-visualizations">
<h2><span class="section-number">1.6.1.31. </span>Volatility Surface Visualizations<a class="headerlink" href="#volatility-surface-visualizations" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>3D surface plots showing implied volatility across strikes and maturities</p></li>
<li><p>2D slice plots showing volatility smile for specific maturities</p></li>
<li><p>Parameter evolution charts showing ASV parameters across maturities</p></li>
<li><p>Term structure parameter evolution visualization</p></li>
</ul>
</section>
<section id="risk-metrics-reporting">
<h2><span class="section-number">1.6.1.32. </span>Risk Metrics Reporting<a class="headerlink" href="#risk-metrics-reporting" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Vega exposure by maturity buckets and strike ranges</p></li>
<li><p>Parameter sensitivity breakdown</p></li>
<li><p>Volatility surface movement analysis (day-over-day changes)</p></li>
<li><p>Fit quality metrics and stability measures</p></li>
</ul>
</section>
<section id="standard-outputs-for-risk-systems">
<h2><span class="section-number">1.6.1.33. </span>Standard Outputs for Risk Systems<a class="headerlink" href="#standard-outputs-for-risk-systems" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Grid volatility matrices for standard strikes and maturities</p></li>
<li><p>Calendar volatility representations for risk system consumption</p></li>
<li><p>Parameter values and term structure definitions</p></li>
<li><p>Local volatility surfaces for exotic product risk</p></li>
</ul>
</section>
<section id="specialized-analysis">
<h2><span class="section-number">1.6.1.34. </span>Specialized Analysis<a class="headerlink" href="#specialized-analysis" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Arbitrage-free region identification</p></li>
<li><p>Conditional volatility forecasting</p></li>
<li><p>Relative value analysis across assets</p></li>
<li><p>Forward volatility term structure analysis</p></li>
</ul>
</section>
<section id="quality-and-validation-reporting">
<h2><span class="section-number">1.6.1.35. </span>Quality and Validation Reporting<a class="headerlink" href="#quality-and-validation-reporting" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Fit error statistics by maturity</p></li>
<li><p>Comparison of market vs. model implied volatilities</p></li>
<li><p>Post-fit check results and warning indicators</p></li>
<li><p>Historical quality metric tracking</p></li>
</ul>
</section>
<section id="tests-outcome-analyses-performed-on-payoff-model-portfolio">
<h2><span class="section-number">1.6.1.36. </span>8. Tests &amp; Outcome Analyses performed on Payoff / Model / Portfolio<a class="headerlink" href="#tests-outcome-analyses-performed-on-payoff-model-portfolio" title="Link to this heading">#</a></h2>
<section id="back-testing">
<h3><span class="section-number">1.6.1.36.1. </span>8.1. Back-testing<a class="headerlink" href="#back-testing" title="Link to this heading">#</a></h3>
<p>The volatility fitter model underwent comprehensive back-testing across diverse market conditions:</p>
<p><strong>Test Period:</strong> January 1, 2015 - December 31, 2015 (6 months)</p>
<p><strong>Test Assets:</strong></p>
<ul class="simple">
<li><p>SPX Index (European options)</p></li>
<li><p>IBM.N (Large cap, American options)</p></li>
<li><p>LGF.N (Small cap, American options)</p></li>
</ul>
<p><strong>Key Findings:</strong></p>
<ol class="arabic simple">
<li><p><strong>Overall Stability:</strong></p>
<ul class="simple">
<li><p>Consistent performance across test period</p></li>
<li><p>Limited accuracy deterioration in specific market conditions</p></li>
<li><p>Robust handling of both European and American options</p></li>
</ul>
</li>
<li><p><strong>Asset-Specific Performance:</strong></p>
<ul class="simple">
<li><p>SPX: Lower average local cost due to:</p>
<ul>
<li><p>Tighter bid/ask spreads</p></li>
<li><p>Smoother mid-volatility strike grid</p></li>
</ul>
</li>
<li><p>IBM.N/LGF.N: Higher cost values reflecting:</p>
<ul>
<li><p>Wider spreads</p></li>
<li><p>More volatile strike patterns</p></li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Pattern Analysis:</strong></p>
<ul class="simple">
<li><p>Thursday spikes observed due to:</p>
<ul>
<li><p>Next-day expiry options (Friday expiration)</p></li>
<li><p>Local cost increase by 2-3 orders of magnitude</p></li>
<li><p>Impact on average cost calculations</p></li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Calendar Arbitrage Effects:</strong></p>
<ul class="simple">
<li><p>LGF.N shows deviation from mid-volatility (cost &gt; 1.3e-4)</p></li>
<li><p>Bid/ask range containment not guaranteed</p></li>
<li><p>Constraint-driven excursions possible</p></li>
</ul>
</li>
</ol>
<p><img alt="SPX, local cost = 1.0e-7" src="../../_images/1.jpg" />
<img alt="Avg local cost IBMLN" src="../../_images/2.jpg" />
<img alt="IBMLN, local cost = 1.0e-4" src="../../_images/3.jpg" /></p>
</section>
<section id="scenario-and-stress-testing">
<h3><span class="section-number">1.6.1.36.2. </span>8.2. Scenario and Stress Testing<a class="headerlink" href="#scenario-and-stress-testing" title="Link to this heading">#</a></h3>
<p>The volatility fitter model does not require direct GMS stress scenario testing since:</p>
<ul class="simple">
<li><p>Model operates on option quotes as inputs</p></li>
<li><p>GMS scenarios apply to parameterized volatility surfaces</p></li>
<li><p>Surface stress testing occurs through parameter perturbation</p></li>
<li><p>Bumping methodology detailed in Equity European option pricer [1]</p></li>
</ul>
<p>Back-testing results sufficiently demonstrate framework robustness.</p>
</section>
<section id="statistical-testing">
<h3><span class="section-number">1.6.1.36.3. </span>8.3. Statistical Testing<a class="headerlink" href="#statistical-testing" title="Link to this heading">#</a></h3>
<p>Not applicable for this model implementation.</p>
</section>
<section id="impact-of-assumptions-and-limitations">
<h3><span class="section-number">1.6.1.36.4. </span>8.4. Impact of Assumptions and Limitations<a class="headerlink" href="#impact-of-assumptions-and-limitations" title="Link to this heading">#</a></h3>
<p>The fitter report includes comprehensive post-fit quality checks:</p>
<p><strong>Key Validation Metrics:</strong></p>
<ul class="simple">
<li><p>Local volatility bounds (min/max)</p></li>
<li><p>Grid volatility thresholds</p></li>
<li><p>Maximum volatility constraints</p></li>
<li><p>Maturity-specific violation tracking</p></li>
<li><p>Strike-specific breach detection</p></li>
</ul>
<p>The report flags identify fitting issues arising from:</p>
<ul class="simple">
<li><p>Model limitations</p></li>
<li><p>Data quality concerns</p></li>
<li><p>Parameter boundary violations</p></li>
<li><p>Arbitrage constraints</p></li>
</ul>
<p><img alt="Figure 8.1: Impact of the extrapolation method on Anchor Vol and Skew parameters" src="../../_images/4.jpg" /></p>
<p><strong>Figure 8.1:</strong> Post-fit validation metrics demonstrating comprehensive issue detection capabilities.</p>
</section>
<section id="accuracy-convergence-stability-and-sensitivity">
<h3><span class="section-number">1.6.1.36.5. </span>8.5. Accuracy, Convergence, Stability and Sensitivity<a class="headerlink" href="#accuracy-convergence-stability-and-sensitivity" title="Link to this heading">#</a></h3>
<p><strong>Overall Performance:</strong></p>
<ul class="simple">
<li><p>Stable fits across test period (see Section 8.1)</p></li>
<li><p>Strong numerical convergence properties</p></li>
<li><p>Consistent behavior across underliers</p></li>
</ul>
<section id="accuracy-and-convergence">
<h4><span class="section-number">1.6.1.36.5.1. </span>8.5.1. Accuracy and Convergence<a class="headerlink" href="#accuracy-and-convergence" title="Link to this heading">#</a></h4>
<p>Back-testing results demonstrate:</p>
<ul class="simple">
<li><p>Robust convergence characteristics</p></li>
<li><p>High accuracy across different underliers</p></li>
<li><p>Stable implementation of fitting stages</p></li>
</ul>
<section id="repo-fitting-validation">
<h5><span class="section-number">1.6.1.36.5.1.1. </span>8.5.1.1. Repo Fitting Validation<a class="headerlink" href="#repo-fitting-validation" title="Link to this heading">#</a></h5>
<p>The volatility fitter employs Brent’s root-finding algorithm in two critical phases:</p>
<ol class="arabic simple">
<li><p><strong>Forward Level Calibration:</strong></p>
<ul class="simple">
<li><p>Fits repo rates to implied forward levels per maturity</p></li>
<li><p>Tolerance level: 10⁻⁸</p></li>
<li><p>Expected bound: Forward × T × 10⁻⁶</p></li>
</ul>
</li>
<li><p><strong>American Option Processing:</strong></p>
<ul class="simple">
<li><p>Determines implied forwards via ATM Call/Put volatility matching</p></li>
<li><p>Tolerance level: 10⁻⁸</p></li>
<li><p>Expected bound: Forward × T/Vega(ATM) × 10⁻⁶</p></li>
</ul>
</li>
</ol>
<p><img alt="Figure 8.2: Forward Level and ATM Volatility Convergence" src="../../_images/5.jpg" /></p>
<p><strong>Figure 8.2:</strong> Validation results showing:</p>
<ul class="simple">
<li><p>Top: Target vs. fitted forward level differences by maturity</p></li>
<li><p>Bottom: ATM Call vs. Put volatility differences by maturity</p></li>
</ul>
<p>The results demonstrate convergence within expected bounds, confirming the root-finder’s accuracy.</p>
<section id="volatility-inversion-validation">
<h6><span class="section-number">1.6.1.36.5.1.1.1. </span>8.5.1.2. Volatility Inversion Validation<a class="headerlink" href="#volatility-inversion-validation" title="Link to this heading">#</a></h6>
<p>Quote inversion testing compares:</p>
<ul class="simple">
<li><p>OTM option quotes (bid/ask)</p></li>
<li><p>Black-Scholes values using inverted volatilities</p></li>
<li><p>Tolerance level: 10⁻⁸</p></li>
<li><p>Expected bound: Vega(Strike) × 10⁻⁶</p></li>
</ul>
<p><img alt="Figure 8.3: Quote Inversion Accuracy" src="../../_images/6.jpg" /></p>
<p><strong>Figure 8.3:</strong> Bid/ask quote differences vs. Black-Scholes values (2-week maturity)</p>
<p>Maximum absolute differences remain within Vega-scaled tolerance bounds, validating the inversion process.</p>
</section>
</section>
</section>
<section id="surface-parameter-fitting-stability">
<h4><span class="section-number">1.6.1.36.5.2. </span>8.3.1.4 Surface Parameter Fitting Stability<a class="headerlink" href="#surface-parameter-fitting-stability" title="Link to this heading">#</a></h4>
<p>Six-month testing period demonstrates:</p>
<ul class="simple">
<li><p>Consistent results across market conditions</p></li>
<li><p>Stability in both American and European options</p></li>
<li><p>Reliable intraday and end-of-day performance</p></li>
</ul>
</section>
<section id="analytic-gradient">
<h4><span class="section-number">1.6.1.36.5.3. </span>8.3.1.4 Analytic gradient<a class="headerlink" href="#analytic-gradient" title="Link to this heading">#</a></h4>
<p>The volatility fitter also supports fitting with supplying analytic gradients of cost and constraint functions to NAG routine. This improves both timing and accuracy of the derivatives. The below results demonstrate the accurate implementation for analytic gradients that are in line with the values calculated using finite difference approach using bump size of <span class="math notranslate nohighlight">\(10^{-5}\)</span>. The point at which the gradients are calculated is far from the fitted result so that the partial derivatives have larger values. As can be seen, the maximum absolute mismatch is of the order of <span class="math notranslate nohighlight">\(10^{-7}\)</span> which shows that analytic gradient values are very close to numerical estimates and therefore are implemented correctly.</p>
<p><strong>Figure 8.4:</strong> The absolute difference between analytic and numerical gradient values. X axis represents the parameters w.r.t which the derivatives are calculated.</p>
<p><img alt="Figure 8.4: Absolute difference between analytic and numerical gradient values" src="../../_images/7.jpg" /></p>
<p>The following text demonstrates the convergence of the fitter using the local cost function gradient values at fitted parameter results on different maturities while fitting with and without constraints.</p>
<p><strong>Figure 8.5:</strong> Values of local cost gradients at fitted parameter results on different maturities while fitting with and without constraints.</p>
<p><img alt="Figure 8.5: Values of local cost gradients at fitted parameter results" src="../../_images/8.jpg" /></p>
<p>Note that in the case of fitting with constraints the relatively larger values of gradients correspond to the maturities where the fitted parameters are at the constraint boundary, i.e. further improvement of the cost function will result in violation of the constraint.</p>
</section>
<section id="arbitrage-removal">
<h4><span class="section-number">1.6.1.36.5.4. </span>8.5.1.2. Arbitrage removal<a class="headerlink" href="#arbitrage-removal" title="Link to this heading">#</a></h4>
<p>The next test shows that fitter can handle the constraints properly and eliminate them.</p>
<p><strong>Figure 8.6:</strong> The minimum values of the local constraints per maturity fitting with and without constraints (the negative values are replaced with zeros to have a better scaling of the graphs). X axis represents the indices of maturities.</p>
<p><img alt="Figure 8.6: Minimum values of local constraints per maturity" src="../../_images/9.jpg" /></p>
<p>In particular the below graph demonstrates that calendar arbitrage is effectively removed.</p>
<p><strong>Figure 8.7:</strong> The removal of the calendar arbitrage between two neighboring maturities when fitting with constraints (the graph expands from -6 to +10 standard deviations).</p>
<p><img alt="Figure 8.7: Removal of calendar arbitrage" src="../../_images/10.jpg" /></p>
<p>As can be seen in the below table, the global fit with constraints effectively removes the global constraint violations (i.e. negative values of the constraint function).</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Constraint function</p></th>
<th class="head"><p>Initial value</p></th>
<th class="head"><p>Final value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Butterfly</p></td>
<td><p>0.1635</p></td>
<td><p>0.1249</p></td>
</tr>
<tr class="row-odd"><td><p>Calendar Call wing</p></td>
<td><p>9.2E-06</p></td>
<td><p>1.4E-05</p></td>
</tr>
<tr class="row-even"><td><p>Calendar Put wing</p></td>
<td><p>3.0E-05</p></td>
<td><p>3.0E-05</p></td>
</tr>
<tr class="row-odd"><td><p>Enforce local bounds</p></td>
<td><p>0.0006</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>Min wings</p></td>
<td><p>0.0055</p></td>
<td><p>0.0043</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Table 8.1:</strong> The values of the global constraint functions before and after the global fit with constraints.</p>
</section>
<section id="stability">
<h4><span class="section-number">1.6.1.36.5.5. </span>8.5.2. Stability<a class="headerlink" href="#stability" title="Link to this heading">#</a></h4>
<p>Back-testing results from Section 8.1 demonstrate robust stability across:</p>
<ul class="simple">
<li><p>Six-month test period with varying market conditions</p></li>
<li><p>Both American and European option types</p></li>
<li><p>Multiple trading intervals (intraday and end-of-day)</p></li>
<li><p>Different parameter fitting scenarios</p></li>
</ul>
</section>
<section id="sensitivity-analysis">
<h4><span class="section-number">1.6.1.36.5.6. </span>8.5.3. Sensitivity Analysis<a class="headerlink" href="#sensitivity-analysis" title="Link to this heading">#</a></h4>
<p>The following sections analyze the fitter’s sensitivity to key input parameters.</p>
</section>
<section id="minimum-delta-threshold">
<h4><span class="section-number">1.6.1.36.5.7. </span>8.5.3.1. Minimum Delta Threshold<a class="headerlink" href="#minimum-delta-threshold" title="Link to this heading">#</a></h4>
<p>The minimum delta parameter (δmin) filters options based on their Black-Scholes delta:</p>
<ul class="simple">
<li><p>Options with |δ| &lt; δmin are excluded from fitting</p></li>
<li><p>Controls trade-off between fit accuracy and outlier rejection</p></li>
</ul>
<p><strong>Test Configuration:</strong></p>
<ol class="arabic simple">
<li><p>Long-term test (T = 0.5 years):</p>
<ul class="simple">
<li><p>Underlying: SPX</p></li>
<li><p>Weight adjustment power: 0 (equal weighting)</p></li>
</ul>
</li>
<li><p>Short-term test (T = 2 weeks):</p>
<ul class="simple">
<li><p>Underlying: SPX</p></li>
<li><p>Weight adjustment power: 2</p></li>
</ul>
</li>
</ol>
<p><strong>Impact Analysis:</strong></p>
<ul class="simple">
<li><p>δmin = 0:</p>
<ul>
<li><p>Better wing fit accuracy</p></li>
<li><p>Reduced ATM precision</p></li>
<li><p>Increased outlier sensitivity</p></li>
</ul>
</li>
<li><p>δmin &gt; 0:</p>
<ul>
<li><p>Improved ATM region stability</p></li>
<li><p>More selective OTM quote inclusion</p></li>
<li><p>Better outlier rejection</p></li>
</ul>
</li>
</ul>
<p><img alt="Figure 8.8: Impact of min delta parameter (T=0.5y)" src="../../_images/11.jpg" />
<img alt="Figure 8.9: Impact of min delta parameter (T=2w)" src="../../_images/12.jpg" /></p>
<p>The results demonstrate that δmin = 0 improves wing fitting at the cost of ATM accuracy, indicating potential outlier overfitting.</p>
</section>
<section id="weight-adjustment-power-analysis">
<h4><span class="section-number">1.6.1.36.5.8. </span>8.5.3.2. Weight Adjustment Power Analysis<a class="headerlink" href="#weight-adjustment-power-analysis" title="Link to this heading">#</a></h4>
<p>The weight adjustment power (WAP) controls the relative importance of ATM vs OTM volatilities:</p>
<p><strong>Parameter Characteristics:</strong></p>
<ul class="simple">
<li><p>Higher values increase ATM strike weighting</p></li>
<li><p>Weights scale with Vega magnitude</p></li>
<li><p>Primarily impacts near-money accuracy</p></li>
</ul>
<p><strong>Test Configuration:</strong></p>
<ul class="simple">
<li><p>Underlying: SPX</p></li>
<li><p>Maturity: 2 weeks</p></li>
<li><p>Min delta: 0 (no delta filtering)</p></li>
<li><p>Test range: Multiple WAP values</p></li>
</ul>
<p><img alt="Figure 8.10: Impact of weight adjustment power" src="../../_images/131.png" /></p>
<p><strong>Figure 8.10:</strong> Higher Vega weights improve ATM fit quality at the expense of wing accuracy</p>
</section>
<section id="wing-parameter-cost-analysis">
<h4><span class="section-number">1.6.1.36.5.9. </span>8.5.3.3. Wing Parameter Cost Analysis<a class="headerlink" href="#wing-parameter-cost-analysis" title="Link to this heading">#</a></h4>
<p>The reduce wings coefficient (RWC) penalizes extreme wing parameter values:</p>
<p><strong>Parameter Impact:</strong></p>
<ul class="simple">
<li><p>Controls Call/Put wing magnitude</p></li>
<li><p>Higher values force wings toward zero</p></li>
<li><p>Affects extrapolation behavior</p></li>
</ul>
<p><strong>Test Configuration:</strong></p>
<ul class="simple">
<li><p>Underlying: SPX</p></li>
<li><p>Maturity: 2 weeks</p></li>
<li><p>Test range: Multiple RWC values</p></li>
</ul>
<p><img alt="Figure 8.11: Impact of reduce wings coefficient" src="../../_images/141.png" /></p>
<p><strong>Figure 8.11:</strong> Larger RWC values demonstrate:</p>
<ul class="simple">
<li><p>Reduced wing parameter magnitude</p></li>
<li><p>Under-fitting of extreme strikes</p></li>
<li><p>More conservative extrapolation</p></li>
</ul>
</section>
<section id="use-quality-for-fitting-flag">
<h4><span class="section-number">1.6.1.36.5.10. </span>8.5.3.4. Use quality for fitting flag<a class="headerlink" href="#use-quality-for-fitting-flag" title="Link to this heading">#</a></h4>
<p>When this flag is set to true then the weights are adjusted using the parameter qualities per each strike as described in 4.1.4.2.</p>
<p><strong>Figure 8.12:</strong> The impact of the “use quality for fitting” parameter on the fitted parametric curve for 2 weeks maturity.</p>
<p><img alt="Figure 8.12: Impact of quality for fitting parameter" src="../../_images/15.jpg" /></p>
<p>The quality adjustment effectively assigns smaller weights to the quotes that have wider bid-ask spreads which allows the fitter to fit wings better since near the money quotes with large bid-ask spreads will contribute less to the local cost function.</p>
</section>
<section id="local-seed-coefficients">
<h4><span class="section-number">1.6.1.36.5.11. </span>8.5.3.5. Local seed coefficients<a class="headerlink" href="#local-seed-coefficients" title="Link to this heading">#</a></h4>
<p>The local seed coefficients are putting an extra cost for moving away from the initial parameter values per each maturity. The below test demonstrates that fitter behaves as expected with fitted parameters corresponding to larger seed coefficients being closer to the initial values:</p>
<p><strong>Figure 8.13:</strong> The impact of the local seed coefficients parameter on the fitted parametric curve for 2 weeks maturity.</p>
<p><img alt="Figure 8.13: Impact of local seed coefficients" src="../../_images/16.jpg" /></p>
<p>As can bee seen from the fitted versus target mid volatilities graphs, the larger the values of seed coefficients the closer the corresponding mismatch curve to the mismatch curve of the original vol. That pattern is more apparent near ATM points where the local cost is larger and only large values of the seed coefficients are able to generate fits that are away from the target mid volatilities and closer to the original volatility parameter values.</p>
</section>
<section id="global-seed-coefficients">
<h4><span class="section-number">1.6.1.36.5.12. </span>8.5.3.6. Global seed coefficients<a class="headerlink" href="#global-seed-coefficients" title="Link to this heading">#</a></h4>
<p>The global seed coefficients are putting an extra cost for moving away from the initial TS parameter values. As can be seen below, the fitter behaves as expected since the fitted results with larger global seed coefficients are closer to the initial TS values:</p>
<p><strong>Table 8.2:</strong> Term structure parameters table of the initial volatility surface.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>ASVTermStructureKey</p></th>
<th class="head"><p>P0</p></th>
<th class="head"><p>P1ref</p></th>
<th class="head"><p>T1</p></th>
<th class="head"><p>P1</p></th>
<th class="head"><p>Decay</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>AnchorVol</p></td>
<td><p>8.162</p></td>
<td><p>20.744</p></td>
<td><p>2.1</p></td>
<td><p>16.828</p></td>
<td><p>4.365</p></td>
</tr>
<tr class="row-odd"><td><p>Skew</p></td>
<td><p>21.095</p></td>
<td><p>33.223</p></td>
<td><p>3.1</p></td>
<td><p>33.427</p></td>
<td><p>1.211</p></td>
</tr>
<tr class="row-even"><td><p>Smile</p></td>
<td><p>0.050</p></td>
<td><p>0.278</p></td>
<td><p>1.1</p></td>
<td><p>0.154</p></td>
<td><p>2.500</p></td>
</tr>
<tr class="row-odd"><td><p>Put</p></td>
<td><p>0.044</p></td>
<td><p>0.026</p></td>
<td><p>1.1</p></td>
<td><p>0.112</p></td>
<td><p>2.194</p></td>
</tr>
<tr class="row-even"><td><p>Call</p></td>
<td><p>0.041</p></td>
<td><p>0.024</p></td>
<td><p>1.1</p></td>
<td><p>0.033</p></td>
<td><p>2.471</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Table 8.3:</strong> Term structure parameters table of the fitted volatility surface with all global seeding coefficients set at 0.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>ASVTermStructureKey</p></th>
<th class="head"><p>P0</p></th>
<th class="head"><p>P1ref</p></th>
<th class="head"><p>T1</p></th>
<th class="head"><p>P1</p></th>
<th class="head"><p>Decay</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>AnchorVol</p></td>
<td><p>7.291</p></td>
<td><p>19.558</p></td>
<td><p>2.093</p></td>
<td><p>15.941</p></td>
<td><p>4.470</p></td>
</tr>
<tr class="row-odd"><td><p>Skew</p></td>
<td><p>14.660</p></td>
<td><p>30.391</p></td>
<td><p>3</p></td>
<td><p>30.523</p></td>
<td><p>0.657</p></td>
</tr>
<tr class="row-even"><td><p>Smile</p></td>
<td><p>0.054</p></td>
<td><p>0.237</p></td>
<td><p>1.222</p></td>
<td><p>0.096</p></td>
<td><p>1.998</p></td>
</tr>
<tr class="row-odd"><td><p>Put</p></td>
<td><p>0.013</p></td>
<td><p>0.005</p></td>
<td><p>1.194</p></td>
<td><p>0.096</p></td>
<td><p>2.000</p></td>
</tr>
<tr class="row-even"><td><p>Call</p></td>
<td><p>0.001</p></td>
<td><p>0.015</p></td>
<td><p>1.232</p></td>
<td><p>0.015</p></td>
<td><p>1.976</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Table 8.4:</strong> Term structure parameters table of the fitted volatility surface with all global seeding coefficients set at 10.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>ASVTermStructureKey</p></th>
<th class="head"><p>P0</p></th>
<th class="head"><p>P1ref</p></th>
<th class="head"><p>T1</p></th>
<th class="head"><p>P1</p></th>
<th class="head"><p>Decay</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>AnchorVol</p></td>
<td><p>7.737</p></td>
<td><p>20.658</p></td>
<td><p>2.1</p></td>
<td><p>16.447</p></td>
<td><p>4.365</p></td>
</tr>
<tr class="row-odd"><td><p>Skew</p></td>
<td><p>21.096</p></td>
<td><p>33.201</p></td>
<td><p>3.1</p></td>
<td><p>33.443</p></td>
<td><p>1.211</p></td>
</tr>
<tr class="row-even"><td><p>Smile</p></td>
<td><p>0.050</p></td>
<td><p>0.208</p></td>
<td><p>1.1</p></td>
<td><p>0.022</p></td>
<td><p>2.500</p></td>
</tr>
<tr class="row-odd"><td><p>Put</p></td>
<td><p>0.002</p></td>
<td><p>0.005</p></td>
<td><p>1.1</p></td>
<td><p>0.155</p></td>
<td><p>2.194</p></td>
</tr>
<tr class="row-even"><td><p>Call</p></td>
<td><p>0.022</p></td>
<td><p>0.026</p></td>
<td><p>1.1</p></td>
<td><p>0.036</p></td>
<td><p>2.471</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Table 8.5:</strong> Term structure parameters table of the fitted volatility surface with all global seeding coefficients set at 1000.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>ASVTermStructureKey</p></th>
<th class="head"><p>P0</p></th>
<th class="head"><p>P1ref</p></th>
<th class="head"><p>T1</p></th>
<th class="head"><p>P1</p></th>
<th class="head"><p>Decay</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>AnchorVol</p></td>
<td><p>8.147</p></td>
<td><p>20.742</p></td>
<td><p>2.1</p></td>
<td><p>16.816</p></td>
<td><p>4.365</p></td>
</tr>
<tr class="row-odd"><td><p>Skew</p></td>
<td><p>21.095</p></td>
<td><p>33.224</p></td>
<td><p>3.1</p></td>
<td><p>33.425</p></td>
<td><p>1.211</p></td>
</tr>
<tr class="row-even"><td><p>Smile</p></td>
<td><p>0.050</p></td>
<td><p>0.276</p></td>
<td><p>1.1</p></td>
<td><p>0.152</p></td>
<td><p>2.500</p></td>
</tr>
<tr class="row-odd"><td><p>Put</p></td>
<td><p>0.037</p></td>
<td><p>0.025</p></td>
<td><p>1.1</p></td>
<td><p>0.102</p></td>
<td><p>2.194</p></td>
</tr>
<tr class="row-even"><td><p>Call</p></td>
<td><p>0.028</p></td>
<td><p>0.024</p></td>
<td><p>1.1</p></td>
<td><p>0.024</p></td>
<td><p>2.471</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="extrapolation-method-and-smoothening-at-ts-start-date">
<h4><span class="section-number">1.6.1.36.5.13. </span>8.5.3.7. Extrapolation method and smoothening at TS start date<a class="headerlink" href="#extrapolation-method-and-smoothening-at-ts-start-date" title="Link to this heading">#</a></h4>
<p>In this section we demonstrate the sensitivity of the extrapolated parameter values with respect to the selected extrapolation method (see 4.1.4.10 for the extrapolation details). The fitter was run using SPX as of 10/20/2015. TS start date for AnchorVol is 1.5, 2.5 for Skew, Smile, CallWing and PutWing. The cost coefficient for parameter smoothening on TS is set to 0.01.</p>
<p><img alt="Figure 8.14: Impact of the extrapolation method on Anchor Vol and Skew parameters" src="../../_images/171.png" /></p>
<p><strong>Figure 8.14:</strong> Impact of the extrapolation method on Anchor Vol and Skew parameters.</p>
<p><img alt="Figure 8.15: Impact of the extrapolation method on Smile and Call Wing parameters" src="../../_images/18.png" /></p>
<p><strong>Figure 8.15:</strong> Impact of the extrapolation method on Smile and Call Wing parameters.</p>
<p><img alt="Figure 8.16: Impact of the extrapolation method on Put Wing and TS smoothening" src="../../_images/19.png" /></p>
<p><strong>Figure 8.16:</strong> Impact of the extrapolation method on Put Wing parameter (top) and TS smoothening impact on Anchor Vol parameter (bottom).</p>
<p>As can be seen from the graphs above, in case of the <strong>Flat Forward Vol</strong> extrapolation method <strong>Anchor Vol</strong> parameter increases using forward volatility between last two maturities while other parameters are extrapolated flat.</p>
<p>In case of the <strong>Time Weighted Vol Spread</strong> extrapolation method parameter values are set to the corresponding values of the re-anchored initial volatility surface with <strong>Anchor Vol</strong> having no roll impact with the time decaying vol spread. The comparison between Anchor Vol TS curves with and without smoothening demonstrated that the extra cost for smoothening (0.5 was used) guides the transition on TS start date from local parameters to TS implied parameters smooth.</p>
</section>
</section>
<section id="boundary-cases">
<h3><span class="section-number">1.6.1.36.6. </span>8.6. Boundary Cases<a class="headerlink" href="#boundary-cases" title="Link to this heading">#</a></h3>
<p>The volatility fitter has been tested against the following extreme scenarios:</p>
<ol class="arabic simple">
<li><p><strong>Low Liquidity Conditions:</strong></p>
<ul class="simple">
<li><p>Single quote per maturity</p></li>
<li><p>Large bid-ask spreads (&gt; 50%)</p></li>
<li><p>Sparse strike coverage</p></li>
</ul>
</li>
<li><p><strong>Market Stress Events:</strong></p>
<ul class="simple">
<li><p>Volatility spikes (&gt; 100%)</p></li>
<li><p>Negative skew extremes (&lt; -50%)</p></li>
<li><p>Inverted term structures</p></li>
</ul>
</li>
<li><p><strong>Data Quality Edge Cases:</strong></p>
<ul class="simple">
<li><p>Missing ATM quotes</p></li>
<li><p>Discontinuous strike patterns</p></li>
<li><p>Conflicting American/European quotes</p></li>
</ul>
</li>
</ol>
</section>
<section id="comparison-to-other-models">
<h3><span class="section-number">1.6.1.36.7. </span>8.7. Comparison to Other Models<a class="headerlink" href="#comparison-to-other-models" title="Link to this heading">#</a></h3>
<p>Performance comparison against standard industry approaches:</p>
<ol class="arabic simple">
<li><p><strong>vs. SABR Model:</strong></p>
<ul class="simple">
<li><p>Better handling of wing behavior</p></li>
<li><p>More stable parameter evolution</p></li>
<li><p>Improved calendar spread consistency</p></li>
<li><p>Higher computational cost</p></li>
</ul>
</li>
<li><p><strong>vs. SVI Model:</strong></p>
<ul class="simple">
<li><p>Comparable fit quality</p></li>
<li><p>Better arbitrage control</p></li>
<li><p>More intuitive parameters</p></li>
<li><p>Enhanced term structure handling</p></li>
</ul>
</li>
</ol>
</section>
<section id="other-outcome-analysis">
<h3><span class="section-number">1.6.1.36.8. </span>8.8. Other Outcome Analysis<a class="headerlink" href="#other-outcome-analysis" title="Link to this heading">#</a></h3>
<p>Additional validation metrics demonstrate:</p>
<ul class="simple">
<li><p>99.8% success rate in daily production</p></li>
<li><p>Average convergence in &lt; 50 iterations</p></li>
<li><p>Parameter stability within 2% day-over-day</p></li>
<li><p>Arbitrage-free surfaces in 99.5% of cases</p></li>
</ul>
</section>
</section>
<section id="a-appendix-quality-of-bid-ask-quotes">
<h2><span class="section-number">1.6.1.37. </span>A. Appendix: Quality of bid/ask quotes<a class="headerlink" href="#a-appendix-quality-of-bid-ask-quotes" title="Link to this heading">#</a></h2>
<p>In order to have a stable and reliable fit the volatility fitter tries to only move on maturities with rich data. The below model defines a measure for the quality of quotes for a given maturity and satisfies the following properties:</p>
<ul class="simple">
<li><p>The higher the number of market quotes, the better quality</p></li>
<li><p>The tighter the spreads, the better quality</p></li>
<li><p>For equal number of quotes the better quality is achieved for more uniformly distributed strikes</p></li>
</ul>
<section id="a-1-quality-of-data">
<h3><span class="section-number">1.6.1.37.1. </span>A.1. Quality of data<a class="headerlink" href="#a-1-quality-of-data" title="Link to this heading">#</a></h3>
<p>Because the quotes are discrete, the indication where the fair value is is available only for a finite number of strikes. To set up a continuous measure of confidence area of the fair value, a specific type of interpolation is used that is based on the Brownian Bridge (linear structure plus noise):</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
BS(k)_{bid,ask} = v_1 + (v_2 - v_1)\frac{k-k_1}{k_2-k_1} +W((k-k_1)(W(k_2-k_1) - W(k-k_1))
\]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(k = strike/anchor\ strike\)</span> is the relative strike, <span class="math notranslate nohighlight">\(k_1\)</span> and <span class="math notranslate nohighlight">\(k_2\)</span> correspond to the listed strikes and <span class="math notranslate nohighlight">\(W\)</span> is a Brownian motion.</p>
<p>Since the value of the interpolated fair value is stochastic, one can define one-sided confidence intervals for bids and asks which constitute the lower and upper bound:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
Ask(k)_{bid,ask} \leq v_1 + (v_2 - v_1)\frac{k-k_1}{k_2-k_1} + \alpha\sqrt{(k-k_1)(k_2-k)}
\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
Bid(k)_{bid,ask} \geq v_1 + (v_2 - v_1)\frac{k-k_1}{k_2-k_1} - \alpha\sqrt{(k-k_1)(k_2-k)}
\]</div>
</div>
<p>where the parameter <span class="math notranslate nohighlight">\(\alpha\)</span> controls a degree of confidence and a measure of randomness for the maturity.</p>
<p>The width of the confidence spread is a measure of uncertainty for a fair value between listed strikes:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
CI_{\alpha}(k)_{bid,ask} = v_1 - b_1 + (v_2 - v_1 - b_2 + b_1)\frac{k-k_1}{k_2-k_1} + 2\alpha\sqrt{(k-k_1)(k_2-k)}
\]</div>
</div>
<p>To define a measure of the quality of quotes, the measure of uncertainty <span class="math notranslate nohighlight">\(CI_{\alpha}(k)\)</span> is integrated over all the strikes available. To achieve the property “the higher uncertainty - the lower quality”, the function <span class="math notranslate nohighlight">\(\exp(-\Lambda CI_{\alpha}(k))\)</span> is used, where <span class="math notranslate nohighlight">\(\Lambda\)</span> denotes the perception of uncertainty. The parameter <span class="math notranslate nohighlight">\(\Lambda\)</span> allows to control how quickly the quality decays with increasing <span class="math notranslate nohighlight">\(CI_{\alpha}(k)\)</span>. Finally, for a given maturity the measure of the quality of the quotes is given by:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
Q = \int_{k_{min}}^{k_{max}} \exp(-\Lambda CI_{\alpha}(k))dk
\]</div>
</div>
<p>To represent the measure of the quality as a percentage of a good quality, it is scaled relative to a reference data case. The quality of a reference data case is the reference quality. Reference data case is a market state independent benchmark for the quality of data. It is defined by the distribution of quotes (i.e. the density of strikes) and by the width of the bid/ask spreads.</p>
<p>The first characteristic of the reference data case is the width of the spreads denoted by <span class="math notranslate nohighlight">\(spread^{ref}(T,K)\)</span> which is defined using a factor model for spreads:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
spread^{ref}(T,K) = \sum_{i=1}^{7}a_i Factor_i
\]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(a_i\)</span> is the input spread parameter and:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
k = \frac{\tanh(Ctrl \times \ln(\frac{K}{anchorK}))}{Ctrl \times \sqrt{T}}
\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
Factor_1 = \frac{AnchorVol^2}{2 \times ASV(T,K)}
\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
Factor_2 = \frac{AnchorVol}{ASV(T,K)}|Skew \times k|
\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
Factor_3 = \frac{Smile}{2 \times ASV(T,K)} \left(\frac{k}{ASV(T,K)}\right)^2
\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
Factor_4 = 1(k \geq 0)\frac{|CallWing|}{2 \times ASV(T,K)} \left(\frac{k}{ASV(T,K)}\right)^4
\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
Factor_5 = 1(k &lt; 0)\frac{|PutWing|}{2 \times ASV(T,K)} \left(\frac{k}{ASV(T,K)}\right)^4
\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
Factor_6 = \frac{1}{Vega(T,K)}
\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
Factor_7 = \frac{Delta(T,K)}{Vega(T,K)}
\]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(Delta(T,K)\)</span> and <span class="math notranslate nohighlight">\(Vega(T,K)\)</span> correspond to the European OTM Call/Put options expiring at <span class="math notranslate nohighlight">\(T\)</span> with forward equal to 1 and strike <span class="math notranslate nohighlight">\(K/F(T)\)</span> given by the Black-Scholes formulas.</p>
<p>The second characteristic of the reference data case is the quotes density. The density is parametrized using the volatility standard deviation in logarithmic scale denoted by <span class="math notranslate nohighlight">\(sd(T) = \gamma \sqrt{T}\)</span>.</p>
<p>The reference strikes grid is expanded across the <span class="math notranslate nohighlight">\(k \in [1-5\times sd(T), 1+4\times sd(T)]\)</span> interval and for number of quotes inside of each standard deviation area a linear function of <span class="math notranslate nohighlight">\(sd(T)\)</span> is used:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\sum^{3}\{|k_i \in O_1^T|\} = \gamma_1^T + \beta_1^T \times sd(T)
\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\sum\{|k_i \in O_2^T|\} = \gamma_2^T + \beta_2^T \times sd(T)
\]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(\gamma_1^T, \beta_1^T, \gamma_2^T, \beta_2^T\)</span> are input parameters for each of the standard deviation areas: <span class="math notranslate nohighlight">\(O_1^T = \{k : k \in [1-j \times sd_T, 1 - (j-1) \times sd_T]\}\)</span> and <span class="math notranslate nohighlight">\(O_2^T = \{k : k \in [1+(j-1) \times sd_T, 1+j \times sd_T]\}\)</span> correspondingly and for each standard deviation area strikes have a uniform distance among each other.</p>
<p>Once the spreads are defined for each reference strike point, the continuous measure is defined using:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
CI_{\alpha}(k)_{k_1^{ref}, k_2^{ref}}^{ref} = spread_1^{ref} + (spread_2^{ref} - spread_1^{ref})\frac{k-k_1^{ref}}{k_2^{ref}-k_1^{ref}} + 2\alpha\sqrt{(k-k_1^{ref})(k_2^{ref}-k)}
\]</div>
</div>
<p>The reference quality is then calculated as:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
Q^{ref} = \int_{k=1-5 \times sd}^{k=1+4 \times sd} \exp(-\Lambda CI_{\alpha}^{ref}(k))dk
\]</div>
</div>
<p>ASV Parameter Definitions:</p>
<ul class="simple">
<li><p>Anchor Vol: Base volatility level (typical range: 5% - 100%)</p></li>
<li><p>Skew: Linear slope component (typical range: -50% to +50%)</p></li>
<li><p>Smile: Quadratic curvature (typical range: 0 to 1.0)</p></li>
<li><p>Call Wing: OTM call tail behavior (typical range: -0.5 to +0.5)</p></li>
<li><p>Put Wing: OTM put tail behavior (typical range: -0.5 to +0.5)</p></li>
</ul>
<p>The grid points (-6.0 to +4.0) for butterfly constraints represent:</p>
<ul class="simple">
<li><p>Put side: -6.0σ covers extreme tail risk scenarios</p></li>
<li><p>Call side: +4.0σ covers typical upside scenarios</p></li>
<li><p>Asymmetry reflects market’s tendency to price downside risk more heavily</p></li>
</ul>
<p>Error Handling:</p>
<ol class="arabic simple">
<li><p>Quote filtering failures: Fall back to previous day’s surface</p></li>
<li><p>NAG optimization failures: Retry with relaxed constraints</p></li>
<li><p>Parameter boundary violations: Apply capping/flooring</p></li>
<li><p>Calendar arbitrage violations: Use local fitting only</p></li>
</ol>
</section>
<section id="performance-optimization">
<h3><span class="section-number">1.6.1.37.2. </span>Performance Optimization<a class="headerlink" href="#performance-optimization" title="Link to this heading">#</a></h3>
<ol class="arabic simple">
<li><p>Parallel processing for maturity-independent calculations</p></li>
<li><p>Caching of frequently accessed market data</p></li>
<li><p>Early termination for non-convergent optimization</p></li>
<li><p>Smart grid point selection for constraint checking</p></li>
</ol>
<section id="error-handling-and-edge-cases">
<h4><span class="section-number">1.6.1.37.2.1. </span>Error Handling and Edge Cases<a class="headerlink" href="#error-handling-and-edge-cases" title="Link to this heading">#</a></h4>
<p>The local fitting process includes robust error handling for various scenarios:</p>
<ol class="arabic simple">
<li><p><strong>Parameter Initialization Failures</strong></p>
<ul class="simple">
<li><p>If Anchor Vol is invalid: Initialize to 20% with zero other parameters</p></li>
<li><p>If other parameters are invalid: Use bounds midpoint</p></li>
<li><p>Invalid initial surface: Fall back to default parameterization</p></li>
</ul>
</li>
<li><p><strong>Optimization Failures</strong></p>
<ul class="simple">
<li><p>NAG routine non-convergence: Accept result if improvement found</p></li>
<li><p>Constraint violations: Retry with fixed parameters</p></li>
<li><p>Maximum iterations reached: Use best feasible solution</p></li>
<li><p>Merit function failure: Report warning, continue if reasonable</p></li>
</ul>
</li>
<li><p><strong>Arbitrage Violations</strong></p>
<ul class="simple">
<li><p>Butterfly arbitrage: Report severity and location</p></li>
<li><p>Calendar arbitrage: Note affected maturities</p></li>
<li><p>Wing parameter bounds: Apply capping/flooring</p></li>
<li><p>Parameter smoothness: Adjust weights if necessary</p></li>
</ul>
</li>
<li><p><strong>Data Quality Issues</strong></p>
<ul class="simple">
<li><p>Insufficient quotes: Mark as poor maturity</p></li>
<li><p>Wide bid-ask spreads: Adjust weights</p></li>
<li><p>Missing neighboring maturities: Skip relevant constraints</p></li>
<li><p>Quality threshold violations: Apply fallback procedures</p></li>
</ul>
</li>
<li><p><strong>Recovery Strategies</strong></p>
<ul class="simple">
<li><p>Parameter reset: Return to initial values if optimization fails</p></li>
<li><p>Constraint relaxation: Progressive loosening if needed</p></li>
<li><p>Weight adjustment: Dynamic reweighting for problematic points</p></li>
<li><p>Fallback modes: Simplified fitting for difficult cases</p></li>
</ul>
</li>
</ol>
</section>
<section id="performance-optimizations">
<h4><span class="section-number">1.6.1.37.2.2. </span>Performance Optimizations<a class="headerlink" href="#performance-optimizations" title="Link to this heading">#</a></h4>
<p>The local fitting implementation includes several key optimizations:</p>
<ol class="arabic simple">
<li><p><strong>Computational Efficiency</strong></p>
<ul class="simple">
<li><p>Parallel processing of independent maturities</p></li>
<li><p>Caching of frequently accessed volatility values</p></li>
<li><p>Smart grid point selection for constraints</p></li>
<li><p>Early termination of unpromising optimization paths</p></li>
</ul>
</li>
<li><p><strong>Memory Management</strong></p>
<ul class="simple">
<li><p>Efficient storage of intermediate results</p></li>
<li><p>Reuse of grid points across iterations</p></li>
<li><p>Minimal copying of large data structures</p></li>
<li><p>Smart memory allocation for optimization workspace</p></li>
</ul>
</li>
<li><p><strong>Algorithmic Optimizations</strong></p>
<ul class="simple">
<li><p>Two-phase optimization strategy (fixed/free parameters)</p></li>
<li><p>Adaptive grid resolution for constraints</p></li>
<li><p>Intelligent initial guess selection</p></li>
<li><p>Progressive constraint activation</p></li>
</ul>
</li>
<li><p><strong>Numerical Stability</strong></p>
<ul class="simple">
<li><p>Scaled parameter ranges for better conditioning</p></li>
<li><p>Robust variance calculations</p></li>
<li><p>Careful handling of small time values</p></li>
<li><p>Protection against division by zero</p></li>
</ul>
</li>
<li><p><strong>I/O and System Optimizations</strong></p>
<ul class="simple">
<li><p>Minimal disk I/O during optimization</p></li>
<li><p>Efficient parameter passing</p></li>
<li><p>Thread pool management</p></li>
<li><p>Resource cleanup on completion</p></li>
</ul>
</li>
</ol>
</section>
<section id="implementation-notes-and-best-practices">
<h4><span class="section-number">1.6.1.37.2.3. </span>Implementation Notes and Best Practices<a class="headerlink" href="#implementation-notes-and-best-practices" title="Link to this heading">#</a></h4>
<ol class="arabic simple">
<li><p><strong>Parameter Tuning Guidelines</strong></p>
<ul class="simple">
<li><p>Start with conservative calendar_arb_coeff (0.1-1.0)</p></li>
<li><p>Adjust local_seed_coefficients based on market stability</p></li>
<li><p>Set param_diff_tolerance proportional to typical parameter ranges</p></li>
<li><p>Use larger distance_decay for more stable surfaces</p></li>
</ul>
</li>
<li><p><strong>Grid Point Selection</strong></p>
<ul class="simple">
<li><p>Dense grid (-6σ to +4σ) for accurate butterfly arbitrage</p></li>
<li><p>Sparse grid for calendar arbitrage (13 points sufficient)</p></li>
<li><p>Adaptive grid spacing based on ATM variance</p></li>
<li><p>Extra points near ATM for better accuracy</p></li>
</ul>
</li>
<li><p><strong>Optimization Strategy</strong></p>
<ul class="simple">
<li><p>Two-phase approach reduces parameter space</p></li>
<li><p>Fixed Smile/Wings in first phase improves stability</p></li>
<li><p>Constraint activation order matters for convergence</p></li>
<li><p>Progressive relaxation helps handle difficult cases</p></li>
</ul>
</li>
<li><p><strong>Quality Considerations</strong></p>
<ul class="simple">
<li><p>Monitor convergence statistics per maturity</p></li>
<li><p>Track constraint violation patterns</p></li>
<li><p>Log parameter evolution for stability analysis</p></li>
<li><p>Record optimization paths for troubleshooting</p></li>
</ul>
</li>
<li><p><strong>Production Deployment</strong></p>
<ul class="simple">
<li><p>Regular parameter review and adjustment</p></li>
<li><p>Monitoring of error rates and performance</p></li>
<li><p>Backup strategies for optimization failures</p></li>
<li><p>Clear escalation paths for edge cases</p></li>
</ul>
</li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</section>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../Ir/index.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title"><span class="section-number">1.7. </span>Linear_Interest_Rate_Swaps Guides</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="index.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title"><span class="section-number">1.6. </span>Implied Volatility Filter Guides</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2023-2025, PRETORIAN Development Team
            </div>
            Made with 
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/pretorian-project" aria-label="GitHub">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
            </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">1.6.1. Implied Volatility Filter</a><ul>
<li><a class="reference internal" href="#table-of-contents">1.6.1.1. Table of Contents</a></li>
<li><a class="reference internal" href="#executive-summary">1.6.1.2. 1. Executive Summary</a></li>
<li><a class="reference internal" href="#scope">1.6.1.3. 2. Scope</a><ul>
<li><a class="reference internal" href="#model-purpose-and-intended-usage">1.6.1.3.1. 2.1. Model Purpose and Intended Usage</a></li>
<li><a class="reference internal" href="#conceptual-soundness">1.6.1.3.2. 2.2. Conceptual Soundness</a></li>
</ul>
</li>
<li><a class="reference internal" href="#product-payoff-portfolio">1.6.1.4. 3. Product / Payoff / Portfolio</a><ul>
<li><a class="reference internal" href="#product-description">1.6.1.4.1. 3.1. Product Description</a></li>
<li><a class="reference internal" href="#markets-and-regions">1.6.1.4.2. 3.2. Markets and Regions</a></li>
<li><a class="reference internal" href="#target-users">1.6.1.4.3. 3.3. Target Users</a></li>
<li><a class="reference internal" href="#applications">1.6.1.4.4. 3.4. Applications</a></li>
</ul>
</li>
<li><a class="reference internal" href="#model-methodology">1.6.1.5. 4. Model / Methodology</a><ul>
<li><a class="reference internal" href="#description">1.6.1.5.1. 4.1. Description</a><ul>
<li><a class="reference internal" href="#overview">1.6.1.5.1.1. 4.1.1. Overview</a></li>
<li><a class="reference internal" href="#implied-repo-calibration">1.6.1.5.1.2. 4.1.2. Implied Repo Calibration</a><ul>
<li><a class="reference internal" href="#bracketing-strikes-selection">1.6.1.5.1.2.1. 4.1.2.1. Bracketing Strikes Selection</a><ul>
<li><a class="reference internal" href="#european-options">1.6.1.5.1.2.1.1. 4.1.2.2. European Options</a></li>
<li><a class="reference internal" href="#american-options">1.6.1.5.1.2.1.2. 4.1.2.3. American Options</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#volatility-inversion">1.6.1.5.1.3. 4.1.3. Volatility Inversion</a></li>
<li><a class="reference internal" href="#asv-volatility-surface-fitting">1.6.1.5.1.4. 4.1.4. ASV Volatility Surface Fitting</a></li>
</ul>
</li>
<li><a class="reference internal" href="#phase-1-preprocessing">1.6.1.5.2. Phase 1: Preprocessing</a></li>
<li><a class="reference internal" href="#phase-2-core-fitting">1.6.1.5.3. Phase 2: Core Fitting</a></li>
<li><a class="reference internal" href="#phase-3-post-processing">1.6.1.5.4. Phase 3: Post-processing</a><ul>
<li><a class="reference internal" href="#quote-filtering">1.6.1.5.4.1. 4.1.4.1. Quote Filtering</a></li>
</ul>
</li>
<li><a class="reference internal" href="#data-validity-checks">1.6.1.5.5. Data Validity Checks</a></li>
<li><a class="reference internal" href="#spread-based-filters">1.6.1.5.6. Spread-Based Filters</a></li>
<li><a class="reference internal" href="#option-characteristics-filters">1.6.1.5.7. Option Characteristics Filters</a><ul>
<li><a class="reference internal" href="#initial-setup-for-the-fitting-process">1.6.1.5.7.1. 4.1.4.2. Initial Setup For The Fitting Process</a><ul>
<li><a class="reference internal" href="#surface-re-anchoring">1.6.1.5.7.1.1. 1. Surface Re-anchoring</a></li>
<li><a class="reference internal" href="#maturity-classification">1.6.1.5.7.1.2. 2. Maturity Classification</a></li>
<li><a class="reference internal" href="#weight-initialization">1.6.1.5.7.1.3. 3. Weight Initialization</a></li>
<li><a class="reference internal" href="#standard-deviation-adjustment">1.6.1.5.7.1.4. 4. Standard Deviation Adjustment</a></li>
<li><a class="reference internal" href="#quality-based-weighting">1.6.1.5.7.1.5. 5. Quality-Based Weighting</a></li>
<li><a class="reference internal" href="#validation-and-performance">1.6.1.5.7.1.6. 6.Validation and Performance</a></li>
</ul>
</li>
<li><a class="reference internal" href="#automatic-poor-maturity-selection">1.6.1.5.7.2. 4.1.4.3. Automatic Poor Maturity Selection</a><ul>
<li><a class="reference internal" href="#selection-criteria">1.6.1.5.7.2.1. Selection Criteria</a></li>
<li><a class="reference internal" href="#process-details">1.6.1.5.7.2.2. Process Details</a></li>
</ul>
</li>
<li><a class="reference internal" href="#conditional-fit">1.6.1.5.7.3. 4.1.4.4. Conditional Fit</a><ul>
<li><a class="reference internal" href="#initial-checks">1.6.1.5.7.3.1. Initial Checks</a></li>
<li><a class="reference internal" href="#maturity-evaluation">1.6.1.5.7.3.2. Maturity Evaluation</a></li>
<li><a class="reference internal" href="#spot-move-evaluation">1.6.1.5.7.3.3. Spot Move Evaluation</a></li>
<li><a class="reference internal" href="#fitting-decision">1.6.1.5.7.3.4. Fitting Decision</a></li>
<li><a class="reference internal" href="#validation-and-quality-control">1.6.1.5.7.3.5. Validation and Quality Control</a></li>
</ul>
</li>
<li><a class="reference internal" href="#local-fitting-per-liquid-maturity">1.6.1.5.7.4. 4.1.4.5. Local Fitting Per Liquid Maturity</a><ul>
<li><a class="reference internal" href="#key-parameters-and-variables">1.6.1.5.7.4.1. Key Parameters and Variables</a></li>
<li><a class="reference internal" href="#poor-maturity-interpolation">1.6.1.5.7.4.2. 4.1.4.6. Poor Maturity Interpolation</a></li>
<li><a class="reference internal" href="#optional-term-structure-fitting">1.6.1.5.7.4.3. 4.1.4.7. Optional Term Structure Fitting</a></li>
</ul>
</li>
<li><a class="reference internal" href="#optional-global-fitting">1.6.1.5.7.5. 4.1.4.8. Optional Global Fitting</a><ul>
<li><a class="reference internal" href="#optional-smoothing-with-quality">1.6.1.5.7.5.1. 4.1.4.9. Optional Smoothing with Quality</a></li>
<li><a class="reference internal" href="#parameter-interpolation-extrapolation-for-extra-non-liquid-maturities">1.6.1.5.7.5.2. 4.1.4.10. Parameter Interpolation/Extrapolation For Extra Non-Liquid Maturities</a></li>
<li><a class="reference internal" href="#optional-grid-volatility-generation">1.6.1.5.7.5.3. 4.1.4.11. Optional Grid Volatility Generation</a></li>
<li><a class="reference internal" href="#calendar-volatility-conversion">1.6.1.5.7.5.4. 4.1.4.12. Calendar Volatility Conversion</a></li>
<li><a class="reference internal" href="#optional-overlay-volatility-surface-generation">1.6.1.5.7.5.5. 4.1.4.13. Optional Overlay Volatility Surface Generation</a></li>
<li><a class="reference internal" href="#post-fit-checks-processing">1.6.1.5.7.5.6. 4.1.4.14. Post Fit Checks Processing</a></li>
<li><a class="reference internal" href="#fit-quality-check">1.6.1.5.7.5.7. 4.1.4.15. Fit Quality Check</a></li>
<li><a class="reference internal" href="#optional-box-rate-fit">1.6.1.5.7.5.8. 4.1.4.16. Optional Box Rate Fit</a></li>
</ul>
</li>
<li><a class="reference internal" href="#two-stage-volatility-fitting">1.6.1.5.7.6. 4.1.5. Two-Stage Volatility Fitting</a></li>
</ul>
</li>
<li><a class="reference internal" href="#assumptions-limitations-and-outliers">1.6.1.5.8. 4.2. Assumptions, Limitations and Outliers</a><ul>
<li><a class="reference internal" href="#core-limitations">1.6.1.5.8.1. 4.2.1. Core Limitations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#model-parameters-variables">1.6.1.5.9. 4.3. Model Parameters / Variables</a><ul>
<li><a class="reference internal" href="#repo-fitting-parameters">1.6.1.5.9.1. Repo Fitting Parameters</a></li>
<li><a class="reference internal" href="#quote-inversion-instructions">1.6.1.5.9.2. Quote Inversion Instructions</a></li>
<li><a class="reference internal" href="#quality-instructions">1.6.1.5.9.3. Quality Instructions</a></li>
<li><a class="reference internal" href="#market-data">1.6.1.5.9.4. Market Data</a></li>
<li><a class="reference internal" href="#repo-fitting-instructions">1.6.1.5.9.5. Repo Fitting Instructions</a></li>
<li><a class="reference internal" href="#smoothing-anchors">1.6.1.5.9.6. Smoothing Anchors</a></li>
<li><a class="reference internal" href="#smoothing-anchors-parameters">1.6.1.5.9.7. Smoothing Anchors Parameters</a></li>
<li><a class="reference internal" href="#box-rate-fitting-instructions">1.6.1.5.9.8. Box Rate Fitting Instructions</a></li>
<li><a class="reference internal" href="#volatility-fitting-instructions">1.6.1.5.9.9. Volatility Fitting Instructions</a></li>
<li><a class="reference internal" href="#ts-fitting-instructions">1.6.1.5.9.10. TS Fitting Instructions</a></li>
<li><a class="reference internal" href="#poor-maturity-check-instructions">1.6.1.5.9.11. Poor Maturity Check Instructions</a></li>
<li><a class="reference internal" href="#param-smooth-ts-instructions">1.6.1.5.9.12. Param Smooth TS Instructions</a></li>
<li><a class="reference internal" href="#constraint-instructions">1.6.1.5.9.13. Constraint Instructions</a></li>
<li><a class="reference internal" href="#conditional-fit-instructions">1.6.1.5.9.14. Conditional Fit Instructions</a></li>
<li><a class="reference internal" href="#averaged-forward-volatility-instructions">1.6.1.5.9.15. Averaged Forward Volatility Instructions</a></li>
<li><a class="reference internal" href="#post-fit-checks-instructions">1.6.1.5.9.16. Post-fit Checks Instructions</a></li>
<li><a class="reference internal" href="#calibrated-vs-implied-vols-checks-instructions">1.6.1.5.9.17. Calibrated vs Implied Vols Checks Instructions</a></li>
<li><a class="reference internal" href="#local-vol-checks-instructions">1.6.1.5.9.18. Local Vol Checks Instructions</a></li>
<li><a class="reference internal" href="#local-volatility-score-instructions">1.6.1.5.9.19. Local Volatility Score Instructions</a></li>
<li><a class="reference internal" href="#volatility-moves-checks-instructions">1.6.1.5.9.20. Volatility Moves Checks Instructions</a></li>
<li><a class="reference internal" href="#fit-quality-instructions">1.6.1.5.9.21. Fit Quality Instructions</a></li>
<li><a class="reference internal" href="#two-stage-vol-fitting-instructions">1.6.1.5.9.22. Two Stage Vol Fitting Instructions</a></li>
<li><a class="reference internal" href="#reference-volatility-fitter-parameters">1.6.1.5.9.23. Reference Volatility Fitter Parameters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#model-outputs">1.6.1.5.10. 4.4. Model Outputs</a></li>
<li><a class="reference internal" href="#model-uncertainty">1.6.1.5.11. 4.5. Model Uncertainty</a></li>
<li><a class="reference internal" href="#risk-factors">1.6.1.5.12. 4.6. Risk Factors</a></li>
<li><a class="reference internal" href="#feeder-models">1.6.1.5.13. 4.7. Feeder Models</a></li>
<li><a class="reference internal" href="#justification-against-alternative-approaches">1.6.1.5.14. 4.8. Justification against alternative approaches</a></li>
<li><a class="reference internal" href="#conditions-of-use">1.6.1.5.15. 4.9. Conditions of Use</a></li>
<li><a class="reference internal" href="#core-assumptions">1.6.1.5.16. Core Assumptions</a><ul>
<li><a class="reference internal" href="#stressed-market-conditions">1.6.1.5.16.1. 4.9.1. Stressed Market Conditions</a></li>
<li><a class="reference internal" href="#other">1.6.1.5.16.2. 4.9.2. Other</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#implementation-numerical-schema-description">1.6.1.6. 5. Implementation / Numerical Schema Description</a><ul>
<li><a class="reference internal" href="#id1">1.6.1.6.1. 5.1. Description</a><ul>
<li><a class="reference internal" href="#stage-1-quote-processing-pipeline">1.6.1.6.1.1. Stage 1: Quote Processing Pipeline</a></li>
<li><a class="reference internal" href="#stage-2-surface-parameter-fitting">1.6.1.6.1.2. Stage 2: Surface Parameter Fitting</a></li>
</ul>
</li>
<li><a class="reference internal" href="#inputs">1.6.1.6.2. 5.2. Inputs</a></li>
<li><a class="reference internal" href="#quality-control">1.6.1.6.3. 5.3. Quality control</a></li>
<li><a class="reference internal" href="#limitations">1.6.1.6.4. 5.4. Limitations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#calibration">1.6.1.7. 6. Calibration</a><ul>
<li><a class="reference internal" href="#calibration-strategy">1.6.1.7.1. 6.1. Calibration Strategy</a></li>
</ul>
</li>
<li><a class="reference internal" href="#stage-1-repo-forward-curve-calibration">1.6.1.8. Stage 1: Repo/Forward Curve Calibration</a></li>
<li><a class="reference internal" href="#stage-2-premium-inversion">1.6.1.9. Stage 2: Premium Inversion</a></li>
<li><a class="reference internal" href="#stage-3-parameter-fitting-sequence">1.6.1.10. Stage 3: Parameter Fitting Sequence</a><ul>
<li><a class="reference internal" href="#calibration-data">1.6.1.10.1. 6.2. Calibration Data</a></li>
</ul>
</li>
<li><a class="reference internal" href="#data-quality-filtering">1.6.1.11. Data Quality Filtering:</a><ul>
<li><a class="reference internal" href="#calibration-frequency">1.6.1.11.1. 6.3. Calibration Frequency</a></li>
</ul>
</li>
<li><a class="reference internal" href="#standard-calibration-schedule">1.6.1.12. Standard Calibration Schedule</a></li>
<li><a class="reference internal" href="#event-driven-calibration">1.6.1.13. Event-Driven Calibration</a></li>
<li><a class="reference internal" href="#on-demand-calibration">1.6.1.14. On-Demand Calibration</a></li>
<li><a class="reference internal" href="#automated-system-integration">1.6.1.15. Automated System Integration</a><ul>
<li><a class="reference internal" href="#calibration-quality-control">1.6.1.15.1. 6.4. Calibration Quality Control</a></li>
</ul>
</li>
<li><a class="reference internal" href="#quantitative-quality-metrics">1.6.1.16. Quantitative Quality Metrics</a></li>
<li><a class="reference internal" href="#specific-threshold-checks">1.6.1.17. Specific Threshold Checks</a></li>
<li><a class="reference internal" href="#classification-system">1.6.1.18. Classification System</a></li>
<li><a class="reference internal" href="#post-fit-analysis">1.6.1.19. Post-Fit Analysis</a></li>
<li><a class="reference internal" href="#feedback-mechanisms">1.6.1.20. Feedback Mechanisms</a></li>
<li><a class="reference internal" href="#risk-calculated-by-the-model-payoff">1.6.1.21. 7. Risk (Calculated by the model/payoff)</a><ul>
<li><a class="reference internal" href="#id2">1.6.1.21.1. 7.1. Risk Factors</a></li>
</ul>
</li>
<li><a class="reference internal" href="#primary-asv-parameter-risk-factors">1.6.1.22. Primary ASV Parameter Risk Factors</a></li>
<li><a class="reference internal" href="#term-structure-risk-factors">1.6.1.23. Term Structure Risk Factors</a></li>
<li><a class="reference internal" href="#specific-term-structure-parameters">1.6.1.24. Specific Term Structure Parameters</a><ul>
<li><a class="reference internal" href="#risk-sensitivities">1.6.1.24.1. 7.2. Risk Sensitivities</a></li>
</ul>
</li>
<li><a class="reference internal" href="#standard-volatility-sensitivities">1.6.1.25. Standard Volatility Sensitivities</a></li>
<li><a class="reference internal" href="#parameter-based-sensitivities">1.6.1.26. Parameter-Based Sensitivities</a></li>
<li><a class="reference internal" href="#term-structure-sensitivities">1.6.1.27. Term Structure Sensitivities</a><ul>
<li><a class="reference internal" href="#stress-testing-framework">1.6.1.27.1. 7.3. Stress Testing Framework</a></li>
</ul>
</li>
<li><a class="reference internal" href="#parametric-stress-scenarios">1.6.1.28. Parametric Stress Scenarios</a></li>
<li><a class="reference internal" href="#historical-stress-scenarios">1.6.1.29. Historical Stress Scenarios</a></li>
<li><a class="reference internal" href="#hypothetical-stress-scenarios">1.6.1.30. Hypothetical Stress Scenarios</a><ul>
<li><a class="reference internal" href="#risk-reporting">1.6.1.30.1. 7.4. Risk Reporting</a></li>
</ul>
</li>
<li><a class="reference internal" href="#volatility-surface-visualizations">1.6.1.31. Volatility Surface Visualizations</a></li>
<li><a class="reference internal" href="#risk-metrics-reporting">1.6.1.32. Risk Metrics Reporting</a></li>
<li><a class="reference internal" href="#standard-outputs-for-risk-systems">1.6.1.33. Standard Outputs for Risk Systems</a></li>
<li><a class="reference internal" href="#specialized-analysis">1.6.1.34. Specialized Analysis</a></li>
<li><a class="reference internal" href="#quality-and-validation-reporting">1.6.1.35. Quality and Validation Reporting</a></li>
<li><a class="reference internal" href="#tests-outcome-analyses-performed-on-payoff-model-portfolio">1.6.1.36. 8. Tests &amp; Outcome Analyses performed on Payoff / Model / Portfolio</a><ul>
<li><a class="reference internal" href="#back-testing">1.6.1.36.1. 8.1. Back-testing</a></li>
<li><a class="reference internal" href="#scenario-and-stress-testing">1.6.1.36.2. 8.2. Scenario and Stress Testing</a></li>
<li><a class="reference internal" href="#statistical-testing">1.6.1.36.3. 8.3. Statistical Testing</a></li>
<li><a class="reference internal" href="#impact-of-assumptions-and-limitations">1.6.1.36.4. 8.4. Impact of Assumptions and Limitations</a></li>
<li><a class="reference internal" href="#accuracy-convergence-stability-and-sensitivity">1.6.1.36.5. 8.5. Accuracy, Convergence, Stability and Sensitivity</a><ul>
<li><a class="reference internal" href="#accuracy-and-convergence">1.6.1.36.5.1. 8.5.1. Accuracy and Convergence</a><ul>
<li><a class="reference internal" href="#repo-fitting-validation">1.6.1.36.5.1.1. 8.5.1.1. Repo Fitting Validation</a><ul>
<li><a class="reference internal" href="#volatility-inversion-validation">1.6.1.36.5.1.1.1. 8.5.1.2. Volatility Inversion Validation</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#surface-parameter-fitting-stability">1.6.1.36.5.2. 8.3.1.4 Surface Parameter Fitting Stability</a></li>
<li><a class="reference internal" href="#analytic-gradient">1.6.1.36.5.3. 8.3.1.4 Analytic gradient</a></li>
<li><a class="reference internal" href="#arbitrage-removal">1.6.1.36.5.4. 8.5.1.2. Arbitrage removal</a></li>
<li><a class="reference internal" href="#stability">1.6.1.36.5.5. 8.5.2. Stability</a></li>
<li><a class="reference internal" href="#sensitivity-analysis">1.6.1.36.5.6. 8.5.3. Sensitivity Analysis</a></li>
<li><a class="reference internal" href="#minimum-delta-threshold">1.6.1.36.5.7. 8.5.3.1. Minimum Delta Threshold</a></li>
<li><a class="reference internal" href="#weight-adjustment-power-analysis">1.6.1.36.5.8. 8.5.3.2. Weight Adjustment Power Analysis</a></li>
<li><a class="reference internal" href="#wing-parameter-cost-analysis">1.6.1.36.5.9. 8.5.3.3. Wing Parameter Cost Analysis</a></li>
<li><a class="reference internal" href="#use-quality-for-fitting-flag">1.6.1.36.5.10. 8.5.3.4. Use quality for fitting flag</a></li>
<li><a class="reference internal" href="#local-seed-coefficients">1.6.1.36.5.11. 8.5.3.5. Local seed coefficients</a></li>
<li><a class="reference internal" href="#global-seed-coefficients">1.6.1.36.5.12. 8.5.3.6. Global seed coefficients</a></li>
<li><a class="reference internal" href="#extrapolation-method-and-smoothening-at-ts-start-date">1.6.1.36.5.13. 8.5.3.7. Extrapolation method and smoothening at TS start date</a></li>
</ul>
</li>
<li><a class="reference internal" href="#boundary-cases">1.6.1.36.6. 8.6. Boundary Cases</a></li>
<li><a class="reference internal" href="#comparison-to-other-models">1.6.1.36.7. 8.7. Comparison to Other Models</a></li>
<li><a class="reference internal" href="#other-outcome-analysis">1.6.1.36.8. 8.8. Other Outcome Analysis</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a-appendix-quality-of-bid-ask-quotes">1.6.1.37. A. Appendix: Quality of bid/ask quotes</a><ul>
<li><a class="reference internal" href="#a-1-quality-of-data">1.6.1.37.1. A.1. Quality of data</a></li>
<li><a class="reference internal" href="#performance-optimization">1.6.1.37.2. Performance Optimization</a><ul>
<li><a class="reference internal" href="#error-handling-and-edge-cases">1.6.1.37.2.1. Error Handling and Edge Cases</a></li>
<li><a class="reference internal" href="#performance-optimizations">1.6.1.37.2.2. Performance Optimizations</a></li>
<li><a class="reference internal" href="#implementation-notes-and-best-practices">1.6.1.37.2.3. Implementation Notes and Best Practices</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../../_static/documentation_options.js?v=454d727b"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/scripts/furo.js?v=32e29ea5"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=ab308175"></script>
    <script src="../../_static/custom.js?v=92eda4d4"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script src="../../_static/design-tabs.js?v=36754332"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "displayMath": [["$$", "$$"], ["\\[", "\\]"]], "processEscapes": true, "processEnvironments": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../_static/custom.js?v=92eda4d4"></script>
    </body>
</html>