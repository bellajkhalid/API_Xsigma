<!doctype html>
<html class="no-js" lang="en" data-content_root="../../../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="author" title="About these documents" href="../../../about.html" /><link rel="index" title="Index" href="../../../genindex.html" /><link rel="search" title="Search" href="../../../search.html" />

    <link rel="shortcut icon" href="../../../_static/xsigma_favicon.png"/><!-- Generated with Sphinx 7.2.6 and Furo 2023.09.10 -->
        <title>Risk Measures - PRETORIAN Documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom.css?v=8c702e86" />
    <link rel="stylesheet" type="text/css" href="../../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo-extensions.css?v=36a5483c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom.css?v=8c702e86" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --color-brand-primary: #0066cc;
  --color-brand-content: #0066cc;
  --color-admonition-background: #f8f9fa;
  --color-sidebar-background: #f8f9fa;
  --color-sidebar-background-border: #e9ecef;
  --font-stack: system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, sans-serif;
  --font-stack--monospace: SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-brand-primary: #4da6ff;
  --color-brand-content: #4da6ff;
  --color-admonition-background: #1e1e1e;
  --color-sidebar-background: #1e1e1e;
  --color-sidebar-background-border: #404040;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-brand-primary: #4da6ff;
  --color-brand-content: #4da6ff;
  --color-admonition-background: #1e1e1e;
  --color-sidebar-background: #1e1e1e;
  --color-sidebar-background-border: #404040;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../../index.html"><div class="brand">PRETORIAN Documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../../../_static/Logo.ico" alt="Logo"/>
  </div>
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../../../_static/../../Logo.ico" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="../../../_static/../../Logo.ico" alt="Dark Logo"/>
  </div>
  
  <span class="sidebar-brand-text">PRETORIAN Documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../about.html">About</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../index.html">1. Market</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of 1. Market</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../ASV/index.html">1.1. Analytical Sigma Volatility (ASV)</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of 1.1. Analytical Sigma Volatility (ASV)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/executive_summary.html">1.1.1.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/scope.html">1.1.1.2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/product_and_portfolio.html">1.1.1.3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/model_methodology.html">1.1.1.4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/implementation.html">1.1.1.5. Implementation and Numerical Schema</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/calibration.html">1.1.1.6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/risk_analysis.html">1.1.1.7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/testing_and_validation.html">1.1.1.8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/general_limitations.html">1.1.1.9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/model_monitoring.html">1.1.1.10. Model Monitoring and KPIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/user_guide.html">1.1.1.11. User Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/references.html">1.1.1.12. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/README.html">1.1.1.13. Analytical Sigma Volatility (ASV) Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/executive_summary.html">1.1.1.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/scope.html">1.1.1.2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/product_and_portfolio.html">1.1.1.3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/model_methodology.html">1.1.1.4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/implementation.html">1.1.1.5. Implementation and Numerical Schema</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/calibration.html">1.1.1.6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/risk_analysis.html">1.1.1.7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/testing_and_validation.html">1.1.1.8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/general_limitations.html">1.1.1.9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/model_monitoring.html">1.1.1.10. Model Monitoring and KPIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/user_guide.html">1.1.1.11. User Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/references.html">1.1.1.12. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/README.html">1.1.1.13. Analytical Sigma Volatility (ASV) Documentation</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../Curve%20Construction/index.html">1.3. Curve Construction and Risk Framework (New Curve Framework)</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of 1.3. Curve Construction and Risk Framework (New Curve Framework)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/scope.html">2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/implementation.html">5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/calibration.html">6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/model_monitoring.html">10. Model Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/development_feedback.html">11. Development Feedback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/references.html">12. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/README.html">1.3.1.13. Curve Construction and Risk Framework Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/scope.html">2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/implementation.html">5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/calibration.html">6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/model_monitoring.html">10. Model Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/development_feedback.html">11. Development Feedback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/references.html">12. References</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/index.html">1.2. FX Analytic Volatility Surfaces</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of 1.2. FX Analytic Volatility Surfaces</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/executive_summary.html">1.2.3.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/scope.html">1.2.3.2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/product_payoff_portfolio.html">1.2.3.3. Product / Payoff / Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/model_smile_models.html">1.2.3.4. Smile Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/model_atm_time_models.html">1.2.3.5. ATM Time Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/model_wing_time_models.html">1.2.3.6. Wing Time Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/implementation_numerical_schema.html">1.2.3.7. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/calibration.html">1.2.3.8. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/risk_bumping_methodology.html">1.2.3.9. Risk Bumping Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/risk_inputs_limitations.html">1.2.3.10. Risk Inputs &amp; Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/testing_plan_implementation.html">1.2.3.11. Testing Plan &amp; Implementation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/testing_stress_scenarios.html">1.2.3.12. Stress Testing &amp; Scenarios</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/testing_accuracy_stability.html">1.2.3.13. Accuracy &amp; Stability Testing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/general_limitations.html">1.2.3.14. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/model_monitoring_kpis.html">1.2.3.15. Model Monitoring &amp; KPIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/development_feedback_summary.html">1.2.3.16. Development Feedback Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/references.html">1.2.3.17. References</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../Implied%20Volatility%20Filter/index.html">1.3. Implied Volatility Filter</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of 1.3. Implied Volatility Filter</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/executive_summary.html">1.3.1.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/scope.html">1.3.1.2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/product_payoff_portfolio.html">1.3.1.3. Product / Payoff / Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/model_methodology.html">1.3.1.4. Model / Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/implementation_numerical_schema.html">1.3.1.5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/calibration.html">1.3.1.6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/risk_factors.html">1.3.1.7. Risk (Calculated by the model/payoff)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/testing_and_validation.html">1.3.1.8. Tests &amp; Outcome Analyses performed on Payoff / Model / Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/appendix.html">1.3.1.9. Appendix: Quality of bid/ask quotes</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../Ir/index.html">1.4. Linear Interest Rate Swaps</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of 1.4. Linear Interest Rate Swaps</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/executive_summary.html">1.4.1.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/scope.html">1.4.1.2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/product_payoff_portfolio.html">1.4.1.3. Product / Payoff / Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/model_methodology.html">1.4.1.4. Model / Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/implementation_numerical_schema.html">1.4.1.5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/calibration.html">1.4.1.6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/risk_factors.html">1.4.1.7. Risk (Calculated by the model/payoff)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/testing_and_validation.html">1.4.1.8. Tests &amp; Outcome Analyses performed on Payoff / Model / Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/model_monitoring_kpis.html">1.4.1.9. Model Monitoring – KPIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/references.html">1.4.1.10. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/applicable_policy_standards.html">1.4.1.11. Applicable Policy Standards</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../index.html">1.5. LSV Guides</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of 1.5. LSV Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../LSV.html">1.5.1. LSV</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of 1.5.1. LSV</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../FX%20LSV%20Markov%20Switching%20%20Monte%20Carlo/FX_LSV_Markov_Switching_Monte_Carlo.html">1.5.1.1. FX LSV Markov Switching : Monte Carlo</a></li>
<li class="toctree-l4"><a class="reference internal" href="FX_LSV_Markov_Switching_PDE.html">1.5.1.2. FX LSV Markov Switching : PDE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Local%20Volatility%20PDE%20and%20MC/Local_Volatility_PDE_and_MC.html">1.5.1.3. Local Volatility: PDE and MC</a></li>
<li class="toctree-l4"><a class="reference internal" href="../LSV%20Markov%20Switching%20%20Monte%20Carlo/LSV_Markov_Switching_Monte_Carlo.html">1.5.1.4. LSV Markov Switching : Monte Carlo</a></li>
<li class="toctree-l4"><a class="reference internal" href="../LSV%20Markov%20Switching%20%20PDE/LSV_Markov_Switching_PDE.html">1.5.1.5. LSV Markov Switching : PDE</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../SABR/index.html">1.16. Interest Rate Volatility Model GSABR</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of 1.16. Interest Rate Volatility Model GSABR</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/scope.html">2. Scope and Use</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/implementation.html">5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/calibration.html">6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/model_monitoring.html">10. Model Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/market_data_integration.html">11. Market Data Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/performance_benchmarking.html">12. Performance Benchmarking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/troubleshooting_guide.html">13. Troubleshooting Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/development_feedback.html">14. Development Feedback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/references.html">15. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/scope.html">2. Scope and Use</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/implementation.html">5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/calibration.html">6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/model_monitoring.html">10. Model Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/market_data_integration.html">11. Market Data Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/performance_benchmarking.html">12. Performance Benchmarking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/troubleshooting_guide.html">13. Troubleshooting Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/development_feedback.html">14. Development Feedback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/references.html">15. References</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../getting_started/index.html">Getting Started</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of Getting Started</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../learning.html">Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../supported_data_formats.html">Supported Data Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../supported_hardware.html">Supported Hardware</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../modules/index.html">Modules</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of Modules</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../modules/xsigma-modules/Wrapping/PythonCore/README.html">Python Wrapper Core Classes</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../build_instructions/index.html">Building</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle navigation of Building</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../build_instructions/build_settings.html">Build Settings</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../api/index.html">API</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle navigation of API</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../api/cpp.html">1.1. C++</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api/python.html">1.2. Python</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle navigation of 1.2. Python</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle navigation of xsigmamodules</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.common.html">1.2.1.1.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.common</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.1. xsigmamodules.common</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.common.helper.html">1.2.1.1.1.1.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.common.helper</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.common.instrument.html">1.2.1.1.1.1.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.common.instrument</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.market.html">1.2.1.1.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.market</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.2. xsigmamodules.market</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.market.market_data.html">1.2.1.1.1.2.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.market.market_data</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.market.object_factory.html">1.2.1.1.1.2.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.market.object_factory</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.simulation.html">1.2.1.1.1.3. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.simulation</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.3. xsigmamodules.simulation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.simulation.simulation.html">1.2.1.1.1.3.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.simulation.simulation</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.test.html">1.2.1.1.1.4. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.test</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.4. xsigmamodules.test</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.test.BlackBox.html">1.2.1.1.1.4.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.test.BlackBox</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.test.Testing.html">1.2.1.1.1.4.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.test.Testing</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.util.html">1.2.1.1.1.5. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.5. xsigmamodules.util</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.util.misc.html">1.2.1.1.1.5.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.misc</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.util.numpy_support.html">1.2.1.1.1.5.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.numpy_support</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.util.object_converter.html">1.2.1.1.1.5.1.3. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.object_converter</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.util.xsigmaConstants.html">1.2.1.1.1.5.1.4. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.xsigmaConstants</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.util.xsigmaMethodParser.html">1.2.1.1.1.5.1.5. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.xsigmaMethodParser</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.xlwing.html">1.2.1.1.1.6. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.xlwing</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" role="switch" type="checkbox"/><label for="toctree-checkbox-21"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.6. xsigmamodules.xlwing</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.xlwing.hartman_watson_template.html">1.2.1.1.1.6.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.xlwing.hartman_watson_template</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.xlwing.sabr_template.html">1.2.1.1.1.6.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.xlwing.sabr_template</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.generate_pyi.html">1.2.1.1.2.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.generate_pyi</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api/cmake/cmake-modules.html">1.3. CMake</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" role="switch" type="checkbox"/><label for="toctree-checkbox-22"><div class="visually-hidden">Toggle navigation of 1.3. CMake</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../api/cmake/ModuleSystem.html">1.3.1. Module System</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/cmake/xsigmaModule.html">1.3.2. xsigmaModule</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/cmake/xsigmaModuleTesting.html">1.3.3. xsigmaModuleTesting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/cmake/xsigmaModuleWrapPython.html">1.3.4. xsigmaModuleWrapPython</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/cmake/xsigmaModuleWrapJava.html">1.3.5. xsigmaModuleWrapJava</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/cmake/xsigmaModuleJSON.html">1.3.6. xsigmaModuleJSON</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/cmake/xsigmaModuleGraphviz.html">1.3.7. xsigmaModuleGraphviz</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../advanced/index.html">Advanced Topics</a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" role="switch" type="checkbox"/><label for="toctree-checkbox-23"><div class="visually-hidden">Toggle navigation of Advanced Topics</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/available_python_wheels.html">Additional Python Wheels</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/spdx_and_sbom.html">SPDX &amp; SBOM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/build_python_wheels.html">Building Python Wheels</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/build_wasm_emscripten.html">Building using emscripten for WebAssembly</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/build_for_mobile.html">Cross-compiling for Mobile devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/build_documentation.html">Building documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/marshalling_hints.html">Marshalling Hints</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/object_manager.html">Object manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/object_serialization.html">Auto serialization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/PythonWrappers.html">Python Wrappers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/runtime_settings.html">Runtime settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/WrappingTools.html">Wrapping Tools</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../advanced/migration_guides/index.html">Migration Guides</a><input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" role="switch" type="checkbox"/><label for="toctree-checkbox-24"><div class="visually-hidden">Toggle navigation of Migration Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../advanced/migration_guides/ModuleMigration.html">Module Migration from XSIGMA 8.2 to 9+</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../design_documents/index.html">Design Documents</a><input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" role="switch" type="checkbox"/><label for="toctree-checkbox-25"><div class="visually-hidden">Toggle navigation of Design Documents</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../design_documents/XSIGMAFileFormats.html">XSIGMA File Formats</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../design_documents/smptools.html">Parallel Processing with XSIGMA’s SMP Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../design_documents/data_assemply.html">Data Assembly</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../developers_guide/index.html">Developer’s Guide</a><input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" role="switch" type="checkbox"/><label for="toctree-checkbox-26"><div class="visually-hidden">Toggle navigation of Developer’s Guide</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../developers_guide/git/develop.html">Develop</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../developers_guide/testing.html">Regression Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../developers_guide/git/test.html">Adding Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../developers_guide/git/dashboard.html">Dashboard Scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../developers_guide/git/thirdparty.html">Imported Third Party Projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../developers_guide/git/thirdparty-projects.html">Imported Third Party Projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../developers_guide/git/deprecation.html">Deprecation Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../developers_guide/release_process.html">Release Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../developers_guide/coding_conventions.html">Coding Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../developers_guide/about_this_documentation.html">About this documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../resources.html">Resources</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../release_details/index.html">Release Details</a><input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" role="switch" type="checkbox"/><label for="toctree-checkbox-27"><div class="visually-hidden">Toggle navigation of Release Details</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../getting_started/index.html">Getting Started</a><input class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" role="switch" type="checkbox"/><label for="toctree-checkbox-28"><div class="visually-hidden">Toggle navigation of Getting Started</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Market Models</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../index.html">1. Market Models Overview</a><input class="toctree-checkbox" id="toctree-checkbox-29" name="toctree-checkbox-29" role="switch" type="checkbox"/><label for="toctree-checkbox-29"><div class="visually-hidden">Toggle navigation of 1. Market Models Overview</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../ASV/index.html">1.1. Analytical Sigma Volatility (ASV)</a><input class="toctree-checkbox" id="toctree-checkbox-30" name="toctree-checkbox-30" role="switch" type="checkbox"/><label for="toctree-checkbox-30"><div class="visually-hidden">Toggle navigation of 1.1. Analytical Sigma Volatility (ASV)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/executive_summary.html">1.1.1.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/scope.html">1.1.1.2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/product_and_portfolio.html">1.1.1.3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/model_methodology.html">1.1.1.4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/implementation.html">1.1.1.5. Implementation and Numerical Schema</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/calibration.html">1.1.1.6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/risk_analysis.html">1.1.1.7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/testing_and_validation.html">1.1.1.8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/general_limitations.html">1.1.1.9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/model_monitoring.html">1.1.1.10. Model Monitoring and KPIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/user_guide.html">1.1.1.11. User Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/references.html">1.1.1.12. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/README.html">1.1.1.13. Analytical Sigma Volatility (ASV) Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/executive_summary.html">1.1.1.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/scope.html">1.1.1.2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/product_and_portfolio.html">1.1.1.3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/model_methodology.html">1.1.1.4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/implementation.html">1.1.1.5. Implementation and Numerical Schema</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/calibration.html">1.1.1.6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/risk_analysis.html">1.1.1.7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/testing_and_validation.html">1.1.1.8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/general_limitations.html">1.1.1.9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/model_monitoring.html">1.1.1.10. Model Monitoring and KPIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/user_guide.html">1.1.1.11. User Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/references.html">1.1.1.12. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/README.html">1.1.1.13. Analytical Sigma Volatility (ASV) Documentation</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../Curve%20Construction/index.html">1.3. Curve Construction and Risk Framework (New Curve Framework)</a><input class="toctree-checkbox" id="toctree-checkbox-31" name="toctree-checkbox-31" role="switch" type="checkbox"/><label for="toctree-checkbox-31"><div class="visually-hidden">Toggle navigation of 1.3. Curve Construction and Risk Framework (New Curve Framework)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/scope.html">2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/implementation.html">5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/calibration.html">6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/model_monitoring.html">10. Model Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/development_feedback.html">11. Development Feedback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/references.html">12. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/README.html">1.3.1.13. Curve Construction and Risk Framework Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/scope.html">2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/implementation.html">5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/calibration.html">6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/model_monitoring.html">10. Model Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/development_feedback.html">11. Development Feedback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/references.html">12. References</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/index.html">1.2. FX Analytic Volatility Surfaces</a><input class="toctree-checkbox" id="toctree-checkbox-32" name="toctree-checkbox-32" role="switch" type="checkbox"/><label for="toctree-checkbox-32"><div class="visually-hidden">Toggle navigation of 1.2. FX Analytic Volatility Surfaces</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/executive_summary.html">1.2.3.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/scope.html">1.2.3.2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/product_payoff_portfolio.html">1.2.3.3. Product / Payoff / Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/model_smile_models.html">1.2.3.4. Smile Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/model_atm_time_models.html">1.2.3.5. ATM Time Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/model_wing_time_models.html">1.2.3.6. Wing Time Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/implementation_numerical_schema.html">1.2.3.7. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/calibration.html">1.2.3.8. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/risk_bumping_methodology.html">1.2.3.9. Risk Bumping Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/risk_inputs_limitations.html">1.2.3.10. Risk Inputs &amp; Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/testing_plan_implementation.html">1.2.3.11. Testing Plan &amp; Implementation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/testing_stress_scenarios.html">1.2.3.12. Stress Testing &amp; Scenarios</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/testing_accuracy_stability.html">1.2.3.13. Accuracy &amp; Stability Testing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/general_limitations.html">1.2.3.14. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/model_monitoring_kpis.html">1.2.3.15. Model Monitoring &amp; KPIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/development_feedback_summary.html">1.2.3.16. Development Feedback Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/references.html">1.2.3.17. References</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../Implied%20Volatility%20Filter/index.html">1.3. Implied Volatility Filter</a><input class="toctree-checkbox" id="toctree-checkbox-33" name="toctree-checkbox-33" role="switch" type="checkbox"/><label for="toctree-checkbox-33"><div class="visually-hidden">Toggle navigation of 1.3. Implied Volatility Filter</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/executive_summary.html">1.3.1.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/scope.html">1.3.1.2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/product_payoff_portfolio.html">1.3.1.3. Product / Payoff / Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/model_methodology.html">1.3.1.4. Model / Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/implementation_numerical_schema.html">1.3.1.5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/calibration.html">1.3.1.6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/risk_factors.html">1.3.1.7. Risk (Calculated by the model/payoff)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/testing_and_validation.html">1.3.1.8. Tests &amp; Outcome Analyses performed on Payoff / Model / Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/appendix.html">1.3.1.9. Appendix: Quality of bid/ask quotes</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../Ir/index.html">1.4. Linear Interest Rate Swaps</a><input class="toctree-checkbox" id="toctree-checkbox-34" name="toctree-checkbox-34" role="switch" type="checkbox"/><label for="toctree-checkbox-34"><div class="visually-hidden">Toggle navigation of 1.4. Linear Interest Rate Swaps</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/executive_summary.html">1.4.1.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/scope.html">1.4.1.2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/product_payoff_portfolio.html">1.4.1.3. Product / Payoff / Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/model_methodology.html">1.4.1.4. Model / Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/implementation_numerical_schema.html">1.4.1.5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/calibration.html">1.4.1.6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/risk_factors.html">1.4.1.7. Risk (Calculated by the model/payoff)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/testing_and_validation.html">1.4.1.8. Tests &amp; Outcome Analyses performed on Payoff / Model / Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/model_monitoring_kpis.html">1.4.1.9. Model Monitoring – KPIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/references.html">1.4.1.10. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/applicable_policy_standards.html">1.4.1.11. Applicable Policy Standards</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../index.html">1.5. LSV Guides</a><input class="toctree-checkbox" id="toctree-checkbox-35" name="toctree-checkbox-35" role="switch" type="checkbox"/><label for="toctree-checkbox-35"><div class="visually-hidden">Toggle navigation of 1.5. LSV Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../LSV.html">1.5.1. LSV</a><input class="toctree-checkbox" id="toctree-checkbox-36" name="toctree-checkbox-36" role="switch" type="checkbox"/><label for="toctree-checkbox-36"><div class="visually-hidden">Toggle navigation of 1.5.1. LSV</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../FX%20LSV%20Markov%20Switching%20%20Monte%20Carlo/FX_LSV_Markov_Switching_Monte_Carlo.html">1.5.1.1. FX LSV Markov Switching : Monte Carlo</a></li>
<li class="toctree-l4"><a class="reference internal" href="FX_LSV_Markov_Switching_PDE.html">1.5.1.2. FX LSV Markov Switching : PDE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Local%20Volatility%20PDE%20and%20MC/Local_Volatility_PDE_and_MC.html">1.5.1.3. Local Volatility: PDE and MC</a></li>
<li class="toctree-l4"><a class="reference internal" href="../LSV%20Markov%20Switching%20%20Monte%20Carlo/LSV_Markov_Switching_Monte_Carlo.html">1.5.1.4. LSV Markov Switching : Monte Carlo</a></li>
<li class="toctree-l4"><a class="reference internal" href="../LSV%20Markov%20Switching%20%20PDE/LSV_Markov_Switching_PDE.html">1.5.1.5. LSV Markov Switching : PDE</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../SABR/index.html">1.16. Interest Rate Volatility Model GSABR</a><input class="toctree-checkbox" id="toctree-checkbox-37" name="toctree-checkbox-37" role="switch" type="checkbox"/><label for="toctree-checkbox-37"><div class="visually-hidden">Toggle navigation of 1.16. Interest Rate Volatility Model GSABR</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/scope.html">2. Scope and Use</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/implementation.html">5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/calibration.html">6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/model_monitoring.html">10. Model Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/market_data_integration.html">11. Market Data Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/performance_benchmarking.html">12. Performance Benchmarking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/troubleshooting_guide.html">13. Troubleshooting Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/development_feedback.html">14. Development Feedback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/references.html">15. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/scope.html">2. Scope and Use</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/implementation.html">5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/calibration.html">6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/model_monitoring.html">10. Model Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/market_data_integration.html">11. Market Data Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/performance_benchmarking.html">12. Performance Benchmarking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/troubleshooting_guide.html">13. Troubleshooting Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/development_feedback.html">14. Development Feedback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/references.html">15. References</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../SABR/index.html">1.16. SABR/GSABR Models</a><input class="toctree-checkbox" id="toctree-checkbox-38" name="toctree-checkbox-38" role="switch" type="checkbox"/><label for="toctree-checkbox-38"><div class="visually-hidden">Toggle navigation of 1.16. SABR/GSABR Models</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/scope.html">2. Scope and Use</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/implementation.html">5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/calibration.html">6. Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/model_monitoring.html">10. Model Monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/market_data_integration.html">11. Market Data Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/performance_benchmarking.html">12. Performance Benchmarking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/troubleshooting_guide.html">13. Troubleshooting Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/development_feedback.html">14. Development Feedback</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/references.html">15. References</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/scope.html">2. Scope and Use</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/implementation.html">5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/calibration.html">6. Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/model_monitoring.html">10. Model Monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/market_data_integration.html">11. Market Data Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/performance_benchmarking.html">12. Performance Benchmarking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/troubleshooting_guide.html">13. Troubleshooting Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/development_feedback.html">14. Development Feedback</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/references.html">15. References</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../ASV/index.html">1.1. Analytical Sigma Volatility</a><input class="toctree-checkbox" id="toctree-checkbox-39" name="toctree-checkbox-39" role="switch" type="checkbox"/><label for="toctree-checkbox-39"><div class="visually-hidden">Toggle navigation of 1.1. Analytical Sigma Volatility</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/executive_summary.html">1.1.1.1. Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/scope.html">1.1.1.2. Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/product_and_portfolio.html">1.1.1.3. Product and Portfolio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/model_methodology.html">1.1.1.4. Model Methodology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/implementation.html">1.1.1.5. Implementation and Numerical Schema</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/calibration.html">1.1.1.6. Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/risk_analysis.html">1.1.1.7. Risk Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/testing_and_validation.html">1.1.1.8. Testing and Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/general_limitations.html">1.1.1.9. General Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/model_monitoring.html">1.1.1.10. Model Monitoring and KPIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/user_guide.html">1.1.1.11. User Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/references.html">1.1.1.12. References</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/README.html">1.1.1.13. Analytical Sigma Volatility (ASV) Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/executive_summary.html">1.1.1.1. Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/scope.html">1.1.1.2. Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/product_and_portfolio.html">1.1.1.3. Product and Portfolio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/model_methodology.html">1.1.1.4. Model Methodology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/implementation.html">1.1.1.5. Implementation and Numerical Schema</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/calibration.html">1.1.1.6. Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/risk_analysis.html">1.1.1.7. Risk Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/testing_and_validation.html">1.1.1.8. Testing and Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/general_limitations.html">1.1.1.9. General Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/model_monitoring.html">1.1.1.10. Model Monitoring and KPIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/user_guide.html">1.1.1.11. User Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/references.html">1.1.1.12. References</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/README.html">1.1.1.13. Analytical Sigma Volatility (ASV) Documentation</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../Cheyette/index.html">Cheyette Interest Rate Model</a><input class="toctree-checkbox" id="toctree-checkbox-40" name="toctree-checkbox-40" role="switch" type="checkbox"/><label for="toctree-checkbox-40"><div class="visually-hidden">Toggle navigation of Cheyette Interest Rate Model</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/scope.html">2. Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/products_and_payoffs.html">Products and Payoffs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/model_methodology.html">3. Model Methodology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/implementation.html">4. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/calibration.html">5. Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/risk_analysis.html">6. Risk Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/testing_and_validation.html">7. Testing and Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/assumptions_and_limitations.html">1.2.1.9. Assumptions and Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/monitoring_and_kpis.html">8. Monitoring and KPIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/appendices.html">1.2.1.11. Appendices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/README.html">1.2.1.12. Cheyette Local Vol Model Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/scope.html">2. Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/model_methodology.html">3. Model Methodology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/implementation.html">4. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/calibration.html">5. Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/risk_analysis.html">6. Risk Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/testing_and_validation.html">7. Testing and Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/monitoring_and_kpis.html">8. Monitoring and KPIs</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../Curve%20Construction/index.html">1.3. Curve Construction Framework</a><input class="toctree-checkbox" id="toctree-checkbox-41" name="toctree-checkbox-41" role="switch" type="checkbox"/><label for="toctree-checkbox-41"><div class="visually-hidden">Toggle navigation of 1.3. Curve Construction Framework</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/scope.html">2. Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/implementation.html">5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/calibration.html">6. Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/model_monitoring.html">10. Model Monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/development_feedback.html">11. Development Feedback</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/references.html">12. References</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/README.html">1.3.1.13. Curve Construction and Risk Framework Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/scope.html">2. Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/implementation.html">5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/calibration.html">6. Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/model_monitoring.html">10. Model Monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/development_feedback.html">11. Development Feedback</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/references.html">12. References</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../api/index.html">API Documentation</a><input class="toctree-checkbox" id="toctree-checkbox-42" name="toctree-checkbox-42" role="switch" type="checkbox"/><label for="toctree-checkbox-42"><div class="visually-hidden">Toggle navigation of API Documentation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../api/cpp.html">1.1. C++</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api/python.html">1.2. Python</a><input class="toctree-checkbox" id="toctree-checkbox-43" name="toctree-checkbox-43" role="switch" type="checkbox"/><label for="toctree-checkbox-43"><div class="visually-hidden">Toggle navigation of 1.2. Python</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-44" name="toctree-checkbox-44" role="switch" type="checkbox"/><label for="toctree-checkbox-44"><div class="visually-hidden">Toggle navigation of xsigmamodules</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.common.html">1.2.1.1.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.common</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-45" name="toctree-checkbox-45" role="switch" type="checkbox"/><label for="toctree-checkbox-45"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.1. xsigmamodules.common</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.common.helper.html">1.2.1.1.1.1.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.common.helper</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.common.instrument.html">1.2.1.1.1.1.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.common.instrument</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.market.html">1.2.1.1.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.market</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-46" name="toctree-checkbox-46" role="switch" type="checkbox"/><label for="toctree-checkbox-46"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.2. xsigmamodules.market</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.market.market_data.html">1.2.1.1.1.2.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.market.market_data</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.market.object_factory.html">1.2.1.1.1.2.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.market.object_factory</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.simulation.html">1.2.1.1.1.3. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.simulation</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-47" name="toctree-checkbox-47" role="switch" type="checkbox"/><label for="toctree-checkbox-47"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.3. xsigmamodules.simulation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.simulation.simulation.html">1.2.1.1.1.3.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.simulation.simulation</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.test.html">1.2.1.1.1.4. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.test</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-48" name="toctree-checkbox-48" role="switch" type="checkbox"/><label for="toctree-checkbox-48"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.4. xsigmamodules.test</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.test.BlackBox.html">1.2.1.1.1.4.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.test.BlackBox</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.test.Testing.html">1.2.1.1.1.4.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.test.Testing</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.util.html">1.2.1.1.1.5. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-49" name="toctree-checkbox-49" role="switch" type="checkbox"/><label for="toctree-checkbox-49"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.5. xsigmamodules.util</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.util.misc.html">1.2.1.1.1.5.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.misc</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.util.numpy_support.html">1.2.1.1.1.5.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.numpy_support</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.util.object_converter.html">1.2.1.1.1.5.1.3. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.object_converter</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.util.xsigmaConstants.html">1.2.1.1.1.5.1.4. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.xsigmaConstants</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.util.xsigmaMethodParser.html">1.2.1.1.1.5.1.5. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.xsigmaMethodParser</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.xlwing.html">1.2.1.1.1.6. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.xlwing</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-50" name="toctree-checkbox-50" role="switch" type="checkbox"/><label for="toctree-checkbox-50"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.6. xsigmamodules.xlwing</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.xlwing.hartman_watson_template.html">1.2.1.1.1.6.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.xlwing.hartman_watson_template</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.xlwing.sabr_template.html">1.2.1.1.1.6.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.xlwing.sabr_template</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.generate_pyi.html">1.2.1.1.2.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.generate_pyi</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api/cmake/cmake-modules.html">1.3. CMake</a><input class="toctree-checkbox" id="toctree-checkbox-51" name="toctree-checkbox-51" role="switch" type="checkbox"/><label for="toctree-checkbox-51"><div class="visually-hidden">Toggle navigation of 1.3. CMake</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../api/cmake/ModuleSystem.html">1.3.1. Module System</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/cmake/xsigmaModule.html">1.3.2. xsigmaModule</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/cmake/xsigmaModuleTesting.html">1.3.3. xsigmaModuleTesting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/cmake/xsigmaModuleWrapPython.html">1.3.4. xsigmaModuleWrapPython</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/cmake/xsigmaModuleWrapJava.html">1.3.5. xsigmaModuleWrapJava</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/cmake/xsigmaModuleJSON.html">1.3.6. xsigmaModuleJSON</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/cmake/xsigmaModuleGraphviz.html">1.3.7. xsigmaModuleGraphviz</a></li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section class="tex2jax_ignore mathjax_ignore" id="risk-measures">
<h1>Risk Measures<a class="headerlink" href="#risk-measures" title="Link to this heading">#</a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading">#</a></h2>
<p>Cette section décrit les mesures de risque spécifiques au modèle <strong>FX LSV Markov Switching PDE</strong>, incluant les Greeks FX calculés via PDE, les métriques de risque de marché et les techniques d’agrégation de risques multi-devises.</p>
</section>
<section id="fx-pde-greeks-framework">
<h2>FX PDE Greeks Framework<a class="headerlink" href="#fx-pde-greeks-framework" title="Link to this heading">#</a></h2>
<section id="primary-fx-greeks-via-pde">
<h3>Primary FX Greeks via PDE<a class="headerlink" href="#primary-fx-greeks-via-pde" title="Link to this heading">#</a></h3>
<section id="delta-fx-v-s-direct-pde-calculation">
<h4>Delta FX (∂V/∂S) - Direct PDE Calculation<a class="headerlink" href="#delta-fx-v-s-direct-pde-calculation" title="Link to this heading">#</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Calcul direct du Delta FX via PDE</span>
<span class="k">namespace</span><span class="w"> </span><span class="nn">xsigma</span><span class="o">::</span><span class="nn">fx_risk_measures</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span>
<span class="w">    </span><span class="k">class</span><span class="w"> </span><span class="nc">FXPDEGreeksCalculator</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="o">:</span>
<span class="w">        </span><span class="k">struct</span><span class="w"> </span><span class="nc">FXPDEGreeks</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// Greeks de premier ordre</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">delta_spot</span><span class="p">;</span><span class="w">               </span><span class="c1">// ∂V/∂S (sensibilité au taux de change)</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">delta_variance</span><span class="p">;</span><span class="w">           </span><span class="c1">// ∂V/∂V (sensibilité à la variance)</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">rho_domestic</span><span class="p">;</span><span class="w">             </span><span class="c1">// ∂V/∂r_d (sensibilité taux domestique)</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">rho_foreign</span><span class="p">;</span><span class="w">              </span><span class="c1">// ∂V/∂r_f (sensibilité taux étranger)</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">theta</span><span class="p">;</span><span class="w">                    </span><span class="c1">// ∂V/∂t (décroissance temporelle)</span>
<span class="w">            </span>
<span class="w">            </span><span class="c1">// Greeks de second ordre</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">gamma_spot</span><span class="p">;</span><span class="w">               </span><span class="c1">// ∂²V/∂S² (convexité spot)</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">gamma_variance</span><span class="p">;</span><span class="w">           </span><span class="c1">// ∂²V/∂V² (convexité variance)</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">cross_gamma_spot_var</span><span class="p">;</span><span class="w">     </span><span class="c1">// ∂²V/∂S∂V (gamma croisé)</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">cross_gamma_spot_rate</span><span class="p">;</span><span class="w">    </span><span class="c1">// ∂²V/∂S∂r (gamma croisé spot-taux)</span>
<span class="w">            </span>
<span class="w">            </span><span class="c1">// Greeks avancés PDE</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">vanna_pde</span><span class="p">;</span><span class="w">                </span><span class="c1">// ∂²V/∂S∂σ via PDE</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">volga_pde</span><span class="p">;</span><span class="w">                </span><span class="c1">// ∂²V/∂σ² via PDE</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">charm_pde</span><span class="p">;</span><span class="w">                </span><span class="c1">// ∂²V/∂S∂t via PDE</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">color_pde</span><span class="p">;</span><span class="w">                </span><span class="c1">// ∂²V/∂S²∂t via PDE</span>
<span class="w">            </span>
<span class="w">            </span><span class="c1">// Greeks spécifiques Markov Switching</span>
<span class="w">            </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="n">state_deltas</span><span class="p">;</span><span class="w">        </span><span class="c1">// Delta par état Markov</span>
<span class="w">            </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="n">transition_sensitivities</span><span class="p">;</span><span class="w"> </span><span class="c1">// ∂V/∂λ_ij</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">correlation_sensitivity</span><span class="p">;</span><span class="w">   </span><span class="c1">// ∂V/∂ρ (corrélation spot-vol)</span>
<span class="w">            </span>
<span class="w">            </span><span class="c1">// Métriques de qualité PDE</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">grid_convergence_error</span><span class="p">;</span><span class="w">   </span><span class="c1">// Erreur de convergence grille</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">boundary_error</span><span class="p">;</span><span class="w">           </span><span class="c1">// Erreur aux frontières</span>
<span class="w">            </span><span class="kt">bool</span><span class="w"> </span><span class="n">greeks_stability</span><span class="p">;</span><span class="w">           </span><span class="c1">// Stabilité des Greeks</span>
<span class="w">        </span><span class="p">};</span>
<span class="w">        </span>
<span class="w">        </span><span class="c1">// Calcul complet des Greeks FX via PDE</span>
<span class="w">        </span><span class="n">FXPDEGreeks</span><span class="w"> </span><span class="nf">calculate_fx_pde_greeks</span><span class="p">(</span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Eigen</span><span class="o">::</span><span class="n">VectorXd</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">pde_solutions</span><span class="p">,</span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="n">FXLSVMSPDEParameters</span><span class="o">&amp;</span><span class="w"> </span><span class="n">model_params</span><span class="p">,</span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="n">DiscretizationParameters</span><span class="o">&amp;</span><span class="w"> </span><span class="n">disc_params</span><span class="p">,</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">current_spot</span><span class="p">,</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">current_variance</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span>
<span class="w">            </span><span class="n">FXPDEGreeks</span><span class="w"> </span><span class="n">greeks</span><span class="p">;</span>
<span class="w">            </span>
<span class="w">            </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="c1">// Localisation dans la grille PDE</span>
<span class="w">                </span><span class="k">auto</span><span class="w"> </span><span class="n">grid_location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">locate_in_pde_grid</span><span class="p">(</span>
<span class="w">                    </span><span class="n">current_spot</span><span class="p">,</span><span class="w"> </span><span class="n">current_variance</span><span class="p">,</span><span class="w"> </span><span class="n">disc_params</span><span class="p">);</span>
<span class="w">                </span>
<span class="w">                </span><span class="c1">// Greeks de premier ordre via différentiation PDE</span>
<span class="w">                </span><span class="n">greeks</span><span class="p">.</span><span class="n">delta_spot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">calculate_delta_spot_pde</span><span class="p">(</span>
<span class="w">                    </span><span class="n">pde_solutions</span><span class="p">,</span><span class="w"> </span><span class="n">grid_location</span><span class="p">,</span><span class="w"> </span><span class="n">disc_params</span><span class="p">);</span>
<span class="w">                </span>
<span class="w">                </span><span class="n">greeks</span><span class="p">.</span><span class="n">delta_variance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">calculate_delta_variance_pde</span><span class="p">(</span>
<span class="w">                    </span><span class="n">pde_solutions</span><span class="p">,</span><span class="w"> </span><span class="n">grid_location</span><span class="p">,</span><span class="w"> </span><span class="n">disc_params</span><span class="p">);</span>
<span class="w">                </span>
<span class="w">                </span><span class="c1">// Greeks de taux via perturbation PDE</span>
<span class="w">                </span><span class="n">greeks</span><span class="p">.</span><span class="n">rho_domestic</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">calculate_rho_domestic_pde</span><span class="p">(</span>
<span class="w">                    </span><span class="n">model_params</span><span class="p">,</span><span class="w"> </span><span class="n">disc_params</span><span class="p">,</span><span class="w"> </span><span class="n">current_spot</span><span class="p">,</span><span class="w"> </span><span class="n">current_variance</span><span class="p">);</span>
<span class="w">                </span>
<span class="w">                </span><span class="n">greeks</span><span class="p">.</span><span class="n">rho_foreign</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">calculate_rho_foreign_pde</span><span class="p">(</span>
<span class="w">                    </span><span class="n">model_params</span><span class="p">,</span><span class="w"> </span><span class="n">disc_params</span><span class="p">,</span><span class="w"> </span><span class="n">current_spot</span><span class="p">,</span><span class="w"> </span><span class="n">current_variance</span><span class="p">);</span>
<span class="w">                </span>
<span class="w">                </span><span class="c1">// Greeks de second ordre</span>
<span class="w">                </span><span class="n">greeks</span><span class="p">.</span><span class="n">gamma_spot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">calculate_gamma_spot_pde</span><span class="p">(</span>
<span class="w">                    </span><span class="n">pde_solutions</span><span class="p">,</span><span class="w"> </span><span class="n">grid_location</span><span class="p">,</span><span class="w"> </span><span class="n">disc_params</span><span class="p">);</span>
<span class="w">                </span>
<span class="w">                </span><span class="n">greeks</span><span class="p">.</span><span class="n">gamma_variance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">calculate_gamma_variance_pde</span><span class="p">(</span>
<span class="w">                    </span><span class="n">pde_solutions</span><span class="p">,</span><span class="w"> </span><span class="n">grid_location</span><span class="p">,</span><span class="w"> </span><span class="n">disc_params</span><span class="p">);</span>
<span class="w">                </span>
<span class="w">                </span><span class="n">greeks</span><span class="p">.</span><span class="n">cross_gamma_spot_var</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">calculate_cross_gamma_pde</span><span class="p">(</span>
<span class="w">                    </span><span class="n">pde_solutions</span><span class="p">,</span><span class="w"> </span><span class="n">grid_location</span><span class="p">,</span><span class="w"> </span><span class="n">disc_params</span><span class="p">);</span>
<span class="w">                </span>
<span class="w">                </span><span class="c1">// Greeks temporels</span>
<span class="w">                </span><span class="n">greeks</span><span class="p">.</span><span class="n">theta</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">calculate_theta_pde</span><span class="p">(</span>
<span class="w">                    </span><span class="n">pde_solutions</span><span class="p">,</span><span class="w"> </span><span class="n">model_params</span><span class="p">,</span><span class="w"> </span><span class="n">disc_params</span><span class="p">);</span>
<span class="w">                </span>
<span class="w">                </span><span class="c1">// Greeks avancés via PDE</span>
<span class="w">                </span><span class="n">greeks</span><span class="p">.</span><span class="n">vanna_pde</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">calculate_vanna_pde</span><span class="p">(</span>
<span class="w">                    </span><span class="n">pde_solutions</span><span class="p">,</span><span class="w"> </span><span class="n">grid_location</span><span class="p">,</span><span class="w"> </span><span class="n">disc_params</span><span class="p">);</span>
<span class="w">                </span>
<span class="w">                </span><span class="n">greeks</span><span class="p">.</span><span class="n">volga_pde</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">calculate_volga_pde</span><span class="p">(</span>
<span class="w">                    </span><span class="n">pde_solutions</span><span class="p">,</span><span class="w"> </span><span class="n">grid_location</span><span class="p">,</span><span class="w"> </span><span class="n">disc_params</span><span class="p">);</span>
<span class="w">                </span>
<span class="w">                </span><span class="n">greeks</span><span class="p">.</span><span class="n">charm_pde</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">calculate_charm_pde</span><span class="p">(</span>
<span class="w">                    </span><span class="n">pde_solutions</span><span class="p">,</span><span class="w"> </span><span class="n">grid_location</span><span class="p">,</span><span class="w"> </span><span class="n">disc_params</span><span class="p">);</span>
<span class="w">                </span>
<span class="w">                </span><span class="n">greeks</span><span class="p">.</span><span class="n">color_pde</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">calculate_color_pde</span><span class="p">(</span>
<span class="w">                    </span><span class="n">pde_solutions</span><span class="p">,</span><span class="w"> </span><span class="n">grid_location</span><span class="p">,</span><span class="w"> </span><span class="n">disc_params</span><span class="p">);</span>
<span class="w">                </span>
<span class="w">                </span><span class="c1">// Greeks Markov Switching</span>
<span class="w">                </span><span class="n">greeks</span><span class="p">.</span><span class="n">state_deltas</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">calculate_state_deltas_pde</span><span class="p">(</span>
<span class="w">                    </span><span class="n">pde_solutions</span><span class="p">,</span><span class="w"> </span><span class="n">grid_location</span><span class="p">,</span><span class="w"> </span><span class="n">disc_params</span><span class="p">);</span>
<span class="w">                </span>
<span class="w">                </span><span class="n">greeks</span><span class="p">.</span><span class="n">transition_sensitivities</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">calculate_transition_sensitivities_pde</span><span class="p">(</span>
<span class="w">                    </span><span class="n">pde_solutions</span><span class="p">,</span><span class="w"> </span><span class="n">model_params</span><span class="p">);</span>
<span class="w">                </span>
<span class="w">                </span><span class="n">greeks</span><span class="p">.</span><span class="n">correlation_sensitivity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">calculate_correlation_sensitivity_pde</span><span class="p">(</span>
<span class="w">                    </span><span class="n">pde_solutions</span><span class="p">,</span><span class="w"> </span><span class="n">model_params</span><span class="p">);</span>
<span class="w">                </span>
<span class="w">                </span><span class="c1">// Validation de qualité</span>
<span class="w">                </span><span class="n">greeks</span><span class="p">.</span><span class="n">grid_convergence_error</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">assess_grid_convergence_error</span><span class="p">(</span>
<span class="w">                    </span><span class="n">pde_solutions</span><span class="p">,</span><span class="w"> </span><span class="n">disc_params</span><span class="p">);</span>
<span class="w">                </span>
<span class="w">                </span><span class="n">greeks</span><span class="p">.</span><span class="n">boundary_error</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">assess_boundary_error</span><span class="p">(</span>
<span class="w">                    </span><span class="n">pde_solutions</span><span class="p">,</span><span class="w"> </span><span class="n">disc_params</span><span class="p">);</span>
<span class="w">                </span>
<span class="w">                </span><span class="n">greeks</span><span class="p">.</span><span class="n">greeks_stability</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">validate_greeks_stability</span><span class="p">(</span><span class="n">greeks</span><span class="p">);</span>
<span class="w">                </span>
<span class="w">                </span><span class="n">XSIGMA_LOG_INFO</span><span class="p">(</span><span class="s">&quot;Greeks FX PDE calculés avec succès&quot;</span><span class="p">);</span>
<span class="w">                </span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">exception</span><span class="o">&amp;</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">XSIGMA_LOG_ERROR</span><span class="p">(</span><span class="s">&quot;Erreur lors du calcul des Greeks PDE: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">what</span><span class="p">()));</span>
<span class="w">                </span><span class="k">throw</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">greeks</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span>
<span class="w">        </span><span class="c1">// Structure pour localisation dans la grille PDE</span>
<span class="w">        </span><span class="k">struct</span><span class="w"> </span><span class="nc">PDEGridLocation</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">i_spot</span><span class="p">,</span><span class="w"> </span><span class="n">j_variance</span><span class="p">;</span><span class="w">          </span><span class="c1">// Indices de grille</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">alpha_spot</span><span class="p">,</span><span class="w"> </span><span class="n">alpha_var</span><span class="p">;</span><span class="w">    </span><span class="c1">// Poids d&#39;interpolation</span>
<span class="w">            </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">neighbor_indices</span><span class="p">;</span><span class="w"> </span><span class="c1">// Indices des voisins</span>
<span class="w">        </span><span class="p">};</span>
<span class="w">        </span>
<span class="w">        </span><span class="c1">// Localisation précise dans la grille PDE</span>
<span class="w">        </span><span class="n">PDEGridLocation</span><span class="w"> </span><span class="nf">locate_in_pde_grid</span><span class="p">(</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">spot</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">variance</span><span class="p">,</span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="n">DiscretizationParameters</span><span class="o">&amp;</span><span class="w"> </span><span class="n">params</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span>
<span class="w">            </span><span class="n">PDEGridLocation</span><span class="w"> </span><span class="n">location</span><span class="p">;</span>
<span class="w">            </span>
<span class="w">            </span><span class="c1">// Localisation spot</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">spot_step</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">params</span><span class="p">.</span><span class="n">spot_max</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">params</span><span class="p">.</span><span class="n">spot_min</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="n">params</span><span class="p">.</span><span class="n">spot_grid_points</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">spot_normalized</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">spot</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">params</span><span class="p">.</span><span class="n">spot_min</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">spot_step</span><span class="p">;</span>
<span class="w">            </span><span class="n">location</span><span class="p">.</span><span class="n">i_spot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">floor</span><span class="p">(</span><span class="n">spot_normalized</span><span class="p">));</span>
<span class="w">            </span><span class="n">location</span><span class="p">.</span><span class="n">alpha_spot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">spot_normalized</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">location</span><span class="p">.</span><span class="n">i_spot</span><span class="p">;</span>
<span class="w">            </span>
<span class="w">            </span><span class="c1">// Localisation variance</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">var_step</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">params</span><span class="p">.</span><span class="n">variance_max</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">params</span><span class="p">.</span><span class="n">variance_min</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="n">params</span><span class="p">.</span><span class="n">variance_grid_points</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">var_normalized</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">variance</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">params</span><span class="p">.</span><span class="n">variance_min</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">var_step</span><span class="p">;</span>
<span class="w">            </span><span class="n">location</span><span class="p">.</span><span class="n">j_variance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">floor</span><span class="p">(</span><span class="n">var_normalized</span><span class="p">));</span>
<span class="w">            </span><span class="n">location</span><span class="p">.</span><span class="n">alpha_var</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">var_normalized</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">location</span><span class="p">.</span><span class="n">j_variance</span><span class="p">;</span>
<span class="w">            </span>
<span class="w">            </span><span class="c1">// Calcul des indices des voisins pour interpolation</span>
<span class="w">            </span><span class="n">location</span><span class="p">.</span><span class="n">neighbor_indices</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">calculate_neighbor_indices</span><span class="p">(</span>
<span class="w">                </span><span class="n">location</span><span class="p">.</span><span class="n">i_spot</span><span class="p">,</span><span class="w"> </span><span class="n">location</span><span class="p">.</span><span class="n">j_variance</span><span class="p">,</span><span class="w"> </span><span class="n">params</span><span class="p">);</span>
<span class="w">            </span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">location</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span>
<span class="w">        </span><span class="c1">// Calcul du Delta spot via différentiation PDE</span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="nf">calculate_delta_spot_pde</span><span class="p">(</span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Eigen</span><span class="o">::</span><span class="n">VectorXd</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">solutions</span><span class="p">,</span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="n">PDEGridLocation</span><span class="o">&amp;</span><span class="w"> </span><span class="n">location</span><span class="p">,</span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="n">DiscretizationParameters</span><span class="o">&amp;</span><span class="w"> </span><span class="n">params</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">spot_step</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">params</span><span class="p">.</span><span class="n">spot_max</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">params</span><span class="p">.</span><span class="n">spot_min</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="n">params</span><span class="p">.</span><span class="n">spot_grid_points</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">delta_total</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span>
<span class="w">            </span>
<span class="w">            </span><span class="c1">// Moyenne pondérée sur les états Markov</span>
<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">solutions</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="w"> </span><span class="o">++</span><span class="n">state</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span>
<span class="w">                </span><span class="c1">// Indices pour différences centrées</span>
<span class="w">                </span><span class="kt">int</span><span class="w"> </span><span class="n">idx_center</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">location</span><span class="p">.</span><span class="n">i_spot</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">params</span><span class="p">.</span><span class="n">variance_grid_points</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">location</span><span class="p">.</span><span class="n">j_variance</span><span class="p">;</span>
<span class="w">                </span><span class="kt">int</span><span class="w"> </span><span class="n">idx_up</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">location</span><span class="p">.</span><span class="n">i_spot</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">params</span><span class="p">.</span><span class="n">variance_grid_points</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">location</span><span class="p">.</span><span class="n">j_variance</span><span class="p">;</span>
<span class="w">                </span><span class="kt">int</span><span class="w"> </span><span class="n">idx_down</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">location</span><span class="p">.</span><span class="n">i_spot</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">params</span><span class="p">.</span><span class="n">variance_grid_points</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">location</span><span class="p">.</span><span class="n">j_variance</span><span class="p">;</span>
<span class="w">                </span>
<span class="w">                </span><span class="c1">// Vérification des limites</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">location</span><span class="p">.</span><span class="n">i_spot</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="c1">// Différence avant</span>
<span class="w">                    </span><span class="kt">double</span><span class="w"> </span><span class="n">state_delta</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">solutions</span><span class="p">[</span><span class="n">state</span><span class="p">][</span><span class="n">idx_up</span><span class="p">]</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">solutions</span><span class="p">[</span><span class="n">state</span><span class="p">][</span><span class="n">idx_center</span><span class="p">])</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">spot_step</span><span class="p">;</span>
<span class="w">                    </span><span class="n">delta_total</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">state_delta</span><span class="p">;</span>
<span class="w">                </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">location</span><span class="p">.</span><span class="n">i_spot</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">params</span><span class="p">.</span><span class="n">spot_grid_points</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="c1">// Différence arrière</span>
<span class="w">                    </span><span class="kt">double</span><span class="w"> </span><span class="n">state_delta</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">solutions</span><span class="p">[</span><span class="n">state</span><span class="p">][</span><span class="n">idx_center</span><span class="p">]</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">solutions</span><span class="p">[</span><span class="n">state</span><span class="p">][</span><span class="n">idx_down</span><span class="p">])</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">spot_step</span><span class="p">;</span>
<span class="w">                    </span><span class="n">delta_total</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">state_delta</span><span class="p">;</span>
<span class="w">                </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="c1">// Différence centrée</span>
<span class="w">                    </span><span class="kt">double</span><span class="w"> </span><span class="n">state_delta</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">solutions</span><span class="p">[</span><span class="n">state</span><span class="p">][</span><span class="n">idx_up</span><span class="p">]</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">solutions</span><span class="p">[</span><span class="n">state</span><span class="p">][</span><span class="n">idx_down</span><span class="p">])</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="mf">2.0</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">spot_step</span><span class="p">);</span>
<span class="w">                    </span><span class="n">delta_total</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">state_delta</span><span class="p">;</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span>
<span class="w">            </span><span class="c1">// Moyenne sur les états (pondération uniforme ou par probabilités)</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">delta_total</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">solutions</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span>
<span class="w">        </span><span class="c1">// Calcul du Gamma spot via PDE</span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="nf">calculate_gamma_spot_pde</span><span class="p">(</span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Eigen</span><span class="o">::</span><span class="n">VectorXd</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">solutions</span><span class="p">,</span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="n">PDEGridLocation</span><span class="o">&amp;</span><span class="w"> </span><span class="n">location</span><span class="p">,</span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="n">DiscretizationParameters</span><span class="o">&amp;</span><span class="w"> </span><span class="n">params</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">spot_step</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">params</span><span class="p">.</span><span class="n">spot_max</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">params</span><span class="p">.</span><span class="n">spot_min</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="n">params</span><span class="p">.</span><span class="n">spot_grid_points</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">gamma_total</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span>
<span class="w">            </span>
<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">solutions</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="w"> </span><span class="o">++</span><span class="n">state</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span>
<span class="w">                </span><span class="kt">int</span><span class="w"> </span><span class="n">idx_center</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">location</span><span class="p">.</span><span class="n">i_spot</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">params</span><span class="p">.</span><span class="n">variance_grid_points</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">location</span><span class="p">.</span><span class="n">j_variance</span><span class="p">;</span>
<span class="w">                </span><span class="kt">int</span><span class="w"> </span><span class="n">idx_up</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">location</span><span class="p">.</span><span class="n">i_spot</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">params</span><span class="p">.</span><span class="n">variance_grid_points</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">location</span><span class="p">.</span><span class="n">j_variance</span><span class="p">;</span>
<span class="w">                </span><span class="kt">int</span><span class="w"> </span><span class="n">idx_down</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">location</span><span class="p">.</span><span class="n">i_spot</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">params</span><span class="p">.</span><span class="n">variance_grid_points</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">location</span><span class="p">.</span><span class="n">j_variance</span><span class="p">;</span>
<span class="w">                </span>
<span class="w">                </span><span class="c1">// Gamma via différences finies de second ordre</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">location</span><span class="p">.</span><span class="n">i_spot</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">location</span><span class="p">.</span><span class="n">i_spot</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">params</span><span class="p">.</span><span class="n">spot_grid_points</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="kt">double</span><span class="w"> </span><span class="n">state_gamma</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">solutions</span><span class="p">[</span><span class="n">state</span><span class="p">][</span><span class="n">idx_up</span><span class="p">]</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">2.0</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">solutions</span><span class="p">[</span><span class="n">state</span><span class="p">][</span><span class="n">idx_center</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span>
<span class="w">                                         </span><span class="n">solutions</span><span class="p">[</span><span class="n">state</span><span class="p">][</span><span class="n">idx_down</span><span class="p">])</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="n">spot_step</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">spot_step</span><span class="p">);</span>
<span class="w">                    </span><span class="n">gamma_total</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">state_gamma</span><span class="p">;</span>
<span class="w">                </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="c1">// Extrapolation aux frontières</span>
<span class="w">                    </span><span class="n">gamma_total</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">extrapolate_gamma_at_boundary</span><span class="p">(</span><span class="n">solutions</span><span class="p">[</span><span class="n">state</span><span class="p">],</span><span class="w"> </span><span class="n">location</span><span class="p">,</span><span class="w"> </span><span class="n">params</span><span class="p">);</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">gamma_total</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">solutions</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span>
<span class="w">        </span><span class="c1">// Calcul du Rho domestique via perturbation PDE</span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="nf">calculate_rho_domestic_pde</span><span class="p">(</span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="n">FXLSVMSPDEParameters</span><span class="o">&amp;</span><span class="w"> </span><span class="n">model_params</span><span class="p">,</span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="n">DiscretizationParameters</span><span class="o">&amp;</span><span class="w"> </span><span class="n">disc_params</span><span class="p">,</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">spot</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">variance</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">rate_bump</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0001</span><span class="p">;</span><span class="w"> </span><span class="c1">// 1bp</span>
<span class="w">            </span>
<span class="w">            </span><span class="c1">// Prix avec taux domestique original</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">base_price</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">solve_pde_for_price</span><span class="p">(</span><span class="n">model_params</span><span class="p">,</span><span class="w"> </span><span class="n">disc_params</span><span class="p">,</span><span class="w"> </span><span class="n">spot</span><span class="p">,</span><span class="w"> </span><span class="n">variance</span><span class="p">);</span>
<span class="w">            </span>
<span class="w">            </span><span class="c1">// Prix avec taux domestique bumpé</span>
<span class="w">            </span><span class="n">FXLSVMSPDEParameters</span><span class="w"> </span><span class="n">bumped_params</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">model_params</span><span class="p">;</span>
<span class="w">            </span><span class="n">bumped_params</span><span class="p">.</span><span class="n">domestic_rate</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">rate_bump</span><span class="p">;</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">bumped_price</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">solve_pde_for_price</span><span class="p">(</span><span class="n">bumped_params</span><span class="p">,</span><span class="w"> </span><span class="n">disc_params</span><span class="p">,</span><span class="w"> </span><span class="n">spot</span><span class="p">,</span><span class="w"> </span><span class="n">variance</span><span class="p">);</span>
<span class="w">            </span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">bumped_price</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">base_price</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">rate_bump</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span>
<span class="w">        </span><span class="c1">// Calcul du Rho étranger via perturbation PDE</span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="nf">calculate_rho_foreign_pde</span><span class="p">(</span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="n">FXLSVMSPDEParameters</span><span class="o">&amp;</span><span class="w"> </span><span class="n">model_params</span><span class="p">,</span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="n">DiscretizationParameters</span><span class="o">&amp;</span><span class="w"> </span><span class="n">disc_params</span><span class="p">,</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">spot</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">variance</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">rate_bump</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0001</span><span class="p">;</span><span class="w"> </span><span class="c1">// 1bp</span>
<span class="w">            </span>
<span class="w">            </span><span class="c1">// Prix avec taux étranger original</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">base_price</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">solve_pde_for_price</span><span class="p">(</span><span class="n">model_params</span><span class="p">,</span><span class="w"> </span><span class="n">disc_params</span><span class="p">,</span><span class="w"> </span><span class="n">spot</span><span class="p">,</span><span class="w"> </span><span class="n">variance</span><span class="p">);</span>
<span class="w">            </span>
<span class="w">            </span><span class="c1">// Prix avec taux étranger bumpé</span>
<span class="w">            </span><span class="n">FXLSVMSPDEParameters</span><span class="w"> </span><span class="n">bumped_params</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">model_params</span><span class="p">;</span>
<span class="w">            </span><span class="n">bumped_params</span><span class="p">.</span><span class="n">foreign_rate</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">rate_bump</span><span class="p">;</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">bumped_price</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">solve_pde_for_price</span><span class="p">(</span><span class="n">bumped_params</span><span class="p">,</span><span class="w"> </span><span class="n">disc_params</span><span class="p">,</span><span class="w"> </span><span class="n">spot</span><span class="p">,</span><span class="w"> </span><span class="n">variance</span><span class="p">);</span>
<span class="w">            </span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">bumped_price</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">base_price</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">rate_bump</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span>
<span class="w">        </span><span class="c1">// Calcul des sensibilités aux transitions Markov</span>
<span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="n">calculate_transition_sensitivities_pde</span><span class="p">(</span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Eigen</span><span class="o">::</span><span class="n">VectorXd</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">solutions</span><span class="p">,</span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="n">FXLSVMSPDEParameters</span><span class="o">&amp;</span><span class="w"> </span><span class="n">model_params</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span>
<span class="w">            </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="n">sensitivities</span><span class="p">;</span>
<span class="w">            </span>
<span class="w">            </span><span class="c1">// Sensibilité à chaque taux de transition λ_ij</span>
<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">model_params</span><span class="p">.</span><span class="n">number_of_states</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">model_params</span><span class="p">.</span><span class="n">number_of_states</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">j</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">j</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="kt">double</span><span class="w"> </span><span class="n">sensitivity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">calculate_single_transition_sensitivity</span><span class="p">(</span>
<span class="w">                            </span><span class="n">solutions</span><span class="p">,</span><span class="w"> </span><span class="n">model_params</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">);</span>
<span class="w">                        </span><span class="n">sensitivities</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">sensitivity</span><span class="p">);</span>
<span class="w">                    </span><span class="p">}</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">sensitivities</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span>
<span class="w">        </span><span class="c1">// Calcul de sensibilité à une transition spécifique</span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">calculate_single_transition_sensitivity</span><span class="p">(</span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Eigen</span><span class="o">::</span><span class="n">VectorXd</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">solutions</span><span class="p">,</span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="n">FXLSVMSPDEParameters</span><span class="o">&amp;</span><span class="w"> </span><span class="n">model_params</span><span class="p">,</span>
<span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">from_state</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">to_state</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span>
<span class="w">            </span><span class="c1">// Sensibilité ∂V/∂λ_ij = V_j - V_i (différence entre états)</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">sensitivity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span>
<span class="w">            </span>
<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">idx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">idx</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">solutions</span><span class="p">[</span><span class="n">from_state</span><span class="p">].</span><span class="n">size</span><span class="p">();</span><span class="w"> </span><span class="o">++</span><span class="n">idx</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="kt">double</span><span class="w"> </span><span class="n">state_diff</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">solutions</span><span class="p">[</span><span class="n">to_state</span><span class="p">][</span><span class="n">idx</span><span class="p">]</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">solutions</span><span class="p">[</span><span class="n">from_state</span><span class="p">][</span><span class="n">idx</span><span class="p">];</span>
<span class="w">                </span><span class="n">sensitivity</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">state_diff</span><span class="p">;</span><span class="w"> </span><span class="c1">// Intégration sur le domaine</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span>
<span class="w">            </span><span class="c1">// Normalisation par la taille du domaine</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">sensitivity</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">solutions</span><span class="p">[</span><span class="n">from_state</span><span class="p">].</span><span class="n">size</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span>
<span class="w">        </span><span class="c1">// Validation de la stabilité des Greeks</span>
<span class="w">        </span><span class="kt">bool</span><span class="w"> </span><span class="n">validate_greeks_stability</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">FXPDEGreeks</span><span class="o">&amp;</span><span class="w"> </span><span class="n">greeks</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span>
<span class="w">            </span><span class="c1">// Tests de cohérence des Greeks</span>
<span class="w">            </span><span class="kt">bool</span><span class="w"> </span><span class="n">stability</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="w">            </span>
<span class="w">            </span><span class="c1">// Test 1: Gamma doit être positif pour options vanilles</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">greeks</span><span class="p">.</span><span class="n">gamma_spot</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">0.0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">XSIGMA_LOG_WARNING</span><span class="p">(</span><span class="s">&quot;Gamma spot négatif détecté: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">to_string</span><span class="p">(</span><span class="n">greeks</span><span class="p">.</span><span class="n">gamma_spot</span><span class="p">));</span>
<span class="w">                </span><span class="n">stability</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span>
<span class="w">            </span><span class="c1">// Test 2: Delta doit être dans [0,1] pour calls, [-1,0] pour puts</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">abs</span><span class="p">(</span><span class="n">greeks</span><span class="p">.</span><span class="n">delta_spot</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">1.5</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">XSIGMA_LOG_WARNING</span><span class="p">(</span><span class="s">&quot;Delta spot hors limites: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">to_string</span><span class="p">(</span><span class="n">greeks</span><span class="p">.</span><span class="n">delta_spot</span><span class="p">));</span>
<span class="w">                </span><span class="n">stability</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span>
<span class="w">            </span><span class="c1">// Test 3: Vanna et Volga doivent avoir des signes cohérents</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">greeks</span><span class="p">.</span><span class="n">vanna_pde</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">greeks</span><span class="p">.</span><span class="n">volga_pde</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">abs</span><span class="p">(</span><span class="n">greeks</span><span class="p">.</span><span class="n">vanna_pde</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0.01</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">XSIGMA_LOG_WARNING</span><span class="p">(</span><span class="s">&quot;Incohérence Vanna-Volga détectée&quot;</span><span class="p">);</span>
<span class="w">                </span><span class="n">stability</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span>
<span class="w">            </span><span class="c1">// Test 4: Erreur de convergence grille acceptable</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">greeks</span><span class="p">.</span><span class="n">grid_convergence_error</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0.01</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">XSIGMA_LOG_WARNING</span><span class="p">(</span><span class="s">&quot;Erreur de convergence grille élevée: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span>
<span class="w">                                  </span><span class="n">std</span><span class="o">::</span><span class="n">to_string</span><span class="p">(</span><span class="n">greeks</span><span class="p">.</span><span class="n">grid_convergence_error</span><span class="p">));</span>
<span class="w">                </span><span class="n">stability</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">stability</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span>
<span class="w">    </span><span class="k">private</span><span class="o">:</span>
<span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">calculate_neighbor_indices</span><span class="p">(</span>
<span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">i_spot</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">j_var</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">DiscretizationParameters</span><span class="o">&amp;</span><span class="w"> </span><span class="n">params</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span>
<span class="w">            </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">indices</span><span class="p">;</span>
<span class="w">            </span>
<span class="w">            </span><span class="c1">// Indices des 4 voisins pour interpolation bilinéaire</span>
<span class="w">            </span><span class="n">indices</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">i_spot</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">params</span><span class="p">.</span><span class="n">variance_grid_points</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">j_var</span><span class="p">);</span><span class="w">           </span><span class="c1">// (i,j)</span>
<span class="w">            </span><span class="n">indices</span><span class="p">.</span><span class="n">push_back</span><span class="p">((</span><span class="n">i_spot</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">params</span><span class="p">.</span><span class="n">variance_grid_points</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">j_var</span><span class="p">);</span><span class="w">     </span><span class="c1">// (i+1,j)</span>
<span class="w">            </span><span class="n">indices</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">i_spot</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">params</span><span class="p">.</span><span class="n">variance_grid_points</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">j_var</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">));</span><span class="w">     </span><span class="c1">// (i,j+1)</span>
<span class="w">            </span><span class="n">indices</span><span class="p">.</span><span class="n">push_back</span><span class="p">((</span><span class="n">i_spot</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">params</span><span class="p">.</span><span class="n">variance_grid_points</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">j_var</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">));</span><span class="w"> </span><span class="c1">// (i+1,j+1)</span>
<span class="w">            </span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">indices</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">extrapolate_gamma_at_boundary</span><span class="p">(</span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="n">Eigen</span><span class="o">::</span><span class="n">VectorXd</span><span class="o">&amp;</span><span class="w"> </span><span class="n">solution</span><span class="p">,</span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="n">PDEGridLocation</span><span class="o">&amp;</span><span class="w"> </span><span class="n">location</span><span class="p">,</span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="n">DiscretizationParameters</span><span class="o">&amp;</span><span class="w"> </span><span class="n">params</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span>
<span class="w">            </span><span class="c1">// Extrapolation du gamma aux frontières</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span><span class="w"> </span><span class="c1">// Placeholder - implémentation d&#39;extrapolation</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">solve_pde_for_price</span><span class="p">(</span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="n">FXLSVMSPDEParameters</span><span class="o">&amp;</span><span class="w"> </span><span class="n">params</span><span class="p">,</span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="n">DiscretizationParameters</span><span class="o">&amp;</span><span class="w"> </span><span class="n">disc_params</span><span class="p">,</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">spot</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">variance</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span>
<span class="w">            </span><span class="c1">// Résolution PDE complète pour un prix</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="mf">0.05</span><span class="p">;</span><span class="w"> </span><span class="c1">// Placeholder</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span>
<span class="w">        </span><span class="c1">// Méthodes pour autres Greeks (placeholders)</span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">calculate_delta_variance_pde</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Eigen</span><span class="o">::</span><span class="n">VectorXd</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">solutions</span><span class="p">,</span>
<span class="w">                                           </span><span class="k">const</span><span class="w"> </span><span class="n">PDEGridLocation</span><span class="o">&amp;</span><span class="w"> </span><span class="n">location</span><span class="p">,</span>
<span class="w">                                           </span><span class="k">const</span><span class="w"> </span><span class="n">DiscretizationParameters</span><span class="o">&amp;</span><span class="w"> </span><span class="n">params</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span><span class="w"> </span><span class="c1">// Implémentation similaire à delta_spot</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">calculate_gamma_variance_pde</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Eigen</span><span class="o">::</span><span class="n">VectorXd</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">solutions</span><span class="p">,</span>
<span class="w">                                           </span><span class="k">const</span><span class="w"> </span><span class="n">PDEGridLocation</span><span class="o">&amp;</span><span class="w"> </span><span class="n">location</span><span class="p">,</span>
<span class="w">                                           </span><span class="k">const</span><span class="w"> </span><span class="n">DiscretizationParameters</span><span class="o">&amp;</span><span class="w"> </span><span class="n">params</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span><span class="w"> </span><span class="c1">// Implémentation similaire à gamma_spot</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">calculate_cross_gamma_pde</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Eigen</span><span class="o">::</span><span class="n">VectorXd</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">solutions</span><span class="p">,</span>
<span class="w">                                        </span><span class="k">const</span><span class="w"> </span><span class="n">PDEGridLocation</span><span class="o">&amp;</span><span class="w"> </span><span class="n">location</span><span class="p">,</span>
<span class="w">                                        </span><span class="k">const</span><span class="w"> </span><span class="n">DiscretizationParameters</span><span class="o">&amp;</span><span class="w"> </span><span class="n">params</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span><span class="w"> </span><span class="c1">// ∂²V/∂S∂V</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">calculate_theta_pde</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Eigen</span><span class="o">::</span><span class="n">VectorXd</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">solutions</span><span class="p">,</span>
<span class="w">                                  </span><span class="k">const</span><span class="w"> </span><span class="n">FXLSVMSPDEParameters</span><span class="o">&amp;</span><span class="w"> </span><span class="n">params</span><span class="p">,</span>
<span class="w">                                  </span><span class="k">const</span><span class="w"> </span><span class="n">DiscretizationParameters</span><span class="o">&amp;</span><span class="w"> </span><span class="n">disc_params</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span><span class="w"> </span><span class="c1">// Calcul via différence temporelle</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">calculate_vanna_pde</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Eigen</span><span class="o">::</span><span class="n">VectorXd</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">solutions</span><span class="p">,</span>
<span class="w">                                  </span><span class="k">const</span><span class="w"> </span><span class="n">PDEGridLocation</span><span class="o">&amp;</span><span class="w"> </span><span class="n">location</span><span class="p">,</span>
<span class="w">                                  </span><span class="k">const</span><span class="w"> </span><span class="n">DiscretizationParameters</span><span class="o">&amp;</span><span class="w"> </span><span class="n">params</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span><span class="w"> </span><span class="c1">// ∂²V/∂S∂σ</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">calculate_volga_pde</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Eigen</span><span class="o">::</span><span class="n">VectorXd</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">solutions</span><span class="p">,</span>
<span class="w">                                  </span><span class="k">const</span><span class="w"> </span><span class="n">PDEGridLocation</span><span class="o">&amp;</span><span class="w"> </span><span class="n">location</span><span class="p">,</span>
<span class="w">                                  </span><span class="k">const</span><span class="w"> </span><span class="n">DiscretizationParameters</span><span class="o">&amp;</span><span class="w"> </span><span class="n">params</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span><span class="w"> </span><span class="c1">// ∂²V/∂σ²</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">calculate_charm_pde</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Eigen</span><span class="o">::</span><span class="n">VectorXd</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">solutions</span><span class="p">,</span>
<span class="w">                                  </span><span class="k">const</span><span class="w"> </span><span class="n">PDEGridLocation</span><span class="o">&amp;</span><span class="w"> </span><span class="n">location</span><span class="p">,</span>
<span class="w">                                  </span><span class="k">const</span><span class="w"> </span><span class="n">DiscretizationParameters</span><span class="o">&amp;</span><span class="w"> </span><span class="n">params</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span><span class="w"> </span><span class="c1">// ∂²V/∂S∂t</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">calculate_color_pde</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Eigen</span><span class="o">::</span><span class="n">VectorXd</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">solutions</span><span class="p">,</span>
<span class="w">                                  </span><span class="k">const</span><span class="w"> </span><span class="n">PDEGridLocation</span><span class="o">&amp;</span><span class="w"> </span><span class="n">location</span><span class="p">,</span>
<span class="w">                                  </span><span class="k">const</span><span class="w"> </span><span class="n">DiscretizationParameters</span><span class="o">&amp;</span><span class="w"> </span><span class="n">params</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span><span class="w"> </span><span class="c1">// ∂²V/∂S²∂t</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span>
<span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="n">calculate_state_deltas_pde</span><span class="p">(</span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Eigen</span><span class="o">::</span><span class="n">VectorXd</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">solutions</span><span class="p">,</span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="n">PDEGridLocation</span><span class="o">&amp;</span><span class="w"> </span><span class="n">location</span><span class="p">,</span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="n">DiscretizationParameters</span><span class="o">&amp;</span><span class="w"> </span><span class="n">params</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span>
<span class="w">            </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="n">state_deltas</span><span class="p">;</span>
<span class="w">            </span><span class="c1">// Delta pour chaque état Markov</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">state_deltas</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">calculate_correlation_sensitivity_pde</span><span class="p">(</span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Eigen</span><span class="o">::</span><span class="n">VectorXd</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">solutions</span><span class="p">,</span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="n">FXLSVMSPDEParameters</span><span class="o">&amp;</span><span class="w"> </span><span class="n">params</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span><span class="w"> </span><span class="c1">// ∂V/∂ρ</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">assess_grid_convergence_error</span><span class="p">(</span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Eigen</span><span class="o">::</span><span class="n">VectorXd</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">solutions</span><span class="p">,</span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="n">DiscretizationParameters</span><span class="o">&amp;</span><span class="w"> </span><span class="n">params</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="mf">1e-6</span><span class="p">;</span><span class="w"> </span><span class="c1">// Placeholder</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">assess_boundary_error</span><span class="p">(</span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Eigen</span><span class="o">::</span><span class="n">VectorXd</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">solutions</span><span class="p">,</span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="n">DiscretizationParameters</span><span class="o">&amp;</span><span class="w"> </span><span class="n">params</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="mf">1e-7</span><span class="p">;</span><span class="w"> </span><span class="c1">// Placeholder</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">};</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="multi-currency-risk-aggregation">
<h2>Multi-Currency Risk Aggregation<a class="headerlink" href="#multi-currency-risk-aggregation" title="Link to this heading">#</a></h2>
<section id="portfolio-risk-via-pde">
<h3>Portfolio Risk via PDE<a class="headerlink" href="#portfolio-risk-via-pde" title="Link to this heading">#</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Agrégation de risques portfolio via PDE</span>
<span class="k">class</span><span class="w"> </span><span class="nc">FXLSVMSPortfolioRiskAggregator</span><span class="w"> </span><span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
<span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">PortfolioRiskMetrics</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Greeks agrégés</span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">total_delta_usd</span><span class="p">;</span><span class="w">              </span><span class="c1">// Delta total en USD</span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">total_gamma_usd</span><span class="p">;</span><span class="w">              </span><span class="c1">// Gamma total en USD</span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">total_vega_usd</span><span class="p">;</span><span class="w">               </span><span class="c1">// Vega total en USD</span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">total_theta_usd</span><span class="p">;</span><span class="w">              </span><span class="c1">// Theta total en USD</span>
<span class="w">        </span>
<span class="w">        </span><span class="c1">// Risques par devise</span>
<span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="n">delta_by_currency</span><span class="p">;</span>
<span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="n">gamma_by_currency</span><span class="p">;</span>
<span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="n">vega_by_currency</span><span class="p">;</span>
<span class="w">        </span>
<span class="w">        </span><span class="c1">// Risques croisés</span>
<span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="n">cross_gamma_currencies</span><span class="p">;</span>
<span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="n">correlation_risk_by_pair</span><span class="p">;</span>
<span class="w">        </span>
<span class="w">        </span><span class="c1">// VaR et métriques de risque</span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">var_95_1d_usd</span><span class="p">;</span><span class="w">                </span><span class="c1">// VaR 95% 1 jour en USD</span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">var_99_1d_usd</span><span class="p">;</span><span class="w">                </span><span class="c1">// VaR 99% 1 jour en USD</span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">expected_shortfall_95_usd</span><span class="p">;</span><span class="w">    </span><span class="c1">// Expected Shortfall 95% en USD</span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">maximum_drawdown_estimate</span><span class="p">;</span><span class="w">    </span><span class="c1">// Estimation du drawdown maximal</span>
<span class="w">        </span>
<span class="w">        </span><span class="c1">// Métriques de concentration</span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">largest_position_pct</span><span class="p">;</span><span class="w">         </span><span class="c1">// Plus grosse position en %</span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">top_10_positions_pct</span><span class="p">;</span><span class="w">         </span><span class="c1">// Top 10 positions en %</span>
<span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="n">concentration_by_currency_pair</span><span class="p">;</span>
<span class="w">        </span>
<span class="w">        </span><span class="c1">// Stress testing</span>
<span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="n">stress_scenario_pnl</span><span class="p">;</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">    </span>
<span class="w">    </span><span class="c1">// Calcul des risques de portfolio via PDE</span>
<span class="w">    </span><span class="n">PortfolioRiskMetrics</span><span class="w"> </span><span class="nf">calculate_portfolio_risk_pde</span><span class="p">(</span>
<span class="w">        </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">FXPosition</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">positions</span><span class="p">,</span>
<span class="w">        </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span><span class="w"> </span><span class="n">FXLSVMSPDEParameters</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">model_params_by_pair</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span>
<span class="w">        </span><span class="n">PortfolioRiskMetrics</span><span class="w"> </span><span class="n">risk</span><span class="p">;</span>
<span class="w">        </span>
<span class="w">        </span><span class="c1">// Calcul des Greeks individuels via PDE</span>
<span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">FXPDEGreeks</span><span class="o">&gt;</span><span class="w"> </span><span class="n">individual_greeks</span><span class="p">;</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">position</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">positions</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">auto</span><span class="w"> </span><span class="n">greeks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">calculate_position_greeks_pde</span><span class="p">(</span><span class="n">position</span><span class="p">,</span><span class="w"> </span><span class="n">model_params_by_pair</span><span class="p">);</span>
<span class="w">            </span><span class="n">individual_greeks</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">greeks</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span>
<span class="w">        </span><span class="c1">// Agrégation des Greeks</span>
<span class="w">        </span><span class="n">aggregate_portfolio_greeks</span><span class="p">(</span><span class="n">positions</span><span class="p">,</span><span class="w"> </span><span class="n">individual_greeks</span><span class="p">,</span><span class="w"> </span><span class="n">risk</span><span class="p">);</span>
<span class="w">        </span>
<span class="w">        </span><span class="c1">// Calcul de VaR via simulation Monte Carlo sur Greeks</span>
<span class="w">        </span><span class="n">calculate_portfolio_var_pde</span><span class="p">(</span><span class="n">positions</span><span class="p">,</span><span class="w"> </span><span class="n">individual_greeks</span><span class="p">,</span><span class="w"> </span><span class="n">risk</span><span class="p">);</span>
<span class="w">        </span>
<span class="w">        </span><span class="c1">// Métriques de concentration</span>
<span class="w">        </span><span class="n">calculate_concentration_metrics</span><span class="p">(</span><span class="n">positions</span><span class="p">,</span><span class="w"> </span><span class="n">risk</span><span class="p">);</span>
<span class="w">        </span>
<span class="w">        </span><span class="c1">// Stress testing</span>
<span class="w">        </span><span class="n">calculate_stress_scenarios_pde</span><span class="p">(</span><span class="n">positions</span><span class="p">,</span><span class="w"> </span><span class="n">individual_greeks</span><span class="p">,</span><span class="w"> </span><span class="n">risk</span><span class="p">);</span>
<span class="w">        </span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">risk</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span>
<span class="k">private</span><span class="o">:</span>
<span class="w">    </span><span class="n">FXPDEGreeks</span><span class="w"> </span><span class="n">calculate_position_greeks_pde</span><span class="p">(</span>
<span class="w">        </span><span class="k">const</span><span class="w"> </span><span class="n">FXPosition</span><span class="o">&amp;</span><span class="w"> </span><span class="n">position</span><span class="p">,</span>
<span class="w">        </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span><span class="w"> </span><span class="n">FXLSVMSPDEParameters</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">model_params</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span>
<span class="w">        </span><span class="c1">// Récupération des paramètres pour cette paire</span>
<span class="w">        </span><span class="k">auto</span><span class="w"> </span><span class="n">params_it</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">model_params</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="n">position</span><span class="p">.</span><span class="n">currency_pair</span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">params_it</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">model_params</span><span class="p">.</span><span class="n">end</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">XSIGMA_THROW</span><span class="p">(</span><span class="s">&quot;Paramètres non trouvés pour &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">position</span><span class="p">.</span><span class="n">currency_pair</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span>
<span class="w">        </span><span class="c1">// Résolution PDE pour cette position</span>
<span class="w">        </span><span class="n">FXLSVMSPDEDiscretizer</span><span class="w"> </span><span class="n">discretizer</span><span class="p">;</span>
<span class="w">        </span><span class="n">DiscretizationParameters</span><span class="w"> </span><span class="n">disc_params</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">create_standard_discretization_params</span><span class="p">();</span>
<span class="w">        </span>
<span class="w">        </span><span class="c1">// Calcul des Greeks via PDE</span>
<span class="w">        </span><span class="n">FXPDEGreeksCalculator</span><span class="w"> </span><span class="n">greeks_calc</span><span class="p">;</span>
<span class="w">        </span><span class="k">auto</span><span class="w"> </span><span class="n">pde_solutions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">solve_pde_for_position</span><span class="p">(</span><span class="n">position</span><span class="p">,</span><span class="w"> </span><span class="n">params_it</span><span class="o">-&gt;</span><span class="n">second</span><span class="p">,</span><span class="w"> </span><span class="n">disc_params</span><span class="p">);</span>
<span class="w">        </span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">greeks_calc</span><span class="p">.</span><span class="n">calculate_fx_pde_greeks</span><span class="p">(</span>
<span class="w">            </span><span class="n">pde_solutions</span><span class="p">,</span><span class="w"> </span><span class="n">params_it</span><span class="o">-&gt;</span><span class="n">second</span><span class="p">,</span><span class="w"> </span><span class="n">disc_params</span><span class="p">,</span>
<span class="w">            </span><span class="n">params_it</span><span class="o">-&gt;</span><span class="n">second</span><span class="p">.</span><span class="n">spot_fx_rate</span><span class="p">,</span><span class="w"> </span><span class="n">params_it</span><span class="o">-&gt;</span><span class="n">second</span><span class="p">.</span><span class="n">long_term_variance</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">aggregate_portfolio_greeks</span><span class="p">(</span>
<span class="w">        </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">FXPosition</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">positions</span><span class="p">,</span>
<span class="w">        </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">FXPDEGreeks</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">individual_greeks</span><span class="p">,</span>
<span class="w">        </span><span class="n">PortfolioRiskMetrics</span><span class="o">&amp;</span><span class="w"> </span><span class="n">risk</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span>
<span class="w">        </span><span class="c1">// Initialisation</span>
<span class="w">        </span><span class="n">risk</span><span class="p">.</span><span class="n">total_delta_usd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span>
<span class="w">        </span><span class="n">risk</span><span class="p">.</span><span class="n">total_gamma_usd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span>
<span class="w">        </span><span class="n">risk</span><span class="p">.</span><span class="n">total_vega_usd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span>
<span class="w">        </span><span class="n">risk</span><span class="p">.</span><span class="n">total_theta_usd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span>
<span class="w">        </span>
<span class="w">        </span><span class="c1">// Agrégation position par position</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">positions</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">position</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">positions</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">greeks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">individual_greeks</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="w">            </span>
<span class="w">            </span><span class="c1">// Conversion en USD si nécessaire</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">fx_to_usd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_fx_rate_to_usd</span><span class="p">(</span><span class="n">position</span><span class="p">.</span><span class="n">currency_pair</span><span class="p">);</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">position_notional_usd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">position</span><span class="p">.</span><span class="n">notional</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">fx_to_usd</span><span class="p">;</span>
<span class="w">            </span>
<span class="w">            </span><span class="c1">// Agrégation des Greeks</span>
<span class="w">            </span><span class="n">risk</span><span class="p">.</span><span class="n">total_delta_usd</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">greeks</span><span class="p">.</span><span class="n">delta_spot</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">position_notional_usd</span><span class="p">;</span>
<span class="w">            </span><span class="n">risk</span><span class="p">.</span><span class="n">total_gamma_usd</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">greeks</span><span class="p">.</span><span class="n">gamma_spot</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">position_notional_usd</span><span class="p">;</span>
<span class="w">            </span><span class="n">risk</span><span class="p">.</span><span class="n">total_vega_usd</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">greeks</span><span class="p">.</span><span class="n">vanna_pde</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">position_notional_usd</span><span class="p">;</span><span class="w"> </span><span class="c1">// Approximation</span>
<span class="w">            </span><span class="n">risk</span><span class="p">.</span><span class="n">total_theta_usd</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">greeks</span><span class="p">.</span><span class="n">theta</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">position_notional_usd</span><span class="p">;</span>
<span class="w">            </span>
<span class="w">            </span><span class="c1">// Agrégation par devise</span>
<span class="w">            </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">base_currency</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">position</span><span class="p">.</span><span class="n">currency_pair</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<span class="w">            </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">quote_currency</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">position</span><span class="p">.</span><span class="n">currency_pair</span><span class="p">.</span><span class="n">substr</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<span class="w">            </span>
<span class="w">            </span><span class="n">risk</span><span class="p">.</span><span class="n">delta_by_currency</span><span class="p">[</span><span class="n">base_currency</span><span class="p">]</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">greeks</span><span class="p">.</span><span class="n">delta_spot</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">position</span><span class="p">.</span><span class="n">notional</span><span class="p">;</span>
<span class="w">            </span><span class="n">risk</span><span class="p">.</span><span class="n">gamma_by_currency</span><span class="p">[</span><span class="n">base_currency</span><span class="p">]</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">greeks</span><span class="p">.</span><span class="n">gamma_spot</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">position</span><span class="p">.</span><span class="n">notional</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">calculate_portfolio_var_pde</span><span class="p">(</span>
<span class="w">        </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">FXPosition</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">positions</span><span class="p">,</span>
<span class="w">        </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">FXPDEGreeks</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">individual_greeks</span><span class="p">,</span>
<span class="w">        </span><span class="n">PortfolioRiskMetrics</span><span class="o">&amp;</span><span class="w"> </span><span class="n">risk</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span>
<span class="w">        </span><span class="c1">// Calcul de VaR paramétrique basé sur les Greeks PDE</span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">portfolio_variance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span>
<span class="w">        </span>
<span class="w">        </span><span class="c1">// Variance des Greeks individuels</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">positions</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">position</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">positions</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">greeks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">individual_greeks</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="w">            </span>
<span class="w">            </span><span class="c1">// Volatilité de la paire FX</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">fx_vol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_fx_volatility</span><span class="p">(</span><span class="n">position</span><span class="p">.</span><span class="n">currency_pair</span><span class="p">);</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">position_var</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">pow</span><span class="p">(</span><span class="n">greeks</span><span class="p">.</span><span class="n">delta_spot</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">position</span><span class="p">.</span><span class="n">notional</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">fx_vol</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="w">            </span><span class="n">portfolio_variance</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">position_var</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span>
<span class="w">        </span><span class="c1">// Corrélations entre paires</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">positions</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">positions</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="w"> </span><span class="o">++</span><span class="n">j</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span>
<span class="w">                </span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">pos_i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">positions</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="w">                </span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">pos_j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">positions</span><span class="p">[</span><span class="n">j</span><span class="p">];</span>
<span class="w">                </span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">greeks_i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">individual_greeks</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="w">                </span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">greeks_j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">individual_greeks</span><span class="p">[</span><span class="n">j</span><span class="p">];</span>
<span class="w">                </span>
<span class="w">                </span><span class="kt">double</span><span class="w"> </span><span class="n">correlation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_fx_correlation</span><span class="p">(</span><span class="n">pos_i</span><span class="p">.</span><span class="n">currency_pair</span><span class="p">,</span><span class="w"> </span><span class="n">pos_j</span><span class="p">.</span><span class="n">currency_pair</span><span class="p">);</span>
<span class="w">                </span><span class="kt">double</span><span class="w"> </span><span class="n">vol_i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_fx_volatility</span><span class="p">(</span><span class="n">pos_i</span><span class="p">.</span><span class="n">currency_pair</span><span class="p">);</span>
<span class="w">                </span><span class="kt">double</span><span class="w"> </span><span class="n">vol_j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_fx_volatility</span><span class="p">(</span><span class="n">pos_j</span><span class="p">.</span><span class="n">currency_pair</span><span class="p">);</span>
<span class="w">                </span>
<span class="w">                </span><span class="kt">double</span><span class="w"> </span><span class="n">covariance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">2.0</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">greeks_i</span><span class="p">.</span><span class="n">delta_spot</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">pos_i</span><span class="p">.</span><span class="n">notional</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">vol_i</span><span class="w"> </span><span class="o">*</span>
<span class="w">                                   </span><span class="n">greeks_j</span><span class="p">.</span><span class="n">delta_spot</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">pos_j</span><span class="p">.</span><span class="n">notional</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">vol_j</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">correlation</span><span class="p">;</span>
<span class="w">                </span>
<span class="w">                </span><span class="n">portfolio_variance</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">covariance</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span>
<span class="w">        </span><span class="c1">// Calcul des VaR</span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">portfolio_std</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">sqrt</span><span class="p">(</span><span class="n">portfolio_variance</span><span class="p">);</span>
<span class="w">        </span><span class="n">risk</span><span class="p">.</span><span class="n">var_95_1d_usd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.65</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">portfolio_std</span><span class="p">;</span><span class="w"> </span><span class="c1">// 95% VaR</span>
<span class="w">        </span><span class="n">risk</span><span class="p">.</span><span class="n">var_99_1d_usd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">2.33</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">portfolio_std</span><span class="p">;</span><span class="w"> </span><span class="c1">// 99% VaR</span>
<span class="w">        </span><span class="n">risk</span><span class="p">.</span><span class="n">expected_shortfall_95_usd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">2.06</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">portfolio_std</span><span class="p">;</span><span class="w"> </span><span class="c1">// ES 95%</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">calculate_stress_scenarios_pde</span><span class="p">(</span>
<span class="w">        </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">FXPosition</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">positions</span><span class="p">,</span>
<span class="w">        </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">FXPDEGreeks</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">individual_greeks</span><span class="p">,</span>
<span class="w">        </span><span class="n">PortfolioRiskMetrics</span><span class="o">&amp;</span><span class="w"> </span><span class="n">risk</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span>
<span class="w">        </span><span class="c1">// Scénarios de stress standard</span>
<span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="w"> </span><span class="n">scenarios</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="s">&quot;FX_SHOCK_UP_10PCT&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;FX_SHOCK_DOWN_10PCT&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s">&quot;VOL_SHOCK_UP_50PCT&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;VOL_SHOCK_DOWN_50PCT&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s">&quot;CORRELATION_BREAKDOWN&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;CRISIS_SCENARIO&quot;</span>
<span class="w">        </span><span class="p">};</span>
<span class="w">        </span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">scenario</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">scenarios</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">scenario_pnl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">calculate_scenario_pnl_pde</span><span class="p">(</span>
<span class="w">                </span><span class="n">positions</span><span class="p">,</span><span class="w"> </span><span class="n">individual_greeks</span><span class="p">,</span><span class="w"> </span><span class="n">scenario</span><span class="p">);</span>
<span class="w">            </span><span class="n">risk</span><span class="p">.</span><span class="n">stress_scenario_pnl</span><span class="p">[</span><span class="n">scenario</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">scenario_pnl</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">calculate_scenario_pnl_pde</span><span class="p">(</span>
<span class="w">        </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">FXPosition</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">positions</span><span class="p">,</span>
<span class="w">        </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">FXPDEGreeks</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">individual_greeks</span><span class="p">,</span>
<span class="w">        </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">scenario</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">total_pnl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span>
<span class="w">        </span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">positions</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">position</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">positions</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">greeks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">individual_greeks</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="w">            </span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">position_pnl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span>
<span class="w">            </span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">scenario</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;FX_SHOCK_UP_10PCT&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="c1">// Choc FX +10%</span>
<span class="w">                </span><span class="kt">double</span><span class="w"> </span><span class="n">fx_shock</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.10</span><span class="p">;</span>
<span class="w">                </span><span class="n">position_pnl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">greeks</span><span class="p">.</span><span class="n">delta_spot</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">position</span><span class="p">.</span><span class="n">notional</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">fx_shock</span><span class="w"> </span><span class="o">+</span>
<span class="w">                              </span><span class="mf">0.5</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">greeks</span><span class="p">.</span><span class="n">gamma_spot</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">position</span><span class="p">.</span><span class="n">notional</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">fx_shock</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">fx_shock</span><span class="p">;</span>
<span class="w">                </span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">scenario</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;VOL_SHOCK_UP_50PCT&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="c1">// Choc volatilité +50%</span>
<span class="w">                </span><span class="kt">double</span><span class="w"> </span><span class="n">vol_shock</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.50</span><span class="p">;</span>
<span class="w">                </span><span class="n">position_pnl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">greeks</span><span class="p">.</span><span class="n">vanna_pde</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">position</span><span class="p">.</span><span class="n">notional</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">vol_shock</span><span class="p">;</span>
<span class="w">                </span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">scenario</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;CORRELATION_BREAKDOWN&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="c1">// Rupture des corrélations</span>
<span class="w">                </span><span class="n">position_pnl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">greeks</span><span class="p">.</span><span class="n">correlation_sensitivity</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">position</span><span class="p">.</span><span class="n">notional</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="mf">-0.5</span><span class="p">);</span>
<span class="w">                </span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">scenario</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;CRISIS_SCENARIO&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="c1">// Scénario de crise combiné</span>
<span class="w">                </span><span class="kt">double</span><span class="w"> </span><span class="n">fx_shock</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">-0.15</span><span class="p">;</span>
<span class="w">                </span><span class="kt">double</span><span class="w"> </span><span class="n">vol_shock</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.0</span><span class="p">;</span>
<span class="w">                </span><span class="n">position_pnl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">greeks</span><span class="p">.</span><span class="n">delta_spot</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">position</span><span class="p">.</span><span class="n">notional</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">fx_shock</span><span class="w"> </span><span class="o">+</span>
<span class="w">                              </span><span class="mf">0.5</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">greeks</span><span class="p">.</span><span class="n">gamma_spot</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">position</span><span class="p">.</span><span class="n">notional</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">fx_shock</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">fx_shock</span><span class="w"> </span><span class="o">+</span>
<span class="w">                              </span><span class="n">greeks</span><span class="p">.</span><span class="n">vanna_pde</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">position</span><span class="p">.</span><span class="n">notional</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">vol_shock</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span>
<span class="w">            </span><span class="n">total_pnl</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">position_pnl</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">total_pnl</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">calculate_concentration_metrics</span><span class="p">(</span>
<span class="w">        </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">FXPosition</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">positions</span><span class="p">,</span>
<span class="w">        </span><span class="n">PortfolioRiskMetrics</span><span class="o">&amp;</span><span class="w"> </span><span class="n">risk</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span>
<span class="w">        </span><span class="c1">// Calcul des métriques de concentration</span>
<span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="n">position_values</span><span class="p">;</span>
<span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="n">exposure_by_pair</span><span class="p">;</span>
<span class="w">        </span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">position</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">positions</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">position_value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">abs</span><span class="p">(</span><span class="n">position</span><span class="p">.</span><span class="n">notional</span><span class="w"> </span><span class="o">*</span><span class="w"> </span>
<span class="w">                                           </span><span class="n">get_fx_rate_to_usd</span><span class="p">(</span><span class="n">position</span><span class="p">.</span><span class="n">currency_pair</span><span class="p">));</span>
<span class="w">            </span><span class="n">position_values</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">position_value</span><span class="p">);</span>
<span class="w">            </span><span class="n">exposure_by_pair</span><span class="p">[</span><span class="n">position</span><span class="p">.</span><span class="n">currency_pair</span><span class="p">]</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">position_value</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span>
<span class="w">        </span><span class="c1">// Tri des positions par valeur</span>
<span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">sort</span><span class="p">(</span><span class="n">position_values</span><span class="p">.</span><span class="n">rbegin</span><span class="p">(),</span><span class="w"> </span><span class="n">position_values</span><span class="p">.</span><span class="n">rend</span><span class="p">());</span>
<span class="w">        </span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">total_value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">accumulate</span><span class="p">(</span><span class="n">position_values</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span><span class="w"> </span><span class="n">position_values</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span><span class="w"> </span><span class="mf">0.0</span><span class="p">);</span>
<span class="w">        </span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">total_value</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">risk</span><span class="p">.</span><span class="n">largest_position_pct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">position_values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">total_value</span><span class="p">;</span>
<span class="w">            </span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">top_10_value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span>
<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">min</span><span class="p">(</span><span class="kt">size_t</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span><span class="w"> </span><span class="n">position_values</span><span class="p">.</span><span class="n">size</span><span class="p">());</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">top_10_value</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">position_values</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="n">risk</span><span class="p">.</span><span class="n">top_10_positions_pct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">top_10_value</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">total_value</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span>
<span class="w">        </span><span class="c1">// Concentration par paire de devises</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="p">[</span><span class="n">pair</span><span class="p">,</span><span class="w"> </span><span class="n">exposure</span><span class="p">]</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">exposure_by_pair</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">risk</span><span class="p">.</span><span class="n">concentration_by_currency_pair</span><span class="p">[</span><span class="n">pair</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">exposure</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">total_value</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span>
<span class="w">    </span><span class="c1">// Méthodes utilitaires (placeholders)</span>
<span class="w">    </span><span class="n">DiscretizationParameters</span><span class="w"> </span><span class="n">create_standard_discretization_params</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">DiscretizationParameters</span><span class="w"> </span><span class="n">params</span><span class="p">;</span>
<span class="w">        </span><span class="n">params</span><span class="p">.</span><span class="n">spot_grid_points</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span>
<span class="w">        </span><span class="n">params</span><span class="p">.</span><span class="n">variance_grid_points</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">50</span><span class="p">;</span>
<span class="w">        </span><span class="n">params</span><span class="p">.</span><span class="n">time_steps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">params</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Eigen</span><span class="o">::</span><span class="n">VectorXd</span><span class="o">&gt;</span><span class="w"> </span><span class="n">solve_pde_for_position</span><span class="p">(</span>
<span class="w">        </span><span class="k">const</span><span class="w"> </span><span class="n">FXPosition</span><span class="o">&amp;</span><span class="w"> </span><span class="n">position</span><span class="p">,</span>
<span class="w">        </span><span class="k">const</span><span class="w"> </span><span class="n">FXLSVMSPDEParameters</span><span class="o">&amp;</span><span class="w"> </span><span class="n">params</span><span class="p">,</span>
<span class="w">        </span><span class="k">const</span><span class="w"> </span><span class="n">DiscretizationParameters</span><span class="o">&amp;</span><span class="w"> </span><span class="n">disc_params</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span>
<span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Eigen</span><span class="o">::</span><span class="n">VectorXd</span><span class="o">&gt;</span><span class="w"> </span><span class="n">solutions</span><span class="p">;</span>
<span class="w">        </span><span class="c1">// Résolution PDE pour cette position</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">solutions</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">get_fx_rate_to_usd</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">currency_pair</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mf">1.0</span><span class="p">;</span><span class="w"> </span><span class="c1">// Placeholder</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">get_fx_volatility</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">currency_pair</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mf">0.12</span><span class="p">;</span><span class="w"> </span><span class="c1">// Placeholder</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">get_fx_correlation</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">pair1</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">pair2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mf">0.3</span><span class="p">;</span><span class="w"> </span><span class="c1">// Placeholder</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">};</span>
</pre></div>
</div>
<p>Le framework de mesures de risque FX LSV Markov Switching PDE dans Our project fournit une solution complète pour l’évaluation, le monitoring et la gestion des risques FX avec des Greeks calculés directement via PDE, des métriques spécialisées et des capacités d’agrégation avancées pour portfolios multi-devises.</p>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2023-2025, PRETORIAN Development Team
            </div>
            Made with 
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/pretorian-project" aria-label="GitHub">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
            </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Risk Measures</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#fx-pde-greeks-framework">FX PDE Greeks Framework</a><ul>
<li><a class="reference internal" href="#primary-fx-greeks-via-pde">Primary FX Greeks via PDE</a><ul>
<li><a class="reference internal" href="#delta-fx-v-s-direct-pde-calculation">Delta FX (∂V/∂S) - Direct PDE Calculation</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#multi-currency-risk-aggregation">Multi-Currency Risk Aggregation</a><ul>
<li><a class="reference internal" href="#portfolio-risk-via-pde">Portfolio Risk via PDE</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../../../_static/documentation_options.js?v=454d727b"></script>
    <script src="../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/scripts/furo.js?v=32e29ea5"></script>
    <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../_static/copybutton.js?v=ab308175"></script>
    <script src="../../../_static/custom.js?v=92eda4d4"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script src="../../../_static/design-tabs.js?v=36754332"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../_static/custom.js?v=92eda4d4"></script>
    </body>
</html>