<!doctype html>
<html class="no-js" lang="en" data-content_root="../../../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="author" title="About these documents" href="../../../about.html" /><link rel="index" title="Index" href="../../../genindex.html" /><link rel="search" title="Search" href="../../../search.html" /><link rel="next" title="1.6.1.2. FX LSV Markov Switching : PDE" href="../FX%20LSV%20Markov%20Switching%20PDE/FX_LSV_Markov_Switching_PDE.html" /><link rel="prev" title="1.6.1. LSV" href="../LSV.html" />

    <link rel="shortcut icon" href="../../../_static/xsigma_favicon.png"/><!-- Generated with Sphinx 7.2.6 and Furo 2023.09.10 -->
        <title>1.6.1.1. FX LSV Markov Switching : Monte Carlo - PRETORIAN Documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom.css?v=8c702e86" />
    <link rel="stylesheet" type="text/css" href="../../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo-extensions.css?v=36a5483c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom.css?v=8c702e86" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --color-brand-primary: #0066cc;
  --color-brand-content: #0066cc;
  --color-admonition-background: #f8f9fa;
  --color-sidebar-background: #f8f9fa;
  --color-sidebar-background-border: #e9ecef;
  --font-stack: system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, sans-serif;
  --font-stack--monospace: SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-brand-primary: #4da6ff;
  --color-brand-content: #4da6ff;
  --color-admonition-background: #1e1e1e;
  --color-sidebar-background: #1e1e1e;
  --color-sidebar-background-border: #404040;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-brand-primary: #4da6ff;
  --color-brand-content: #4da6ff;
  --color-admonition-background: #1e1e1e;
  --color-sidebar-background: #1e1e1e;
  --color-sidebar-background-border: #404040;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../../index.html"><div class="brand">PRETORIAN Documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../../../_static/Logo.ico" alt="Logo"/>
  </div>
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../../../_static/../../Logo.ico" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="../../../_static/../../Logo.ico" alt="Dark Logo"/>
  </div>
  
  <span class="sidebar-brand-text">PRETORIAN Documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../about.html">About</a></li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../../index.html">1. Market</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of 1. Market</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="../../ASV/index.html">1.1. Analytical Sigma Volatility (ASV) Model</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of 1.1. Analytical Sigma Volatility (ASV) Model</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/executive_summary.html">1.1.2.2.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/scope.html">1.1.2.2.2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/product_and_portfolio.html">1.1.2.2.3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/model_methodology.html">1.1.2.2.4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/implementation.html">1.1.2.2.5. Implementation and Numerical Schema</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/calibration.html">1.1.2.2.6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/risk_analysis.html">1.1.2.2.7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/testing_and_validation.html">1.1.2.2.8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/general_limitations.html">1.1.2.2.9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/model_monitoring.html">1.1.2.2.10. Model Monitoring and KPIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/user_guide.html">1.1.2.2.11. User Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/references.html">1.1.2.2.12. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/README.html">1.1.2.2.13. Analytical Sigma Volatility (ASV) Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/executive_summary.html">1.1.2.2.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/scope.html">1.1.2.2.2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/product_and_portfolio.html">1.1.2.2.3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/model_methodology.html">1.1.2.2.4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/implementation.html">1.1.2.2.5. Implementation and Numerical Schema</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/calibration.html">1.1.2.2.6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/risk_analysis.html">1.1.2.2.7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/testing_and_validation.html">1.1.2.2.8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/general_limitations.html">1.1.2.2.9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/model_monitoring.html">1.1.2.2.10. Model Monitoring and KPIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/user_guide.html">1.1.2.2.11. User Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/references.html">1.1.2.2.12. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/README.html">1.1.2.2.13. Analytical Sigma Volatility (ASV) Documentation</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../Curve%20Construction/index.html">1.2. Curve Construction and Risk Framework (NCF)</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of 1.2. Curve Construction and Risk Framework (NCF)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/executive_summary.html">1.2.2.2.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/scope.html">1.2.2.2.2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/product_and_portfolio.html">1.2.2.2.3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/model_methodology.html">1.2.2.2.4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/implementation.html">1.2.2.2.5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/calibration.html">1.2.2.2.6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/risk_analysis.html">1.2.2.2.7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/testing_and_validation.html">1.2.2.2.8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/general_limitations.html">1.2.2.2.9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/model_monitoring.html">1.2.2.2.10. Model Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/development_feedback.html">1.2.2.2.11. Development Feedback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/references.html">1.2.2.2.12. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/README.html">1.2.2.2.13. Curve Construction and Risk Framework Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/executive_summary.html">1.2.2.2.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/scope.html">1.2.2.2.2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/product_and_portfolio.html">1.2.2.2.3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/model_methodology.html">1.2.2.2.4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/implementation.html">1.2.2.2.5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/calibration.html">1.2.2.2.6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/risk_analysis.html">1.2.2.2.7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/testing_and_validation.html">1.2.2.2.8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/general_limitations.html">1.2.2.2.9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/model_monitoring.html">1.2.2.2.10. Model Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/development_feedback.html">1.2.2.2.11. Development Feedback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/references.html">1.2.2.2.12. References</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/index.html">1.3. FX Analytic Volatility Surfaces</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of 1.3. FX Analytic Volatility Surfaces</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/executive_summary.html">1.3.3.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/scope.html">1.3.3.2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/product_payoff_portfolio.html">1.3.3.3. Product / Payoff / Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/model_smile_models.html">1.3.3.4. Smile Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/model_atm_time_models.html">1.3.3.5. ATM Time Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/model_wing_time_models.html">1.3.3.6. Wing Time Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/implementation_numerical_schema.html">1.3.3.7. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/calibration.html">1.3.3.8. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/risk_bumping_methodology.html">1.3.3.9. Risk Bumping Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/risk_inputs_limitations.html">1.3.3.10. Risk Inputs &amp; Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/testing_plan_implementation.html">1.3.3.11. Testing Plan &amp; Implementation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/testing_stress_scenarios.html">1.3.3.12. Stress Testing &amp; Scenarios</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/testing_accuracy_stability.html">1.3.3.13. Accuracy &amp; Stability Testing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/general_limitations.html">1.3.3.14. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/model_monitoring_kpis.html">1.3.3.15. Model Monitoring &amp; KPIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/development_feedback_summary.html">1.3.3.16. Development Feedback Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/references.html">1.3.3.17. References</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../Implied%20Volatility%20Filter/index.html">1.4. Implied Volatility Filter</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of 1.4. Implied Volatility Filter</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/executive_summary.html">1.4.1.5.1.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/scope.html">1.4.1.5.1.2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/product_payoff_portfolio.html">1.4.1.5.1.3. Product / Payoff / Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/model_methodology.html">1.4.1.5.1.4. Model / Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/implementation_numerical_schema.html">1.4.1.5.1.5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/calibration.html">1.4.1.5.1.6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/risk_factors.html">1.4.1.5.1.7. Risk Analysis Framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/testing_and_validation.html">1.4.1.5.1.8. Tests &amp; Outcome Analyses performed on Payoff / Model / Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/appendix.html">1.4.1.5.1.9. Appendix: Quality of bid/ask quotes</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../Ir/index.html">1.5. Linear Interest Rate Swaps</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of 1.5. Linear Interest Rate Swaps</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/executive_summary.html">1.5.1.4.1.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/scope.html">1.5.1.4.1.2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/product_payoff_portfolio.html">1.5.1.4.1.3. Product / Payoff / Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/model_methodology.html">1.5.1.4.1.4. Model / Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/implementation_numerical_schema.html">1.5.1.4.1.5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/calibration.html">1.5.1.4.1.6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/risk_factors.html">1.5.1.4.1.7. Risk Analysis Framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/testing_and_validation.html">1.5.1.4.1.8. Tests &amp; Outcome Analyses performed on Payoff / Model / Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/model_monitoring_kpis.html">1.5.1.4.1.9. Model Monitoring – KPIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/references.html">1.5.1.4.1.10. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/applicable_policy_standards.html">1.5.1.4.1.11. Applicable Policy Standards</a></li>
</ul>
</li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="../index.html">1.6. LSV Guides</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of 1.6. LSV Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3 current has-children"><a class="reference internal" href="../LSV.html">1.6.1. LSV</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of 1.6.1. LSV</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">1.6.1.1. FX LSV Markov Switching : Monte Carlo</a></li>
<li class="toctree-l4"><a class="reference internal" href="../FX%20LSV%20Markov%20Switching%20PDE/FX_LSV_Markov_Switching_PDE.html">1.6.1.2. FX LSV Markov Switching : PDE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Local%20Volatility%20PDE%20and%20MC/Local_Volatility_PDE_and_MC.html">1.6.1.3. Local Volatility: PDE and MC</a></li>
<li class="toctree-l4"><a class="reference internal" href="../LSV%20Markov%20Switching%20%20Monte%20Carlo/LSV_Markov_Switching_Monte_Carlo.html">1.6.1.4. LSV Markov Switching : Monte Carlo</a></li>
<li class="toctree-l4"><a class="reference internal" href="../LSV%20Markov%20Switching%20%20PDE/LSV_Markov_Switching_PDE.html">1.6.1.5. LSV Markov Switching : PDE</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../SABR/index.html">1.7. Interest Rate Volatility Model GSABR</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of 1.7. Interest Rate Volatility Model GSABR</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/executive_summary.html">1.7.1.4.1.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/scope.html">1.7.1.4.1.2. Scope and Use</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/product_and_portfolio.html">1.7.1.4.1.3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/model_methodology.html">1.7.1.4.1.4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/implementation.html">1.7.1.4.1.5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/calibration.html">1.7.1.4.1.6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/risk_analysis.html">1.7.1.4.1.7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/testing_and_validation.html">1.7.1.4.1.8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/general_limitations.html">1.7.1.4.1.9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/model_monitoring.html">1.7.1.4.1.10. Model Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/market_data_integration.html">1.7.1.4.1.11. Market Data Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/performance_benchmarking.html">1.7.1.4.1.12. Performance Benchmarking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/troubleshooting_guide.html">1.7.1.4.1.13. Troubleshooting Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/development_feedback.html">1.7.1.4.1.14. Development Feedback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/references.html">1.7.1.4.1.15. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/executive_summary.html">1.7.1.4.1.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/scope.html">1.7.1.4.1.2. Scope and Use</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/product_and_portfolio.html">1.7.1.4.1.3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/model_methodology.html">1.7.1.4.1.4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/implementation.html">1.7.1.4.1.5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/calibration.html">1.7.1.4.1.6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/risk_analysis.html">1.7.1.4.1.7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/testing_and_validation.html">1.7.1.4.1.8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/general_limitations.html">1.7.1.4.1.9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/model_monitoring.html">1.7.1.4.1.10. Model Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/market_data_integration.html">1.7.1.4.1.11. Market Data Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/performance_benchmarking.html">1.7.1.4.1.12. Performance Benchmarking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/troubleshooting_guide.html">1.7.1.4.1.13. Troubleshooting Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/development_feedback.html">1.7.1.4.1.14. Development Feedback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/references.html">1.7.1.4.1.15. References</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../getting_started/index.html">1. Getting Started</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of 1. Getting Started</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../learning.html">Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../supported_data_formats.html">Supported Data Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../supported_hardware.html">Supported Hardware</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../modules/index.html">Modules</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of Modules</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../modules/xsigma-modules/Wrapping/PythonCore/README.html">Python Wrapper Core Classes</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../build_instructions/index.html">Building</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle navigation of Building</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../build_instructions/build_settings.html">Build Settings</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../api/index.html">1. API</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle navigation of 1. API</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../api/cpp.html">1.1. C++</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api/python.html">1.2. Python</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle navigation of 1.2. Python</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.html">1.2.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle navigation of 1.2.1.1. xsigmamodules</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.common.html">1.2.1.1.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.common</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.1. xsigmamodules.common</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.common.helper.html">1.2.1.1.1.1.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.common.helper</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.common.instrument.html">1.2.1.1.1.1.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.common.instrument</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.market.html">1.2.1.1.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.market</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.2. xsigmamodules.market</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.market.market_data.html">1.2.1.1.1.2.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.market.market_data</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.market.object_factory.html">1.2.1.1.1.2.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.market.object_factory</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.simulation.html">1.2.1.1.1.3. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.simulation</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.3. xsigmamodules.simulation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.simulation.simulation.html">1.2.1.1.1.3.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.simulation.simulation</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.test.html">1.2.1.1.1.4. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.test</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.4. xsigmamodules.test</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.test.BlackBox.html">1.2.1.1.1.4.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.test.BlackBox</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.test.Testing.html">1.2.1.1.1.4.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.test.Testing</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.util.html">1.2.1.1.1.5. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.5. xsigmamodules.util</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.util.misc.html">1.2.1.1.1.5.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.misc</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.util.numpy_support.html">1.2.1.1.1.5.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.numpy_support</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.util.object_converter.html">1.2.1.1.1.5.1.3. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.object_converter</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.util.xsigmaConstants.html">1.2.1.1.1.5.1.4. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.xsigmaConstants</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.util.xsigmaMethodParser.html">1.2.1.1.1.5.1.5. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.xsigmaMethodParser</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.xlwing.html">1.2.1.1.1.6. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.xlwing</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" role="switch" type="checkbox"/><label for="toctree-checkbox-21"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.6. xsigmamodules.xlwing</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.xlwing.hartman_watson_template.html">1.2.1.1.1.6.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.xlwing.hartman_watson_template</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.xlwing.sabr_template.html">1.2.1.1.1.6.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.xlwing.sabr_template</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.generate_pyi.html">1.2.1.1.2.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.generate_pyi</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api/cmake/cmake-modules.html">1.3. CMake</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" role="switch" type="checkbox"/><label for="toctree-checkbox-22"><div class="visually-hidden">Toggle navigation of 1.3. CMake</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../api/cmake/ModuleSystem.html">1.3.1. Module System</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/cmake/xsigmaModule.html">1.3.2. xsigmaModule</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/cmake/xsigmaModuleTesting.html">1.3.3. xsigmaModuleTesting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/cmake/xsigmaModuleWrapPython.html">1.3.4. xsigmaModuleWrapPython</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/cmake/xsigmaModuleWrapJava.html">1.3.5. xsigmaModuleWrapJava</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/cmake/xsigmaModuleJSON.html">1.3.6. xsigmaModuleJSON</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/cmake/xsigmaModuleGraphviz.html">1.3.7. xsigmaModuleGraphviz</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../advanced/index.html">Advanced Topics</a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" role="switch" type="checkbox"/><label for="toctree-checkbox-23"><div class="visually-hidden">Toggle navigation of Advanced Topics</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/available_python_wheels.html">Additional Python Wheels</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/spdx_and_sbom.html">SPDX &amp; SBOM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/build_python_wheels.html">Building Python Wheels</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/build_wasm_emscripten.html">Building using emscripten for WebAssembly</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/build_for_mobile.html">Cross-compiling for Mobile devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/build_documentation.html">Building documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/marshalling_hints.html">Marshalling Hints</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/object_manager.html">Object manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/object_serialization.html">Auto serialization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/PythonWrappers.html">Python Wrappers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/runtime_settings.html">Runtime settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/WrappingTools.html">Wrapping Tools</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../advanced/migration_guides/index.html">Migration Guides</a><input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" role="switch" type="checkbox"/><label for="toctree-checkbox-24"><div class="visually-hidden">Toggle navigation of Migration Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../advanced/migration_guides/ModuleMigration.html">Module Migration from XSIGMA 8.2 to 9+</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../design_documents/index.html">Design Documents</a><input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" role="switch" type="checkbox"/><label for="toctree-checkbox-25"><div class="visually-hidden">Toggle navigation of Design Documents</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../design_documents/XSIGMAFileFormats.html">XSIGMA File Formats</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../design_documents/smptools.html">Parallel Processing with XSIGMA’s SMP Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../design_documents/data_assemply.html">Data Assembly</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../developers_guide/index.html">Developer’s Guide</a><input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" role="switch" type="checkbox"/><label for="toctree-checkbox-26"><div class="visually-hidden">Toggle navigation of Developer’s Guide</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../developers_guide/git/develop.html">Develop</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../developers_guide/testing.html">Regression Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../developers_guide/git/test.html">Adding Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../developers_guide/git/dashboard.html">Dashboard Scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../developers_guide/git/thirdparty.html">Imported Third Party Projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../developers_guide/git/thirdparty-projects.html">Imported Third Party Projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../developers_guide/git/deprecation.html">Deprecation Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../developers_guide/release_process.html">Release Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../developers_guide/coding_conventions.html">Coding Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../developers_guide/about_this_documentation.html">About this documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../resources.html">Resources</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../release_details/index.html">Release Details</a><input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" role="switch" type="checkbox"/><label for="toctree-checkbox-27"><div class="visually-hidden">Toggle navigation of Release Details</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../getting_started/index.html">1. Getting Started</a><input class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" role="switch" type="checkbox"/><label for="toctree-checkbox-28"><div class="visually-hidden">Toggle navigation of 1. Getting Started</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Market Models</span></p>
<ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="../../index.html">1. Market Models Overview</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-29" name="toctree-checkbox-29" role="switch" type="checkbox"/><label for="toctree-checkbox-29"><div class="visually-hidden">Toggle navigation of 1. Market Models Overview</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="../../ASV/index.html">1.1. Analytical Sigma Volatility (ASV) Model</a><input class="toctree-checkbox" id="toctree-checkbox-30" name="toctree-checkbox-30" role="switch" type="checkbox"/><label for="toctree-checkbox-30"><div class="visually-hidden">Toggle navigation of 1.1. Analytical Sigma Volatility (ASV) Model</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/executive_summary.html">1.1.2.2.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/scope.html">1.1.2.2.2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/product_and_portfolio.html">1.1.2.2.3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/model_methodology.html">1.1.2.2.4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/implementation.html">1.1.2.2.5. Implementation and Numerical Schema</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/calibration.html">1.1.2.2.6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/risk_analysis.html">1.1.2.2.7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/testing_and_validation.html">1.1.2.2.8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/general_limitations.html">1.1.2.2.9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/model_monitoring.html">1.1.2.2.10. Model Monitoring and KPIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/user_guide.html">1.1.2.2.11. User Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/references.html">1.1.2.2.12. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/README.html">1.1.2.2.13. Analytical Sigma Volatility (ASV) Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/executive_summary.html">1.1.2.2.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/scope.html">1.1.2.2.2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/product_and_portfolio.html">1.1.2.2.3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/model_methodology.html">1.1.2.2.4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/implementation.html">1.1.2.2.5. Implementation and Numerical Schema</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/calibration.html">1.1.2.2.6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/risk_analysis.html">1.1.2.2.7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/testing_and_validation.html">1.1.2.2.8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/general_limitations.html">1.1.2.2.9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/model_monitoring.html">1.1.2.2.10. Model Monitoring and KPIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/user_guide.html">1.1.2.2.11. User Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/references.html">1.1.2.2.12. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/README.html">1.1.2.2.13. Analytical Sigma Volatility (ASV) Documentation</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../Curve%20Construction/index.html">1.2. Curve Construction and Risk Framework (NCF)</a><input class="toctree-checkbox" id="toctree-checkbox-31" name="toctree-checkbox-31" role="switch" type="checkbox"/><label for="toctree-checkbox-31"><div class="visually-hidden">Toggle navigation of 1.2. Curve Construction and Risk Framework (NCF)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/executive_summary.html">1.2.2.2.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/scope.html">1.2.2.2.2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/product_and_portfolio.html">1.2.2.2.3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/model_methodology.html">1.2.2.2.4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/implementation.html">1.2.2.2.5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/calibration.html">1.2.2.2.6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/risk_analysis.html">1.2.2.2.7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/testing_and_validation.html">1.2.2.2.8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/general_limitations.html">1.2.2.2.9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/model_monitoring.html">1.2.2.2.10. Model Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/development_feedback.html">1.2.2.2.11. Development Feedback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/references.html">1.2.2.2.12. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/README.html">1.2.2.2.13. Curve Construction and Risk Framework Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/executive_summary.html">1.2.2.2.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/scope.html">1.2.2.2.2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/product_and_portfolio.html">1.2.2.2.3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/model_methodology.html">1.2.2.2.4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/implementation.html">1.2.2.2.5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/calibration.html">1.2.2.2.6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/risk_analysis.html">1.2.2.2.7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/testing_and_validation.html">1.2.2.2.8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/general_limitations.html">1.2.2.2.9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/model_monitoring.html">1.2.2.2.10. Model Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/development_feedback.html">1.2.2.2.11. Development Feedback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/references.html">1.2.2.2.12. References</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/index.html">1.3. FX Analytic Volatility Surfaces</a><input class="toctree-checkbox" id="toctree-checkbox-32" name="toctree-checkbox-32" role="switch" type="checkbox"/><label for="toctree-checkbox-32"><div class="visually-hidden">Toggle navigation of 1.3. FX Analytic Volatility Surfaces</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/executive_summary.html">1.3.3.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/scope.html">1.3.3.2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/product_payoff_portfolio.html">1.3.3.3. Product / Payoff / Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/model_smile_models.html">1.3.3.4. Smile Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/model_atm_time_models.html">1.3.3.5. ATM Time Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/model_wing_time_models.html">1.3.3.6. Wing Time Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/implementation_numerical_schema.html">1.3.3.7. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/calibration.html">1.3.3.8. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/risk_bumping_methodology.html">1.3.3.9. Risk Bumping Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/risk_inputs_limitations.html">1.3.3.10. Risk Inputs &amp; Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/testing_plan_implementation.html">1.3.3.11. Testing Plan &amp; Implementation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/testing_stress_scenarios.html">1.3.3.12. Stress Testing &amp; Scenarios</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/testing_accuracy_stability.html">1.3.3.13. Accuracy &amp; Stability Testing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/general_limitations.html">1.3.3.14. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/model_monitoring_kpis.html">1.3.3.15. Model Monitoring &amp; KPIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/development_feedback_summary.html">1.3.3.16. Development Feedback Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/references.html">1.3.3.17. References</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../Implied%20Volatility%20Filter/index.html">1.4. Implied Volatility Filter</a><input class="toctree-checkbox" id="toctree-checkbox-33" name="toctree-checkbox-33" role="switch" type="checkbox"/><label for="toctree-checkbox-33"><div class="visually-hidden">Toggle navigation of 1.4. Implied Volatility Filter</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/executive_summary.html">1.4.1.5.1.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/scope.html">1.4.1.5.1.2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/product_payoff_portfolio.html">1.4.1.5.1.3. Product / Payoff / Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/model_methodology.html">1.4.1.5.1.4. Model / Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/implementation_numerical_schema.html">1.4.1.5.1.5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/calibration.html">1.4.1.5.1.6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/risk_factors.html">1.4.1.5.1.7. Risk Analysis Framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/testing_and_validation.html">1.4.1.5.1.8. Tests &amp; Outcome Analyses performed on Payoff / Model / Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/appendix.html">1.4.1.5.1.9. Appendix: Quality of bid/ask quotes</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../Ir/index.html">1.5. Linear Interest Rate Swaps</a><input class="toctree-checkbox" id="toctree-checkbox-34" name="toctree-checkbox-34" role="switch" type="checkbox"/><label for="toctree-checkbox-34"><div class="visually-hidden">Toggle navigation of 1.5. Linear Interest Rate Swaps</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/executive_summary.html">1.5.1.4.1.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/scope.html">1.5.1.4.1.2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/product_payoff_portfolio.html">1.5.1.4.1.3. Product / Payoff / Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/model_methodology.html">1.5.1.4.1.4. Model / Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/implementation_numerical_schema.html">1.5.1.4.1.5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/calibration.html">1.5.1.4.1.6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/risk_factors.html">1.5.1.4.1.7. Risk Analysis Framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/testing_and_validation.html">1.5.1.4.1.8. Tests &amp; Outcome Analyses performed on Payoff / Model / Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/model_monitoring_kpis.html">1.5.1.4.1.9. Model Monitoring – KPIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/references.html">1.5.1.4.1.10. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/applicable_policy_standards.html">1.5.1.4.1.11. Applicable Policy Standards</a></li>
</ul>
</li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="../index.html">1.6. LSV Guides</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-35" name="toctree-checkbox-35" role="switch" type="checkbox"/><label for="toctree-checkbox-35"><div class="visually-hidden">Toggle navigation of 1.6. LSV Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3 current has-children"><a class="reference internal" href="../LSV.html">1.6.1. LSV</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-36" name="toctree-checkbox-36" role="switch" type="checkbox"/><label for="toctree-checkbox-36"><div class="visually-hidden">Toggle navigation of 1.6.1. LSV</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l4 current current-page"><a class="current reference internal" href="#">1.6.1.1. FX LSV Markov Switching : Monte Carlo</a></li>
<li class="toctree-l4"><a class="reference internal" href="../FX%20LSV%20Markov%20Switching%20PDE/FX_LSV_Markov_Switching_PDE.html">1.6.1.2. FX LSV Markov Switching : PDE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Local%20Volatility%20PDE%20and%20MC/Local_Volatility_PDE_and_MC.html">1.6.1.3. Local Volatility: PDE and MC</a></li>
<li class="toctree-l4"><a class="reference internal" href="../LSV%20Markov%20Switching%20%20Monte%20Carlo/LSV_Markov_Switching_Monte_Carlo.html">1.6.1.4. LSV Markov Switching : Monte Carlo</a></li>
<li class="toctree-l4"><a class="reference internal" href="../LSV%20Markov%20Switching%20%20PDE/LSV_Markov_Switching_PDE.html">1.6.1.5. LSV Markov Switching : PDE</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../SABR/index.html">1.7. Interest Rate Volatility Model GSABR</a><input class="toctree-checkbox" id="toctree-checkbox-37" name="toctree-checkbox-37" role="switch" type="checkbox"/><label for="toctree-checkbox-37"><div class="visually-hidden">Toggle navigation of 1.7. Interest Rate Volatility Model GSABR</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/executive_summary.html">1.7.1.4.1.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/scope.html">1.7.1.4.1.2. Scope and Use</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/product_and_portfolio.html">1.7.1.4.1.3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/model_methodology.html">1.7.1.4.1.4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/implementation.html">1.7.1.4.1.5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/calibration.html">1.7.1.4.1.6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/risk_analysis.html">1.7.1.4.1.7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/testing_and_validation.html">1.7.1.4.1.8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/general_limitations.html">1.7.1.4.1.9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/model_monitoring.html">1.7.1.4.1.10. Model Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/market_data_integration.html">1.7.1.4.1.11. Market Data Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/performance_benchmarking.html">1.7.1.4.1.12. Performance Benchmarking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/troubleshooting_guide.html">1.7.1.4.1.13. Troubleshooting Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/development_feedback.html">1.7.1.4.1.14. Development Feedback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/references.html">1.7.1.4.1.15. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/executive_summary.html">1.7.1.4.1.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/scope.html">1.7.1.4.1.2. Scope and Use</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/product_and_portfolio.html">1.7.1.4.1.3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/model_methodology.html">1.7.1.4.1.4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/implementation.html">1.7.1.4.1.5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/calibration.html">1.7.1.4.1.6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/risk_analysis.html">1.7.1.4.1.7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/testing_and_validation.html">1.7.1.4.1.8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/general_limitations.html">1.7.1.4.1.9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/model_monitoring.html">1.7.1.4.1.10. Model Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/market_data_integration.html">1.7.1.4.1.11. Market Data Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/performance_benchmarking.html">1.7.1.4.1.12. Performance Benchmarking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/troubleshooting_guide.html">1.7.1.4.1.13. Troubleshooting Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/development_feedback.html">1.7.1.4.1.14. Development Feedback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/references.html">1.7.1.4.1.15. References</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../SABR/index.html">1.7. SABR/GSABR Models</a><input class="toctree-checkbox" id="toctree-checkbox-38" name="toctree-checkbox-38" role="switch" type="checkbox"/><label for="toctree-checkbox-38"><div class="visually-hidden">Toggle navigation of 1.7. SABR/GSABR Models</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/executive_summary.html">1.7.1.4.1.1. Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/scope.html">1.7.1.4.1.2. Scope and Use</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/product_and_portfolio.html">1.7.1.4.1.3. Product and Portfolio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/model_methodology.html">1.7.1.4.1.4. Model Methodology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/implementation.html">1.7.1.4.1.5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/calibration.html">1.7.1.4.1.6. Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/risk_analysis.html">1.7.1.4.1.7. Risk Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/testing_and_validation.html">1.7.1.4.1.8. Testing and Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/general_limitations.html">1.7.1.4.1.9. General Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/model_monitoring.html">1.7.1.4.1.10. Model Monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/market_data_integration.html">1.7.1.4.1.11. Market Data Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/performance_benchmarking.html">1.7.1.4.1.12. Performance Benchmarking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/troubleshooting_guide.html">1.7.1.4.1.13. Troubleshooting Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/development_feedback.html">1.7.1.4.1.14. Development Feedback</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/references.html">1.7.1.4.1.15. References</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/executive_summary.html">1.7.1.4.1.1. Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/scope.html">1.7.1.4.1.2. Scope and Use</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/product_and_portfolio.html">1.7.1.4.1.3. Product and Portfolio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/model_methodology.html">1.7.1.4.1.4. Model Methodology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/implementation.html">1.7.1.4.1.5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/calibration.html">1.7.1.4.1.6. Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/risk_analysis.html">1.7.1.4.1.7. Risk Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/testing_and_validation.html">1.7.1.4.1.8. Testing and Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/general_limitations.html">1.7.1.4.1.9. General Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/model_monitoring.html">1.7.1.4.1.10. Model Monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/market_data_integration.html">1.7.1.4.1.11. Market Data Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/performance_benchmarking.html">1.7.1.4.1.12. Performance Benchmarking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/troubleshooting_guide.html">1.7.1.4.1.13. Troubleshooting Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/development_feedback.html">1.7.1.4.1.14. Development Feedback</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/references.html">1.7.1.4.1.15. References</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../ASV/index.html">1.1. Analytical Sigma Volatility</a><input class="toctree-checkbox" id="toctree-checkbox-39" name="toctree-checkbox-39" role="switch" type="checkbox"/><label for="toctree-checkbox-39"><div class="visually-hidden">Toggle navigation of 1.1. Analytical Sigma Volatility</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/executive_summary.html">1.1.2.2.1. Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/scope.html">1.1.2.2.2. Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/product_and_portfolio.html">1.1.2.2.3. Product and Portfolio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/model_methodology.html">1.1.2.2.4. Model Methodology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/implementation.html">1.1.2.2.5. Implementation and Numerical Schema</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/calibration.html">1.1.2.2.6. Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/risk_analysis.html">1.1.2.2.7. Risk Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/testing_and_validation.html">1.1.2.2.8. Testing and Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/general_limitations.html">1.1.2.2.9. General Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/model_monitoring.html">1.1.2.2.10. Model Monitoring and KPIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/user_guide.html">1.1.2.2.11. User Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/references.html">1.1.2.2.12. References</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/README.html">1.1.2.2.13. Analytical Sigma Volatility (ASV) Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/executive_summary.html">1.1.2.2.1. Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/scope.html">1.1.2.2.2. Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/product_and_portfolio.html">1.1.2.2.3. Product and Portfolio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/model_methodology.html">1.1.2.2.4. Model Methodology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/implementation.html">1.1.2.2.5. Implementation and Numerical Schema</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/calibration.html">1.1.2.2.6. Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/risk_analysis.html">1.1.2.2.7. Risk Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/testing_and_validation.html">1.1.2.2.8. Testing and Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/general_limitations.html">1.1.2.2.9. General Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/model_monitoring.html">1.1.2.2.10. Model Monitoring and KPIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/user_guide.html">1.1.2.2.11. User Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/references.html">1.1.2.2.12. References</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/README.html">1.1.2.2.13. Analytical Sigma Volatility (ASV) Documentation</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../Cheyette/index.html">Cheyette Interest Rate Model</a><input class="toctree-checkbox" id="toctree-checkbox-40" name="toctree-checkbox-40" role="switch" type="checkbox"/><label for="toctree-checkbox-40"><div class="visually-hidden">Toggle navigation of Cheyette Interest Rate Model</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/scope.html">2. Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/products_and_payoffs.html">Products and Payoffs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/model_methodology.html">3. Model Methodology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/implementation.html">4. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/calibration.html">5. Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/risk_analysis.html">6. Risk Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/testing_and_validation.html">7. Testing and Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/assumptions_and_limitations.html">1.2.1.9. Assumptions and Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/monitoring_and_kpis.html">8. Monitoring and KPIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/appendices.html">1.2.1.11. Appendices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/README.html">1.2.1.12. Cheyette Local Vol Model Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/scope.html">2. Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/model_methodology.html">3. Model Methodology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/implementation.html">4. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/calibration.html">5. Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/risk_analysis.html">6. Risk Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/testing_and_validation.html">7. Testing and Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/monitoring_and_kpis.html">8. Monitoring and KPIs</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../Curve%20Construction/index.html">1.2. Curve Construction Framework</a><input class="toctree-checkbox" id="toctree-checkbox-41" name="toctree-checkbox-41" role="switch" type="checkbox"/><label for="toctree-checkbox-41"><div class="visually-hidden">Toggle navigation of 1.2. Curve Construction Framework</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/executive_summary.html">1.2.2.2.1. Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/scope.html">1.2.2.2.2. Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/product_and_portfolio.html">1.2.2.2.3. Product and Portfolio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/model_methodology.html">1.2.2.2.4. Model Methodology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/implementation.html">1.2.2.2.5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/calibration.html">1.2.2.2.6. Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/risk_analysis.html">1.2.2.2.7. Risk Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/testing_and_validation.html">1.2.2.2.8. Testing and Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/general_limitations.html">1.2.2.2.9. General Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/model_monitoring.html">1.2.2.2.10. Model Monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/development_feedback.html">1.2.2.2.11. Development Feedback</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/references.html">1.2.2.2.12. References</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/README.html">1.2.2.2.13. Curve Construction and Risk Framework Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/executive_summary.html">1.2.2.2.1. Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/scope.html">1.2.2.2.2. Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/product_and_portfolio.html">1.2.2.2.3. Product and Portfolio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/model_methodology.html">1.2.2.2.4. Model Methodology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/implementation.html">1.2.2.2.5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/calibration.html">1.2.2.2.6. Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/risk_analysis.html">1.2.2.2.7. Risk Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/testing_and_validation.html">1.2.2.2.8. Testing and Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/general_limitations.html">1.2.2.2.9. General Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/model_monitoring.html">1.2.2.2.10. Model Monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/development_feedback.html">1.2.2.2.11. Development Feedback</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/references.html">1.2.2.2.12. References</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../api/index.html">1. API Documentation</a><input class="toctree-checkbox" id="toctree-checkbox-42" name="toctree-checkbox-42" role="switch" type="checkbox"/><label for="toctree-checkbox-42"><div class="visually-hidden">Toggle navigation of 1. API Documentation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../api/cpp.html">1.1. C++</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api/python.html">1.2. Python</a><input class="toctree-checkbox" id="toctree-checkbox-43" name="toctree-checkbox-43" role="switch" type="checkbox"/><label for="toctree-checkbox-43"><div class="visually-hidden">Toggle navigation of 1.2. Python</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.html">1.2.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-44" name="toctree-checkbox-44" role="switch" type="checkbox"/><label for="toctree-checkbox-44"><div class="visually-hidden">Toggle navigation of 1.2.1.1. xsigmamodules</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.common.html">1.2.1.1.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.common</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-45" name="toctree-checkbox-45" role="switch" type="checkbox"/><label for="toctree-checkbox-45"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.1. xsigmamodules.common</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.common.helper.html">1.2.1.1.1.1.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.common.helper</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.common.instrument.html">1.2.1.1.1.1.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.common.instrument</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.market.html">1.2.1.1.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.market</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-46" name="toctree-checkbox-46" role="switch" type="checkbox"/><label for="toctree-checkbox-46"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.2. xsigmamodules.market</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.market.market_data.html">1.2.1.1.1.2.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.market.market_data</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.market.object_factory.html">1.2.1.1.1.2.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.market.object_factory</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.simulation.html">1.2.1.1.1.3. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.simulation</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-47" name="toctree-checkbox-47" role="switch" type="checkbox"/><label for="toctree-checkbox-47"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.3. xsigmamodules.simulation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.simulation.simulation.html">1.2.1.1.1.3.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.simulation.simulation</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.test.html">1.2.1.1.1.4. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.test</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-48" name="toctree-checkbox-48" role="switch" type="checkbox"/><label for="toctree-checkbox-48"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.4. xsigmamodules.test</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.test.BlackBox.html">1.2.1.1.1.4.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.test.BlackBox</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.test.Testing.html">1.2.1.1.1.4.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.test.Testing</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.util.html">1.2.1.1.1.5. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-49" name="toctree-checkbox-49" role="switch" type="checkbox"/><label for="toctree-checkbox-49"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.5. xsigmamodules.util</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.util.misc.html">1.2.1.1.1.5.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.misc</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.util.numpy_support.html">1.2.1.1.1.5.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.numpy_support</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.util.object_converter.html">1.2.1.1.1.5.1.3. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.object_converter</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.util.xsigmaConstants.html">1.2.1.1.1.5.1.4. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.xsigmaConstants</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.util.xsigmaMethodParser.html">1.2.1.1.1.5.1.5. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.xsigmaMethodParser</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.xlwing.html">1.2.1.1.1.6. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.xlwing</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-50" name="toctree-checkbox-50" role="switch" type="checkbox"/><label for="toctree-checkbox-50"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.6. xsigmamodules.xlwing</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.xlwing.hartman_watson_template.html">1.2.1.1.1.6.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.xlwing.hartman_watson_template</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.xlwing.sabr_template.html">1.2.1.1.1.6.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.xlwing.sabr_template</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.generate_pyi.html">1.2.1.1.2.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.generate_pyi</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api/cmake/cmake-modules.html">1.3. CMake</a><input class="toctree-checkbox" id="toctree-checkbox-51" name="toctree-checkbox-51" role="switch" type="checkbox"/><label for="toctree-checkbox-51"><div class="visually-hidden">Toggle navigation of 1.3. CMake</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../api/cmake/ModuleSystem.html">1.3.1. Module System</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/cmake/xsigmaModule.html">1.3.2. xsigmaModule</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/cmake/xsigmaModuleTesting.html">1.3.3. xsigmaModuleTesting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/cmake/xsigmaModuleWrapPython.html">1.3.4. xsigmaModuleWrapPython</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/cmake/xsigmaModuleWrapJava.html">1.3.5. xsigmaModuleWrapJava</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/cmake/xsigmaModuleJSON.html">1.3.6. xsigmaModuleJSON</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/cmake/xsigmaModuleGraphviz.html">1.3.7. xsigmaModuleGraphviz</a></li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section class="tex2jax_ignore mathjax_ignore" id="fx-lsv-markov-switching-monte-carlo">
<h1><span class="section-number">1.6.1.1. </span>FX LSV Markov Switching : Monte Carlo<a class="headerlink" href="#fx-lsv-markov-switching-monte-carlo" title="Link to this heading">#</a></h1>
<section id="table-of-contents">
<h2><span class="section-number">1.6.1.1.1. </span>Table of Contents<a class="headerlink" href="#table-of-contents" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="#fx-lsv-markov-switching-monte-carlo">FX LSV Markov Switching : Monte Carlo</a></p>
<ul>
<li><p><a class="reference internal" href="#table-of-contents">Table of Contents</a></p></li>
<li><p><a class="reference internal" href="#executive-summary">1. Executive Summary</a></p></li>
<li><p><a class="reference internal" href="#scope-and-use">2. Scope and Use</a></p></li>
<li><p><a class="reference internal" href="#product-and-portfolio">3. Product and Portfolio</a></p>
<ul>
<li><p><a class="reference internal" href="#description">3.1. Description</a></p>
<ul>
<li><p><a class="reference internal" href="#vanilla-options">3.1.1. Vanilla Options</a></p></li>
<li><p><a class="reference internal" href="#volatility-swap">3.1.2. Volatility swap</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#relationship-to-other-approved-models">3.2. Relationship to Other Approved Models</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#methodology">4. Methodology</a></p>
<ul>
<li><p><a class="reference internal" href="#design-consideration-development-process">4.1. Design Consideration &amp; Development Process</a></p></li>
<li><p><a class="reference internal" href="#id1">4.2. Description</a></p>
<ul>
<li><p><a class="reference internal" href="#stochastic-volatility">4.2.1. Stochastic Volatility</a></p></li>
<li><p><a class="reference internal" href="#local-stochastic-volatility">4.2.2. Local Stochastic Volatility</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#model-assumptions">4.3. Model Assumptions</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id8">FX LSV Markov Switching : Monte Carlo</a></p>
<ul>
<li><p><a class="reference internal" href="#model-limitations">4.4. Model Limitations</a></p></li>
<li><p><a class="reference internal" href="#model-inputs-and-parameters">4.5. Model Inputs and Parameters</a></p></li>
<li><p><a class="reference internal" href="#model-outputs">4.6. Model Outputs</a></p></li>
<li><p><a class="reference internal" href="#feeder-models">4.7. Feeder Models</a></p></li>
<li><p><a class="reference internal" href="#conceptual-soundness-and-model-selection">4.8. Conceptual Soundness and Model Selection</a></p></li>
<li><p><a class="reference internal" href="#data-processing-and-calibration">5. Data Processing and Calibration</a></p>
<ul>
<li><p><a class="reference internal" href="#id2">5.1. Description</a></p>
<ul>
<li><p><a class="reference internal" href="#calibration-of-the-local-volatility-correction">5.1.1. Calibration of the Local Volatility Correction</a></p>
<ul>
<li><p><a class="reference internal" href="#calibration-of-the-local-volatility">5.1.1.1. Calibration of the Local Volatility</a></p></li>
<li><p><a class="reference internal" href="#use-of-the-fokker-planck-equation-to-calibrate-the-local-volatility-correction-factor">5.1.1.2. Use of the Fokker Planck equation to calibrate the Local Volatility Correction factor</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#time-grids-construction-in-calibration-of-lsv-ms-monte-carlo">5.1.2. Time Grids Construction in Calibration of LSV MS Monte Carlo</a></p></li>
<li><p><a class="reference internal" href="#inputs-and-parameters-used-for-calibration">5.1.3. Inputs and Parameters Used for Calibration.</a></p>
<ul>
<li><p><a class="reference internal" href="#local-volatility-correction-calibration-settings">5.1.3.1. Local Volatility Correction Calibration Settings</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#alternative-approaches">5.2. Alternative Approaches</a></p></li>
<li><p><a class="reference internal" href="#quality-control">5.3. Quality control</a></p></li>
<li><p><a class="reference internal" href="#limitations">5.4. Limitations</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#numerical-implementation">6. Numerical Implementation</a></p>
<ul>
<li><p><a class="reference internal" href="#id3">6.1. Description</a></p>
<ul>
<li><p><a class="reference internal" href="#discretization-of-spot-and-volatility-process">6.1.1. Discretization of spot and volatility process</a></p>
<ul>
<li><p><a class="reference internal" href="#evolution-of-spot-process">6.1.1.1. Evolution of spot process</a></p></li>
<li><p><a class="reference internal" href="#evolution-of-volatility-process">6.1.1.2. Evolution of volatility process</a></p>
<ul>
<li><p><a class="reference internal" href="#computation-of-the-transition-probability-matrix">6.1.1.2.1 Computation of the transition Probability Matrix</a></p></li>
<li><p><a class="reference internal" href="#generation-of-bernoullis">6.1.1.2.2  Generation of Bernoullis</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#inputs">6.2.  Inputs</a></p>
<ul>
<li><p><a class="reference internal" href="#fxmcdateoptionspp">6.2.1.  FXMCDateOptionsPP</a></p></li>
<li><p><a class="reference internal" href="#fxdateoptionsstepschedulepp">6.2.2.  FXDateOptionsStepSchedulePP</a></p></li>
<li><p><a class="reference internal" href="#fxmcplsimulatoroptionspp">6.2.3.  FXMCPLSimulatorOptionsPP</a></p></li>
<li><p><a class="reference internal" href="#fxmcrngoptionspp">6.2.4. FXMCRNGOptionsPP</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id4">6.3. Limitations</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#risk-measures">7. Risk Measures</a></p>
<ul>
<li><p><a class="reference internal" href="#id5">7.1. Description</a></p></li>
<li><p><a class="reference internal" href="#id6">7.2. Inputs</a></p></li>
<li><p><a class="reference internal" href="#id7">7.3. Limitations</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#testing-and-outcome-analysis">8. Testing and Outcome Analysis</a></p>
<ul>
<li><p><a class="reference internal" href="#testing-plan">8.1. Testing Plan</a></p>
<ul>
<li><p><a class="reference internal" href="#calibration-correctness-repricing-of-fx-volatility-inputs">8.1.1. Calibration correctness : repricing of FX Volatility inputs</a></p></li>
<li><p><a class="reference internal" href="#consistency-with-lsv-ms-pde">8.1.2. Consistency with LSV MS PDE</a></p></li>
<li><p><a class="reference internal" href="#ccar-scenario-stress-testing">8.1.3. CCAR Scenario Stress testing</a></p></li>
<li><p><a class="reference internal" href="#sensitivity-analysis-with-respect-to-market-inputs">8.1.4. Sensitivity Analysis with respect to Market Inputs</a></p></li>
<li><p><a class="reference internal" href="#sensitivity-analysis-with-respect-to-model-parameters">8.1.5. Sensitivity Analysis with respect to Model Parameters</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#market-data-model-parameters-and-calibration-settings">8.2. Market Data, Model Parameters and Calibration Settings</a></p>
<ul>
<li><p><a class="reference internal" href="#market-data-and-model-parameters">8.2.1. Market Data and Model Parameters</a></p>
<ul>
<li><p><a class="reference internal" href="#vol-of-vol-term-structure">Vol-of-Vol Term Structure</a></p></li>
<li><p><a class="reference internal" href="#transition-q-term-structure">Transition q Term Structure</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#calibration-settings">8.2.2. Calibration Settings</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#accuracy-robustness-and-stability-testing">8.3. Accuracy, Robustness and Stability Testing</a></p>
<ul>
<li><p><a class="reference internal" href="#lsv-ms-mc-test-1-check-convergence-of-numerical-method-for-a-vanilla-option">8.3.1. LSV MS MC Test 1: Check convergence of numerical method for a vanilla option</a></p></li>
<li><p><a class="reference internal" href="#lsv-ms-mc-test-6-check-convergence-of-numerical-method-for-a-volatility-swap">8.3.2. LSV MS MC Test 6: Check convergence of numerical method for a Volatility Swap</a></p></li>
<li><p><a class="reference internal" href="#lsv-ms-mc-test-2-check-matching-implied-volatilities-with-analytic-pricer-for-short-and-long-dated-vanilla-options">8.3.3. LSV MS MC Test 2: Check matching implied volatilities with Analytic pricer for short and long dated vanilla options</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#834-lsv-ms-mc-test-3--check-matching-implied-volatilities-with-analytic-pricer-for-different-q-parameter-values"><span class="xref myst">8.3.4. LSV MS MC Test 3 : Check matching implied volatilities with Analytic pricer for different <span class="math notranslate nohighlight">\(q\)</span> parameter values</span></a></p></li>
<li><p><a class="reference internal" href="#scenario-and-stress-testing">8.4. Scenario and Stress-testing</a></p></li>
<li><p><a class="reference internal" href="#lsv-ms-mc-test-10-ccar-scenarios">8.4.1. LSV MS MC Test 10 : CCAR Scenarios</a></p></li>
<li><p><a class="reference internal" href="#sensitivity-analysis">8.5. Sensitivity Analysis</a></p>
<ul>
<li><p><a class="reference internal" href="#lsv-ms-mc-test-11-sensitivity-with-respect-to-market-inputs">8.5.1. LSV MS MC Test 11 : Sensitivity with respect to market inputs</a></p></li>
<li><p><a class="reference internal" href="#relative-shift-of-spot-and-atm-vol-delta-ccy1">Relative Shift of Spot and ATM Vol: Delta CCY1</a></p></li>
<li><p><a class="reference internal" href="#relative-shift-of-spot-and-atm-vol-delta-ccy2">Relative Shift of Spot and ATM Vol: Delta CCY2</a></p></li>
<li><p><a class="reference internal" href="#comparison-between-lsv-ms-mc-and-lsv-mc-pde-for-different-strikes-values">Comparison between LSV MS MC and LSV MC PDE for different strikes values</a></p></li>
<li><p><a class="reference internal" href="#comparison-between-lsv-ms-mc-and-lsv-mc-pde-for-different-q-parameter-values">Comparison between LSV MS MC and LSV MC PDE for different q parameter values</a></p></li>
<li><p><a class="reference internal" href="#comparison-between-lsv-ms-mc-and-lsv-mc-pde-for-different-vol-of-vol-values">Comparison between LSV MS MC and LSV MC PDE for different Vol of Vol values</a></p></li>
<li><p><a class="reference internal" href="#fx-lsv-markov-switching--monte-carlo-2"><span class="xref myst">FX LSV Markov Switching : Monte Carlo</span></a></p></li>
<li><p><a class="reference internal" href="#lsv-ms-mc-test-12-sensitivity-with-respect-to-model-parameters">8.5.2. LSV MS MC Test 12 : Sensitivity with respect to model parameters</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#back-testing">8.6. Back-testing</a></p></li>
<li><p><a class="reference internal" href="#benchmarking">8.7. Benchmarking</a></p>
<ul>
<li><p><a class="reference internal" href="#lsv-ms-mc-test-7-check-matching-prices-between-lsv-ms-mc-and-lsv-ms-pde-for-a-volatility-swap-for-different-strikes-prices">8.7.1. LSV MS MC Test 7 : Check matching prices between LSV MS MC and LSV MS PDE for a Volatility Swap for different strikes prices</a></p></li>
<li><p><a class="reference internal" href="#lsv-ms-mc-test-8-check-matching-prices-between-lsv-ms-mc-and-lsv-ms-pde-for-a-volatility-swap-for-different-transition-q-parameters">8.7.2. LSV MS MC Test 8 : Check matching prices between LSV MS MC and LSV MS PDE for a Volatility Swap for different transition q parameters</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#other-analysis-testing">8.8. Other Analysis / Testing</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#assumptions-and-limitations">9. Assumptions and Limitations</a></p></li>
<li><p><a class="reference internal" href="#qa-implementation-environment-and-controls">10. QA Implementation Environment and Controls</a></p></li>
<li><p><a class="reference internal" href="#model-monitoring-kpis">11. Model Monitoring – KPIs</a></p></li>
<li><p><a class="reference internal" href="#references">12. References</a></p></li>
<li><p><a class="reference internal" href="#a-appendix-glossary">A. Appendix: Glossary</a></p></li>
</ul>
</li>
</ul>
</section>
<section id="executive-summary">
<h2><span class="section-number">1.6.1.1.2. </span>1. Executive Summary<a class="headerlink" href="#executive-summary" title="Link to this heading">#</a></h2>
<p>The aim of this document is to describe the Local Stochastic Volatility Markov Switching (LSV MS) model and its pricing of FX derivative products using the Monte Carlo (MC) approach (GMD 4198).</p>
<p>Local Stochastic Volatility models (LSV) combine the best aspects of Stochastic Volatility models (SV) - i.e capture stylized facts of volatility dynamics - and Local Volatility models (LV), i.e fit any market quoted volatility surface. However, standard LSV models need a two dimensional partial derivative equation (PDE) to calibrate which is slow.</p>
<p>To address this issue, the LSV MS was designed among LSV models to achieve a better speed performance. The main idea is to use a discrete number of volatility states instead of a continuous volatility process. The randomness of the volatility process is captured with a continuous time Markov chain. This has a clear speed advantage and improves both pricing and risk management.</p>
<p>The LSV MS model has been extensively discussed in [1], where various tests on its calibration, back-testing and a detailed study of model dynamics have been presented. This document focuses on the Monte Carlo scheme and is designed to explain the main differences with the PDE scheme.</p>
<p>The Monte Carlo scheme, while slower to converge than the PDE scheme, is able to price a wider range of exotic products. All calibration routines are performed prior to pricing and thus are common and valid for both PDE and Monte Carlo pricing engines. For this reason, tests presented in this document only focus on whether LSV MS MC can match the results of LSV MS PDE on vanilla options and first generation exotics.</p>
<p>The LSV MS is only fit for single currency pair trades. Other limitations include the independence between the Brownian motion driving the spot process and the Markov chain driving the volatility process, or the fact that only the deterministic interest rate case is considered.</p>
<p>Tests are conclusive and confirm that LSV MS MC is able to match LSV MS PDE prices within an acceptable degree of tolerance. Because the pricing computation time is slower than with the PDE scheme, the MC scheme should only be used for payoffs which cannot be priced by the PDE engine, i.e. some of the second generation exotics.</p>
<p>Feedback from Trading is positive. They qualify the model as easy to understand and generating intuitive and stable risks.</p>
</section>
<section id="scope-and-use">
<h2><span class="section-number">1.6.1.1.3. </span>2. Scope and Use<a class="headerlink" href="#scope-and-use" title="Link to this heading">#</a></h2>
<p>The scope of the present document is to present the model dynamics, its calibration and the pricing using the Monte Carlo schema.</p>
<p>The PDE engine allows precise and fast calculation of PV as well as risks. However the payoffs covered by this technique are quite restricted, especially when applying to highly path-dependent products. Therefore, connecting LSV MS to the Monte Carlo engine opens the road for pricing and hedging a whole new range of products. Particularly, this allows all the Pre-Trade-Approval (PTA) trades based on Padla script to be priced, booked and hedged under LSV MS model.</p>
<p>The pricing of specific payoffs will be covered in separate documents.</p>
<p>The intended usage of the valuation model is for both internal users, including the trading desk, risk management and research, and external clients. LSVMS calculates Present Value (PV) and risk measures are calculated externally by the risk engine using the finite difference bump and reprice approach. Results of the calculation i.e. PV, risks, scenarios are for live pricing and risk management of the trading positions, hedging analysis, setting risk limits and for VaR calculations.</p>
<p>In the following sections, we will explain the products/payoffs, model methodology, numerical implementation, calibration, risks, test results and analysis, and some limitations of the model. We focus on details specific to the Monte Carlo scheme and therefore only provide a short description on other aspects of the LSV MS model. More details can be found in [1].</p>
</section>
<section id="product-and-portfolio">
<h2><span class="section-number">1.6.1.1.4. </span>3. Product and Portfolio<a class="headerlink" href="#product-and-portfolio" title="Link to this heading">#</a></h2>
<p>In this chapter we give a brief description of the payoffs encountered in this document.
We focus in this document on showing that:</p>
<p>• LSV MS MC can match the prices of vanilla options which are used for calibration</p>
<p>• LSV MS MC can match the prices of LSV MS PDE for first generation exotics, which are forward smile dependent products (see [1] for more on forward smile).</p>
<p>No details is given on the second generation exotic payoffs as these will be covered in a separate document.</p>
<p>Only enough detail is provided in order to make sense of the pricing results provided in the testing sections. The following is not an exhaustive description of the booked trades of similar type, and separate documents will cover those products for pricing purposes.</p>
<section id="description">
<h3><span class="section-number">1.6.1.1.4.1. </span>3.1. Description<a class="headerlink" href="#description" title="Link to this heading">#</a></h3>
<section id="vanilla-options">
<h4><span class="section-number">1.6.1.1.4.1.1. </span>3.1.1. Vanilla Options<a class="headerlink" href="#vanilla-options" title="Link to this heading">#</a></h4>
<p>The cash settled European vanilla option has a pay-off, at a specified payment date T_p &gt; T and settlement currency, given by:</p>
<p>• European Call option pay-off: <span class="math notranslate nohighlight">\(N(S_T - K)_+\)</span></p>
<p>• European Put option pay-off: <span class="math notranslate nohighlight">\(N(K - S_T)_+\)</span></p>
<p>where <span class="math notranslate nohighlight">\(S_T\)</span> is the market settled FX Spot level at expiry time <span class="math notranslate nohighlight">\(T\)</span>, <span class="math notranslate nohighlight">\(K\)</span> is the option strike level and <span class="math notranslate nohighlight">\(N\)</span> the notional amount. Please refer to [12] and [13] for more details.</p>
</section>
<section id="volatility-swap">
<h4><span class="section-number">1.6.1.1.4.1.2. </span>3.1.2. Volatility swap<a class="headerlink" href="#volatility-swap" title="Link to this heading">#</a></h4>
<p>A volatility swap is a forward contract on the future realized volatility of a given underlying asset. In detail, it is a product that pays:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
M(\sqrt{V} - K),
\]</div>
</div>
<p>at a settlement date <span class="math notranslate nohighlight">\(t_s\)</span>, where <span class="math notranslate nohighlight">\(M\)</span> is the notional, <span class="math notranslate nohighlight">\(K\)</span> is the strike and <span class="math notranslate nohighlight">\(V\)</span> is the realized variance of the returns of the spot rate <span class="math notranslate nohighlight">\(S\)</span> over the fixing dates <span class="math notranslate nohighlight">\(\{T_0,...,T_N\}\)</span>. The variance <span class="math notranslate nohighlight">\(V\)</span> is given by:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
V = \frac{252}{N} \sum_{i=1}^{N} (\log(S_{T_i}/S_{T_{i-1}}))^2, (3.1)
\]</div>
</div>
<p>where 252 is a standard annualization factor that stands for the number of business days in one year. For more details please refer to [14].</p>
</section>
</section>
<section id="relationship-to-other-approved-models">
<h3><span class="section-number">1.6.1.1.4.2. </span>3.2. Relationship to Other Approved Models<a class="headerlink" href="#relationship-to-other-approved-models" title="Link to this heading">#</a></h3>
<p>This is not applicable as this is a not pricing model.</p>
</section>
</section>
<section id="methodology">
<h2><span class="section-number">1.6.1.1.5. </span>4. Methodology<a class="headerlink" href="#methodology" title="Link to this heading">#</a></h2>
<section id="design-consideration-development-process">
<h3><span class="section-number">1.6.1.1.5.1. </span>4.1. Design Consideration &amp; Development Process<a class="headerlink" href="#design-consideration-development-process" title="Link to this heading">#</a></h3>
<p>The search for parsimonious models that would capture the market-observed smile behavior in the implied volatility surface (IVS) is still one of the main research topics in Mathematical Finance. Among the different models that have been introduced, perhaps the two most important attempts are the Stochastic Volatility models (e.g. Heston model), and the Local Volatility model of Dupire (see [9]). While SV models capture crucial stylized facts of the volatility dynamics, they cannot perfectly calibrate the IVS, especially for short maturities. On the other hand, the LV model was constructed to fit any arbitrage-free IVS but has poor dynamical properties.</p>
<p>Thanks to Gyongy’s lemma, Local Stochastic Volatility models are able to combine the best aspects of LV and SV. However, standard LSV models require to solve a full two-dimensional PDE for the calibration which can be time consuming.</p>
<p>In this chapter we consider the Local Stochastic Volatility Markov Switching model which is a LSV model designed primarily for speed performance. The gist is to use only a discrete states continuous Markov chain to model the volatility instead of a full stochastic process. Conceptually this allows to switch from a two dimension model to a multi one dimension model, which represents a clear speed advantage. In addition to this, the possibility to directly mark the stochastic volatility parameters makes the impact of the stochastic volatility component transparent to the trading desk.</p>
</section>
<section id="id1">
<h3><span class="section-number">1.6.1.1.5.2. </span>4.2. Description<a class="headerlink" href="#id1" title="Link to this heading">#</a></h3>
<p>In LSV MS, the FX spot rate follows a stochastic process where the instantaneous volatility has a stochastic volatility component in combination with a local volatility one.</p>
<p>We begin by describing how the stochastic volatility is specified within the model.</p>
<section id="stochastic-volatility">
<h4><span class="section-number">1.6.1.1.5.2.1. </span>4.2.1. Stochastic Volatility<a class="headerlink" href="#stochastic-volatility" title="Link to this heading">#</a></h4>
<p>The stochastic instantaneous volatility is allowed to take one of <span class="math notranslate nohighlight">\(n\)</span> possible values. Random transitions are allowed between the volatility states at any time and are described by a continuous time Markov chain process.</p>
<p>A continuous time, discrete-valued Markov chain is a stochastic process <span class="math notranslate nohighlight">\(\{\xi(t) : t \geq 0\}\)</span>, where <span class="math notranslate nohighlight">\(\xi(t)\)</span> takes values only in <span class="math notranslate nohighlight">\(\{1,\ldots,n\}\)</span>, with <span class="math notranslate nohighlight">\(n\)</span> being the number of states. To define a continuous time Markov Chain we need to specify its <span class="math notranslate nohighlight">\(n \times n\)</span> instantaneous transition rate matrix <span class="math notranslate nohighlight">\(Q(t)\)</span>, with elements <span class="math notranslate nohighlight">\(q_{ij}(t)\)</span>, <span class="math notranslate nohighlight">\(i,j \in \{1,\ldots,n\}\)</span> and <span class="math notranslate nohighlight">\(t \geq 0\)</span>. For the transition matrix to be valid, it must fulfill the following conditions :</p>
<p>• <span class="math notranslate nohighlight">\(n \times n\)</span> matrix, with <span class="math notranslate nohighlight">\(n\)</span> being the number of states.</p>
<p>• <span class="math notranslate nohighlight">\(q_{ii}(t) \leq 0\)</span> for all <span class="math notranslate nohighlight">\(i\)</span>. <span class="math notranslate nohighlight">\(q_i(t) := -q_{ii}(t)\)</span> is the rate at which the process leaves the state <span class="math notranslate nohighlight">\(i\)</span>.</p>
<p>• <span class="math notranslate nohighlight">\(q_{ij}(t) \geq 0\)</span> for all <span class="math notranslate nohighlight">\(i \neq j\)</span>. <span class="math notranslate nohighlight">\(q_{ij}(t)\)</span> being the instantaneous rate at which the process moves from state <span class="math notranslate nohighlight">\(i\)</span> to state <span class="math notranslate nohighlight">\(j\)</span>.</p>
<p>• <span class="math notranslate nohighlight">\(\sum_j q_{ij}(t) = 0\)</span> for all <span class="math notranslate nohighlight">\(i\)</span>.</p>
<p>When considering a given time interval <span class="math notranslate nohighlight">\([s,t]\)</span>, a transition generator matrix <span class="math notranslate nohighlight">\(Q(s,t)\)</span> is utilized and defined as :</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
Q(s,t) := \int_s^t Q(u)du,  \tag{4.1}
\]</div>
</div>
<p>i.e. the integral of instantaneous transition rate matrix with respect to the given time interval. From the transition generator matrix follows the transition probability matrix between the different states, which following the general theory of Markov chains is obtained as (see [3]) :</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
P(s,t) = \exp(Q(s,t)).  \tag{4.2}
\]</div>
</div>
<p>In other terms, given that we are in state <span class="math notranslate nohighlight">\(i\)</span> at time <span class="math notranslate nohighlight">\(s\)</span>, the conditional probability <span class="math notranslate nohighlight">\(p_{ij}(s,t)\)</span> of being in state <span class="math notranslate nohighlight">\(j\)</span> at time <span class="math notranslate nohighlight">\(t\)</span>, is :</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
p_{ij}(s,t) := \mathbb{P}(\xi(t) = j|\xi(s) = i) = P(s,t)_{ij}.
\]</div>
</div>
<p>Furthermore we make the following simplifying assumption [A.2] <span class="math notranslate nohighlight">\(^1\)</span> on <span class="math notranslate nohighlight">\(Q(s,t)\)</span>, that is :</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
Q(s,t) = \bar{Q} \int_s^t q(u)du,  \tag{4.3}
\]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(\bar{Q}\)</span> is a constant <span class="math notranslate nohighlight">\(n \times n\)</span> matrix and <span class="math notranslate nohighlight">\(q(u)\)</span> is a time dependent scalar function. In addition to the above, the time dependent function <span class="math notranslate nohighlight">\(q(u)\)</span> is assumed to be piecewise constant (assumption [A.3]).</p>
<p>In summary the stochastic instantaneous volatility in Markov Switching follows the following process:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\Sigma(t) = \sigma_{\xi(t)}(t),
\]</div>
</div>
<p>where</p>
<p>• <span class="math notranslate nohighlight">\(\xi(t) : [0,\infty) \to 1\ldots n\)</span> a continuous time stochastic Markov chain.</p>
<p>• <span class="math notranslate nohighlight">\(n \in \mathbb{N}\)</span> being the number of volatility states with <span class="math notranslate nohighlight">\(n &gt; 1\)</span>.</p>
<p>• <span class="math notranslate nohighlight">\(\sigma_i : [0,\infty) \to \mathbb{R}^+\)</span> where <span class="math notranslate nohighlight">\(i \in 1\ldots n\)</span> a discrete set of deterministic functions.</p>
<p>Each discrete volatility <span class="math notranslate nohighlight">\(\sigma_i\)</span> is a function of the volatility of volatility (vol-of-vol) parameter <span class="math notranslate nohighlight">\(\alpha(t)\)</span> defined as follows:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\sigma_i(t) = \exp^{(i-1-[\frac{n}{2}])\alpha(t)}.
\]</div>
</div>
<p>Similarly to transition term structure <span class="math notranslate nohighlight">\(q(t)\)</span>, the vol-of-vol function <span class="math notranslate nohighlight">\(\alpha(t)\)</span> is assumed to be piecewise constant (assumption [A.3]).</p>
<p>The LSV MS model implemented in the library supports an odd number of states. Moreover, for <span class="math notranslate nohighlight">\(n = 2k + 1, k \in \mathbb{N}\)</span>, the initial volatility state will be the middle state <span class="math notranslate nohighlight">\(\sigma_{k+1}(t)\)</span>.</p>
<p>E.g. For three volatility states, we have the following:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\sigma_1(t) = \exp^{-\alpha(t)}.
\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\sigma_2(t) = 1.
\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\sigma_3(t) = \exp^{+\alpha(t)}.
\]</div>
</div>
<p><span class="math notranslate nohighlight">\(^1\)</span>A summary of assumptions can be found in 4.3</p>
</section>
<section id="local-stochastic-volatility">
<h4><span class="section-number">1.6.1.1.5.2.2. </span>4.2.2. Local Stochastic Volatility<a class="headerlink" href="#local-stochastic-volatility" title="Link to this heading">#</a></h4>
<p>A local volatility correction is incorporated in the FX spot diffusion term in order to be able to recover the vanilla prices in the market for any strike.</p>
<p>The model dynamics of LSV MS are specified then by the following Stochastic Differential Equation (SDE),</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\frac{dS(t)}{S(t)} = r_{d,f}(t)dt + \Sigma(t)A(S(t),t)dW(t)  \tag{4.4}
\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\Sigma(t) = \sigma_{\xi(t)}(t)
\]</div>
</div>
<p>where :</p>
<p>• <span class="math notranslate nohighlight">\(S(t)\)</span> is the spot FX (units of domestic currency per foreign).</p>
<p>• <span class="math notranslate nohighlight">\(r_{d,f}(t) : r_d(t) - r_f(t)\)</span> is the FX rate drift, assumed deterministic ([A.4]).</p>
<p>• <span class="math notranslate nohighlight">\(W(t)\)</span> is a Brownian motion under the risk-neutral measure. <span class="math notranslate nohighlight">\(W(t)\)</span> is independent of <span class="math notranslate nohighlight">\(\xi(t)\)</span>.</p>
<p>• <span class="math notranslate nohighlight">\(A(S(t),t)\)</span> deterministic local volatility correction.</p>
<p>• <span class="math notranslate nohighlight">\(\xi(t) : [0,\infty) \to 1\ldots n\)</span> a continuous time stochastic Markov chain.</p>
<p>• <span class="math notranslate nohighlight">\(n \in \mathbb{N}\)</span> being the number of volatility states</p>
<p>• <span class="math notranslate nohighlight">\(\sigma_i : [0,\infty) \to \mathbb{R}^+\)</span> where <span class="math notranslate nohighlight">\(i \in 1\ldots n\)</span> a discrete set of deterministic functions as specified in the previous subsection.</p>
<p>We will assume throughout the document that the number of volatility states is 3, which is the current standard in production (Assumption [A.5]). Similarly, we assume (Assumption [A.6]) that the transition matrix <span class="math notranslate nohighlight">\(\bar{Q}\)</span> to be :</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}
\bar{Q} = \begin{pmatrix} -1 &amp; 1 &amp; 0 \\ 1/2 &amp; -1 &amp; 1/2 \\ 0 &amp; 1 &amp; -1 \end{pmatrix},  \tag{4.5}
\end{split}\]</div>
</div>
<p>which implies that the Markov chain can only jump to an adjacent state. The second row of the matrix tells that there is equal probability to move from the middle state towards the upper and lower state. This mimic the behavior of a stochastic volatility dynamics driven by a diffusion process: at any given time <span class="math notranslate nohighlight">\(t\)</span>, if <span class="math notranslate nohighlight">\(\sigma_t\)</span> is dependent on a Brownian motion, <span class="math notranslate nohighlight">\(\sigma_{t+\delta t}\)</span> has the same probability of being above or below the level of <span class="math notranslate nohighlight">\(\sigma_t\)</span>. This default setting for <span class="math notranslate nohighlight">\(\bar{Q}\)</span> however can be changed by the end user.</p>
</section>
</section>
<section id="model-assumptions">
<h3><span class="section-number">1.6.1.1.5.3. </span>4.3. Model Assumptions<a class="headerlink" href="#model-assumptions" title="Link to this heading">#</a></h3>
<p>The following assumptions are made :</p>
<p>[A. 0 ] The market is assumed arbitrage free with unlimited liquidity, cost of transactions are not taken into account and there is no restriction on leverage.</p>
<p>[A. 1] The stochastic Markov chain is independent of the Brownian motion that drives the underlying spot. However, the spot and volatility processes are implicitly correlated by the local volatility correction <span class="math notranslate nohighlight">\(A(t,S(t))\)</span>.</p>
<p>[A. 2] The Transition Generator Matrix has to satisfy equation 4.3. This is to make it easy for traders to mark the transition probability structure : they mark one parameter instead of a whole matrix.</p>
<p>[A. 3] The volatility of volatility <span class="math notranslate nohighlight">\(\alpha(u)\)</span> and the transition matrix term structure <span class="math notranslate nohighlight">\(q(u)\)</span> are piecewise constant in time. These values are marked directly by the trading desk and this enables to clearly describe the forward smile profile across different tenors. Piecewise constancy is the choice maintaining the balance between accuracy and generality.</p>
<p>[A. 4] Both the domestic and foreign interest rates are assumed to be deterministic. Therefore, when valuing long dated structures, the stochastic interest rate effect is not taken into account.</p>
<p>[A. 5] The number of states for the Markov chain used in production is equal to 3. Any trade probing this assumption would have a quite specific dependence on the volatility process and therefore have a price that depends heavily on the details of the stochastic volatility component.</p>
<p>[A. 6] The matrix <span class="math notranslate nohighlight">\(\tilde{Q}\)</span> is set by default as in equation 4.5. However, it is possible to use any other matrix which satisfies conditions (i)-(iv) from Section 4.2.</p>
</section>
<section id="model-limitations">
<h3><span class="section-number">1.6.1.1.5.4. </span>4.4. Model Limitations<a class="headerlink" href="#model-limitations" title="Link to this heading">#</a></h3>
<p>The model has the following limitations (for additional limitations please refer to [1] ):</p>
<p>[L.1] This model is a one asset model. It is not suitable for multi-asset trades.</p>
</section>
<section id="model-inputs-and-parameters">
<h3><span class="section-number">1.6.1.1.5.5. </span>4.5. Model Inputs and Parameters<a class="headerlink" href="#model-inputs-and-parameters" title="Link to this heading">#</a></h3>
<p>The parameters and variables affecting model dynamics are specified in the table below:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Input / Parameter Name</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>FX Spot S(0)</p></td>
<td><p>Spot FX rate quoted as units of domestic currency per foreign at valuation date <span class="math notranslate nohighlight">\(t = 0\)</span>.</p></td>
<td><p>Market Data</p></td>
</tr>
<tr class="row-odd"><td><p>Interest rate <span class="math notranslate nohighlight">\(r_d, r_f\)</span></p></td>
<td><p>Continuous compounding interest rate for domestic and foreign currency.</p></td>
<td><p>Market Data</p></td>
</tr>
<tr class="row-even"><td><p>Volatility State Number n</p></td>
<td><p>Number of states for volatility Markov chain.</p></td>
<td><p>Model Input</p></td>
</tr>
<tr class="row-odd"><td><p>FX Analytic Volatility surface <span class="math notranslate nohighlight">\(\sigma_{Implied}(K, T)\)</span></p></td>
<td><p>The FX vol surface as provided by feeder Model GMD4181.</p></td>
<td><p>Market Data</p></td>
</tr>
<tr class="row-even"><td><p>Volatility of Volatility <span class="math notranslate nohighlight">\(\alpha(t)\)</span></p></td>
<td><p>Piecewise constant volatility of volatility parameters controlling the separation between states.</p></td>
<td><p>Model Input</p></td>
</tr>
<tr class="row-odd"><td><p>Transition scalar parameter <span class="math notranslate nohighlight">\(q(t)\)</span></p></td>
<td><p>Piecewise constant parameter controlling the transitions between different volatility states.</p></td>
<td><p>Model Input</p></td>
</tr>
<tr class="row-even"><td><p>Constant transition matrix <span class="math notranslate nohighlight">\(\tilde{Q}\)</span></p></td>
<td><p>A <span class="math notranslate nohighlight">\(n \times n\)</span> matrix which is paired with transition parameter q(t) to define the transition generation matrix of stochastic volatility Markov chain.</p></td>
<td><p>Model Input</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="model-outputs">
<h3><span class="section-number">1.6.1.1.5.6. </span>4.6. Model Outputs<a class="headerlink" href="#model-outputs" title="Link to this heading">#</a></h3>
<p>In common with other valuation models, this model is used to produce a present value. The risks that can be computed by perturbing the input market data are calculated by the QALib risk engine.</p>
</section>
<section id="feeder-models">
<h3><span class="section-number">1.6.1.1.5.7. </span>4.7. Feeder Models<a class="headerlink" href="#feeder-models" title="Link to this heading">#</a></h3>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>GMD ID</p></th>
<th class="head"><p>Feeder Model Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>GMD4181</p></td>
<td><p>FX Analytic Volatility Surface</p></td>
<td><p>Provides the FX volatility surface.</p></td>
</tr>
<tr class="row-odd"><td><p>GMD1746</p></td>
<td><p>New curve framework</p></td>
<td><p>Used for initial yield curve construction in calibration, pricing and risk calculation.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="conceptual-soundness-and-model-selection">
<h3><span class="section-number">1.6.1.1.5.8. </span>4.8. Conceptual Soundness and Model Selection<a class="headerlink" href="#conceptual-soundness-and-model-selection" title="Link to this heading">#</a></h3>
<p>The Local Stochastic Volatility model family aggregates the advantages from both pure Local Volatility models and pure Stochastic Volatility models:</p>
<ul class="simple">
<li><p>Pure Local Volatility models are known for generating an unrealistic forward volatility dynamics and hence fails to match market prices of first generation exotics (e.g. Touch options, Knock-In/Knock-Out Barriers, etc.).</p></li>
<li><p>Pure Stochastic Volatility models provide more realistic forward volatility dynamics, however lack of flexibility to exactly match all available market volatility quotes.</p></li>
</ul>
<p>Published Research on LSV models can be found in [6].</p>
<p>Among the Local Stochastic Volatility model family, LSV MS is selected for its stability and efficient performance. It provides a consistent model used both for quotations and risk management.</p>
<p>See [1] for further considerations about LSV MS.</p>
</section>
</section>
<section id="data-processing-and-calibration">
<h2><span class="section-number">1.6.1.1.6. </span>5. Data Processing and Calibration<a class="headerlink" href="#data-processing-and-calibration" title="Link to this heading">#</a></h2>
<p>The principle and implementation of calibration for LSV MS used with Monte Carlo engine is identical to the one with PDE engine. We refer to [1] for more details. The only difference with the calibration of LSV MS Monte Carlo is how time grids for calibration are specifically built from Monte Carlo time discretization.</p>
<section id="id2">
<h3><span class="section-number">1.6.1.1.6.1. </span>5.1. Description<a class="headerlink" href="#id2" title="Link to this heading">#</a></h3>
<p>The following section will discuss the calibration of the Local Volatility Correction, applying to both Monte Carlo and PDE engine. We will also emphasis on the time grid construction specifically used with Monte Carlo.</p>
<p>As a reminder all stochastic volatility parameters are marked directly by the traders.</p>
<section id="calibration-of-the-local-volatility-correction">
<h4><span class="section-number">1.6.1.1.6.1.1. </span>5.1.1. Calibration of the Local Volatility Correction<a class="headerlink" href="#calibration-of-the-local-volatility-correction" title="Link to this heading">#</a></h4>
<section id="calibration-of-the-local-volatility">
<h5><span class="section-number">1.6.1.1.6.1.1.1. </span>5.1.1.1. Calibration of the Local Volatility<a class="headerlink" href="#calibration-of-the-local-volatility" title="Link to this heading">#</a></h5>
<p>The calibration on Local Volatility relies on Gyongy’s lemma and Dupire’s formulae.</p>
<p>Gyongy’s lemma states that the relationship between a Local Stochastic Volatility process and its corresponding Local Volatility can be described using the following formula, written under the risk neutral measure:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\sigma_{Local}^2(x,t) = \mathbb{E} \left[ \Sigma^2(t) \times A^2(S(t),t)|S(t) = x \right] . \quad (5.1)\]</div>
</div>
<p>Namely, given stochastic volatility parameters and specified <span class="math notranslate nohighlight">\(\Sigma(t)\)</span>, the Local Volatility correction can be derived from Local Volatility surface <span class="math notranslate nohighlight">\(\sigma_{Local}(S(t),t)\)</span>.</p>
<p>According to Dupire’s formulae, the Local Volatility surface can be uniquely determined by the market vanilla prices:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\sigma_{Local}^2(K,T) = \frac{\frac{\partial C(K,T)}{\partial T} + (r_d - r_f)K\frac{\partial C(K,T)}{\partial K} + r_f C(K,T)}{\frac{1}{2}K^2\frac{\partial^2 C(K,T)}{\partial K^2}} \quad (5.2)\]</div>
</div>
<p>Where <span class="math notranslate nohighlight">\(r_d, r_f\)</span> are time dependent deterministic short rates as derived from the domestic/foreign discounting factor for tenor <span class="math notranslate nohighlight">\(T\)</span>.</p>
<p>Once the Local Volatility surface <span class="math notranslate nohighlight">\(\sigma_{Local}(S(t),t)\)</span> and stochastic volatility process <span class="math notranslate nohighlight">\(\Sigma(t)\)</span> are both calibrated, the volatility correction factor <span class="math notranslate nohighlight">\(A(S(t),t)\)</span> can be deduced using formula (5.1) by solving a Fokker Planck forward PDE (one-dimensional PDE with planes). The detailed steps evolving the forward PDE can be found in [1]. We give a short description below.</p>
</section>
<section id="use-of-the-fokker-planck-equation-to-calibrate-the-local-volatility-correction-factor">
<h5><span class="section-number">1.6.1.1.6.1.1.2. </span>5.1.1.2. Use of the Fokker Planck equation to calibrate the Local Volatility Correction factor<a class="headerlink" href="#use-of-the-fokker-planck-equation-to-calibrate-the-local-volatility-correction-factor" title="Link to this heading">#</a></h5>
<p>In the case of one state (<span class="math notranslate nohighlight">\(\sigma_1 = \cdots = \sigma_n = \sigma\)</span>) we can write from the spot SDE 4.4 the Fokker Planck PDE which tells us that the probability density function (pdf) of <span class="math notranslate nohighlight">\(S(t)\)</span> follows the below diffusion PDE:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\frac{\partial p}{\partial t} + \frac{\partial}{\partial x} \left[(r_d - r_f - \frac{1}{2}\sigma^2 A(x,t)^2)p\right] - \frac{1}{2} \frac{\partial^2}{\partial x^2}[\sigma^2 A(x,t)^2)p] = 0\]</div>
</div>
<p>To apply this in our case we discretize on a lattice and only allow transitions between states to happen at discrete times. We denote by <span class="math notranslate nohighlight">\(p_i(x,t)\)</span> the probability density of being in state <span class="math notranslate nohighlight">\((x,i)\)</span> at time <span class="math notranslate nohighlight">\(t\)</span>. Then at time <span class="math notranslate nohighlight">\(t + \delta t^-\)</span> we have:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[p_i(x, t + \delta t^-) = p_i(x,t) - \frac{\partial}{\partial x}\left[(r_d - r_f - \frac{1}{2}\sigma_i^2 A(x,t)^2)p_i(x,t)\right]\delta t + \frac{\partial^2}{\partial x^2}[\sigma_i^2 A(x,t)^2 p_i(x,t)]\delta t\]</div>
</div>
<p>and then allowing a transition at time <span class="math notranslate nohighlight">\(t + \delta t\)</span>:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[p_i(x, t + \delta t) = \sum_j (\delta_{ji} + Q_{ji}\delta t)\left(p_i(x,t) - \frac{\partial}{\partial x}\left[(r_d - r_f - \frac{1}{2}\sigma_i^2 A(x,t)^2)p_i(x,t)\right]\delta t + \frac{\partial^2}{\partial x^2}[\sigma_i^2 A(x,t)^2 p_i(x,t)]\delta t\right) \quad (5.3)\]</div>
</div>
<p>We can now compute the local vol correction inductively as follows. Let us suppose inductively that we know the pdf <span class="math notranslate nohighlight">\(p\)</span> at time <span class="math notranslate nohighlight">\(t\)</span>. Then we can compute the denominator of our local volatility adjustment equation (5.1) via:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\mathbb{E} \left[ \Sigma^2(t)|S_t = x \right] = \frac{\sum_{i=1}^n \sigma_i^2 p_i(x,t)}{\sum_{i=1}^n p_i(x,t)}\]</div>
</div>
<p>Once <span class="math notranslate nohighlight">\(A(x,t)\)</span> is known we can proceed to the next step thanks to equation (5.3). In order to begin this inductive process, we assume that we begin in the middle state at time zero. So initially, the pdf p is a Dirac function. We can compute the local vol correction at time zero from (5.1), using the limit of the Dupire local volatility as <span class="math notranslate nohighlight">\(T \searrow 0\)</span> for the numerator, and the middle state volatility <span class="math notranslate nohighlight">\(\sigma\)</span> for the denominator.</p>
</section>
</section>
<section id="time-grids-construction-in-calibration-of-lsv-ms-monte-carlo">
<h4><span class="section-number">1.6.1.1.6.1.2. </span>5.1.2. Time Grids Construction in Calibration of LSV MS Monte Carlo<a class="headerlink" href="#time-grids-construction-in-calibration-of-lsv-ms-monte-carlo" title="Link to this heading">#</a></h4>
<p>In LSV MS Monte Carlo, the calibration time grid for forward PDE is built from the time schedule of Monte Carlo simulation, which is an important difference from LSV MS PDE. Hence, the original setting entry DateOptions.TotalNumberOfTimeSteps in LSV MS calibration instruction has no impact in the context of LSV MS Monte Carlo.</p>
<p>The construction of time grid starts with generating the time step schedule of Monte Carlo simulation, which consists of three steps:</p>
<ul class="simple">
<li><p>With default settings, the time grid will include a daily step up to 2 months, a weekly step in the following year, and a biweekly step for the remainder (till the end of trade’s horizon). Note that each schedule period is additive (2 months followed by another 1 year).</p></li>
<li><p>Next, all trade event dates are added to make sure the simulation captures all payout-related operations.</p></li>
<li><p>At last, all dates corresponding to the term structure of piecewise-constant stochastic volatility parameters are sequentially added to time grid (set explicitly by Trading Desks via input).</p></li>
</ul>
<p>The time grid is used directly for the Monte Carlo simulation and is shared by LSV MS calibration algorithm (PDE time grid).</p>
</section>
<section id="inputs-and-parameters-used-for-calibration">
<h4><span class="section-number">1.6.1.1.6.1.3. </span>5.1.3. Inputs and Parameters Used for Calibration.<a class="headerlink" href="#inputs-and-parameters-used-for-calibration" title="Link to this heading">#</a></h4>
<p>As stated above, the following market data are required for calibration:</p>
<ul class="simple">
<li><p>Yield curves for both foreign and domestic currencies.</p></li>
<li><p>Underlying FX spot levels.</p></li>
<li><p>Underlying FX Volatility surface.</p></li>
</ul>
<p>In addition, the following market data like parameters <span class="math notranslate nohighlight">\(^1\)</span> are required as well:</p>
<ul class="simple">
<li><p>Transition scalar parameter <span class="math notranslate nohighlight">\(q(t)\)</span> term structure.</p></li>
<li><p>Volatility of volatility (Vol-of-Vol) parameter <span class="math notranslate nohighlight">\(\alpha(t)\)</span> with term structure.</p></li>
</ul>
<section id="local-volatility-correction-calibration-settings">
<h5><span class="section-number">1.6.1.1.6.1.3.1. </span>5.1.3.1. Local Volatility Correction Calibration Settings<a class="headerlink" href="#local-volatility-correction-calibration-settings" title="Link to this heading">#</a></h5>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description / Purpose</p></th>
<th class="head"><p>Default Setting</p></th>
<th class="head"><p>Recommended Setting (Range)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>CalibrationEndDate</p></td>
<td><p>Last calibration date for the LV correction component.</p></td>
<td><p>Last trade payment Date</p></td>
<td><p>-</p></td>
</tr>
<tr class="row-odd"><td><p>DateOptions.TotalNumberOfTimeSteps</p></td>
<td><p>** Obsolete in the context of LSV MS Monte Carlo</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-even"><td><p>PDEGridSettings[0].PDEGridName</p></td>
<td><p>Name of the grid observable in the PDE solver.</p></td>
<td><p>SpotFX</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-odd"><td><p>PDEGridSettings[0].NumberOfSpaceStdDevs</p></td>
<td><p>The number of space standard deviations.</p></td>
<td><p>5</p></td>
<td><p>-</p></td>
</tr>
<tr class="row-even"><td><p>PDEGridSettings[0].NumberOfSpaceSteps</p></td>
<td><p>The number of space steps</p></td>
<td><p>300</p></td>
<td><p>-</p></td>
</tr>
<tr class="row-odd"><td><p>PDEGridSettings[0].UseNonUniformGrid</p></td>
<td><p>Whether to use a non uniform grid or not.</p></td>
<td><p>True</p></td>
<td><p>True</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
</section>
<section id="alternative-approaches">
<h3><span class="section-number">1.6.1.1.6.2. </span>5.2. Alternative Approaches<a class="headerlink" href="#alternative-approaches" title="Link to this heading">#</a></h3>
<p>The calibration steps for the local volatility correction are standard for a model combining local and stochastic volatility. In particular, the forward induction technique described in Section 5.1 represents a market standard for most investment banks.</p>
<p>Possible alternative approaches would be related to the determination of the stochastic volatility parameters of the model. Instead of being marked by the trading desk, the vol-of-vol term structure could be the outcome of an internal calibration routine. This could be done by introducing another piecewise constant function <span class="math notranslate nohighlight">\(\gamma(t)\)</span>, sampled at the same tenors as the vol-of-vol, which we would use to redefine the instantaneous stochastic volatility as</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\Sigma(t) = \gamma(t)\sigma_{\xi(t)}(t).\]</div>
</div>
<p>At this point we could loop over the calibration dates <span class="math notranslate nohighlight">\(\{T_1,\ldots,T_m\}\)</span>, bootstrapping the values of <span class="math notranslate nohighlight">\(\gamma(T_i)\)</span> and <span class="math notranslate nohighlight">\(\alpha(T_i)\)</span> to match the value of certain vanilla products, as ATM options and 25 delta strangles for example. Although all of this is feasible, the trading desk prefers marking directly the stochastic volatility parameters as it provides more transparency, with the ability to see in particular the actual vol-of-vol values used directly. In addition to that, it does not rely on any internal calibration algorithm, further avoiding the chance of failures.</p>
</section>
<section id="quality-control">
<h3><span class="section-number">1.6.1.1.6.3. </span>5.3. Quality control<a class="headerlink" href="#quality-control" title="Link to this heading">#</a></h3>
<p>QA deals with the local volatility calibration failures in a common and standard way between the different models involving a local volatility component. In case of a failure to find the local vol correction at certain spot points and certain time, we allow first that the values at the failed points can be interpolated or extrapolated using the successful calibrated points. If none are found, then a floor volatility level is applied. The latter is defaulted to 0.0%.</p>
<p>The end user has the ability to turn on exception messages whenever a step of the forward PDE fails, by setting the flag ExceptionOnLVFailure to True.</p>
</section>
<section id="limitations">
<h3><span class="section-number">1.6.1.1.6.4. </span>5.4. Limitations<a class="headerlink" href="#limitations" title="Link to this heading">#</a></h3>
<p>[L. 2] As the local volatility correction is calibrated to the smile volatility surface, there is a direct dependence on the quality of the input market data. If the volatility surface has noisy local volatility, this will feed directly to the local volatility correction parameters in the model.</p>
<p>[L. 3] In local stochastic volatility model, care needs to be taken when we have high vol of vols as trade maturity increases. It can be numerically challenging and the accuracy of the calibration to vanillas could suffer. However test LSV MS MC 11 in section 8.3 shows sufficient robustness.</p>
</section>
</section>
<section id="numerical-implementation">
<h2><span class="section-number">1.6.1.1.7. </span>6. Numerical Implementation<a class="headerlink" href="#numerical-implementation" title="Link to this heading">#</a></h2>
<section id="id3">
<h3><span class="section-number">1.6.1.1.7.1. </span>6.1. Description<a class="headerlink" href="#id3" title="Link to this heading">#</a></h3>
<p>In this section we will describe the algorithm for Monte Carlo simulations of the Markov Switching model.</p>
<section id="discretization-of-spot-and-volatility-process">
<h4><span class="section-number">1.6.1.1.7.1.1. </span>6.1.1. Discretization of spot and volatility process<a class="headerlink" href="#discretization-of-spot-and-volatility-process" title="Link to this heading">#</a></h4>
<p>We assume the time axis is discretized as: <span class="math notranslate nohighlight">\(t_0 = 0, t_1, \ldots, t_{m-1}, t_m\)</span>.</p>
<p>The above time series is not necessarily a regular/uniform grid.</p>
<section id="evolution-of-spot-process">
<h5><span class="section-number">1.6.1.1.7.1.1.1. </span>6.1.1.1. Evolution of spot process<a class="headerlink" href="#evolution-of-spot-process" title="Link to this heading">#</a></h5>
<p>With initial volatility set as <span class="math notranslate nohighlight">\(\Sigma(t_0) = \sigma_{i_0}\)</span>, we diffuse the log spot following the Euler scheme:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\log S_{t_{k+1}} = \log S_{t_k} + \left(r_d(t_k) - r_f(t_k) - \frac{1}{2}\Sigma^2(t_k)A^2(S_{t_k},t_k)\right) \Delta t + \Sigma(t_k)A (S_{t_k},t_k) \Delta W_k. \quad (6.1)\]</div>
</div>
<p>A quick way to obtain <span class="math notranslate nohighlight">\((r_d(t_k) - r_f(t_k)) \Delta t\)</span> as a whole is to calculate the log ratio of forwards at two consecutive dates as below:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[(r_d(t_k) - r_f(t_k)) \Delta t = \log \left(\frac{F(t_k + \Delta t)}{F(t_k)}\right). \quad (6.2)\]</div>
</div>
<p><span class="math notranslate nohighlight">\(A (S_k,t_k)\)</span> is obtained from the calibrated deterministic Local Volatility correction. Brownian increments <span class="math notranslate nohighlight">\(\Delta W_k\)</span> are obtained by:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\Delta W_k = g_u \sqrt{t_{k+1} - t_k}. \quad (6.3)\]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(g_u\)</span> is a standard normal random variable. All standard normal random numbers <span class="math notranslate nohighlight">\(g_u\)</span> are obtained with pseudo or quasi random number generators such as Mersenne Twister, Sobol sequence, or a combination of both if the required dimension is above the dimension of the Sobol sequence generator.</p>
<p>Once a step has evolved, a new volatility state <span class="math notranslate nohighlight">\(i_{k+1}\)</span> is updated from the current state <span class="math notranslate nohighlight">\(i_k\)</span> (the algorithm is elaborated in the next section). Accordingly, the volatility process will be updated to <span class="math notranslate nohighlight">\(\Sigma(t_{k+1}) = \sigma_{i_{k+1}}(t_{k+1})\)</span>.</p>
</section>
<section id="evolution-of-volatility-process">
<h5><span class="section-number">1.6.1.1.7.1.1.2. </span>6.1.1.2. Evolution of volatility process<a class="headerlink" href="#evolution-of-volatility-process" title="Link to this heading">#</a></h5>
<p>Assume the volatility process is currently in state <span class="math notranslate nohighlight">\(i\)</span> at time <span class="math notranslate nohighlight">\(t_{k-1}\)</span>. The process diffuses from <span class="math notranslate nohighlight">\(t_{k-1}\)</span> towards <span class="math notranslate nohighlight">\(t_k\)</span> with a volatility level of <span class="math notranslate nohighlight">\(\sigma_i(t_{k-1})\)</span> using the above Euler scheme.</p>
<p>When arriving at <span class="math notranslate nohighlight">\(t_k\)</span> the volatility level <span class="math notranslate nohighlight">\(i\)</span> will change to level <span class="math notranslate nohighlight">\(j\)</span> with a probability <span class="math notranslate nohighlight">\(P(t_{k-1},t_k)_{ij}\)</span>.</p>
<p>Once the new volatility state index <span class="math notranslate nohighlight">\(j\)</span> for time <span class="math notranslate nohighlight">\(t_k\)</span> is determined, the spot process will evolve another step according to above Euler Scheme with a new volatility value <span class="math notranslate nohighlight">\(\sigma_j(t_k)\)</span>.</p>
<section id="computation-of-the-transition-probability-matrix">
<h6><span class="section-number">1.6.1.1.7.1.1.2.1. </span>6.1.1.2.1 Computation of the transition Probability Matrix<a class="headerlink" href="#computation-of-the-transition-probability-matrix" title="Link to this heading">#</a></h6>
<p>When computing the transition probability matrix <span class="math notranslate nohighlight">\(P(s,t)\)</span>, a first order approximation would be sufficient for PDE pricing, as the time steps are small enough to justify the following approach</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[P(s,t) \approx I + Q(s,t).\]</div>
</div>
<p>However for Monte Carlo simulations one can expect longer time steps especially for long dated options (a monthly time step is quite common for instance). Therefore a more precise way to compute <span class="math notranslate nohighlight">\(P(s,t)\)</span> is required. Given the equation 4.3, if <span class="math notranslate nohighlight">\(\tilde{Q}\)</span> is diagonalizable, the transition generator matrix <span class="math notranslate nohighlight">\(Q(s,t)\)</span> is also diagonalizable as follows :</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\tilde{Q} = \Gamma^{-1}D\Gamma, \quad (6.4)\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[Q(s,t) = \left(\int_s^t q(u)du\right) F^{-1}DF := F^{-1}D(s,t)F,\]</div>
</div>
<p>Where <span class="math notranslate nohighlight">\(D(s,t) := \int_s^t q(u)du\)</span>.</p>
<p>Using linear algebra it is then possible to show that :</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[P(s,t) = F^{-1} \exp (D(s,t))F,\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}\exp (D(s,t)) = \begin{pmatrix} e^{d_1} &amp; 0 &amp; 0 \\ 0 &amp; \ddots &amp; 0 \\ 0 &amp; 0 &amp; e^{d_n} \end{pmatrix},\end{split}\]</div>
</div>
<p>where <span class="math notranslate nohighlight">\((d_i)_{i=1,...,n}\)</span> are the diagonal elements of matrix <span class="math notranslate nohighlight">\(D(s,t)\)</span>. Under 4.3, the diagonalization operation in (6.4) is only required once for <span class="math notranslate nohighlight">\(\bar{Q}\)</span> at the beginning, and the elements of <span class="math notranslate nohighlight">\(D\)</span> can be cached for future scaling.</p>
</section>
<section id="generation-of-bernoullis">
<h6><span class="section-number">1.6.1.1.7.1.1.2.2. </span>6.1.1.2.2  Generation of Bernoullis<a class="headerlink" href="#generation-of-bernoullis" title="Link to this heading">#</a></h6>
<p>To implement Markov Switching, one needs to use the Bernoulli random variables. The current QA Monte Carlo framework implements Gaussian random variables (for Brownian increments <span class="math notranslate nohighlight">\(\Delta W_k\)</span>).</p>
<p>To sample a Bernoulli distribution from Gaussian random variables, an auxiliary vector is constructed as:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}
\Phi^j (t_{k-1}, t_k) = \begin{bmatrix} N^{-1}\left(\sum_{j=1}^1 p_{ij}(t_{k-1},t_k)\right) \\ N^{-1}\left(\sum_{j=1}^2 p_{ij}(t_{k-1},t_k)\right) \\ \vdots \\ N^{-1}\left(\sum_{j=1}^n p_{ij}(t_{k-1},t_k)\right) = N^{-1}[1] = \infty \end{bmatrix}
\end{split}\]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(N^{-1}()\)</span> is the inverse of the cumulative density function of a standard normal distribution.</p>
<p>Elements in above vector are guaranteed in an ascending order as indexes increase. The sampling starts with drawing a standard Gaussian number <span class="math notranslate nohighlight">\(g \sim N(0,1)\)</span>, and then comparing it to each element of above auxiliary vector in an index ascending order. If we assume index <span class="math notranslate nohighlight">\(j\)</span> corresponds to the first element in <span class="math notranslate nohighlight">\(\Phi^i (t_{k-1}, t_k)\)</span> that is strictly larger than <span class="math notranslate nohighlight">\(g\)</span>, then index <span class="math notranslate nohighlight">\(j\)</span> is selected as the next volatility state.</p>
<p>Note that the above auxiliary vectors are calculated at the very beginning of the simulation (rather than generated along each simulation step). Therefore for each time step <span class="math notranslate nohighlight">\([t_{k-1},t_k]\)</span>, we need to cache a <span class="math notranslate nohighlight">\(n \times n\)</span> matrix containing <span class="math notranslate nohighlight">\(n\)</span> auxiliary vectors <span class="math notranslate nohighlight">\(\Phi^i (t_{k-1}, t_k), i = 1, \ldots, n\)</span> to make sure the sampling is available for any potential state <span class="math notranslate nohighlight">\(i\)</span> at time <span class="math notranslate nohighlight">\(t_{k-1}\)</span>.</p>
</section>
</section>
</section>
</section>
<section id="inputs">
<h3><span class="section-number">1.6.1.1.7.2. </span>6.2.  Inputs<a class="headerlink" href="#inputs" title="Link to this heading">#</a></h3>
<p>Monte Carlo inputs are supplied through FXMCCalculationPP. The various subgroups that we are interested in are :</p>
<ul class="simple">
<li><p>FXDateOptionsStepSchedulePP which controls Monte Carlo stepping schedule.</p></li>
<li><p>FXMCPLSimulatorOptionPP which contains the simulator options.</p></li>
<li><p>FXMCRNGOptionsPP which contains settings for the underlying random number and path generator.</p></li>
</ul>
<p>(Please refer to <a class="reference external" href="http://qa.barcapint.com/QAWeb/Framework/Release.2450.00/QALib/PropertyPages">http://qa.barcapint.com/QAWeb/Framework/Release.2450.00/QALib/PropertyPages</a> for more details).</p>
<section id="fxmcdateoptionspp">
<h4><span class="section-number">1.6.1.1.7.2.1. </span>6.2.1.  FXMCDateOptionsPP<a class="headerlink" href="#fxmcdateoptionspp" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Input Name</p></th>
<th class="head"><p>Description / Purpose</p></th>
<th class="head"><p>Default Setting</p></th>
<th class="head"><p>Recommended Setting</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>MinNumStepsPerYear</p></td>
<td><p>At least this number of time steps per year; zero means use only the trade dates, negative means use all available dates from the calibration</p></td>
<td><p>4</p></td>
<td><p>Default</p></td>
</tr>
<tr class="row-odd"><td><p>StepSchedule</p></td>
<td><p>Time stepping schedule as a set of end tenors and step sizes, specified using FXDateOptionsStepSchedulePP</p></td>
<td><p>-</p></td>
<td><p>See below under FXDateOptionStepSchedulePP</p></td>
</tr>
<tr class="row-even"><td><p>ValuationDate</p></td>
<td><p>The valuation date for pricing</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="fxdateoptionsstepschedulepp">
<h4><span class="section-number">1.6.1.1.7.2.2. </span>6.2.2.  FXDateOptionsStepSchedulePP<a class="headerlink" href="#fxdateoptionsstepschedulepp" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Input Name</p></th>
<th class="head"><p>Description / Purpose</p></th>
<th class="head"><p>Default Setting</p></th>
<th class="head"><p>Recommended Setting</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>StepSchedule[i].PeriodLength</p></td>
<td><p>Tenor length from the end of the previous period to which the step size applies – do not set for the last period</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
</tr>
<tr class="row-odd"><td><p>StepSchedule[i].RequestedAverageStepSize</p></td>
<td><p>Amount (optional, assumed 1 if missing) and units of the requested step size</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
</tr>
<tr class="row-even"><td><p>StepSchedule[i].UseForTheRemainder</p></td>
<td><p>Whether this time step applies after the last tenor defined. This can only be true for the last period, and if this is true the PeriodLength must be left unset</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="fxmcplsimulatoroptionspp">
<h4><span class="section-number">1.6.1.1.7.2.3. </span>6.2.3.  FXMCPLSimulatorOptionsPP<a class="headerlink" href="#fxmcplsimulatoroptionspp" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Input Name</p></th>
<th class="head"><p>Description / Purpose</p></th>
<th class="head"><p>Default Setting</p></th>
<th class="head"><p>Recommended Setting</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>NPaths</p></td>
<td><p>The number of paths for Monte-Carlo</p></td>
<td><p>40000</p></td>
<td><p><span class="math notranslate nohighlight">\(2^n, n \geq 17\)</span></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="fxmcrngoptionspp">
<h4><span class="section-number">1.6.1.1.7.2.4. </span>6.2.4. FXMCRNGOptionsPP<a class="headerlink" href="#fxmcrngoptionspp" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Input Name</p></th>
<th class="head"><p>Description / Purpose</p></th>
<th class="head"><p>Default Setting</p></th>
<th class="head"><p>Recommended Setting</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Seed</p></td>
<td><p>The seed for the pseudo-random number generator</p></td>
<td><p>606497</p></td>
<td><p>Any non-negative integer</p></td>
</tr>
<tr class="row-odd"><td><p>UseSobolForPathGeneration</p></td>
<td><p>Use Sobol for path generation</p></td>
<td><p>True</p></td>
<td><p>True</p></td>
</tr>
<tr class="row-even"><td><p>SobolPseudoRandomSplitByModel</p></td>
<td><p>If true then the model determines how best to do the Sobol pseudo-random splitting.</p></td>
<td><p>True</p></td>
<td><p>True</p></td>
</tr>
<tr class="row-odd"><td><p>UseParallelMersenneTwister</p></td>
<td><p>Use the Parallel Mersenne Twister for path generation</p></td>
<td><p>True</p></td>
<td><p>True</p></td>
</tr>
<tr class="row-even"><td><p>BatchIndexForParallelMT</p></td>
<td><p>Batch index for the parallel Mersenne Twister</p></td>
<td><p>10</p></td>
<td><p>Integer between 0 and 9999 (10)</p></td>
</tr>
<tr class="row-odd"><td><p>UseSpectralDecomposition</p></td>
<td><p>Use spectral decomposition for path generation (False/Unset = Brownian bridge)</p></td>
<td><p>False</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-even"><td><p>SobolSequenceType</p></td>
<td><p>Sobol Sequence Type, SOBOL_21201 or SOBOL_1111</p></td>
<td><p>SOBOL_1111</p></td>
<td><p>SOBOL_21201</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<section id="id4">
<h3><span class="section-number">1.6.1.1.7.3. </span>6.3. Limitations<a class="headerlink" href="#id4" title="Link to this heading">#</a></h3>
<p>[L. 4] Monte-Carlo prices are less accurate when number of paths is too small and/or when time schedule is too coarse. User should check pricing result has converged with selected simulation settings such as the number of paths and time schedule.</p>
<p>[L. 5] Observed convergence can be very slow in case of high vol-of-vol parameters. This is because a high vol-of-vol means a larger variance of the Monte Carlo estimators.</p>
</section>
</section>
<section id="risk-measures">
<h2><span class="section-number">1.6.1.1.8. </span>7. Risk Measures<a class="headerlink" href="#risk-measures" title="Link to this heading">#</a></h2>
<section id="id5">
<h3><span class="section-number">1.6.1.1.8.1. </span>7.1. Description<a class="headerlink" href="#id5" title="Link to this heading">#</a></h3>
<p>Risk metrics (Greeks) are calculated by bumping market data and recalibrating the model (bump and recalibrate methodology). Monte Carlo engine reuses the random numbers that were used for the base valuation for variance reduction. Market data perturbations are performed by the QARisk2 framework [7], which is a shared framework, used across QA models, for risk and scenario calculations.</p>
</section>
<section id="id6">
<h3><span class="section-number">1.6.1.1.8.2. </span>7.2. Inputs<a class="headerlink" href="#id6" title="Link to this heading">#</a></h3>
<p>QARisk2 metrics can be configured with a set of inputs, such as a bump size, bump style (multiplicative, additive, etc.), differencing type (central, above, below, etc.), etc. A full description of the metric and listing of the inputs expected by each metric can be found in [10].</p>
</section>
<section id="id7">
<h3><span class="section-number">1.6.1.1.8.3. </span>7.3. Limitations<a class="headerlink" href="#id7" title="Link to this heading">#</a></h3>
<p>[L. 6] As in all models involving a smile volatility surface, failures can occur in risk if the original FX volatility surface is on the verge of breaking. This means that although the non-bumped volatility surface builds, a small change in the market data input can cause it to break in the bumped state. It is worth noticing however that the stability of the volatility surface has been extensively tested in Section 9.3 of [8], where the new feature allowing for constant moneyness interpolation proved to sensibly improve the quality of the volatility surface itself. This in turns reduces the probability of failures in the construction of the bumped volatility surface. In addition to the above, the desk has a validation put in place before publishing the volatility surface in order to minimize the occurrence of these failures at pricing time.</p>
</section>
</section>
<section id="testing-and-outcome-analysis">
<h2><span class="section-number">1.6.1.1.9. </span>8. Testing and Outcome Analysis<a class="headerlink" href="#testing-and-outcome-analysis" title="Link to this heading">#</a></h2>
<p>We describe here the results of the tests we have performed. We pick a set of representative trades for testing. All trades start and are valued on 3rd January 2018. The underlying rate is EURUSD and the notional is 1,000,000 Euro. Market data inputs are as of London Close on this date.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Definition</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Vanilla</p></td>
<td><p>European Put and Call options on different expiries and strike levels.</p></td>
</tr>
<tr class="row-odd"><td><p>Volatility Swaps</p></td>
<td><p>A Volatility Swap with strike 0.0 and maturity 1Y.</p></td>
</tr>
</tbody>
</table>
</div>
<p>The market data, model parameters and calibration settings used for the testing are summarized in 8.2.</p>
<section id="testing-plan">
<h3><span class="section-number">1.6.1.1.9.1. </span>8.1. Testing Plan<a class="headerlink" href="#testing-plan" title="Link to this heading">#</a></h3>
<p>In this section we present an overview of all the tests by grouping them according to main themes:</p>
<ul class="simple">
<li><p>Calibration correctness : repricing of FX Volatility inputs.</p></li>
<li><p>Consistency with LSV MS PDE.</p></li>
<li><p>CCAR Scenario Stress testing.</p></li>
<li><p>Sensitivity Analysis with respect to market inputs.</p></li>
<li><p>Sensitivity Analysis with respect to market parameters.</p></li>
</ul>
<p>In the following subsections, each covering one of the themes listed above, we provide the specific test performed, the official tests type that correspond to the official test grouping of the sections that will follow later in the chapter (like ‘Accuracy and Convergence’, ‘Stability’ or ‘Boundary Cases’, etc) and the corresponding section in the main part of the document that describes the feature being targeted by the test.</p>
<section id="calibration-correctness-repricing-of-fx-volatility-inputs">
<h4><span class="section-number">1.6.1.1.9.1.1. </span>8.1.1. Calibration correctness : repricing of FX Volatility inputs<a class="headerlink" href="#calibration-correctness-repricing-of-fx-volatility-inputs" title="Link to this heading">#</a></h4>
<p>Thanks to the local volatility correction, LSV MS MC is expected to be able to reprice perfectly the implied volatility surface it has been calibrated to. However, due to numerical approximations there will always be a small error. The below tests were designed to check that this error is within an acceptable range.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Test ID</p></th>
<th class="head"><p>Test Cases</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Section</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>LSV MS MC 1</p></td>
<td><p>Check convergence of LSV MS MC numerical method for a vanilla option.</p></td>
<td><p>Accuracy, Robustness and Stability Testing.</p></td>
<td><p>5.1.1</p></td>
</tr>
<tr class="row-odd"><td><p>LSV MS MC 2</p></td>
<td><p>Check matching implied volatilities with Analytic pricer for short and long dated vanilla options.</p></td>
<td><p>Accuracy, Robustness and Stability</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>LSV MS MC 4</p></td>
<td><p>Check matching implied volatilities with Analytic pricer for different vol-of-vol values.</p></td>
<td><p>Accuracy, Robustness and Stability Testing.</p></td>
<td><p>5.1.1</p></td>
</tr>
<tr class="row-odd"><td><p>LSV MS MC 5</p></td>
<td><p>In the worst case scenario observed in previous test, check convergence of numerical method by increasing the number of Montecarlo paths and the number of time steps</p></td>
<td><p>Accuracy, Robustness and Stability Testing.</p></td>
<td><p>5.1.1</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="consistency-with-lsv-ms-pde">
<h4><span class="section-number">1.6.1.1.9.1.2. </span>8.1.2. Consistency with LSV MS PDE<a class="headerlink" href="#consistency-with-lsv-ms-pde" title="Link to this heading">#</a></h4>
<p>We remind here that LSV MS PDE and LSV MS MC implements the same dynamics and differ only by the numerical method used for pricing. To check the accuracy of the LSV MS MC implementation as well as the convergence we therefore compare results with LSV MS PDE for a volatility swap, a product which is dependent on the stochastic volatility dynamics.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Test ID</p></th>
<th class="head"><p>Test Cases</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Section</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>LSV MS MC 6</p></td>
<td><p>Check convergence of LSV MS MC numerical method toward LSV MS PDE for a Volatility Swap.</p></td>
<td><p>Benchmarking</p></td>
<td><p>6.1</p></td>
</tr>
<tr class="row-odd"><td><p>LSV MS MC 7</p></td>
<td><p>Check matching prices between LSV MS MC and LSV MS PDE for a Volatility Swap for different strikes prices.</p></td>
<td><p>Benchmarking</p></td>
<td><p>6.1</p></td>
</tr>
<tr class="row-even"><td><p>LSV MS MC 8</p></td>
<td><p>Check matching prices between LSV MS MC and LSV MS PDE for a Volatility Swap for different transition q parameters.</p></td>
<td><p>Benchmarking</p></td>
<td><p>6.1</p></td>
</tr>
<tr class="row-odd"><td><p>LSV MS MC 9</p></td>
<td><p>Check matching prices between LSV MS MC and LSV MS PDE for a Volatility Swap for different vol-of-vol parameters.</p></td>
<td><p>Benchmarking</p></td>
<td><p>6.1</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="ccar-scenario-stress-testing">
<h4><span class="section-number">1.6.1.1.9.1.3. </span>8.1.3. CCAR Scenario Stress testing<a class="headerlink" href="#ccar-scenario-stress-testing" title="Link to this heading">#</a></h4>
<p>In these tests we check the robustness of the model by using the CCAR 2018 Adverse Market shocks and the CCAR 2018 Severely Adverse Market shocks.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Test ID</p></th>
<th class="head"><p>Test Cases</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Section</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>LSV MS MC 10</p></td>
<td><p>Compute the PVs obtained for different ladders of the Adverse and Severely Adverse CCAR scenarios for a Volatility Swap</p></td>
<td><p>Scenario and Stress-testing</p></td>
<td><p>6.1</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="sensitivity-analysis-with-respect-to-market-inputs">
<h4><span class="section-number">1.6.1.1.9.1.4. </span>8.1.4. Sensitivity Analysis with respect to Market Inputs<a class="headerlink" href="#sensitivity-analysis-with-respect-to-market-inputs" title="Link to this heading">#</a></h4>
<p>The purpose of these tests is to evaluate the PV and risks sensitivities to incremental changes of market data. The main market variables risk factors are spot rates and FX volatility so we focus on these. We apply different shocks to these pieces of market data and observe if PV, Delta, Gamma, Vega, Near Rega, Far Rega, Near Sega and Far Sega show any unstable performance under the LSV MS model. Volatility bumps are additive while spot bumps are multiplicative.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Test ID</p></th>
<th class="head"><p>Test Cases</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Section</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>LSV MS MC 11</p></td>
<td><p>Check the impact of ATM volatility shifts for different levels of the spot on PV, Delta, Gamma, Vega, Near Rega, Far Rega, Near Sega and Far Sega for a Volatility Swap</p></td>
<td><p>Sensitivity Analysis</p></td>
<td><p>6.1</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="sensitivity-analysis-with-respect-to-model-parameters">
<h4><span class="section-number">1.6.1.1.9.1.5. </span>8.1.5. Sensitivity Analysis with respect to Model Parameters<a class="headerlink" href="#sensitivity-analysis-with-respect-to-model-parameters" title="Link to this heading">#</a></h4>
<p>The purpose of these tests is to evaluate the PV and risks sensitivities to incremental changes of vol-of-vol and transition term structure. We apply different shocks to these model parameters and observe if PV, Delta, Gamma, Vega, Near Rega, Far Rega, Near Sega and Far Sega show any unstable performance under the LSV MS model. Both bumps to α and q are multiplicative.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Test ID</p></th>
<th class="head"><p>Test Cases</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Section</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>LSV MS MC 12</p></td>
<td><p>Check the impact of vol-of-vol shifts for different levels of the transition q on PV, Delta, Gamma, Vega, Near Rega, Far Rega, Near Sega and Far Sega of a Volatility Swap</p></td>
<td><p>Sensitivity Analysis</p></td>
<td><p>6.1</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<section id="market-data-model-parameters-and-calibration-settings">
<h3><span class="section-number">1.6.1.1.9.2. </span>8.2. Market Data, Model Parameters and Calibration Settings<a class="headerlink" href="#market-data-model-parameters-and-calibration-settings" title="Link to this heading">#</a></h3>
<section id="market-data-and-model-parameters">
<h4><span class="section-number">1.6.1.1.9.2.1. </span>8.2.1. Market Data and Model Parameters<a class="headerlink" href="#market-data-and-model-parameters" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Item</p></th>
<th class="head"><p>Moniker</p></th>
<th class="head"><p>Note</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>FX Spot</p></td>
<td><p>official&#64;20180103/chain.fx/fxderivsldnclose/usd/corrected</p></td>
<td><p>EURUSD</p></td>
</tr>
<tr class="row-odd"><td><p>Yield Curve</p></td>
<td><p>official&#64;20180103/curve.fi/ldnficlose/nccurveset/USD/mid/curveset/csaPP</p></td>
<td><p>EUR</p></td>
</tr>
<tr class="row-even"><td><p>Yield Curve</p></td>
<td><p>official&#64;20180103_curve.fi/ldnficlose_nccurveset/XCY/mid/eur/xccy/csaPP</p></td>
<td><p>USD</p></td>
</tr>
<tr class="row-odd"><td><p>FX Volatility</p></td>
<td><p>official&#64;20180103/volsurface.fx/pivot/eurusd/meanrevertingextratenors/builder</p></td>
<td><p>EURUSD Vol, short term</p></td>
</tr>
<tr class="row-even"><td><p>FX Volatility</p></td>
<td><p>official&#64;20180103/volsurface.fx/pivot/eurusd/LongDateLdnClose/builder</p></td>
<td><p>EURUSD Vol, long term</p></td>
</tr>
</tbody>
</table>
</div>
<section id="vol-of-vol-term-structure">
<h5><span class="section-number">1.6.1.1.9.2.1.1. </span>Vol-of-Vol Term Structure<a class="headerlink" href="#vol-of-vol-term-structure" title="Link to this heading">#</a></h5>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Tenor</p></th>
<th class="head"><p>1W</p></th>
<th class="head"><p>2W</p></th>
<th class="head"><p>1M</p></th>
<th class="head"><p>3M</p></th>
<th class="head"><p>6M</p></th>
<th class="head"><p>9M</p></th>
<th class="head"><p>1Y</p></th>
<th class="head"><p>2Y</p></th>
<th class="head"><p>3Y</p></th>
<th class="head"><p>5Y</p></th>
<th class="head"><p>10Y</p></th>
<th class="head"><p>20Y</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Vol-of-Vols</p></td>
<td><p>1.2</p></td>
<td><p>0.95</p></td>
<td><p>0.85</p></td>
<td><p>0.8</p></td>
<td><p>0.7</p></td>
<td><p>0.67</p></td>
<td><p>0.65</p></td>
<td><p>0.65</p></td>
<td><p>0.55</p></td>
<td><p>0.5</p></td>
<td><p>0.6</p></td>
<td><p>0.59</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="transition-q-term-structure">
<h5><span class="section-number">1.6.1.1.9.2.1.2. </span>Transition q Term Structure<a class="headerlink" href="#transition-q-term-structure" title="Link to this heading">#</a></h5>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Tenor</p></th>
<th class="head"><p>1W</p></th>
<th class="head"><p>2W</p></th>
<th class="head"><p>1M</p></th>
<th class="head"><p>2Y</p></th>
<th class="head"><p>5Y</p></th>
<th class="head"><p>10Y</p></th>
<th class="head"><p>20Y</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Transition q</p></td>
<td><p>3.8</p></td>
<td><p>3.8</p></td>
<td><p>2</p></td>
<td><p>0.8</p></td>
<td><p>0.4</p></td>
<td><p>0.2</p></td>
<td><p>0.2</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<section id="calibration-settings">
<h4><span class="section-number">1.6.1.1.9.2.2. </span>8.2.2. Calibration Settings<a class="headerlink" href="#calibration-settings" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Number of Monte Carlo Paths</p></td>
<td><p>40,000</p></td>
</tr>
<tr class="row-odd"><td><p>Calibration, number of Time steps</p></td>
<td><p>Schedule shared with simulation</p></td>
</tr>
<tr class="row-even"><td><p>Calibration, number of Spot steps</p></td>
<td><p>200</p></td>
</tr>
</tbody>
</table>
</div>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Period Length</p></th>
<th class="head"><p>2M</p></th>
<th class="head"><p>5Y</p></th>
<th class="head"><p>∞</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Steps Frequency</p></td>
<td><p>D</p></td>
<td><p>W</p></td>
<td><p>2W</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<section id="accuracy-robustness-and-stability-testing">
<h3><span class="section-number">1.6.1.1.9.3. </span>8.3. Accuracy, Robustness and Stability Testing<a class="headerlink" href="#accuracy-robustness-and-stability-testing" title="Link to this heading">#</a></h3>
<section id="lsv-ms-mc-test-1-check-convergence-of-numerical-method-for-a-vanilla-option">
<h4><span class="section-number">1.6.1.1.9.3.1. </span>8.3.1. LSV MS MC Test 1: Check convergence of numerical method for a vanilla option<a class="headerlink" href="#lsv-ms-mc-test-1-check-convergence-of-numerical-method-for-a-vanilla-option" title="Link to this heading">#</a></h4>
<p>We first want to check that 40000 is a reasonable number of paths which enables us to obtain a good level of precision.</p>
<p>Below is a summary of PVs (expressed as implied volatilities) when we raise the number of Monte Carlo paths for a 1Y Vanilla.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Number of MC paths</p></th>
<th class="head"><p>LSVMSMC</p></th>
<th class="head"><p>LSVMSMC 95% Confidence Interval Estimation</p></th>
<th class="head"><p>LSVMSPDE</p></th>
<th class="head"><p>Difference (%)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1,000</p></td>
<td><p>0.0751</p></td>
<td><p>[ 0.0711-0.0791 ]</p></td>
<td><p>0.0731</p></td>
<td><p>0.6036</p></td>
</tr>
<tr class="row-odd"><td><p>2,000</p></td>
<td><p>0.0731</p></td>
<td><p>[ 0.0701-0.0761 ]</p></td>
<td><p>0.0731</p></td>
<td><p>0.3050</p></td>
</tr>
<tr class="row-even"><td><p>4,000</p></td>
<td><p>0.0729</p></td>
<td><p>[ 0.0708-0.0750 ]</p></td>
<td><p>0.0731</p></td>
<td><p>0.1917</p></td>
</tr>
<tr class="row-odd"><td><p>10,000</p></td>
<td><p>0.0731</p></td>
<td><p>[ 0.0718-0.0745 ]</p></td>
<td><p>0.0731</p></td>
<td><p>0.1400</p></td>
</tr>
<tr class="row-even"><td><p>20,000</p></td>
<td><p>0.0726</p></td>
<td><p>[ 0.0717-0.0735 ]</p></td>
<td><p>0.0731</p></td>
<td><p>0.0481</p></td>
</tr>
<tr class="row-odd"><td><p>30,000</p></td>
<td><p>0.0731</p></td>
<td><p>[ 0.0724-0.0739 ]</p></td>
<td><p>0.0731</p></td>
<td><p>0.0807</p></td>
</tr>
<tr class="row-even"><td><p>40,000</p></td>
<td><p>0.0729</p></td>
<td><p>[ 0.0722-0.0735 ]</p></td>
<td><p>0.0731</p></td>
<td><p>0.0452</p></td>
</tr>
<tr class="row-odd"><td><p>50,000</p></td>
<td><p>0.0726</p></td>
<td><p>[ 0.0720-0.0732 ]</p></td>
<td><p>0.0731</p></td>
<td><p>0.0165</p></td>
</tr>
<tr class="row-even"><td><p>60,000</p></td>
<td><p>0.0731</p></td>
<td><p>[ 0.0726-0.0737 ]</p></td>
<td><p>0.0731</p></td>
<td><p>0.0589</p></td>
</tr>
<tr class="row-odd"><td><p>100,000</p></td>
<td><p>0.0729</p></td>
<td><p>[ 0.0725-0.0734 ]</p></td>
<td><p>0.0731</p></td>
<td><p>0.0305</p></td>
</tr>
<tr class="row-even"><td><p>150,000</p></td>
<td><p>0.0729</p></td>
<td><p>[ 0.0725-0.0732 ]</p></td>
<td><p>0.0731</p></td>
<td><p>0.0163</p></td>
</tr>
<tr class="row-odd"><td><p>200,000</p></td>
<td><p>0.0726</p></td>
<td><p>[ 0.0723-0.0729 ]</p></td>
<td><p>0.0731</p></td>
<td><p>0.0198</p></td>
</tr>
</tbody>
</table>
</div>
<p>We observe the convergence of the Monte Carlo numerical method. We observe a small difference with the PDE scheme results which is due to different time discretization.</p>
</section>
<section id="lsv-ms-mc-test-6-check-convergence-of-numerical-method-for-a-volatility-swap">
<h4><span class="section-number">1.6.1.1.9.3.2. </span>8.3.2. LSV MS MC Test 6: Check convergence of numerical method for a Volatility Swap<a class="headerlink" href="#lsv-ms-mc-test-6-check-convergence-of-numerical-method-for-a-volatility-swap" title="Link to this heading">#</a></h4>
<p>Below is a summary of PVs when we raise the number of Monte Carlo paths for the Volatility Swap trade (PVs have been floored to nearest number for clarity):</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Number of MC paths</p></th>
<th class="head"><p>LSVMSMC</p></th>
<th class="head"><p>LSVMSMC 95% Confidence Interval Estimation</p></th>
<th class="head"><p>LSVMSPDE</p></th>
<th class="head"><p>Absolute Difference</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1,000</p></td>
<td><p>90,377</p></td>
<td><p>[ 89,304-91,449 ]</p></td>
<td><p>90,287</p></td>
<td><p>89</p></td>
</tr>
<tr class="row-odd"><td><p>2,000</p></td>
<td><p>91,740</p></td>
<td><p>[ 90,965-92,515 ]</p></td>
<td><p>90,287</p></td>
<td><p>453</p></td>
</tr>
<tr class="row-even"><td><p>4,000</p></td>
<td><p>90,499</p></td>
<td><p>[ 90,958-91,041 ]</p></td>
<td><p>90,287</p></td>
<td><p>212</p></td>
</tr>
<tr class="row-odd"><td><p>10,000</p></td>
<td><p>90,084</p></td>
<td><p>[ 90,748-90,420 ]</p></td>
<td><p>90,287</p></td>
<td><p>202</p></td>
</tr>
<tr class="row-even"><td><p>20,000</p></td>
<td><p>90,193</p></td>
<td><p>[ 90,956-90,431 ]</p></td>
<td><p>90,287</p></td>
<td><p>93</p></td>
</tr>
<tr class="row-odd"><td><p>30,000</p></td>
<td><p>90,203</p></td>
<td><p>[ 90,009-90,397 ]</p></td>
<td><p>90,287</p></td>
<td><p>84</p></td>
</tr>
<tr class="row-even"><td><p>40,000</p></td>
<td><p>90,316</p></td>
<td><p>[ 90,147-90,486 ]</p></td>
<td><p>90,287</p></td>
<td><p>29</p></td>
</tr>
<tr class="row-odd"><td><p>50,000</p></td>
<td><p>90,275</p></td>
<td><p>[ 90,123-90,427 ]</p></td>
<td><p>90,287</p></td>
<td><p>12</p></td>
</tr>
<tr class="row-even"><td><p>60,000</p></td>
<td><p>90,284</p></td>
<td><p>[ 90,146-90,422 ]</p></td>
<td><p>90,287</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>100,000</p></td>
<td><p>90,211</p></td>
<td><p>[ 90,105-90,318 ]</p></td>
<td><p>90,287</p></td>
<td><p>75</p></td>
</tr>
<tr class="row-even"><td><p>150,000</p></td>
<td><p>90,286</p></td>
<td><p>[ 90,199-90,373 ]</p></td>
<td><p>90,287</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>200,000</p></td>
<td><p>90,290</p></td>
<td><p>[ 90,214-90,366 ]</p></td>
<td><p>90,287</p></td>
<td><p>2</p></td>
</tr>
</tbody>
</table>
</div>
<p>We observe the convergence of the Monte Carlo numerical method. In production we use 40,000 paths as the computation/precision ratio is the most satisfying for this number for the FX market (for instance difference is less than bid offer spread). A larger number can be used by traders at the expense of a larger computation time.</p>
</section>
<section id="lsv-ms-mc-test-2-check-matching-implied-volatilities-with-analytic-pricer-for-short-and-long-dated-vanilla-options">
<h4><span class="section-number">1.6.1.1.9.3.3. </span>8.3.3. LSV MS MC Test 2: Check matching implied volatilities with Analytic pricer for short and long dated vanilla options<a class="headerlink" href="#lsv-ms-mc-test-2-check-matching-implied-volatilities-with-analytic-pricer-for-short-and-long-dated-vanilla-options" title="Link to this heading">#</a></h4>
<p>In this section we look at how well European options are repriced. We compare the results of LSV MS MC against the results of the Analytical pricer which outputs directly the market data values.</p>
<p>For short term options:</p>
<p><img alt="Comparison between Analytic and LSV MS MC pricers for short term vanilla options" src="https://i.imgur.com/placeholder.jpg" /></p>
<p>For long term options:</p>
<p><img alt="Comparison between LSV MS MC and Analytic pricers for long term vanilla options" src="https://i.imgur.com/placeholder2.jpg" /></p>
<p>We observe a good match between the model and the data it has been calibrated to. The maximum error is 24 bps. As a reference, the bid-ask spread on a 1Y ATM vanilla is about 25 bps and for a 10Y ATM it is about 180 bps.</p>
</section>
</section>
<section id="lsv-ms-mc-test-3-check-matching-implied-volatilities-with-analytic-pricer-for-different-q-parameter-values">
<h3><span class="section-number">1.6.1.1.9.4. </span>8.3.4. LSV MS MC Test 3 : Check matching implied volatilities with Analytic pricer for different <span class="math notranslate nohighlight">\(q\)</span> parameter values<a class="headerlink" href="#lsv-ms-mc-test-3-check-matching-implied-volatilities-with-analytic-pricer-for-different-q-parameter-values" title="Link to this heading">#</a></h3>
<p>In these tests we want to check if vanillas options are still repriced correctly as we shift the q parameter. We have chosen 10Y vanillas.</p>
<p>We observe a good match between the model and the data it has been calibrated to (8 bps).</p>
<p><strong>Comparison between LSV MS MC and Analytic pricers for different q parameter values</strong></p>
<p><img alt="lsv_mc_analytic_comparison" src="market/LSV/FX LSV Markov Switching  Monte Carlo/Fig/lsv_mc_analytic_comparison.jpg" /></p>
<p>We observe a good match between the model and the data it has been calibrated to (8 bps).</p>
<p><strong>Comparison between LSV MS MC and Analytic pricers for different q parameter values</strong></p>
<p><img alt="implied_volatility_difference" src="market/LSV/FX LSV Markov Switching  Monte Carlo/Fig/implied_volatility_difference.jpg" /></p>
<p>PVs change smoothly between ladders and no calibration failure is observed. The model supports well stressed periods with high market moves.</p>
</section>
<section id="scenario-and-stress-testing">
<h3><span class="section-number">1.6.1.1.9.5. </span>8.4. Scenario and Stress-testing<a class="headerlink" href="#scenario-and-stress-testing" title="Link to this heading">#</a></h3>
<p>The purpose of stress testing is to verify that the model continues to function under significant market movements.</p>
</section>
<section id="lsv-ms-mc-test-10-ccar-scenarios">
<h3><span class="section-number">1.6.1.1.9.6. </span>8.4.1. LSV MS MC Test 10 : CCAR Scenarios<a class="headerlink" href="#lsv-ms-mc-test-10-ccar-scenarios" title="Link to this heading">#</a></h3>
<p>The model was tested using the CCAR 2018 Adverse Market shocks [17] and the CCAR 2018 Severely Adverse Market shocks [18]. The volatility surface and the FX Spot are simultaneously bumped.
We use again the Volatility Swap.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Ladder</p></th>
<th class="head"><p>Adverse PV</p></th>
<th class="head"><p>Severely Adverse PV</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Base</p></td>
<td><p>90,316</p></td>
<td><p>90,316</p></td>
</tr>
<tr class="row-odd"><td><p>10%</p></td>
<td><p>94,447</p></td>
<td><p>97,777</p></td>
</tr>
<tr class="row-even"><td><p>20%</p></td>
<td><p>99,528</p></td>
<td><p>103,159</p></td>
</tr>
<tr class="row-odd"><td><p>30%</p></td>
<td><p>103,561</p></td>
<td><p>109,464</p></td>
</tr>
<tr class="row-even"><td><p>40%</p></td>
<td><p>107,545</p></td>
<td><p>116,694</p></td>
</tr>
<tr class="row-odd"><td><p>50%</p></td>
<td><p>110,480</p></td>
<td><p>122,849</p></td>
</tr>
<tr class="row-even"><td><p>60%</p></td>
<td><p>114,367</p></td>
<td><p>128,931</p></td>
</tr>
<tr class="row-odd"><td><p>70%</p></td>
<td><p>118,207</p></td>
<td><p>134,938</p></td>
</tr>
<tr class="row-even"><td><p>80%</p></td>
<td><p>122,998</p></td>
<td><p>140,873</p></td>
</tr>
<tr class="row-odd"><td><p>90%</p></td>
<td><p>126,742</p></td>
<td><p>146,735</p></td>
</tr>
<tr class="row-even"><td><p>100%</p></td>
<td><p>129,437</p></td>
<td><p>152,524</p></td>
</tr>
</tbody>
</table>
</div>
<p>PVs change smoothly between ladders and no calibration failure is observed. The model supports well stressed periods with high market moves.</p>
<p><img alt="volatility_swap_adverse_scenario" src="market/LSV/FX LSV Markov Switching  Monte Carlo/Fig/volatility_swap_adverse_scenario.jpg" /></p>
<p><img alt="volatility_swap_severely_adverse_scenario" src="market/LSV/FX LSV Markov Switching  Monte Carlo/Fig/volatility_swap_severely_adverse_scenario.jpg" /></p>
</section>
<section id="sensitivity-analysis">
<h3><span class="section-number">1.6.1.1.9.7. </span>8.5. Sensitivity Analysis<a class="headerlink" href="#sensitivity-analysis" title="Link to this heading">#</a></h3>
<p>The purpose of this section is to test the PV and risks sensitivities to incremental changes of market data and model parameters. In the model, the most impacting market variables are the spot rate and the implied volatility surface. The most relevant model parameters are the vol-of-vol α and the transition term structure q. We apply different shocks to these pieces of market data and model parameters and observe if PV, Delta, Gamma, Vega, Near Rega, Near Sega, Far Rega and Far Sega show any unstable performance under the LSVMS model.</p>
<p>We use the Volatility Swap trade as stated in section 8.1.</p>
<section id="lsv-ms-mc-test-11-sensitivity-with-respect-to-market-inputs">
<h4><span class="section-number">1.6.1.1.9.7.1. </span>8.5.1. LSV MS MC Test 11 : Sensitivity with respect to market inputs<a class="headerlink" href="#lsv-ms-mc-test-11-sensitivity-with-respect-to-market-inputs" title="Link to this heading">#</a></h4>
<p>All risks look smooths. The results for Gamma are less smooth but this is expected as Gamma is a second order derivative and therefore is more sensitive to numerical approximations.</p>
<p>As expected the Present Value is an increasing (approximately linear) function of the ATM volatility. It is also an increasing function of the Spot which is consistent with a positive Risk Reversal term structure of EURUSD at the valuation day (which means higher volatility at higher strikes).</p>
</section>
<section id="relative-shift-of-spot-and-atm-vol-delta-ccy1">
<h4><span class="section-number">1.6.1.1.9.7.2. </span>Relative Shift of Spot and ATM Vol: Delta CCY1<a class="headerlink" href="#relative-shift-of-spot-and-atm-vol-delta-ccy1" title="Link to this heading">#</a></h4>
<p><img alt="delta_ccy1" src="market/LSV/FX LSV Markov Switching  Monte Carlo/Fig/delta_ccy1.jpg" /></p>
</section>
<section id="relative-shift-of-spot-and-atm-vol-delta-ccy2">
<h4><span class="section-number">1.6.1.1.9.7.3. </span>Relative Shift of Spot and ATM Vol: Delta CCY2<a class="headerlink" href="#relative-shift-of-spot-and-atm-vol-delta-ccy2" title="Link to this heading">#</a></h4>
<p><img alt="delta_ccy2" src="market/LSV/FX LSV Markov Switching  Monte Carlo/Fig/delta_ccy2.jpg" /></p>
</section>
<section id="comparison-between-lsv-ms-mc-and-lsv-mc-pde-for-different-strikes-values">
<h4><span class="section-number">1.6.1.1.9.7.4. </span>Comparison between LSV MS MC and LSV MC PDE for different strikes values<a class="headerlink" href="#comparison-between-lsv-ms-mc-and-lsv-mc-pde-for-different-strikes-values" title="Link to this heading">#</a></h4>
<p><img alt="strike_comparison" src="market/LSV/FX LSV Markov Switching  Monte Carlo/Fig/strike_comparison.jpg" /></p>
</section>
<section id="comparison-between-lsv-ms-mc-and-lsv-mc-pde-for-different-q-parameter-values">
<h4><span class="section-number">1.6.1.1.9.7.5. </span>Comparison between LSV MS MC and LSV MC PDE for different q parameter values<a class="headerlink" href="#comparison-between-lsv-ms-mc-and-lsv-mc-pde-for-different-q-parameter-values" title="Link to this heading">#</a></h4>
<p><img alt="q_parameter_comparison" src="market/LSV/FX LSV Markov Switching  Monte Carlo/Fig/q_parameter_comparison.jpg" /></p>
</section>
<section id="comparison-between-lsv-ms-mc-and-lsv-mc-pde-for-different-vol-of-vol-values">
<h4><span class="section-number">1.6.1.1.9.7.6. </span>Comparison between LSV MS MC and LSV MC PDE for different Vol of Vol values<a class="headerlink" href="#comparison-between-lsv-ms-mc-and-lsv-mc-pde-for-different-vol-of-vol-values" title="Link to this heading">#</a></h4>
<p><img alt="vol_of_vol_comparison" src="market/LSV/FX LSV Markov Switching  Monte Carlo/Fig/vol_of_vol_comparison.jpg" /></p>
</section>
<section id="id8">
<h4><span class="section-number">1.6.1.1.9.7.7. </span>FX LSV Markov Switching : Monte Carlo<a class="headerlink" href="#id8" title="Link to this heading">#</a></h4>
<p>QA Macro Products, 3 September 2018</p>
</section>
<section id="lsv-ms-mc-test-12-sensitivity-with-respect-to-model-parameters">
<h4><span class="section-number">1.6.1.1.9.7.8. </span>8.5.2. LSV MS MC Test 12 : Sensitivity with respect to model parameters<a class="headerlink" href="#lsv-ms-mc-test-12-sensitivity-with-respect-to-model-parameters" title="Link to this heading">#</a></h4>
<p>We see straight away that the vol-of-vol is the parameter with the greatest impact. The risks behave smoothly and we can see that, as expected, all results are the same for a transition parameter q equal to zero. This is because the stochastic part of the volatility is removed and the model is equivalent to a Local Volatility model regardless of the volatility.</p>
<p><img alt="pv_q_parameter" src="market/LSV/FX LSV Markov Switching  Monte Carlo/Fig/pv_q_parameter.jpg" /></p>
<p>Relative Shift of Vol of Vol for different q parameter values: PV</p>
<p><img alt="far_sega" src="market/LSV/FX LSV Markov Switching  Monte Carlo/Fig/far_sega.jpg" /></p>
<p>Relative Shift of Vol of Vol for different q parameter values: Far Sega</p>
</section>
</section>
<section id="back-testing">
<h3><span class="section-number">1.6.1.1.9.8. </span>8.6. Back-testing<a class="headerlink" href="#back-testing" title="Link to this heading">#</a></h3>
<p>Not applicable.</p>
</section>
<section id="benchmarking">
<h3><span class="section-number">1.6.1.1.9.9. </span>8.7. Benchmarking<a class="headerlink" href="#benchmarking" title="Link to this heading">#</a></h3>
<section id="lsv-ms-mc-test-7-check-matching-prices-between-lsv-ms-mc-and-lsv-ms-pde-for-a-volatility-swap-for-different-strikes-prices">
<h4><span class="section-number">1.6.1.1.9.9.1. </span>8.7.1. LSV MS MC Test 7 : Check matching prices between LSV MS MC and LSV MS PDE for a Volatility Swap for different strikes prices<a class="headerlink" href="#lsv-ms-mc-test-7-check-matching-prices-between-lsv-ms-mc-and-lsv-ms-pde-for-a-volatility-swap-for-different-strikes-prices" title="Link to this heading">#</a></h4>
<p>We observe a very close match across all risks. The maximum difference in PV is below 1 bp of notional, which is very low and well under the bid ask spread for this kind of exotic products. Except for the present value and the Delta CCY1, risks are independent of strike as expected. Note that the differences on the graphs are small in relative value.</p>
<p><img alt="pv_strikes_comparison" src="market/LSV/FX LSV Markov Switching  Monte Carlo/Fig/pv_strikes_comparison.jpg" /></p>
<p>Comparison between LSV MS MC and LSV MC PDE for different strikes values</p>
<p><img alt="delta_ccy1_strikes" src="market/LSV/FX LSV Markov Switching  Monte Carlo/Fig/delta_ccy1_strikes.jpg" /></p>
<p><img alt="delta_ccy2_strikes" src="market/LSV/FX LSV Markov Switching  Monte Carlo/Fig/delta_ccy2_strikes.jpg" /></p>
<p><img alt="gamma_strikes" src="market/LSV/FX LSV Markov Switching  Monte Carlo/Fig/gamma_strikes.jpg" /></p>
<p><img alt="vega_strikes" src="market/LSV/FX LSV Markov Switching  Monte Carlo/Fig/vega_strikes.jpg" /></p>
<p><img alt="near_sega_strikes" src="market/LSV/FX LSV Markov Switching  Monte Carlo/Fig/near_sega_strikes.jpg" /></p>
<p><img alt="far_rega_strikes" src="market/LSV/FX LSV Markov Switching  Monte Carlo/Fig/far_rega_strikes.jpg" /></p>
<p><img alt="far_sega_strikes" src="market/LSV/FX LSV Markov Switching  Monte Carlo/Fig/far_sega_strikes.jpg" /></p>
</section>
<section id="lsv-ms-mc-test-8-check-matching-prices-between-lsv-ms-mc-and-lsv-ms-pde-for-a-volatility-swap-for-different-transition-q-parameters">
<h4><span class="section-number">1.6.1.1.9.9.2. </span>8.7.2. LSV MS MC Test 8 : Check matching prices between LSV MS MC and LSV MS PDE for a Volatility Swap for different transition q parameters<a class="headerlink" href="#lsv-ms-mc-test-8-check-matching-prices-between-lsv-ms-mc-and-lsv-ms-pde-for-a-volatility-swap-for-different-transition-q-parameters" title="Link to this heading">#</a></h4>
<p>Again we observe a close match between risks. The maximum difference in PV is below 1 bp of notional, which is very low and well under the bid ask spread for this kind of exotic products. We observe small discrepancies for some of the risks (especially Delta CCY2 and Gamma). These discrepancies are expected and tolerated : for more precision on these risks one need to use a higher</p>
<p><img alt="pv_q_values" src="market/LSV/FX LSV Markov Switching  Monte Carlo/Fig/pv_q_values.jpg" /></p>
<p>Comparison between LSV MS MC and LSV MC PDE for different q parameter values</p>
<p><img alt="delta_ccy1_q" src="market/LSV/FX LSV Markov Switching  Monte Carlo/Fig/delta_ccy1_q.jpg" /></p>
<p><img alt="delta_ccy2_q" src="market/LSV/FX LSV Markov Switching  Monte Carlo/Fig/delta_ccy2_q.jpg" /></p>
<p><img alt="gamma_q" src="market/LSV/FX LSV Markov Switching  Monte Carlo/Fig/gamma_q.jpg" /></p>
<p><img alt="near_rega_q" src="market/LSV/FX LSV Markov Switching  Monte Carlo/Fig/near_rega_q.jpg" /></p>
<p><img alt="near_sega_q" src="market/LSV/FX LSV Markov Switching  Monte Carlo/Fig/near_sega_q.jpg" /></p>
<p><img alt="far_rega_q" src="market/LSV/FX LSV Markov Switching  Monte Carlo/Fig/far_rega_q.jpg" /></p>
<p><img alt="far_sega_q" src="market/LSV/FX LSV Markov Switching  Monte Carlo/Fig/far_sega_q.jpg" /></p>
<p>Comparison between LSV MS MC and LSV MC PDE for different Vol of Vol values</p>
</section>
</section>
<section id="other-analysis-testing">
<h3><span class="section-number">1.6.1.1.9.10. </span>8.8. Other Analysis / Testing<a class="headerlink" href="#other-analysis-testing" title="Link to this heading">#</a></h3>
<p><img alt="far_sega_vol" src="market/LSV/FX LSV Markov Switching  Monte Carlo/Fig/far_sega_vol.jpg" /></p>
</section>
</section>
<section id="assumptions-and-limitations">
<h2><span class="section-number">1.6.1.1.10. </span>9. Assumptions and Limitations<a class="headerlink" href="#assumptions-and-limitations" title="Link to this heading">#</a></h2>
<p>Model Assumptions</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>Assumption</p></th>
<th class="head"><p>Justification &amp; Impact</p></th>
<th class="head"><p>Reference</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[A.0]</p></td>
<td><p>No-arbitrage and frictionless market (no transaction cost, no bid-ask spread, no restrictions on trade such as margin requirements or short sale restrictions, no tax).</p></td>
<td><p>These are basic pricing assumptions, also very large institutional traders approximate frictionless markets since their transaction costs are minimal.</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-odd"><td><p>[A.1]</p></td>
<td><p>The stochastic Markov chain is independent of the Brownian motion that drives the underlying spot.</p></td>
<td><p>The spot and volatility processes are naturally correlated by the local volatility correction A(t, S(t)).</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-even"><td><p>[A.2]</p></td>
<td><p>The Transition Generator Matrix has to satisfy equation 4.3.</p></td>
<td><p>This is a simplification to make it easy for the traders to mark the transition probability structure : they mark one parameter instead of a whole matrix.</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-odd"><td><p>[A.3]</p></td>
<td><p>The volatility of volatility α(u) and the transition matrix term structure q(u) are piecewise constant in time.</p></td>
<td><p>Piecewise constancy is the choice maintaining balance between simplicity and generality : piecewise constant functions are easy to mark for the traders and they can approximate a very large set of functions.</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-even"><td><p>[A.4]</p></td>
<td><p>Both the domestic and foreign interest rates are assumed to be deterministic.</p></td>
<td><p>The stochastic interest rate effect is not taken into account.</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-odd"><td><p>[A.5]</p></td>
<td><p>The number of states for the Markov chain used in production is equal to 3.</p></td>
<td><p>Any trade probing this assumption would have a quite specific dependence on the volatility process and therefore have a price that depends heavily on the details of the stochastic volatility component. As such, this would not be a trade suitable for the bank book.</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-even"><td><p>[A.6]</p></td>
<td><p>The matrix Q is set by default as in 4.5.</p></td>
<td><p>However, it is possible to use any other matrix which satisfies conditions (i)-(iv) from Section 4.2.</p></td>
<td><p>N/A</p></td>
</tr>
</tbody>
</table>
</div>
<p>Model Limitations</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>Limitation</p></th>
<th class="head"><p>Justification, Mitigation &amp; Impact</p></th>
<th class="head"><p>Reference</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[L.1]</p></td>
<td><p>This model is a one asset model. It is not suitable for multi-asset trades.</p></td>
<td><p>This model can only be used for one asset trades</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-odd"><td><p>[L.2]</p></td>
<td><p>As the local volatility correction is calibrated to the smile volatility surface, there is a direct dependence on the quality of the input market data. If the volatility surface has noisy local volatility, this will feed directly to the local volatility correction parameters in the model.</p></td>
<td><p>This limitation is a direct consequence of possible defaults in the input volatility surface.</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-even"><td><p>[L.3]</p></td>
<td><p>Also, as in every local stochastic volatility model, care needs to be taken when we have high vol-of-vols as trade maturity increases. It can be numerically challenging and the accuracy of the calibration to vanillas could suffer.</p></td>
<td><p>An increase of the PDE settings would be required to improve the accuracy.</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-odd"><td><p>[L.4]</p></td>
<td><p>Monte-Carlo prices are less accurate when number of paths is too small and/or when time schedule is too coarse.</p></td>
<td><p>User should check pricing result has converged with selected simulation settings such as the number of paths and time schedule.</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-even"><td><p>[L.5]</p></td>
<td><p>Observed convergence can be very slow in case of high vol-of-vol parameters.</p></td>
<td><p>This is because a high vol-of-vol means a larger variance of the Monte Carlo estimators. User should check pricing result has converged with selected simulation settings such as the number of paths and time schedule.</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-odd"><td><p>[L.6]</p></td>
<td><p>Risking limitations: as in all models involving a smile volatility surface, failures can occur in risk if the original FX volatility surface is on the verge of breaking.</p></td>
<td><p>The stability of the volatility surface has been extensively tested in Section 9.3 of [8], where the new feature allowing for constant moneyness interpolation proved to sensibly improve the quality of the volatility surface itself. This in turns reduces the probability of failures in the construction of the bumped volatility surface.</p></td>
<td><p>N/A</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="qa-implementation-environment-and-controls">
<h2><span class="section-number">1.6.1.1.11. </span>10. QA Implementation Environment and Controls<a class="headerlink" href="#qa-implementation-environment-and-controls" title="Link to this heading">#</a></h2>
<p>The LSV MS MC has been implemented in the QAlib inside the Monte Carlo framework. For more information on this please refer to [19].</p>
<p>The pricing of assets using the MC engine uses PADLA scripts, please refer to [20].</p>
<p>In addition to this, ad-hoc tests have been created to check the stability and robustness of the LSVMS model. They are constantly monitored and can be found in the following Perforce folder : //depot/QA/QAConsultancy/QAConsultancy_main.br/Testing/Tests/QABurn/FX/Regression/MRM/4198.</p>
</section>
<section id="model-monitoring-kpis">
<h2><span class="section-number">1.6.1.1.12. </span>11. Model Monitoring – KPIs<a class="headerlink" href="#model-monitoring-kpis" title="Link to this heading">#</a></h2>
<p>N/A</p>
</section>
<section id="references">
<h2><span class="section-number">1.6.1.1.13. </span>12. References<a class="headerlink" href="#references" title="Link to this heading">#</a></h2>
<p>[1] Quantitative Analytics team (2018), LSV Markov Switching Model : PDE, Xsigma Capital, QA internal document, <a class="reference external" href="http://qa.barcapint.com/Publications/Models/Macro/FX/Models/LSV/LSVMS_PDE_GMD4188.pdf">http://qa.barcapint.com/Publications/Models/Macro/FX/Models/LSV/LSVMS_PDE_GMD4188.pdf</a>.</p>
<p>[2] N.Oliver (2012), Computing the Distribution of the Variance in a Markov Switching Model, Xsigma Capital, QA internal document, <a class="reference external" href="http://qa.barcapint.com/Publications/Models/Macro/FX/Models/LSV/MarkovSwitchingVarianceDistribution.pdf">http://qa.barcapint.com/Publications/Models/Macro/FX/Models/LSV/MarkovSwitchingVarianceDistribution.pdf</a>.</p>
<p>[3] P. Austing (2014), Smile Pricing Explained, Palgrave Macmillan UK.</p>
<p>[4] I. J. Clark (2015), Foreign Exchange Option Pricing - a Practitioner’s guide, Wiley Finance.</p>
<p>[5] L.Sadiq (2011), LSV Markov Switching qualitative analysis, Xsigma Capital, QA internal document, <a class="reference external" href="http://qa.barcapint.com/Publications/Models/Macro/FX/Models/LSV/QualitativeAnalysisLSVMarkovSwitchingOnePlus.pdf">http://qa.barcapint.com/Publications/Models/Macro/FX/Models/LSV/QualitativeAnalysisLSVMarkovSwitchingOnePlus.pdf</a>.</p>
<p>[6] C.Homescu (2014), Local Stochastic Volatility Models: Calibration and Pricing.</p>
<p>[7] Quantitative Analytics team (2014), QARisk2 Documentation Index, QA internal document.</p>
<p>[8] Quantitative Analytics team (2017), FX Analytic Volatility Surface : Build, <a class="reference external" href="http://qa.barcapint.com/Publications/Models/Macro/FX/MarketData/FXVolSurfaces/FX_3pt_5pt_Analytic_VolatilitySurface_Build.pdf">http://qa.barcapint.com/Publications/Models/Macro/FX/MarketData/FXVolSurfaces/FX_3pt_5pt_Analytic_VolatilitySurface_Build.pdf</a>.</p>
<p>[9] B. Dupire (1994), Pricing with a smile, Risk.</p>
<p>[10] Quantitative Analytics team, AEMetricsTopic, Xsigma Capital, QA internal document, <a class="reference external" href="http://qa:8080/wiki/AEMetricsTopic_(QATopic)">http://qa:8080/wiki/AEMetricsTopic_(QATopic)</a>.</p>
<p>[11] G. Farnan (2010), Multi-Currency Aggregation of FX Delta and Gamma Risk, Xsigma Capital, QA internal document, <a class="reference external" href="http://qa.barcapint.com/Publications/Models/Macro/FX/Risk/FX%20Risk%20Measures/MultiCurrencyRiskAggregation.pdf">http://qa.barcapint.com/Publications/Models/Macro/FX/Risk/FX Risk Measures/MultiCurrencyRiskAggregation.pdf</a>.</p>
<p>[12] Quantitative Analytics team, FX European Option PTax, QA, Xsigma Capital, London, PTax131, <a class="reference external" href="http://qa.barcapint.com/Publications/Models/Macro/FX/Trades/PTax/PTax_131_FX_European_Option.PDF">http://qa.barcapint.com/Publications/Models/Macro/FX/Trades/PTax/PTax_131_FX_European_Option.PDF</a>.</p>
<p>[13] Quantitative Analytics team, FX Vanilla on Black. QA, Xsigma Capital, London, GMD4187. <a class="reference external" href="http://qa.barcapint.com/Publications/Models/Macro/FX/Models/FXVanillaBlack/FXVanillaOptionsOnBlack.pdf">http://qa.barcapint.com/Publications/Models/Macro/FX/Models/FXVanillaBlack/FXVanillaOptionsOnBlack.pdf</a>.</p>
<p>[14] Quantitative Analytics team, FX Volatility Swap PTax, Xsigma Capital, QA internal document, <a class="reference external" href="http://qa.barcapint.com/Publications/FX/Templates/CTR_3.6/FXVolatilitySwap.xsd">http://qa.barcapint.com/Publications/FX/Templates/CTR_3.6/FXVolatilitySwap.xsd</a></p>
<p>[15] K.Yendapalli (2016), Local Volatility: PDE and MC, Xsigma Capital, QA internal document, <a class="reference external" href="http://qa.barcapint.com/Publications/Models/Macro/FX/Models/LV/FX%20Local%20Volatility%20-%20PDE%20and%20MC.pdf">http://qa.barcapint.com/Publications/Models/Macro/FX/Models/LV/FX Local Volatility - PDE and MC.pdf</a>.</p>
<p>[16] D.Madan, Y.Ren, M.Qian Qian (2007), Calibrating and pricing with embedded local volatility models, Risk.</p>
<p>[17] Federal Reserve (2018), CCAR 2018 Adverse Market Shocks, <a class="reference external" href="https://www.federalreserve.gov/supervisionreg/files/ccar-2018-adverse-market-shocks.xlsx">https://www.federalreserve.gov/supervisionreg/files/ccar-2018-adverse-market-shocks.xlsx</a>.</p>
<p>[19] Quantitative Analytics team, The Generic Monte Carlo Engine, <a class="reference external" href="http://qa.barcapint.com/publications/Models/EDG/Monte%20Carlo/The%20Generic%20Monte%20Carlo%20Engine.doc">http://qa.barcapint.com/publications/Models/EDG/Monte Carlo/The Generic Monte Carlo Engine.doc</a>.</p>
<p>[20] Padla QAWiki page, Xsigma Capital, QA internal document, <a class="reference external" href="http://qa.barcapint.com:8080/wiki/Padla">http://qa.barcapint.com:8080/wiki/Padla</a></p>
<p>[21] S. Frankau (2007), Notes on Using Sobol’s Sequences, Xsigma Capital, QA internal document, <a class="reference external" href="http://qa.barcapint.com/publications/Models/EDG/Monte%20Carlo/Random%20Number%20Generators/sobol.pdf">http://qa.barcapint.com/publications/Models/EDG/Monte Carlo/Random Number Generators/sobol.pdf</a>.</p>
<p>[22] S.Joe and F.Y.Kuo, Construction Sobol Sequences with better two dimensional Projections.## B. Appendix: Peer Reviewer Sign off</p>
</section>
<section id="a-appendix-glossary">
<h2><span class="section-number">1.6.1.1.14. </span>A. Appendix: Glossary<a class="headerlink" href="#a-appendix-glossary" title="Link to this heading">#</a></h2>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Definition</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>LV</p></td>
<td><p>Local Volatility.</p></td>
</tr>
<tr class="row-odd"><td><p>LSV</p></td>
<td><p>Local Stochastic Volatility.</p></td>
</tr>
<tr class="row-even"><td><p>LSV MS</p></td>
<td><p>Local Stochastic Volatility Markov Switching.</p></td>
</tr>
<tr class="row-odd"><td><p>LSV MS MC</p></td>
<td><p>Local Stochastic Volatility Markov Switching with Monte Carlo scheme.</p></td>
</tr>
<tr class="row-even"><td><p>LSV MS PDE</p></td>
<td><p>Local Stochastic Volatility Markov Switching with Partial Differential Equation scheme.</p></td>
</tr>
<tr class="row-odd"><td><p>MC</p></td>
<td><p>Monte Carlo.</p></td>
</tr>
<tr class="row-even"><td><p>PADLA</p></td>
<td><p>QA Payout Definition Language.</p></td>
</tr>
<tr class="row-odd"><td><p>PDE</p></td>
<td><p>Partial Differential Equation.</p></td>
</tr>
<tr class="row-even"><td><p>PDF</p></td>
<td><p>Probability Density Function.</p></td>
</tr>
<tr class="row-odd"><td><p>PV</p></td>
<td><p>Present Value.</p></td>
</tr>
<tr class="row-even"><td><p>SDE</p></td>
<td><p>Stochastic Differential Equation.</p></td>
</tr>
<tr class="row-odd"><td><p>SV</p></td>
<td><p>Stochastic Volatility.</p></td>
</tr>
<tr class="row-even"><td><p>UMIFX</p></td>
<td><p>Unified model interface for FX.</p></td>
</tr>
<tr class="row-odd"><td><p>Vol-of-vol</p></td>
<td><p>Volatility of volatility.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../FX%20LSV%20Markov%20Switching%20PDE/FX_LSV_Markov_Switching_PDE.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title"><span class="section-number">1.6.1.2. </span>FX LSV Markov Switching : PDE</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../LSV.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title"><span class="section-number">1.6.1. </span>LSV</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2023-2025, PRETORIAN Development Team
            </div>
            Made with 
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/pretorian-project" aria-label="GitHub">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
            </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">1.6.1.1. FX LSV Markov Switching : Monte Carlo</a><ul>
<li><a class="reference internal" href="#table-of-contents">1.6.1.1.1. Table of Contents</a></li>
<li><a class="reference internal" href="#executive-summary">1.6.1.1.2. 1. Executive Summary</a></li>
<li><a class="reference internal" href="#scope-and-use">1.6.1.1.3. 2. Scope and Use</a></li>
<li><a class="reference internal" href="#product-and-portfolio">1.6.1.1.4. 3. Product and Portfolio</a><ul>
<li><a class="reference internal" href="#description">1.6.1.1.4.1. 3.1. Description</a><ul>
<li><a class="reference internal" href="#vanilla-options">1.6.1.1.4.1.1. 3.1.1. Vanilla Options</a></li>
<li><a class="reference internal" href="#volatility-swap">1.6.1.1.4.1.2. 3.1.2. Volatility swap</a></li>
</ul>
</li>
<li><a class="reference internal" href="#relationship-to-other-approved-models">1.6.1.1.4.2. 3.2. Relationship to Other Approved Models</a></li>
</ul>
</li>
<li><a class="reference internal" href="#methodology">1.6.1.1.5. 4. Methodology</a><ul>
<li><a class="reference internal" href="#design-consideration-development-process">1.6.1.1.5.1. 4.1. Design Consideration &amp; Development Process</a></li>
<li><a class="reference internal" href="#id1">1.6.1.1.5.2. 4.2. Description</a><ul>
<li><a class="reference internal" href="#stochastic-volatility">1.6.1.1.5.2.1. 4.2.1. Stochastic Volatility</a></li>
<li><a class="reference internal" href="#local-stochastic-volatility">1.6.1.1.5.2.2. 4.2.2. Local Stochastic Volatility</a></li>
</ul>
</li>
<li><a class="reference internal" href="#model-assumptions">1.6.1.1.5.3. 4.3. Model Assumptions</a></li>
<li><a class="reference internal" href="#model-limitations">1.6.1.1.5.4. 4.4. Model Limitations</a></li>
<li><a class="reference internal" href="#model-inputs-and-parameters">1.6.1.1.5.5. 4.5. Model Inputs and Parameters</a></li>
<li><a class="reference internal" href="#model-outputs">1.6.1.1.5.6. 4.6. Model Outputs</a></li>
<li><a class="reference internal" href="#feeder-models">1.6.1.1.5.7. 4.7. Feeder Models</a></li>
<li><a class="reference internal" href="#conceptual-soundness-and-model-selection">1.6.1.1.5.8. 4.8. Conceptual Soundness and Model Selection</a></li>
</ul>
</li>
<li><a class="reference internal" href="#data-processing-and-calibration">1.6.1.1.6. 5. Data Processing and Calibration</a><ul>
<li><a class="reference internal" href="#id2">1.6.1.1.6.1. 5.1. Description</a><ul>
<li><a class="reference internal" href="#calibration-of-the-local-volatility-correction">1.6.1.1.6.1.1. 5.1.1. Calibration of the Local Volatility Correction</a><ul>
<li><a class="reference internal" href="#calibration-of-the-local-volatility">1.6.1.1.6.1.1.1. 5.1.1.1. Calibration of the Local Volatility</a></li>
<li><a class="reference internal" href="#use-of-the-fokker-planck-equation-to-calibrate-the-local-volatility-correction-factor">1.6.1.1.6.1.1.2. 5.1.1.2. Use of the Fokker Planck equation to calibrate the Local Volatility Correction factor</a></li>
</ul>
</li>
<li><a class="reference internal" href="#time-grids-construction-in-calibration-of-lsv-ms-monte-carlo">1.6.1.1.6.1.2. 5.1.2. Time Grids Construction in Calibration of LSV MS Monte Carlo</a></li>
<li><a class="reference internal" href="#inputs-and-parameters-used-for-calibration">1.6.1.1.6.1.3. 5.1.3. Inputs and Parameters Used for Calibration.</a><ul>
<li><a class="reference internal" href="#local-volatility-correction-calibration-settings">1.6.1.1.6.1.3.1. 5.1.3.1. Local Volatility Correction Calibration Settings</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#alternative-approaches">1.6.1.1.6.2. 5.2. Alternative Approaches</a></li>
<li><a class="reference internal" href="#quality-control">1.6.1.1.6.3. 5.3. Quality control</a></li>
<li><a class="reference internal" href="#limitations">1.6.1.1.6.4. 5.4. Limitations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#numerical-implementation">1.6.1.1.7. 6. Numerical Implementation</a><ul>
<li><a class="reference internal" href="#id3">1.6.1.1.7.1. 6.1. Description</a><ul>
<li><a class="reference internal" href="#discretization-of-spot-and-volatility-process">1.6.1.1.7.1.1. 6.1.1. Discretization of spot and volatility process</a><ul>
<li><a class="reference internal" href="#evolution-of-spot-process">1.6.1.1.7.1.1.1. 6.1.1.1. Evolution of spot process</a></li>
<li><a class="reference internal" href="#evolution-of-volatility-process">1.6.1.1.7.1.1.2. 6.1.1.2. Evolution of volatility process</a><ul>
<li><a class="reference internal" href="#computation-of-the-transition-probability-matrix">1.6.1.1.7.1.1.2.1. 6.1.1.2.1 Computation of the transition Probability Matrix</a></li>
<li><a class="reference internal" href="#generation-of-bernoullis">1.6.1.1.7.1.1.2.2. 6.1.1.2.2  Generation of Bernoullis</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#inputs">1.6.1.1.7.2. 6.2.  Inputs</a><ul>
<li><a class="reference internal" href="#fxmcdateoptionspp">1.6.1.1.7.2.1. 6.2.1.  FXMCDateOptionsPP</a></li>
<li><a class="reference internal" href="#fxdateoptionsstepschedulepp">1.6.1.1.7.2.2. 6.2.2.  FXDateOptionsStepSchedulePP</a></li>
<li><a class="reference internal" href="#fxmcplsimulatoroptionspp">1.6.1.1.7.2.3. 6.2.3.  FXMCPLSimulatorOptionsPP</a></li>
<li><a class="reference internal" href="#fxmcrngoptionspp">1.6.1.1.7.2.4. 6.2.4. FXMCRNGOptionsPP</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id4">1.6.1.1.7.3. 6.3. Limitations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#risk-measures">1.6.1.1.8. 7. Risk Measures</a><ul>
<li><a class="reference internal" href="#id5">1.6.1.1.8.1. 7.1. Description</a></li>
<li><a class="reference internal" href="#id6">1.6.1.1.8.2. 7.2. Inputs</a></li>
<li><a class="reference internal" href="#id7">1.6.1.1.8.3. 7.3. Limitations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#testing-and-outcome-analysis">1.6.1.1.9. 8. Testing and Outcome Analysis</a><ul>
<li><a class="reference internal" href="#testing-plan">1.6.1.1.9.1. 8.1. Testing Plan</a><ul>
<li><a class="reference internal" href="#calibration-correctness-repricing-of-fx-volatility-inputs">1.6.1.1.9.1.1. 8.1.1. Calibration correctness : repricing of FX Volatility inputs</a></li>
<li><a class="reference internal" href="#consistency-with-lsv-ms-pde">1.6.1.1.9.1.2. 8.1.2. Consistency with LSV MS PDE</a></li>
<li><a class="reference internal" href="#ccar-scenario-stress-testing">1.6.1.1.9.1.3. 8.1.3. CCAR Scenario Stress testing</a></li>
<li><a class="reference internal" href="#sensitivity-analysis-with-respect-to-market-inputs">1.6.1.1.9.1.4. 8.1.4. Sensitivity Analysis with respect to Market Inputs</a></li>
<li><a class="reference internal" href="#sensitivity-analysis-with-respect-to-model-parameters">1.6.1.1.9.1.5. 8.1.5. Sensitivity Analysis with respect to Model Parameters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#market-data-model-parameters-and-calibration-settings">1.6.1.1.9.2. 8.2. Market Data, Model Parameters and Calibration Settings</a><ul>
<li><a class="reference internal" href="#market-data-and-model-parameters">1.6.1.1.9.2.1. 8.2.1. Market Data and Model Parameters</a><ul>
<li><a class="reference internal" href="#vol-of-vol-term-structure">1.6.1.1.9.2.1.1. Vol-of-Vol Term Structure</a></li>
<li><a class="reference internal" href="#transition-q-term-structure">1.6.1.1.9.2.1.2. Transition q Term Structure</a></li>
</ul>
</li>
<li><a class="reference internal" href="#calibration-settings">1.6.1.1.9.2.2. 8.2.2. Calibration Settings</a></li>
</ul>
</li>
<li><a class="reference internal" href="#accuracy-robustness-and-stability-testing">1.6.1.1.9.3. 8.3. Accuracy, Robustness and Stability Testing</a><ul>
<li><a class="reference internal" href="#lsv-ms-mc-test-1-check-convergence-of-numerical-method-for-a-vanilla-option">1.6.1.1.9.3.1. 8.3.1. LSV MS MC Test 1: Check convergence of numerical method for a vanilla option</a></li>
<li><a class="reference internal" href="#lsv-ms-mc-test-6-check-convergence-of-numerical-method-for-a-volatility-swap">1.6.1.1.9.3.2. 8.3.2. LSV MS MC Test 6: Check convergence of numerical method for a Volatility Swap</a></li>
<li><a class="reference internal" href="#lsv-ms-mc-test-2-check-matching-implied-volatilities-with-analytic-pricer-for-short-and-long-dated-vanilla-options">1.6.1.1.9.3.3. 8.3.3. LSV MS MC Test 2: Check matching implied volatilities with Analytic pricer for short and long dated vanilla options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#lsv-ms-mc-test-3-check-matching-implied-volatilities-with-analytic-pricer-for-different-q-parameter-values">1.6.1.1.9.4. 8.3.4. LSV MS MC Test 3 : Check matching implied volatilities with Analytic pricer for different <span class="math notranslate nohighlight">\(q\)</span> parameter values</a></li>
<li><a class="reference internal" href="#scenario-and-stress-testing">1.6.1.1.9.5. 8.4. Scenario and Stress-testing</a></li>
<li><a class="reference internal" href="#lsv-ms-mc-test-10-ccar-scenarios">1.6.1.1.9.6. 8.4.1. LSV MS MC Test 10 : CCAR Scenarios</a></li>
<li><a class="reference internal" href="#sensitivity-analysis">1.6.1.1.9.7. 8.5. Sensitivity Analysis</a><ul>
<li><a class="reference internal" href="#lsv-ms-mc-test-11-sensitivity-with-respect-to-market-inputs">1.6.1.1.9.7.1. 8.5.1. LSV MS MC Test 11 : Sensitivity with respect to market inputs</a></li>
<li><a class="reference internal" href="#relative-shift-of-spot-and-atm-vol-delta-ccy1">1.6.1.1.9.7.2. Relative Shift of Spot and ATM Vol: Delta CCY1</a></li>
<li><a class="reference internal" href="#relative-shift-of-spot-and-atm-vol-delta-ccy2">1.6.1.1.9.7.3. Relative Shift of Spot and ATM Vol: Delta CCY2</a></li>
<li><a class="reference internal" href="#comparison-between-lsv-ms-mc-and-lsv-mc-pde-for-different-strikes-values">1.6.1.1.9.7.4. Comparison between LSV MS MC and LSV MC PDE for different strikes values</a></li>
<li><a class="reference internal" href="#comparison-between-lsv-ms-mc-and-lsv-mc-pde-for-different-q-parameter-values">1.6.1.1.9.7.5. Comparison between LSV MS MC and LSV MC PDE for different q parameter values</a></li>
<li><a class="reference internal" href="#comparison-between-lsv-ms-mc-and-lsv-mc-pde-for-different-vol-of-vol-values">1.6.1.1.9.7.6. Comparison between LSV MS MC and LSV MC PDE for different Vol of Vol values</a></li>
<li><a class="reference internal" href="#id8">1.6.1.1.9.7.7. FX LSV Markov Switching : Monte Carlo</a></li>
<li><a class="reference internal" href="#lsv-ms-mc-test-12-sensitivity-with-respect-to-model-parameters">1.6.1.1.9.7.8. 8.5.2. LSV MS MC Test 12 : Sensitivity with respect to model parameters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#back-testing">1.6.1.1.9.8. 8.6. Back-testing</a></li>
<li><a class="reference internal" href="#benchmarking">1.6.1.1.9.9. 8.7. Benchmarking</a><ul>
<li><a class="reference internal" href="#lsv-ms-mc-test-7-check-matching-prices-between-lsv-ms-mc-and-lsv-ms-pde-for-a-volatility-swap-for-different-strikes-prices">1.6.1.1.9.9.1. 8.7.1. LSV MS MC Test 7 : Check matching prices between LSV MS MC and LSV MS PDE for a Volatility Swap for different strikes prices</a></li>
<li><a class="reference internal" href="#lsv-ms-mc-test-8-check-matching-prices-between-lsv-ms-mc-and-lsv-ms-pde-for-a-volatility-swap-for-different-transition-q-parameters">1.6.1.1.9.9.2. 8.7.2. LSV MS MC Test 8 : Check matching prices between LSV MS MC and LSV MS PDE for a Volatility Swap for different transition q parameters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#other-analysis-testing">1.6.1.1.9.10. 8.8. Other Analysis / Testing</a></li>
</ul>
</li>
<li><a class="reference internal" href="#assumptions-and-limitations">1.6.1.1.10. 9. Assumptions and Limitations</a></li>
<li><a class="reference internal" href="#qa-implementation-environment-and-controls">1.6.1.1.11. 10. QA Implementation Environment and Controls</a></li>
<li><a class="reference internal" href="#model-monitoring-kpis">1.6.1.1.12. 11. Model Monitoring – KPIs</a></li>
<li><a class="reference internal" href="#references">1.6.1.1.13. 12. References</a></li>
<li><a class="reference internal" href="#a-appendix-glossary">1.6.1.1.14. A. Appendix: Glossary</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../../../_static/documentation_options.js?v=454d727b"></script>
    <script src="../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/scripts/furo.js?v=32e29ea5"></script>
    <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../_static/copybutton.js?v=ab308175"></script>
    <script src="../../../_static/custom.js?v=92eda4d4"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script src="../../../_static/design-tabs.js?v=36754332"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "displayMath": [["$$", "$$"], ["\\[", "\\]"]], "processEscapes": true, "processEnvironments": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../../_static/custom.js?v=92eda4d4"></script>
    </body>
</html>