<!doctype html>
<html class="no-js" lang="en" data-content_root="../../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="author" title="About these documents" href="../../about.html" /><link rel="index" title="Index" href="../../genindex.html" /><link rel="search" title="Search" href="../../search.html" /><link rel="next" title="Curve Construction and Risk Framework (New Curve Framework)" href="../Curve%20Construction/Curve_Construction.html" /><link rel="prev" title="Market" href="../index.html" />

    <link rel="shortcut icon" href="../../_static/xsigma_favicon.png"/><!-- Generated with Sphinx 7.2.6 and Furo 2023.09.10 -->
        <title>Cheyette Local Vol Model - XSIGMA documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?v=36a5483c" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">XSIGMA  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../../_static/Logo.ico" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">XSIGMA  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../about.html">About</a></li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../index.html">Market</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Market</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Cheyette Local Vol Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/Curve_Construction.html">Curve Construction and Risk Framework (New Curve Framework)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Fx/fx_volatility_surface.html">FX Analytic Volatility Surfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Ir/Linear_Interest_Rate_Swaps.html">Linear Interest Rate Swaps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Local_Volatility_PDE_MC/Local_Volatility_PDE_MC.html">Local Volatility: PDE and MC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Implied%20Volatility%20Filter/Implied_Volatility_Filter.html">Implied Volatility Filter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Model%20RateDeterministic/RateDeterministic.html">The model RateDeterministic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Model%20Short%20Rate%20Normal/Short_Rate_Normal.html">Short Rate Normal Model Validation Document</a></li>
<li class="toctree-l2"><a class="reference internal" href="../DBX-ShortRate%20and%20FX%20Skew%20Stochastic%20Volatility%20models/DBX-ShortRate_FXSkewStochVol.html">DBX-ShortRate_FXSkewStochVol Document</a></li>
<li class="toctree-l2"><a class="reference internal" href="../DBX-ShortRate%20and%20FX%20Skew%20Stochastic%20Volatility%20models/DBX-ShortRate_FXSkewStochVol.html#table-102-difference-in-implied-volatility-between-the-market-and-model-for-different-starting-localvols-in-the-domestic-jpy-ir-vol-object">Table 102: Difference in implied volatility between the market and model for different starting LocalVols in the domestic (JPY) IR vol object.</a></li>
<li class="toctree-l2"><a class="reference internal" href="../DBX-ShortRate%20and%20FX%20Skew%20Stochastic%20Volatility%20models/DBX-ShortRate_FXSkewStochVol.html#table-103-difference-in-price-between-the-market-and-model-for-different-starting-localvols-in-the-domestic-jpy-ir-vol-object">Table 103: Difference in price between the market and model for different starting LocalVols in the domestic (JPY) IR vol object.</a></li>
<li class="toctree-l2"><a class="reference internal" href="../DBX-ShortRate%20and%20FX%20Skew%20Stochastic%20Volatility%20models/DBX-ShortRate_FXSkewStochVol.html#table-104-difference-in-implied-volatility-between-the-market-and-model-for-different-starting-localvols-in-the-foreign-aud-ir-vol-object">Table 104: Difference in implied volatility between the market and model for different starting LocalVols in the foreign (AUD) IR vol object.</a></li>
<li class="toctree-l2"><a class="reference internal" href="../DBX-ShortRate%20and%20FX%20Skew%20Stochastic%20Volatility%20models/DBX-ShortRate_FXSkewStochVol.html#table-105-difference-in-price-between-the-market-and-model-for-different-starting-localvols-in-the-foreign-aud-ir-vol-object">Table 105: Difference in price between the market and model for different starting LocalVols in the foreign (AUD) IR vol object.</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/SABR.html">Interest Rate Volatility Model GSABR</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../LSV/LSV.html">LSV</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of LSV</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../LSV/FX%20LSV%20Markov%20Switching%20%20Monte%20Carlo/FX_LSV_Markov_Switching_Monte_Carlo.html">FX LSV Markov Switching : Monte Carlo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../LSV/FX%20LSV%20Markov%20Switching%20PDE/FX_LSV_Markov_Switching_PDE.html">FX LSV Markov Switching : PDE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../LSV/Local%20Volatility%20PDE%20and%20MC/Local_Volatility_PDE_and_MC.html">Local Volatility: PDE and MC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../LSV/LSV%20Markov%20Switching%20%20Monte%20Carlo/LSV_Markov_Switching_Monte_Carlo.html">LSV Markov Switching : Monte Carlo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../LSV/LSV%20Markov%20Switching%20%20PDE/LSV_Markov_Switching_PDE.html">LSV Markov Switching : PDE</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../learning.html">Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../supported_data_formats.html">Supported Data Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../supported_hardware.html">Supported Hardware</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../modules/index.html">Modules</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Modules</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../modules/xsigma-modules/Wrapping/PythonCore/README.html">Python Wrapper Core Classes</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../build_instructions/index.html">Building</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Building</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../build_instructions/build_settings.html">Build Settings</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../api/index.html">API</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of API</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../api/cpp.html">C++</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../api/python.html">Python</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Python</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of xsigmamodules</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.common.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.common</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of xsigmamodules.common</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.common.helper.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.common.helper</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.common.instrument.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.common.instrument</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.market.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.market</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of xsigmamodules.market</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.market.market_data.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.market.market_data</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.simulation.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.simulation</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of xsigmamodules.simulation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.simulation.simulation.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.simulation.simulation</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.test.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.test</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of xsigmamodules.test</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.test.BlackBox.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.test.BlackBox</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.test.Testing.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.test.Testing</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.util.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle navigation of xsigmamodules.util</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.util.misc.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.misc</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.util.numpy_support.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.numpy_support</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.util.object_converter.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.object_converter</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.util.xsigmaConstants.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.xsigmaConstants</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.util.xsigmaMethodParser.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.xsigmaMethodParser</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.xlwing.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.xlwing</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle navigation of xsigmamodules.xlwing</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.xlwing.hartman_watson_template.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.xlwing.hartman_watson_template</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.xlwing.sabr_template.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.xlwing.sabr_template</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.generate_pyi.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.generate_pyi</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../api/cmake/cmake-modules.html">CMake</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle navigation of CMake</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/cmake/ModuleSystem.html">Module System</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/cmake/xsigmaModule.html">xsigmaModule</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/cmake/xsigmaModuleTesting.html">xsigmaModuleTesting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/cmake/xsigmaModuleWrapPython.html">xsigmaModuleWrapPython</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/cmake/xsigmaModuleWrapJava.html">xsigmaModuleWrapJava</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/cmake/xsigmaModuleJSON.html">xsigmaModuleJSON</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/cmake/xsigmaModuleGraphviz.html">xsigmaModuleGraphviz</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../advanced/index.html">Advanced Topics</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle navigation of Advanced Topics</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/available_python_wheels.html">Additional Python Wheels</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/spdx_and_sbom.html">SPDX &amp; SBOM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/build_python_wheels.html">Building Python Wheels</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/build_wasm_emscripten.html">Building using emscripten for WebAssembly</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/build_for_mobile.html">Cross-compiling for Mobile devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/build_documentation.html">Building documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/marshalling_hints.html">Marshalling Hints</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/object_manager.html">Object manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/object_serialization.html">Auto serialization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/PythonWrappers.html">Python Wrappers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/runtime_settings.html">Runtime settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/WrappingTools.html">Wrapping Tools</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../advanced/migration_guides/index.html">Migration Guides</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle navigation of Migration Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../advanced/migration_guides/ModuleMigration.html">Module Migration from XSIGMA 8.2 to 9+</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../design_documents/index.html">Design Documents</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle navigation of Design Documents</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../design_documents/XSIGMAFileFormats.html">XSIGMA File Formats</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../design_documents/smptools.html">Parallel Processing with XSIGMA’s SMP Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../design_documents/data_assemply.html">Data Assembly</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../developers_guide/index.html">Developer’s Guide</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle navigation of Developer’s Guide</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../developers_guide/git/develop.html">Develop</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developers_guide/testing.html">Regression Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developers_guide/git/test.html">Adding Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developers_guide/git/dashboard.html">Dashboard Scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developers_guide/git/thirdparty.html">Imported Third Party Projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developers_guide/git/thirdparty-projects.html">Imported Third Party Projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developers_guide/git/deprecation.html">Deprecation Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developers_guide/release_process.html">Release Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developers_guide/coding_conventions.html">Coding Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developers_guide/about_this_documentation.html">About this documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../resources.html">Resources</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../release_details/index.html">Release Details</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle navigation of Release Details</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section class="tex2jax_ignore mathjax_ignore" id="cheyette-local-vol-model">
<h1>Cheyette Local Vol Model<a class="headerlink" href="#cheyette-local-vol-model" title="Link to this heading">#</a></h1>
<section id="table-of-contents">
<h2>Table of Contents<a class="headerlink" href="#table-of-contents" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="#cheyette-local-vol-model">Cheyette Local Vol Model</a></p>
<ul>
<li><p><a class="reference internal" href="#table-of-contents">Table of Contents</a></p></li>
<li><p><a class="reference internal" href="#executive-summary">1. Executive Summary</a></p></li>
<li><p><a class="reference internal" href="#scope">2. Scope</a></p>
<ul>
<li><p><a class="reference internal" href="#model-purpose-and-intended-usage">2.1. Model Purpose and Intended Usage</a></p></li>
<li><p><a class="reference internal" href="#conceptual-soundness">2.2. Conceptual Soundness</a></p></li>
<li><p><a class="reference internal" href="#literature-review">2.3. Literature Review</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#product-payoff-portfolio">3. Product / Payoff / Portfolio</a></p>
<ul>
<li><p><a class="reference internal" href="#description">3.1. Description</a></p>
<ul>
<li><p><a class="reference internal" href="#bermudan-swaption">3.1.1. Bermudan Swaption</a></p></li>
<li><p><a class="reference internal" href="#cif-ccf">3.1.2. CIF/CCF</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#relationship-to-other-approved-models-payoffs">3.2. Relationship to Other Approved Models / Payoffs</a></p></li>
<li><p><a class="reference internal" href="#inputs">3.3. Inputs</a></p></li>
<li><p><a class="reference internal" href="#outputs">3.4. Outputs</a></p></li>
<li><p><a class="reference internal" href="#payoff-analysis">3.5. Payoff Analysis</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#model-methodology">4. Model / Methodology</a></p>
<ul>
<li><p><a class="reference internal" href="#overview-of-model-design">4.1. Overview of Model Design</a></p>
<ul>
<li><p><a class="reference internal" href="#pricing-process">4.1.1. Pricing Process</a></p></li>
<li><p><a class="reference internal" href="#calibration">4.1.2. Calibration</a></p></li>
<li><p><a class="reference internal" href="#risk-metric-calculation">4.1.3. Risk Metric Calculation</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#model-description">4.2. Model Description</a></p>
<ul>
<li><p><a class="reference internal" href="#clv-model-short-rate-dynamics">4.2.1. CLV Model Short Rate Dynamics</a></p>
<ul>
<li><p><a class="reference internal" href="#formulation-1">4.2.1.1. Formulation 1</a></p></li>
<li><p><a class="reference internal" href="#formulation-2">4.2.1.2. Formulation 2</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#zero-bond-reconstruction">4.2.2. Zero Bond Reconstruction</a></p></li>
<li><p><a class="reference internal" href="#finbias">4.2.3. FinBias</a></p></li>
<li><p><a class="reference internal" href="#swap-rate-dynamics">4.2.4. Swap Rate Dynamics</a></p></li>
<li><p><a class="reference internal" href="#short-rate-versus-swap-rate-skew">4.2.5. Short Rate versus Swap Rate Skew</a></p></li>
<li><p><a class="reference internal" href="#underlying-adjustment">4.2.6. Underlying Adjustment</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#assumptions-and-limitations">4.3. Assumptions and Limitations</a></p></li>
<li><p><a class="reference internal" href="#model-parameters-variables">4.4. Model Parameters / Variables</a></p>
<ul>
<li><p><a class="reference internal" href="#id1">Formulation 1</a></p></li>
<li><p><a class="reference internal" href="#id2">Formulation 2</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#model-outputs">4.5. Model Outputs</a></p></li>
<li><p><a class="reference internal" href="#feeder-models">4.6. Feeder Models</a></p></li>
<li><p><a class="reference internal" href="#justification-against-alternative-approaches">4.7. Justification Against Alternative Approaches</a></p></li>
<li><p><a class="reference internal" href="#conditions-of-use">4.8. Conditions of Use</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#implementation-numerical-schema-description">5. Implementation / Numerical Schema Description</a></p>
<ul>
<li><p><a class="reference internal" href="#id3">5.1. Description</a></p>
<ul>
<li><p><a class="reference internal" href="#pde-solver-construction">5.1.1. PDE Solver Construction</a></p></li>
<li><p><a class="reference internal" href="#pde-solver-pricing">5.1.2. PDE Solver Pricing</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id4">5.2. Inputs</a></p></li>
<li><p><a class="reference internal" href="#quality-control">5.3. Quality Control</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id5">6. Calibration</a></p>
<ul>
<li><p><a class="reference internal" href="#id6">6.1. Description</a></p>
<ul>
<li><p><a class="reference internal" href="#swaption-volatility-skew-approximation">6.1.1. Swaption Volatility/Skew Approximation</a></p>
<ul>
<li><p><a class="reference internal" href="#approximation-step-1-swap-rate-time-dependent-dynamics">1) Approximation Step 1: Swap Rate Time Dependent Dynamics</a></p></li>
<li><p><a class="reference internal" href="#approximation-step-2-averaging-volatility-and-skew">2) Approximation Step 2: Averaging Volatility and Skew</a></p></li>
<li><p><a class="reference internal" href="#6111-evaluation-of-eaphit-and-r_1t_t0"><span class="xref myst">6.1.1.1. Evaluation of <span class="math notranslate nohighlight">\(E^A\[\\Phi(t)\]\)</span> and <span class="math notranslate nohighlight">\(r\_1(t)|\_{t=0}\)</span></span></a></p></li>
<li><p><a class="reference internal" href="#expansion-point-improvement">6.1.1.2. Expansion Point Improvement</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#calibration-types">6.1.2. Calibration Types</a></p></li>
<li><p><a class="reference internal" href="#advanced-calibration-techniques">6.1.3. Advanced Calibration Techniques</a></p>
<ul>
<li><p><a class="reference internal" href="#technical-mean-reversion-tmr">6.1.3.1. Technical Mean Reversion (TMR)</a></p></li>
<li><p><a class="reference internal" href="#shifted-mean-reversion-smr">6.1.3.2. Shifted Mean Reversion (SMR)</a></p></li>
<li><p><a class="reference internal" href="#smr-tmr">6.1.3.3. SMR + TMR</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#calibration-strike-choice">6.1.4. Calibration Strike Choice</a></p></li>
<li><p><a class="reference internal" href="#usage-of-calibration-types">6.1.5. Usage of Calibration Types</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#justification">6.4. Justification</a></p></li>
<li><p><a class="reference internal" href="#id7">6.5. Quality Control</a></p></li>
<li><p><a class="reference internal" href="#limitations-and-risk-assessment">6.6. Limitations and Risk Assessment</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#risk-calculated-by-the-model-payoff">7. Risk (Calculated by the model/payoff)</a></p></li>
<li><p><a class="reference internal" href="#id8">7.1. Description</a></p>
<ul>
<li><p><a class="reference internal" href="#volatility-sensitivity">7.1.1. Volatility Sensitivity</a></p></li>
<li><p><a class="reference internal" href="#curve-sensitivity">7.1.2. Curve Sensitivity</a></p></li>
<li><p><a class="reference internal" href="#mean-reversion-sensitivity-co-terminal-calibration-only">7.1.3. Mean Reversion Sensitivity (Co-terminal Calibration Only)</a></p></li>
<li><p><a class="reference internal" href="#additional-comments">7.1.4. Additional Comments</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id9">7.2. Inputs</a></p></li>
<li><p><a class="reference internal" href="#id10">7.3. Limitations and Risk Assessment</a></p></li>
<li><p><a class="reference internal" href="#numerical-scheme-summary">7.4. Numerical Scheme Summary</a></p></li>
<li><p><a class="reference internal" href="#tests-outcome-analyses-performed-on-payoff-model-portfolio">8. Tests &amp; Outcome Analyses performed on Payoff / Model / Portfolio</a></p>
<ul>
<li><p><a class="reference internal" href="#scenario-and-stress-testing">8.1. Scenario and Stress-Testing</a></p>
<ul>
<li><p><a class="reference internal" href="#ccar-comprehensive-capital-analysis-and-review-testing">8.1.1. CCAR (Comprehensive Capital Analysis and Review) Testing</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#ccap-year-2017-data">CCAP Year 2017 Data</a></p>
<ul>
<li><p><a class="reference internal" href="#sensitivity-testing">8.1.2. Sensitivity Testing</a></p>
<ul>
<li><p><a class="reference internal" href="#curve-bumping">8.1.2.1. Curve Bumping</a></p></li>
<li><p><a class="reference internal" href="#volatility-bumping">8.1.2.2. Volatility Bumping</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#copfv-data-tables">COPFV Data Tables</a></p>
<ul>
<li><p><a class="reference internal" href="#table-1-copfv">Table 1: COPFV</a></p></li>
<li><p><a class="reference internal" href="#table-2-delta">Table 2: Delta</a></p></li>
<li><p><a class="reference internal" href="#table-3-vega">Table 3: Vega</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#copfv-data-tables-additional-scenarios">COPFV Data Tables - Additional Scenarios</a></p>
<ul>
<li><p><a class="reference internal" href="#id11">Table 1: COPFV</a></p></li>
<li><p><a class="reference internal" href="#id12">Table 2: Delta</a></p></li>
<li><p><a class="reference internal" href="#id13">Table 3: Vega</a></p></li>
<li><p><a class="reference internal" href="#curve-volatility-bumping">8.1.2.3. Curve + Volatility Bumping</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#copfv-volatility-scaling-data">COPFV Volatility Scaling Data</a></p>
<ul>
<li><p><a class="reference internal" href="#copfv">COPFV</a></p></li>
<li><p><a class="reference internal" href="#eurusd">EURUSD</a></p></li>
<li><p><a class="reference internal" href="#usdjpy-eurgbp">USDJPY/EURGBP</a></p></li>
<li><p><a class="reference internal" href="#mean-reversion-bumping">8.1.2.4. Mean Reversion Bumping</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#ccypv-data-tables">CCYPV Data Tables</a></p>
<ul>
<li><p><a class="reference internal" href="#ccypv">CCYPV</a></p></li>
<li><p><a class="reference internal" href="#delta">Delta</a></p></li>
<li><p><a class="reference internal" href="#vega">Vega</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#impact-of-skew-mean-reversion-on-forward-volatilities">8.2. Impact of Skew/Mean Reversion on Forward Volatilities</a></p>
<ul>
<li><p><a class="reference internal" href="#skew-effects-on-forward-volatility">8.2.1. Skew Effects on Forward Volatility</a></p></li>
<li><p><a class="reference internal" href="#mean-reversion-vs-forward-volatility">8.2.2. Mean Reversion vs. Forward Volatility</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#accuracy-convergence-stability-and-sensitivity">8.3. Accuracy, Convergence, Stability and Sensitivity</a></p>
<ul>
<li><p><a class="reference internal" href="#risk-stability-of-two-formulations">8.3.1. Risk Stability of Two Formulations</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#financial-performance-analysis">Financial Performance Analysis</a></p>
<ul>
<li><p><a class="reference internal" href="#digre-dxgre-delta">DIGRE/DXGRE Delta</a></p></li>
<li><p><a class="reference internal" href="#dkrm-dkc-vega">DKRM/DKC Vega</a></p></li>
<li><p><a class="reference internal" href="#digre-dxgre-vega">DIGRE/DXGRE Vega</a></p></li>
<li><p><a class="reference internal" href="#id14">DKRM/DKC Vega</a></p></li>
<li><p><a class="reference internal" href="#comparison-of-internal-and-external-risk-results">8.3.2. Comparison of Internal and External Risk Results</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#trader-risk-exposure-data">Trader Risk Exposure Data</a></p>
<ul>
<li><p><a class="reference internal" href="#risk-metrics-by-trader">Risk Metrics by Trader</a></p></li>
<li><p><a class="reference internal" href="#summary-statistics">Summary Statistics</a></p></li>
<li><p><a class="reference internal" href="#risk-distribution-analysis">Risk Distribution Analysis</a></p></li>
<li><p><a class="reference internal" href="#notes">Notes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#time-structure-risk-analysis">Time Structure Risk Analysis</a></p>
<ul>
<li><p><a class="reference internal" href="#delta-risk-by-tenor">Delta Risk by Tenor</a></p></li>
<li><p><a class="reference internal" href="#vega-risk-by-time-structure">Vega Risk by Time Structure</a></p></li>
<li><p><a class="reference internal" href="#key-observations">Key Observations</a></p></li>
<li><p><a class="reference internal" href="#id15">Notes</a></p></li>
<li><p><a class="reference internal" href="#volatility-approximation">8.3.3. Volatility Approximation</a></p>
<ul>
<li><p><a class="reference internal" href="#volatility-approximation-under-normal-conditions">8.3.3.1. Volatility Approximation Under Normal Conditions</a></p></li>
<li><p><a class="reference internal" href="#volatility-approximation-under-high-skew">8.3.3.2. Volatility Approximation Under High Skew</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#pde-convergence-and-limitations">8.3.4. PDE Convergence and Limitations</a></p>
<ul>
<li><p><a class="reference internal" href="#pde-convergence-and-grid-geometry">8.3.4.1. PDE Convergence and Grid Geometry</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#risk-matrix-analysis">Risk Matrix Analysis</a></p>
<ul>
<li><p><a class="reference internal" href="#top-left-matrix">Top Left Matrix</a></p></li>
<li><p><a class="reference internal" href="#top-right-matrix">Top Right Matrix</a></p></li>
<li><p><a class="reference internal" href="#middle-left-matrix">Middle Left Matrix</a></p></li>
<li><p><a class="reference internal" href="#middle-right-matrix">Middle Right Matrix</a></p></li>
<li><p><a class="reference internal" href="#bottom-left-matrix">Bottom Left Matrix</a></p></li>
<li><p><a class="reference internal" href="#bottom-right-matrix">Bottom Right Matrix</a></p></li>
<li><p><a class="reference internal" href="#id16">Key Observations</a></p>
<ul>
<li><p><a class="reference internal" href="#limitations">8.3.4.2. Limitations</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#table-1-delta-vega-theta-ratios-top-matrix">Table 1: Delta/Vega/Theta Ratios (Top Matrix)</a></p></li>
<li><p><a class="reference internal" href="#table-2-delta-vega-phi-ratios-bottom-matrix">Table 2: Delta/Vega/Phi Ratios (Bottom Matrix)</a></p>
<ul>
<li><p><a class="reference internal" href="#calibration-errors">8.3.5. Calibration Errors</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#level">50% Level</a></p></li>
<li><p><a class="reference internal" href="#id17">100% Level</a></p></li>
<li><p><a class="reference internal" href="#lmm">8.4. LMM</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#model-assumptions-limitations">9. Model Assumptions/Limitations</a></p></li>
<li><p><a class="reference internal" href="#model-assumptions-and-justifications">Model Assumptions and Justifications</a></p></li>
<li><p><a class="reference internal" href="#assumptions">9.1. Assumptions</a></p>
<ul>
<li><p><a class="reference internal" href="#id18">9.2. Limitations</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#model-monitoring-kpis">10. Model Monitoring - KPIs</a></p>
<ul>
<li><p><a class="reference internal" href="#monitoring-tests-and-key-performance-indicators-kpi">10.1. Monitoring Tests and Key Performance Indicators (KPI)</a></p></li>
<li><p><a class="reference internal" href="#performance-exceptions">10.2. Performance Exceptions</a></p></li>
<li><p><a class="reference internal" href="#exception-mitigation-plan">10.3. Exception Mitigation Plan</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#summary-of-feedback-received-during-development">11. Summary of Feedback Received During Development</a></p></li>
<li><p><a class="reference internal" href="#references">12. References</a></p></li>
<li><p><a class="reference internal" href="#additional-information">14. Additional Information</a></p></li>
<li><p><a class="reference internal" href="#a-appendix-peer-reviewer-sign-off">A. Appendix: Peer Reviewer Sign off</a></p></li>
<li><p><a class="reference internal" href="#b-appendix-regulatory-compliance">B. Appendix: Regulatory Compliance</a></p></li>
</ul>
</li>
</ul>
</section>
<section id="executive-summary">
<h2>1. Executive Summary<a class="headerlink" href="#executive-summary" title="Link to this heading">#</a></h2>
<p>Prior to Cheyette Local Volatility model, there were 2 major short rate models in production implementation: Heath-Jarrow-Morton 1-factor (HJM1) and Quadratic Gaussian 2-factor (QG2). The advantages of short rate models are fast calibration and pricing. However HJM1 and QG2 both have their own shortcomings: HJM1 is simple and fast but it does not capture skew effect of the volatility surface, while QG2 captures both skew and smile but is relatively complicated and the smile effect is not modeled very well. More details about HJM1 and QG2 can be found in [16] and [17].</p>
<p>The idea is to develop a comparable short rate model which:</p>
<ul class="simple">
<li><p>retains the ability of fast calibration and pricing</p></li>
<li><p>more comprehensive than HJM1 but simpler than QG2</p></li>
<li><p>captures skew effect of the volatility surface</p></li>
<li><p>adds flexibility for further extension(s) of the model</p></li>
</ul>
<p>In this document, we will explain Cheyette Local Volatility (CLV) model. CLV model is a short rate model with skew, which uses analytical approximations for swaption volatility and skew to achieve efficient calibration. For each expiry/tenor, it can calibrate up to 2 options with different strikes, and hence captures the skew effect. Moreover, it utilizes custom PDE solver which results in accurate pricing. In particular, CLV model can be regarded as an extension of HJM1 with the addition of skew.</p>
<p>The main limitation of CLV model is that it is 1-factor model; therefore it cannot be used with payoffs related to correlation, such as spread options.</p>
<p>In below sections, we will explain the model methodology as well as model implementation in details. The minimum QA version required for reproducing test results is 2261.</p>
</section>
<section id="scope">
<h2>2. Scope<a class="headerlink" href="#scope" title="Link to this heading">#</a></h2>
<section id="model-purpose-and-intended-usage">
<h3>2.1. Model Purpose and Intended Usage<a class="headerlink" href="#model-purpose-and-intended-usage" title="Link to this heading">#</a></h3>
<p>The motivation behind the CLV model is to better capture the skew effect of volatility surface
while retaining the ability of fast calibration and pricing for simple exotic payoffs. Other models
that are used in production include Interest Rate Vanilla (IRV) and Libor Market Model (LMM);
compared to CLV, they both have their own limitations:</p>
<ul class="simple">
<li><p>IRV model can only be used to price vanilla instruments such as European options; it does
not support the pricing of instruments with exotic payoffs.</p></li>
<li><p>LMM model uses Monte Carlo simulations, which introduces numerical noise besides being
expensive to use.</p></li>
</ul>
</section>
<section id="conceptual-soundness">
<h3>2.2. Conceptual Soundness<a class="headerlink" href="#conceptual-soundness" title="Link to this heading">#</a></h3>
<p>While CLV is a short rate model, to achieve fast and accurate implementation, we have developed
good analytical approximations of swaption volatility and skew. In addition, this model is primarily
used with a custom PDE routine. Therefore the calibration and pricing in CLV model remain
efficient and accurate.</p>
<p>In summary, CLV model has below advantages compared with other alternative models.</p>
<ul class="simple">
<li><p>Compared with IRV, it has the ability to price more exotic payoffs from modeling the short
rate.</p></li>
<li><p>Compared with LMM, it can be priced with PDE hence faster and more accurate.</p></li>
</ul>
<p>However, CLV also has its own limitations. The main limitation is that it is still a one factor
model: unlike multi-factor models such as LMM, it cannot be used to price payoffs related to
correlation, for example spread options.</p>
<p>In following sections, we will explain product/payoff, model methodology, numerical implementation, calibration, risks, test results and analysis, and assumptions/limitations of the model in
details.</p>
</section>
<section id="literature-review">
<h3>2.3. Literature Review<a class="headerlink" href="#literature-review" title="Link to this heading">#</a></h3>
<p>The idea for the Cheyette volatility short rate modeling framework can be found in:</p>
<ul class="simple">
<li><p>Interest Rate Modeling, by V Piterbarg and L. Andersen[16]</p></li>
<li><p>Quasi-Gaussian Model with Local and Stochastic Volatility, by V Piterbarg[17]</p></li>
<li><p>Efficient Simulation of the Heston Stochastic Volatility Model, by L. Andersen[1]</p></li>
</ul>
</section>
</section>
<section id="product-payoff-portfolio">
<h2>3. Product / Payoff / Portfolio<a class="headerlink" href="#product-payoff-portfolio" title="Link to this heading">#</a></h2>
<section id="description">
<h3>3.1. Description<a class="headerlink" href="#description" title="Link to this heading">#</a></h3>
<p>The CLV model will be used to price Bermudan swaptions, callable inverse floaters (CIF) and
callable capped floaters (CCF) and calculate GMS loss for these products. Currently under Barclays IHC, all Bermudan swaptions, CIFs and CCFs are single currency, namely the currency of
all cash flows is the same, which is also the denomination currency of index.</p>
<section id="bermudan-swaption">
<h4>3.1.1. Bermudan Swaption<a class="headerlink" href="#bermudan-swaption" title="Link to this heading">#</a></h4>
<p>The Bermudan swaption consists of a funding leg, a structured leg and an option leg.
For the i-th flow of the funding leg, the primary factors are margin <span class="math notranslate nohighlight">\(m_0^i\)</span> and rate index <span class="math notranslate nohighlight">\(I_0\)</span>, the
payoff is as below:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[Cpn = N \times DCF_0^i \times (I_0^i + m_0^i)\]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(I_0^i\)</span> is reset of <span class="math notranslate nohighlight">\(I_0\)</span> at the i-th coupon flow from funding leg.</p>
<p>For the i-th flow of the structured leg, the primary factor is margin <span class="math notranslate nohighlight">\(m_1^i\)</span>, the payoff is as below:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[Cpn = N \times DCF_1^i \times m_1^i\]</div>
</div>
<p>Here DCF (day count fraction) of each coupon flow of each leg is calculated from the corresponding
accrual start and end dates of that particular flow, and N is trade notional; for a bullet swaption,
N is constant for each flow; for an accreter, <span class="math notranslate nohighlight">\({N_i}_{i=1,...,n}\)</span> is an increasing sequence, while for an
amortizer, <span class="math notranslate nohighlight">\({N_i}_{i=1,...,n}\)</span> is a decreasing sequence.</p>
<p>The value of <span class="math notranslate nohighlight">\(m_0^i\)</span> and <span class="math notranslate nohighlight">\(m_1^i\)</span> may vary by coupons, but the definition of the underlying index <span class="math notranslate nohighlight">\(I_0\)</span> is a
specific Libor index which will be the same for the entire trade.</p>
<p>For the option leg, the payoff is as below:</p>
<p>If Long/Short = Long (Short) and Option Right = Cancel, at exercise we (counterparty) decide
to cancel the swap and pay fee or keep the option until next exercise.</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[option = max(min)\{-remaining\ swap + F_0, remaining\ option\}\]</div>
</div>
<p>If Long/Short = Long (Short) and Option Right = Enter, at exercise we (counterparty) decide to
enter into the remaining swap and receive fee or keep the option until next exercise.</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[option = max(min)\{entered\ swap + F_0, remaining\ option\}\]</div>
</div>
<p>This is a Bermudan style option giving the right to enter or cancel a swap on a set of exercise
dates. The Long/Short and Option Right would be defined at leg level and cannot be changed
per exercise. The swap is made of the structured and funding legs with a start date on or after
the effective date of the exercise as described above. Upon exercise, a settlement fee <span class="math notranslate nohighlight">\(F_0\)</span> can also
be applied.</p>
</section>
<section id="cif-ccf">
<h4>3.1.2. CIF/CCF<a class="headerlink" href="#cif-ccf" title="Link to this heading">#</a></h4>
<p>The CIF/CCF consists of a funding leg, a structured leg and an option leg.</p>
<p>For the i-th flow of the funding leg, the primary factors are margin <span class="math notranslate nohighlight">\(m_0^i\)</span> and rate index <span class="math notranslate nohighlight">\(I_0\)</span>, the
payoff is as below:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[Cpn = N \times DCF_0^i \times (I_0^i + m_0^i)\]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(I_0^i\)</span> is reset of <span class="math notranslate nohighlight">\(I_0\)</span> at the i-th coupon flow from funding leg.</p>
<p>For the i-th flow of the structured leg, the primary factors are margin <span class="math notranslate nohighlight">\(m_1^i\)</span>, rate index <span class="math notranslate nohighlight">\(I_0\)</span>, gearing
<span class="math notranslate nohighlight">\(G^i\)</span> and floor/cap values <span class="math notranslate nohighlight">\(F^i/C^i\)</span>, the payoff is as below:</p>
<p><span class="math notranslate nohighlight">\(Cpn = N \times DCF_1^i \times max(F^i, min(C^i,G^iI_0^i+m_1^i))\)</span>, for callable inverse floater</p>
<p><span class="math notranslate nohighlight">\(Cpn = N \times DCF_1^i \times min(C^i,G^iI_0^i+m_1^i)\)</span>, for callable capped floater</p>
<p>where <span class="math notranslate nohighlight">\(I_0^i\)</span> is reset of <span class="math notranslate nohighlight">\(I_0\)</span> at the i-th coupon flow from structured leg.
Here N is trade notional, and DCF (day count fraction) of each coupon flow of each leg is calculated
from the corresponding accrual start and end dates of that particular flow.</p>
<p>The value of <span class="math notranslate nohighlight">\(m_0^i\)</span>, <span class="math notranslate nohighlight">\(m_1^i\)</span>, <span class="math notranslate nohighlight">\(G^i\)</span>, <span class="math notranslate nohighlight">\(F^i\)</span>, <span class="math notranslate nohighlight">\(C^i\)</span> may vary by coupons, but the definition of the underlying index
<span class="math notranslate nohighlight">\(I_0\)</span> is a specific Libor index which will be the same for the entire trade.</p>
<p>For the option leg, the payoff is as below:</p>
<p>If Long/Short = Long (Short) and Option Right = Cancel, at exercise we (counterparty) decide
to cancel the swap and pay fee or keep the option until next exercise.</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[option = max(min)\{-remaining\ swap + F_0, remaining\ option\}\]</div>
</div>
<p>If Long/Short = Long (Short) and Option Right = Enter, at exercise we (counterparty) decide to
enter into the remaining swap and receive fee or keep the option until next exercise.</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[option = max(min)\{entered\ swap + F_0, remaining\ option\}\]</div>
</div>
<p>This is a Bermudan style option giving the right to enter or cancel a swap on a set of exercise
dates. The Long/Short and Option Right would be defined at leg level and cannot be changed
per exercise. The swap is made of the structured and funding legs with a start date on or after
the effective date of the exercise as described above. Upon exercise, a settlement fee <span class="math notranslate nohighlight">\(F_0\)</span> can also
be applied.</p>
</section>
</section>
<section id="relationship-to-other-approved-models-payoffs">
<h3>3.2. Relationship to Other Approved Models / Payoffs<a class="headerlink" href="#relationship-to-other-approved-models-payoffs" title="Link to this heading">#</a></h3>
<p>European swaption is a degenerated case of Bermudan swaption with only 1 option exercise date.</p>
</section>
<section id="inputs">
<h3>3.3. Inputs<a class="headerlink" href="#inputs" title="Link to this heading">#</a></h3>
<p>Trade inputs are briefly described below:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Example</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Currency</p></td>
<td><p>payment currency</p></td>
<td><p>USD</p></td>
</tr>
<tr class="row-odd"><td><p>Start Date</p></td>
<td><p>start date of the trade</p></td>
<td><p>12/27/2012</p></td>
</tr>
<tr class="row-even"><td><p>End Date</p></td>
<td><p>end date of the trade</p></td>
<td><p>10Y</p></td>
</tr>
<tr class="row-odd"><td><p>Notional</p></td>
<td><p>notional of the trade</p></td>
<td><p>100,000,000</p></td>
</tr>
<tr class="row-even"><td><p>LongShort</p></td>
<td><p>Long OR short option</p></td>
<td><p>Long</p></td>
</tr>
<tr class="row-odd"><td><p>PayReceive</p></td>
<td><p>pay OR receive structured leg of underlying swap</p></td>
<td><p>Receive</p></td>
</tr>
<tr class="row-even"><td><p>OptionRight</p></td>
<td><p>enter OR cancel underlying swap upon exercise</p></td>
<td><p>Cancel</p></td>
</tr>
<tr class="row-odd"><td><p>Index</p></td>
<td><p>underlying index</p></td>
<td><p>LIBOR3M</p></td>
</tr>
<tr class="row-even"><td><p>Structure Frequency</p></td>
<td><p>structured leg coupon frequency</p></td>
<td><p>S</p></td>
</tr>
<tr class="row-odd"><td><p>Structure Basis</p></td>
<td><p>structured leg day count basis</p></td>
<td><p>30/360</p></td>
</tr>
<tr class="row-even"><td><p>Structure Roll Convention</p></td>
<td><p>structured leg date roll convention</p></td>
<td><p>MF</p></td>
</tr>
<tr class="row-odd"><td><p>Structure Margin</p></td>
<td><p>structured leg margin</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>Structure Gearing</p></td>
<td><p>structured leg index gearing (for CIF/CCF)</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>Structure Cap</p></td>
<td><p>structured leg cap value (for CIF/CCF)</p></td>
<td><p>0.05</p></td>
</tr>
<tr class="row-even"><td><p>Structure Floor</p></td>
<td><p>structured leg floor value (for CIF/CCF)</p></td>
<td><p>0.01</p></td>
</tr>
<tr class="row-odd"><td><p>Funding Frequency</p></td>
<td><p>funding leg coupon frequency</p></td>
<td><p>Q</p></td>
</tr>
<tr class="row-even"><td><p>Funding Basis</p></td>
<td><p>funding leg day count basis</p></td>
<td><p>Act/360</p></td>
</tr>
<tr class="row-odd"><td><p>Funding Roll Convention</p></td>
<td><p>funding leg date roll convention</p></td>
<td><p>MF</p></td>
</tr>
<tr class="row-even"><td><p>Funding Margin</p></td>
<td><p>funding leg margin</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>Option Frequency</p></td>
<td><p>option exercise frequency</p></td>
<td><p>S</p></td>
</tr>
<tr class="row-even"><td><p>Option Settlement Type</p></td>
<td><p>option settlement type</p></td>
<td><p>Physical</p></td>
</tr>
<tr class="row-odd"><td><p>Fee settlement</p></td>
<td><p>fee upon exercise</p></td>
<td><p>0</p></td>
</tr>
</tbody>
</table>
</div>
<p>With these inputs, swap cash flows and date schedule can be generated. More details about
schedule generation process can be found in [14].</p>
</section>
<section id="outputs">
<h3>3.4. Outputs<a class="headerlink" href="#outputs" title="Link to this heading">#</a></h3>
<p>The output is the PV and risks of the corresponding payoff.</p>
<p>Risks are calculated internally and will be explained more in details in Section 7.</p>
</section>
<section id="payoff-analysis">
<h3>3.5. Payoff Analysis<a class="headerlink" href="#payoff-analysis" title="Link to this heading">#</a></h3>
<p>As most of simple exotic payoffs, Bermudan swaption/CIF/CCF are sensitive to both rate and
volatility. Therefore it has all the standard risks such as Delta, Vega, SABR risks, etc.</p>
<p>Regarding the volatility part, most simple exotic payoffs have sensitivities not only to term volatilities and skew, but also to forward volatility and forward skew. This is one of the main advantages
to use CLV as this model captures not only term skew but also forward volatility very well, which
we will examine more in later sections.</p>
<p>It is also noticed that these payoffs have little sensitivities to correlation, rendering them suitable
to be priced using CLV.</p>
</section>
</section>
<section id="model-methodology">
<h2>4. Model / Methodology<a class="headerlink" href="#model-methodology" title="Link to this heading">#</a></h2>
<section id="overview-of-model-design">
<h3>4.1. Overview of Model Design<a class="headerlink" href="#overview-of-model-design" title="Link to this heading">#</a></h3>
<p>The CLV model is a short rate local volatility model, in which it can be divided into three
interlinked sub-models:</p>
<ul class="simple">
<li><p>Pricing Process</p></li>
<li><p>Calibration</p></li>
<li><p>Risk Metrics Calculation</p></li>
</ul>
<p>In the following section, each of the three sub-models is discussed separately. The dependencies
between the sub-models can be presented in the form shown below in Figure 4.1.</p>
<p><img alt="Figure 4.1: Overview of the CLV Model Components" src="../../_images/110.png" />
<strong>Figure 4.1:</strong> Overview of the CLV Model Components</p>
<p>The Pricing Process component of CLV is used to price complex structured rates derivatives
that either cannot be priced with simpler models or for which LMM does not offer a significant
advantage in pricing accuracy. To ensure robust pricing, the model is calibrated using market data
via the Calibration component. The Risk Metrics Calculation component enables computation of
several risk metrics, including price sensitivity to the value, volatility and the mean reversion of
the underlying.</p>
<p>Each arrow going from one sub-model to another in Figure 4.1 denotes that there is a flow of data
between them. The following dependencies between CLV components are outlined in Figure 4.1:</p>
<p>• Both the Pricing Process (1) and Risk Metrics Calculation (3) depend on the parameters
generated in the Calibration component (2).</p>
<p>• The mutual dependency between the Risk Metrics Calculation (3) and the Pricing Process
(1) is explained as follows:</p>
<ul class="simple">
<li><p>In the Risk Metrics Calculation, trades need to be re-priced given the newly re-calibrated
model curves.</p></li>
<li><p>These trades are fed to the Pricing Process which, in turn, returns the new PVs.</p></li>
</ul>
<p>• In a standalone run of the Pricing Process (1) there is no dependency on the Risk Metrics
Calculation (3).</p>
<p>For each sub-model, a detailed breakdown of the individual process components follows, including
an outline of its inputs and outputs, a summary of the component’s purpose and a commentary
on the details of the procedure.</p>
<section id="pricing-process">
<h4>4.1.1. Pricing Process<a class="headerlink" href="#pricing-process" title="Link to this heading">#</a></h4>
<p>This sub-model is the procedure that calculates prices of in-scope interest rate derivatives. To this
end, the main purpose of the model is to predict the future behavior of interest rates by modeling
the short rate given its current value. Given this objective, a set of stochastic differential equations
(SDEs) governing the evolution of the short rate through time is constructed. This system of SDEs
is then turned into a partial differential equation (PDE) whose solution is the present value of the
final payoff. Currently, the PDE method of solving the system of SDEs is the only one used in
the EOD (end of day) pricing process.</p>
<p>The flow within the Pricing Process is summarized below in Figure 4.2 and each of the steps
identified is discussed in further detail in subsequent sections. For further details, please see
section 4.2 and 5.1.</p>
<p><img alt="Figure 4.2: Overview of the Pricing Process Component of the CLV model" src="../../_images/25.png" />
<strong>Figure 4.2:</strong> Overview of the Pricing Process Component of the CLV model</p>
</section>
<section id="calibration">
<h4>4.1.2. Calibration<a class="headerlink" href="#calibration" title="Link to this heading">#</a></h4>
<p>In this sub-model, calibration parameters are computed from the current market data. The
objective is to fit the parameters in such a way that the implied prices of the selected instruments
match the calibration targets to the desired accuracy.</p>
<p>The parameters that could go through calibration are:</p>
<ul class="simple">
<li><p>Volatility of the short rate <span class="math notranslate nohighlight">\(\sigma(t)\)</span></p></li>
<li><p>Skew of the short rate <span class="math notranslate nohighlight">\(b_r(t)\)</span></p></li>
<li><p>Mean reversion of the short rate <span class="math notranslate nohighlight">\(\lambda(t)\)</span></p></li>
</ul>
<p>Not all parameters have to be calibrated, if one of the above curves is not calibrated, then it is
an input externally provided by the user. The choice of parameters up for calibration is defined
within the calibration mode chosen. The description of different calibration modes and details of
their construction are presented in Section 6.</p>
<p>The calibrated parameters are then used in the Pricing Process to obtain the value of the short rate
in a future period and hence, to price interest rate derivatives. These parameters are quantities not
directly observable in the market. The calibration process utilizes the fact that the observable price
of any derivative is a function of its volatility, which for the products in scope is in turn modeled
as a function of short rate volatility, skew and mean reversion. As such, analytical approximation
methods are used to calculate the inverses of these functions to extract the implied calibration
parameters. The key step is the derivation of the relationship between the short rate and the swap
rate.</p>
<p>Independent from the calibration mode chosen, the calibration process can be segmented into
distinct stages depicted below in figure 4.3. The following sub-sections describe each individual
step in detail.</p>
<p><img alt="Figure 4.3: Overview of the Calibration Component of the CLV model" src="../../_images/31.png" />
<strong>Figure 4.3:</strong> Overview of the Calibration Component of the CLV model</p>
</section>
<section id="risk-metric-calculation">
<h4>4.1.3. Risk Metric Calculation<a class="headerlink" href="#risk-metric-calculation" title="Link to this heading">#</a></h4>
<p>The main risk metrics that can be calculated are sensitivities of the pricing function to the volatility
of the underlying (Vega), value of the underlying (Delta) and mean reversion of the underlying.</p>
<p>The most straightforward approach to calculating risks resulting from fluctuations in these quantities is to alter the market data directly and then to re-calibrate the entire model. However
this is not ideal, as the method results in very noisy risk, requires significant computational resources, while at the same time introducing the possibility of calibration failures. In this section,
an alternative approach requiring only one base calibration step is applied. The two methods are
distinguished by referring to the resulting risks as external and internal risks respectively.</p>
<p>The three main risks discussed in this section are all computed using similar strategies. Even
though each risk is calculated separately, the overall framework that the calculation is conducted
in is presented below in Figure 4.4.</p>
<p><img alt="Figure 4.4: Overview of the Risk Metrics Calculation Component of the CLV model" src="../../_images/41.png" />
<strong>Figure 4.4:</strong> Overview of the Risk Metrics Calculation Component of the CLV model</p>
</section>
</section>
<section id="model-description">
<h3>4.2. Model Description<a class="headerlink" href="#model-description" title="Link to this heading">#</a></h3>
<p>The idea behind CLV model is to capture skew effect by introducing local volatility with displaced
skew, while retaining fast calibration by modeling 1-factor short rate dynamics. In this section,
we will explain the underlying mathematical methodology of CLV model in details. In particular
we will assume short rate dynamics is shifted lognormal, and we will show how to link between
short rate and swap rate via analytical approximation in Section 6.1.1.</p>
<section id="clv-model-short-rate-dynamics">
<h4>4.2.1. CLV Model Short Rate Dynamics<a class="headerlink" href="#clv-model-short-rate-dynamics" title="Link to this heading">#</a></h4>
<p>Let <span class="math notranslate nohighlight">\(f(0;t)\)</span> be instantaneous forward rate, <span class="math notranslate nohighlight">\(r(t)\)</span> be short rate, <span class="math notranslate nohighlight">\(r_1(t)\)</span> be the stochastic part of the
short rate, i.e.,</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[r(t) = f(0;t) + r_1(t)\]</div>
</div>
<p>We are essentially modeling the stochastic part of short rate: <span class="math notranslate nohighlight">\(r_1(t)\)</span>.</p>
<section id="formulation-1">
<h5>4.2.1.1. Formulation 1<a class="headerlink" href="#formulation-1" title="Link to this heading">#</a></h5>
<p>Let <span class="math notranslate nohighlight">\(\Phi(t)\)</span> be the proper convexity adjustment to ensure arbitrage free, under risk neutral measure
the CLV model dynamics can be summarized by following SDE:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}\begin{cases}
dr_1(t) = (\Phi(t) - \lambda(t)r_1(t)) dt + \sigma_r (t,r_1(t)) dw^B(t) \\
d\Phi(t) = (\sigma_r^2 (t,r_1(t)) - 2\lambda(t)\Phi(t)) dt \\
\sigma_r (t,r_1(t)) = \sigma(t) (1 + b_r(t)r_1(t)) \\
r_1(0) = 0, \Phi(0) = 0
\end{cases}\end{split}\]</div>
</div>
<p>There are 3 model curves in CLV model, which are all assumed to be piecewise constant:</p>
<ul class="simple">
<li><p>Short rate volatility <span class="math notranslate nohighlight">\(\sigma(t)\)</span> controls overall volatility level</p></li>
<li><p>Short rate mean reversion <span class="math notranslate nohighlight">\(\lambda(t)\)</span> controls how volatility is distributed over time (forward
volatility)</p></li>
<li><p>Short rate skew <span class="math notranslate nohighlight">\(b_r(t)\)</span> controls the slope of swaption volatility</p></li>
</ul>
</section>
<section id="formulation-2">
<h5>4.2.1.2. Formulation 2<a class="headerlink" href="#formulation-2" title="Link to this heading">#</a></h5>
<p>Alternatively, we can introduce a new curve, known as <span class="math notranslate nohighlight">\(b(t)\)</span>, which is the exponential of the negative
integral of <span class="math notranslate nohighlight">\(\lambda(t)\)</span>, i.e. <span class="math notranslate nohighlight">\(b(t) = e^{-\int_0^t \lambda(s)ds}\)</span></p>
<p>Let <span class="math notranslate nohighlight">\(\overline{r_1(t)} = \frac{r_1(t)}{b(t)}, \overline{\Phi(t)} = \frac{\Phi(t)}{b^2(t)}\)</span>, and through change of variable, we also re-factor the original</p>
<p>volatility and skew, <span class="math notranslate nohighlight">\(\overline{\sigma(t)} = \frac{\sigma(t)}{b(t)}, \overline{b_r(t)} = b_r(t)b(t)\)</span>. The new parameterized CLV model will be</p>
<p>displayed as below:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}\begin{cases}
r(t) = f(0;t) + b(t)\overline{r_1(t)} \\
d\overline{r_1(t)} = b(t)\overline{\Phi(t)}dt + \overline{\sigma(t)} (1 + \overline{b_r(t)}\overline{r_1(t)}) dw^B(t) \\
d\overline{\Phi(t)} = \overline{\sigma^2(t)} (1 + \overline{b_r(t)}\overline{r_1(t)})^2 dt
\end{cases}\end{split}\]</div>
</div>
<p>The model will be the same with 0 mean-reversions. Otherwise <span class="math notranslate nohighlight">\(r_1(t)\)</span> and <span class="math notranslate nohighlight">\(\Phi(t)\)</span> will be factored by
<span class="math notranslate nohighlight">\(b(t)\)</span>, respectively.</p>
<p>In the case of Formulation 2, below 3 model curves will be piecewise constant:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\overline{\sigma(t)}\)</span>: re-factored short rate volatility</p></li>
<li><p><span class="math notranslate nohighlight">\(b(t)\)</span>: exponential of the negative integral of <span class="math notranslate nohighlight">\(\lambda(t)\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(\overline{b_r(t)}\)</span>: re-factored skew</p></li>
</ul>
</section>
</section>
<section id="zero-bond-reconstruction">
<h4>4.2.2. Zero Bond Reconstruction<a class="headerlink" href="#zero-bond-reconstruction" title="Link to this heading">#</a></h4>
<p>Let <span class="math notranslate nohighlight">\(B(t,T)\)</span> be zero bond price observed at <span class="math notranslate nohighlight">\(t\)</span> with expiry <span class="math notranslate nohighlight">\(T\)</span>. <span class="math notranslate nohighlight">\(B(0,t)\)</span> and <span class="math notranslate nohighlight">\(B(0,T)\)</span> are zero bonds
from initial yield curve, we have the following analytical reconstruction formula for <span class="math notranslate nohighlight">\(B(t,T)\)</span> under
formulation 1:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[B(t,T) = \frac{B(0,T)}{B(0,t)} exp(-\Lambda(t,T)r_1(t) - \frac{1}{2}\Lambda^2(t,T)\Phi(t))\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\Lambda(t,T) = \int_t^T exp(\int_t^u -\lambda(s)ds) du\]</div>
</div>
<p>Similarly, under formulation 2, the zero bond reconstruction formula is as below:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[B(t,T) = \frac{B(0,T)}{B(0,t)} exp(-\overline{\Lambda(t,T)}\overline{r_1(t)} - \frac{1}{2}\overline{\Lambda^2(t,T)}\overline{\Phi(t)})\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\overline{\Lambda(t,T)} = \int_t^T b(s)ds\]</div>
</div>
<p>A brief mathematical recap:
As proof of concept, we derive bond reconstruction formula under formulation 1. We have below
short rate dynamics:</p>
<div class="math-wrapper docutils container" id="equation-4-1">
<div class="math notranslate nohighlight" id="equation-4-1">
<span class="eqno">(1)<a class="headerlink" href="#equation-4-1" title="Link to this equation">#</a></span>\[dr_1(t) = (\Phi(t) - \lambda(t)r_1(t))dt + \sigma_r(t)dw(t)\]</div>
</div>
<div class="math-wrapper docutils container" id="equation-4-2">
<div class="math notranslate nohighlight" id="equation-4-2">
<span class="eqno">(2)<a class="headerlink" href="#equation-4-2" title="Link to this equation">#</a></span>\[d\Phi(t) = (\sigma_r^2(t) - 2\lambda(t)\Phi(t))dt\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[r_1(0) = 0, \Phi(0) = 0\]</div>
</div>
<p>Let’s define below notations:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[g(t) = e^{-\int_0^t \lambda_sds}\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[h(t) = \frac{\sigma_r(t)}{g(t)}\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[G(t) = \int_0^t g(s)ds\]</div>
</div>
<p>From (4.2), by dividing a factor of <span class="math notranslate nohighlight">\(g^2(t)\)</span> to both sides we can have below differential equation for
<span class="math notranslate nohighlight">\(\Phi(t)\)</span>:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[d(\frac{\Phi(t)}{g^2(t)}) = d(e^{2\int_0^t \lambda_s ds}\Phi(t)) = e^{2\int_0^t \lambda_s ds}\sigma_r^2(t)dt = h^2(t)dt\]</div>
</div>
<p>Integrating both sides from above equation we can then solve for <span class="math notranslate nohighlight">\(\Phi(t)\)</span> below:</p>
<div class="math-wrapper docutils container" id="equation-4-3">
<div class="math notranslate nohighlight" id="equation-4-3">
<span class="eqno">(3)<a class="headerlink" href="#equation-4-3" title="Link to this equation">#</a></span>\[\Phi(s) = g^2(s)(\frac{\Phi(t)}{g^2(t)} + \int_t^s h^2(u)du), for\ s \geq t\]</div>
</div>
<p>Similarly, by dividing a factor of <span class="math notranslate nohighlight">\(g(t)\)</span> to both sides of (4.1) we can have below differential equation
for <span class="math notranslate nohighlight">\(r_1(t)\)</span>:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[d(\frac{r_1(t)}{g(t)}) = d(e^{\int_0^t \lambda_s ds}r_1(t)) = e^{\int_0^t \lambda_s ds}(\Phi(t)dt + \sigma_r(t)dw(t)) = \frac{\Phi(t)}{g(t)}dt + h(t)dw(t)\]</div>
</div>
<p>Here’s the extracted content formatted in Markdown:</p>
<p>Integrating both sides from above equation and replacing for Φ(t) using (4.3) gives us r₁(t) below:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[r_1(s) = \frac{g(s)}{g'(t)}r_1(t) + \frac{g(s)}{g^2(t)}\Phi(t)\int_t^s g(u)du + g(s)\int_t^s g(u)\left(\int_t^u h^2(v)dv\right)du + g(s)\int_t^s h(u)dw\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[= \frac{r_1(t)}{g'(t)}g(s) + \frac{\Phi(t)}{g^2(t)}(G(s)-G(t))g(s) + g(s)\int_t^s h^2(u)(G(s)-G(u))du\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[+ g(s)\int_t^s h(u)dw, \text{ for } s \geq t \quad (4.4)\]</div>
</div>
<p>The price of zero coupon bond with maturity T at time t can be expressed as below:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[B(t,T) = \mathbf{E}\left[e^{-\int_t^T r(s)ds}\big|t\right] = \mathbf{E}\left[e^{-\int_t^T r(s)ds}\mathbf{E}\left[e^{-\int_t^T r_1(s)ds}\big|t\right]\right] = \frac{B(0,T)}{B(0,t)}\mathbf{E}\left[e^{-\int_t^T r_1(s)ds}\big|t\right]\]</div>
</div>
<p>So the problem is down to compute the expectation of exponential integral of r₁(s) between t and T given all the information at time t. Let’s replace r₁(s) using (4.4) in above formula:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\frac{B(t,T)}{B(0,t)} = \frac{B(0,T)}{B(0,t)}\mathbf{E}\left[e^{-\frac{r_1(t)}{g'(t)}\int_t^T g(s)ds-\frac{\Phi(t)}{g^2(t)}\int_t^T (G(s)-G(t))g(s)ds-\int_t^T g(s)(\int_t^s h^2(u)(G(s)-G(u))du)ds-\int_t^T g(s)\int_t^s h(u)dwds}\big|t\right]\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[= \frac{B(0,T)}{B(0,t)}e^{-\frac{r_1(t)}{g'(t)}(G(T)-G(t))-\frac{\Phi(t)}{2g^2(t)}(G(T)-G(t))^2}\mathbf{E}\left[e^{-\int_t^T(\int_t^s g(s)G(s)h^2(u)du-g(s)G(u)h^2(u)du)ds-\int_t^T\int_t^s g(s)h(u)dwds}\big|t\right]\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[= \frac{B(0,T)}{B(0,t)}e^{-\frac{r_1(t)}{g'(t)}(G(T)-G(t))-\frac{\Phi(t)}{2g^2(t)}\frac{(G(T)-G(t))^2}{2}}\mathbf{E}\left[e^{-\int_t^T h^2(v)\left[\frac{G^2(T)-G^2(u)}{2}+G(u)(G(T)-G(u))\right]ds-\int_t^T h(u)(G(T)-G(u))dw}\big|t\right]\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[= \frac{B(0,T)}{B(0,t)}e^{-\Lambda(t)Tr_1(t)-\frac{\Lambda^2(t)T}{2}\Phi(t)}\mathbf{E}\left[e^{-\int_t^T \frac{h^2(u)(G(T)-G(u))^2}{2}ds-\int_t^T h(u)(G(T)-G(u))dw}\big|t\right]\]</div>
</div>
<p>Finally, using the fact that <span class="math notranslate nohighlight">\(\mathbf{E}\left[e^{\int_t^T f(s)dw}\big|t\right] = e^{\frac{1}{2}\int_t^T f^2(s)ds}\)</span>, we can obtain the final zero bond reconstruction formula:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[B(t,T) = \frac{B(0,T)}{B(0,t)}e^{-\Lambda(t)Tr_1(t)-\frac{\Lambda^2(t)T}{2}\Phi(t)}\]</div>
</div>
<p>For bond reconstruction formula under formulation 2, it can be derived similarly and hence is skipped here.</p>
<p>As a result we can project future discount factors as well as Libor/swap rates directly from r₁(t) and Φ(t) (or r̄₁(t) and Φ̄(t) in alternative formulation). For example, to project swap rate:</p>
<ul class="simple">
<li><p>On float leg, assume that i-th coupon accruals from T_i^S to T_i^E and paid at T_i^F, the float leg PV is:</p></li>
</ul>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[FloatLegPV = \sum_i B(t,T_i^F)(T_i^E - T_i^S)L_i(t,T_i^S,T_i^E) = \sum_i B(t,T_i^F)\left(\frac{B(t,T_i^S)}{B(t,T_i^E)} - 1\right)\]</div>
</div>
<ul class="simple">
<li><p>On fix leg, assume the j-th coupon accruals from T_j^S to T_j^E and paid at T_j^F, the fix leg annuity is:</p></li>
</ul>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[FixLegAnnuity = \sum_j B(t,T_j^F)(T_j^E - T_j^S)\]</div>
</div>
<p>Therefore, with above formula for B(t,T), swap rate can then be computed by <span class="math notranslate nohighlight">\(\frac{FloatLegPV}{FixLegAnnuity}\)</span></p>
<p>Here’s the content formatted in Markdown:</p>
</section>
<section id="finbias">
<h4>4.2.3. FinBias<a class="headerlink" href="#finbias" title="Link to this heading">#</a></h4>
<p>Under new curve framework, forecast curve and discount curve can be different. In this case, CLV models the dynamics of short rate of the discount curve and computes its discount factor through zero bond reconstruction formula, and then infers the discount factor of the forecast curve by applying a deterministic basis adjustment (“FinBias”) to that of the discount curve. In particular, now float leg PV is:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[FloatLegPV = \sum_i B(t,T_i^F)\left(T_i^E - T_i^S\right)L_i\left(t,T_i^S,T_i^E\right) = \sum_i B_D(t,T_i^F)\left(\frac{B_F(t,T_i^S)}{B_F(t,T_i^E)} - 1\right)\]</div>
</div>
<p>where:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[B_F(t,T_i^S) = B_D(t,T_i^S)\frac{B_F(0,T_i^S)}{B_F(0,t)}\frac{B_D(0,t)}{B_D(0,T_i^S)}\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[B_F(t,T_i^E) = B_D(t,T_i^E)\frac{B_F(0,T_i^E)}{B_F(0,t)}\frac{B_D(0,t)}{B_D(0,T_i^E)}\]</div>
</div>
<p>In above notations, subscript “D” indicates discount factor of the discount curve, and “F” indicates discount factor of the forecast curve. In particular, <span class="math notranslate nohighlight">\(B_D(0,\cdot)\)</span> and <span class="math notranslate nohighlight">\(B_F(0,\cdot)\)</span> are calculated from initial discount/forecast curve respectively, <span class="math notranslate nohighlight">\(B_D(t,\cdot)\)</span> is computed from zero bond reconstruction formula while <span class="math notranslate nohighlight">\(B_F(t,\cdot)\)</span> is derived via above finbias relationship.</p>
<p>Therefore under new curve framework, Libor/swap rates can be projected similarly as described above.</p>
<p>For more details about finbias, as well as the choice of the deterministic basis adjustment, please refer to [6].</p>
</section>
<section id="swap-rate-dynamics">
<h4>4.2.4. Swap Rate Dynamics<a class="headerlink" href="#swap-rate-dynamics" title="Link to this heading">#</a></h4>
<p>Under annuity measure we approximate the swap rate as the following shifted lognormal dynamics:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[ds(t) = \sigma_s\left(1 + b_s\left(\frac{s(t)-s_0}{s_0}\right)\right)dw^A(t)\]</div>
</div>
<p>Here <span class="math notranslate nohighlight">\(s(t)\)</span> is the underlying swap rate, <span class="math notranslate nohighlight">\(\sigma_s\)</span> is blended volatility and <span class="math notranslate nohighlight">\(b_s\)</span> is blend.</p>
<p>The derivation of this swap rate approximation will be explained more in details in Section 6. For now, we will just assume the above swap rate dynamics. There are 5 cases of swaption skew depending on <span class="math notranslate nohighlight">\(b_s\)</span>:</p>
<ol class="arabic simple">
<li><p><span class="math notranslate nohighlight">\(b_s &lt; 0\)</span>, super-normal;</p></li>
<li><p><span class="math notranslate nohighlight">\(b_s = 0\)</span>, normal;</p></li>
<li><p><span class="math notranslate nohighlight">\(0 &lt; b_s &lt; 1\)</span>, mix normal and lognormal;</p></li>
<li><p><span class="math notranslate nohighlight">\(b_s = 1\)</span>, lognormal;</p></li>
<li><p><span class="math notranslate nohighlight">\(b_s &gt; 1\)</span>, super-lognormal;</p></li>
</ol>
<p>In addition, there is an approximate relation between swap skew and slope of normal volatility:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[slope \approx \frac{1}{2}\frac{\sigma_s}{s_0}b_s\]</div>
</div>
<p>For example, if ATM lognormal volatility = 20%, skew = 50%, then the implied normal volatility at ATM+100bp is roughly 5bp higher than ATM normal volatility.</p>
</section>
<section id="short-rate-versus-swap-rate-skew">
<h4>4.2.5. Short Rate versus Swap Rate Skew<a class="headerlink" href="#short-rate-versus-swap-rate-skew" title="Link to this heading">#</a></h4>
<p>Ignoring higher orders, approximately we have below relation between swap rate and short rate skew:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[b_s(t) \approx \frac{s_0}{Dur(t,T_{expiry},\tau_{tenor})}b_r(t), \text{ where } Dur(t,T,\tau) = \frac{A(t,T+\tau)-A(t,T)}{\tau}\]</div>
</div>
<p>The scaling factor only depends on mean reversion of short rate, while <span class="math notranslate nohighlight">\(T_{expiry}\)</span> is the expiry of swap rate and <span class="math notranslate nohighlight">\(\tau_{tenor}\)</span> is the swap tenor. The swap rate skew is parameterizable 1, hence we will use it to parameterize skew in CLV instead of short rate skew. When <span class="math notranslate nohighlight">\(b_s(t) = b_r(t) = 0\)</span>, CLV degenerates to HJM1.</p>
</section>
<section id="underlying-adjustment">
<h4>4.2.6. Underlying Adjustment<a class="headerlink" href="#underlying-adjustment" title="Link to this heading">#</a></h4>
<p>When pricing exotic payoffs using a calibrated model, it is possible that the calibrated model prices of the underlying instruments don’t match those from the market (more specifically, from the feeder model), which is an undesirable situation because by not able to fully re-price the underlying from the market, it is likely that the trade will be mispriced as well. Underlying adjustments are a set of tools used to improve the pricing accuracy of both the underlying and the embedded option by adjusting some parameters of the payoff (e.g. barrier, coupon, strike etc.) of the underlying instruments.</p>
<p>In the particular case of CIF/CCF, the underlying itself is a set of volatility-dependent vanilla instruments (caplets or floorlets), so it is intuitive to use Cap Floor adjustment for CIF/CCF. After vanilla instruments prices are computed from the market and model calibration is done, we modify certain parameters (cap value and/or floor value of each coupon, whichever is applicable) on each vanilla instruments so that each vanilla instrument, with its respective adjusted parameter, can be priced by swaption vol/skew approximation from the calibrated model to match its market price. Once these adjustments on the vanilla instrument parameter are computed, they will then be kept constant and used in later pricing and risk calculations. Compared to other types of underlying adjustments, QA has tested and found that Cap Floor adjustment produces the closest results for CIF/CCF type of trades (more details about underlying adjustment can be found in [3] &amp; [2]).</p>
</section>
</section>
<section id="assumptions-and-limitations">
<h3>4.3. Assumptions and Limitations<a class="headerlink" href="#assumptions-and-limitations" title="Link to this heading">#</a></h3>
<p>Model assumptions and limitations can be found in Section 9.</p>
</section>
<section id="model-parameters-variables">
<h3>4.4. Model Parameters / Variables<a class="headerlink" href="#model-parameters-variables" title="Link to this heading">#</a></h3>
<p>There are 3 model curves in CLV model, all are assumed to be piecewise constant.</p>
<section id="id1">
<h4>Formulation 1<a class="headerlink" href="#id1" title="Link to this heading">#</a></h4>
<ol class="arabic simple">
<li><p>Short rate volatility σ(t) controls overall volatility level; σ(t) is always calibrated.</p></li>
<li><p>Short rate mean reversion λ(t), which controls how volatility is distributed over time, is calibrated depending on calibration type.</p>
<ul class="simple">
<li><p>For Co-terminal calibration, λ(t) is market input.</p></li>
<li><p>For V-fit calibration, λ(t) is calibrated.</p></li>
</ul>
</li>
<li><p>Short rate skew br(t), which controls the slope of swaption vol; whether br(t) is calibrated is user input.</p></li>
</ol>
</section>
<section id="id2">
<h4>Formulation 2<a class="headerlink" href="#id2" title="Link to this heading">#</a></h4>
<ol class="arabic simple">
<li><p>Short rate volatility σ(t) controls overall volatility level; σ(t) is always calibrated.</p></li>
<li><p>Integrated mean reversion curve b(t), which controls how volatility is distributed over time, b(t) will be calibrated for specific kinds of calibration types</p>
<ul class="simple">
<li><p>For Co-terminal calibration, λ(t) is market input, and b(t) is internally integrated from λ(t)</p></li>
<li><p>for V-fit calibration, b(t) is calibrated.</p></li>
</ul>
</li>
<li><p>Short rate skew br(t), which controls the slope of swaption vol; whether br(t) is calibrated is user input (for more on this refer to Section 6).</p></li>
</ol>
<p>In addition, the initial forward curve f(0;t) is inferred from the input yield curve which is a feeder model.</p>
<p>The key difference between two formulations boils down to whether λ(t) or b(t) is piecewise constant, because piecewise λ(t) implies non-piecewise constant b(t), and vice versa. The primary advantage of piecewise constant b(t) is that it improves interpolation of calibration instruments which are not part of calibration set, thanks to the fact that the zero bond reconstruction formula is more explicitly dependent on b(t). For example, if we calibrate 10y10y and 12y10y European swaption and price 11y10y swaption from the calibrated model, we will get smoother volatility of 11y swaption compared with 10y and 12y with this improved interpolation. The model will ultimately give us smoother PV/risk of exotic trades. As a result, it reduces artificial oscillations in risk backtests due to interpolation and helps to produce smoother risks.</p>
</section>
</section>
<section id="model-outputs">
<h3>4.5. Model Outputs<a class="headerlink" href="#model-outputs" title="Link to this heading">#</a></h3>
<p>See Section 3.4.</p>
</section>
<section id="feeder-models">
<h3>4.6. Feeder Models<a class="headerlink" href="#feeder-models" title="Link to this heading">#</a></h3>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>GMD ID</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>New curve framework</p></td>
<td><p>GMD1746</p></td>
<td><p>Used for initial yield curve construction in calibration, pricing and risk calculation.</p></td>
</tr>
<tr class="row-odd"><td><p>Black-Scholes pricer</p></td>
<td><p>GMD4104</p></td>
<td><p>Used for pricing European instruments with respective black and/or normal volatility in calibration, pricing and risk calculation.</p></td>
</tr>
<tr class="row-even"><td><p>Vanilla pricing model</p></td>
<td><p>GMD4105</p></td>
<td><p>Used for underlying adjustment in pricing.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="justification-against-alternative-approaches">
<h3>4.7. Justification Against Alternative Approaches<a class="headerlink" href="#justification-against-alternative-approaches" title="Link to this heading">#</a></h3>
<p>Compared with IRV model, CLV can price options with more exotics options such as Bermudan options, while IRV is only able to price vanilla instruments.</p>
<p>Compared with LMM model, CLV can be priced with PDE which is faster and more accurate, while LMM has to resort to Monte Carlo.</p>
<p>More specification about above models can be referred to below documents:</p>
<ul class="simple">
<li><p>IRV Model Framework [5]</p></li>
<li><p>LMM Model [10]</p></li>
</ul>
</section>
<section id="conditions-of-use">
<h3>4.8. Conditions of Use<a class="headerlink" href="#conditions-of-use" title="Link to this heading">#</a></h3>
<p>As mentioned above, CLV model is one factor short rate model, it will be primarily used with payoffs with single rate such as Bermudan swaption.</p>
<p>We don’t recommend using it for payoffs related to correlation such as spread options.</p>
<p>We don’t recommend using it under very high volatility conditions. High volatility makes the rate process very diffusive and affects the numerical stability and accuracy. The high volatility limitation exists for HJM family of models, including LMM and Hull White. We also don’t recommend using Cheyette under very high skew conditions.</p>
</section>
</section>
<section id="implementation-numerical-schema-description">
<h2>5. Implementation / Numerical Schema Description<a class="headerlink" href="#implementation-numerical-schema-description" title="Link to this heading">#</a></h2>
<section id="id3">
<h3>5.1. Description<a class="headerlink" href="#id3" title="Link to this heading">#</a></h3>
<p>Most trades priced under CLV are via PDE. After changing notations, recall CLV SDE system is (for simpler notation purpose, here we write <span class="math notranslate nohighlight">\(r_1(t)\)</span> as <span class="math notranslate nohighlight">\(x_t\)</span>, and <span class="math notranslate nohighlight">\(\Phi(t)\)</span> as <span class="math notranslate nohighlight">\(y_t\)</span>):</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{cases}
dx_t = (y_t - \lambda(t)x_t)dt + \sigma_r(t,x_t)dw^P(t) \\
dy_t = (\sigma_r^2(t,x_t) - 2\lambda(t)y_t)dt \\
\sigma_r(t,x_t) = \sigma(t)(1 + b_r(t)x_t) \\
x_0 = y_0 = 0
\end{cases}
\end{split}\]</div>
</div>
<p>Given the final payoff <span class="math notranslate nohighlight">\(V(T,x_T,y_T)\)</span>, its price at time t is <span class="math notranslate nohighlight">\(V(t) = \mathbb{E}\left[e^{-\int_t^T r_udu}V(T,x_T,y_T)|\mathcal{F}_t\right]\)</span>, the discounted price <span class="math notranslate nohighlight">\(\exp\left(-\int_0^t r_udu\right)V(t)\)</span> is a martingale under the risk neutral measure, and hence should have 0 drift term in its stochastic diffusion process. Using Itô’s lemma we have:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
d\left(e^{-\int_0^tr_udu}V\right) = e^{-\int_0^tr_udu}dV - r_te^{-\int_0^tr_udu}Vdt
\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
= e^{-\int_0^tr_udu}\left(\frac{\partial V}{\partial t}dt + \frac{\partial V}{\partial x}dx + \frac{\partial V}{\partial y}dy + \frac{1}{2}\frac{\partial^2V}{\partial x^2}dx^2\right) - r_te^{-\int_0^tr_udu}Vdt
\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
= e^{-\int_0^tr_udu}\left\{\frac{\partial V}{\partial t}dt + \frac{\partial V}{\partial x}[(y_t-\lambda(t)x_t)dt + \sigma_r(t,x_t)dw] + \frac{\partial V}{\partial y}(\sigma_r^2(t,x_t)-2\lambda(t)y_t)dt + \frac{1}{2}\frac{\partial^2V}{\partial x^2}\sigma_r^2(t,x_t)dt\right\} - r_te^{-\int_0^tr_udu}Vdt
\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
= e^{-\int_0^tr_udu}\left[\frac{\partial V}{\partial t} + \frac{\partial V}{\partial x}(y_t-\lambda(t)x_t) + \frac{\partial V}{\partial y}(\sigma_r^2(t,x_t)-2\lambda(t)y_t) + \frac{1}{2}\frac{\partial^2V}{\partial x^2}\sigma_r^2(t,x_t) - r_tV\right]dt + \frac{\partial V}{\partial x}\sigma_r(t,x_t)dw
\]</div>
</div>
<p>Equating above drift term to 0 gives us <span class="math notranslate nohighlight">\(V(t)\)</span> - the solution to below PDE:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\frac{\partial V}{\partial t} = L_xV + L_yV + r_tV
\]</div>
</div>
<p>where:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
L_x = -(y_t - \lambda(t)x_t)\frac{\partial}{\partial x} - \frac{1}{2}\sigma_r^2(t,x_t)\frac{\partial^2}{\partial x^2}
\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
L_y = -(\sigma_r^2(t,x_t)-2\lambda(t)y_t)\frac{\partial}{\partial y}
\]</div>
</div>
<p>QA PDE solver is used here, which calculates the present value of a trade by iteratively proceeding backwards from the trade’s expiry to present, using finite difference methods and the differential equations it satisfies, to approximate the payoff within each iteration step.</p>
<section id="pde-solver-construction">
<h4>5.1.1. PDE Solver Construction<a class="headerlink" href="#pde-solver-construction" title="Link to this heading">#</a></h4>
<p>QA PDE solver uses alternating direction implicit (ADI) scheme:</p>
<ul class="simple">
<li><p>Step 1:</p></li>
</ul>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\left[I-\frac{1}{2}\Delta t(L_x+r_tI)\right]V_{n+\frac{1}{2}} = V_n + \Delta t\left[\frac{1}{2}(L_x+r_tI) + L_y\right]V_n
\]</div>
</div>
<ul class="simple">
<li><p>Step 2:</p></li>
</ul>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\left[I-\frac{1}{2}\Delta tL_y\right]V_{n+1} = V_{n+\frac{1}{2}} - \frac{1}{2}\Delta tL_yV_n
\]</div>
</div>
<p>The QA generic PDE solver uses central 3 points (C3P) space discretization (in both x-axis and y-axis):</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\frac{\partial V}{\partial x} = \frac{V^{i+1} - V^{i-1}}{2\Delta x}, \quad \frac{\partial^2V}{\partial x^2} = \frac{V^{i+1} - 2V^i + V^{i-1}}{\Delta x^2}
\]</div>
</div>
<p>However generic solver exhibits some issues such as oscillating solution along y-axis and wrong boundary condition due to extrapolation, hence we develop a new QA custom PDE solver as below:</p>
<p>In time axis, we will discretize the time grid by a vector of time interval and a corresponding vector of step sizes, which are both specified by user as input parameters (displayed in later section 5.2). In particular, we will use a smaller time step in the short end and a relatively larger time step in the long end. In addition, we will also add all the trade event dates (e.g. reset dates, payment dates, exercise dates, etc.) to the time grid to capture the trade dynamics more accurately.</p>
<p>In x-axis, we use central 5 points (C5P) discretization. For display reason we only show 1st order below:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\frac{\partial V}{\partial x} = \frac{-V^{i+2} + 8V^{i+1} - 8V^{i-1} + V^{i-2}}{12\Delta x}
\]</div>
</div>
<p>Compared with the conventional 3 point scheme, 5 points improves the speed of convergence because of its 4th order accuracy. Consequently, we can use fewer number of PDE nodes in x-axis and optimize on PDE performance.</p>
<p>In y-axis, we use upwinding 4 points (U4P) discretization (again we only show 1st order discretization):</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\frac{\partial V}{\partial y} = \pm\frac{-V^{i+2} + 6V^{i+1} - 3V^i - 2V^{i-1}}{6\Delta y}
\]</div>
</div>
<p>The sign depends on the sign of coefficient of <span class="math notranslate nohighlight">\(\frac{\partial V}{\partial y}\)</span>.</p>
<p>Upwinding scheme dampens oscillations observed with C3P. Source of oscillation is the lack of diffusion term in the y direction.</p>
<p>Furthermore, instead of normal grid of y-axis and linear extrapolation of boundary condition in generic solver, we will use mixed LN grid and mixed linear-parabolic extrapolation, respectively, in custom solver.</p>
<p>Boundary conditions are here to deal with shadow points at the edge of the grid. We use linear extrapolation for the point on the edge, and parabolic extrapolation for the point just before:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\frac{\partial V}{\partial x}(x_{-2}) = \frac{\partial V}{\partial x}(x_{-1}), \quad \frac{\partial^2V}{\partial x^2}(x_{-1}) = \frac{\partial^2V}{\partial x^2}(x_0)
\]</div>
</div>
<p>In PDN custom solver is currently used for CLV. Exact details can be found in document “Cheyette Local Vol PDE” [7].</p>
</section>
<section id="pde-solver-pricing">
<h4>5.1.2. PDE Solver Pricing<a class="headerlink" href="#pde-solver-pricing" title="Link to this heading">#</a></h4>
<p>Once the PDE solver is constructed (i.e. with the time t grid, space x and y grids generated, the initial payoff and the corresponding boundary condition set up), we can use it to iteratively proceed backwards to price any derivatives following the specific discretization method. In particular, we construct 2 solvers which can interact with each other: one is the underlying solver while the other is the option solver. We start from the trade’s last option exercise date. At each <span class="math notranslate nohighlight">\((x_i,y_j)\)</span> point on the space grid, on the last exercise date, we can extract the initial payoff value for both underlying and option, then we follow the specific discretization method and proceed backwards on the time grid, with following updates whenever applicable applied to the solvers detailed below:</p>
<ol class="arabic simple">
<li><p>At each coupon date, we will update the underlying solver to add the coupon to the underlying price.</p>
<ul class="simple">
<li><p>Fixed leg: the value of any fixed coupon is added to the underlying solution at its payment date.</p></li>
<li><p>Float leg: the present value of any floating coupon is added to the underlying solution at its reset date.</p></li>
</ul>
</li>
<li><p>At each option exercise date, we will compare the underlying solver price and the option solver price to determine whether we exercise the option or not, and then adjust the option price accordingly. It should also be noted that at this step Rannacher scheme and/or payoff smoothing will be used to ensure the 1st and 2nd order payoff smoothness.</p>
<ul class="simple">
<li><p>Rannacher stepping is the scheme of taking fully-implicit steps immediately after potential discontinuities are introduced into the solution in order to dampen the oscillations that can occur in the Crank-Nicolson scheme. These implicit steps can effectively dampen oscillations. The loss of accuracy is negligible if we control the number of implicit steps and second-order convergence of the Crank-Nicolson method can be retained. For more information on Rannacher stepping see: Giles &amp; Carter, 2006 [12].</p></li>
<li><p>Payoff smoothing is used when the payoff includes functions that are not differentiable or sometimes not even continuous, which can lead to unstable risk or very slow convergence. Different methods, for example using a very tight Gaussian to represent delta function, can be applied to the payoff function to solve this problem. For more details about payoff smoothing, please refer to [13].</p></li>
</ul>
</li>
<li><p>The discount factor of time T at any time t (t &lt; T) is computed from the bond reconstruction formula which further depends on <span class="math notranslate nohighlight">\((x_t,y_t)\)</span> at time t.</p></li>
<li><p>The initial instantaneous forward rate f(0,t) is computed on the time grid by f(0,t) = -d[ln(B(0,t))]/dt, which essentially assumes this is piecewise constant across each time step.</p></li>
</ol>
</section>
</section>
<section id="id4">
<h3>5.2. Inputs<a class="headerlink" href="#id4" title="Link to this heading">#</a></h3>
<p>The numerical inputs related to pricing are set as below (and used in PDN):</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Method</p></td>
<td><p>evaluation algorithm</p></td>
<td><p>Backward</p></td>
</tr>
<tr class="row-odd"><td><p>TGridShrinkingTenors</p></td>
<td><p>intervals of varying time grid</p></td>
<td><p>{0M,1M,2Y,10Y,20Y,40Y}</p></td>
</tr>
<tr class="row-even"><td><p>TGridShrinkingSteps</p></td>
<td><p>step sizes of varying time grid</p></td>
<td><p>{1,5,10,20,40,60}</p></td>
</tr>
<tr class="row-odd"><td><p>GridRefinementLevel</p></td>
<td><p>time frequency of updating space grid</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-even"><td><p>NbPtsX</p></td>
<td><p>number of points of grid X</p></td>
<td><p>201</p></td>
</tr>
<tr class="row-odd"><td><p>NbPtsY</p></td>
<td><p>number of points of grid Y</p></td>
<td><p>41</p></td>
</tr>
<tr class="row-even"><td><p>StdX</p></td>
<td><p>standard deviation of grid X</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-odd"><td><p>StdY</p></td>
<td><p>standard deviation of grid Y</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-even"><td><p>GridX</p></td>
<td><p>type of grid X</p></td>
<td><p>SLNS</p></td>
</tr>
<tr class="row-odd"><td><p>GridY</p></td>
<td><p>type of grid Y</p></td>
<td><p>MixedLN</p></td>
</tr>
<tr class="row-even"><td><p>BC</p></td>
<td><p>boundary condition used</p></td>
<td><p>MixedDeltaGamma</p></td>
</tr>
<tr class="row-odd"><td><p>UseFISolver</p></td>
<td><p>flag to use custom solver</p></td>
<td><p>TRUE</p></td>
</tr>
</tbody>
</table>
</div>
<p>“TGridShrinkingTenors” and “TGridShrinkingSteps” controls the grid generation in time space without considering the trade event dates. For instance, in above example, we discretize the time grid every 1 day between 0M and 1M, every 5 days between 1M and 2Y, every 10 days between 2Y and 10Y and so on.</p>
<p>“StdX” controls the grid bounds in X space, indicating the number of standard deviation on the grid.</p>
<p>“NbPtsX” controls the grid size in X space, indicating the number of points we have on the grid.</p>
<p>“GridX” controls the grid generation in X space. We infer the equivalent shifted lognormal distribution of the factor x and grid discretization is then performed accordingly with input “StdX” and “NbPtsX”.</p>
<p>Grid Y is generated similarly with the 3 corresponding parameters specified for the Y grid.</p>
<p>Notice compared with “NbPtsX”, “NbPtsY” can be kept small as factor y has a small variance because of lack of diffusion term. We justify the choice of 201 (41) for number of PDE nodes along X (Y) dimension by examining the convergence rate of the PV of Bermudan/CIF portfolio under Barclays IHC in Section 8.3.4. We determine the convergence is achieved by measuring, in Vega term, the PV difference to benchmark grid. More details can be found in [7].</p>
<p>“GridRefinementLevel” controls the frequency on the time grid to update the space grid. For instance, in above example, for both x and y grids, we will update the space grid every 2 years. In particular, we use the standard deviation of each respective factor at the 1st node on t grid after 2Y to generate the space grid up to 2Y, and then use the std at the 1st node on t grid after 4Y to generate the space grid from 2Y to 4Y, as so on.</p>
<p>“BC” controls the boundary condition used.</p>
<p>“UseFISolver” controls if custom solver is used (to be able to use 5 points and upwinding discretization).</p>
<p>Above values shown in the table are chosen to optimize PDE solver performance and are default values of the PDE solver.</p>
</section>
<section id="quality-control">
<h3>5.3. Quality Control<a class="headerlink" href="#quality-control" title="Link to this heading">#</a></h3>
<p>We test for PDE convergence, default value of grid geometry and PDE limitations in Section 8.3.4.</p>
</section>
</section>
<section id="id5">
<h2>6. Calibration<a class="headerlink" href="#id5" title="Link to this heading">#</a></h2>
<section id="id6">
<h3>6.1. Description<a class="headerlink" href="#id6" title="Link to this heading">#</a></h3>
<p>The CLV model uses analytical approximations for swaption volatility and skew to achieve efficient calibration. There are 2 different calibration types:</p>
<ul class="simple">
<li><p>Co-terminal</p></li>
<li><p>V-fit</p></li>
</ul>
<section id="swaption-volatility-skew-approximation">
<h4>6.1.1. Swaption Volatility/Skew Approximation<a class="headerlink" href="#swaption-volatility-skew-approximation" title="Link to this heading">#</a></h4>
<section id="approximation-step-1-swap-rate-time-dependent-dynamics">
<h5>1) Approximation Step 1: Swap Rate Time Dependent Dynamics<a class="headerlink" href="#approximation-step-1-swap-rate-time-dependent-dynamics" title="Link to this heading">#</a></h5>
<p>In the first approximation step, we assume swap rate is time dependent shifted lognormal diffusion:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[ds(t) = \sigma_s(t)\left(1 + b_s(t)\left(\frac{s(t)-s_0}{s_0}\right)\right)dw^A(t)\]</div>
</div>
<p>As shown previously, zero bond has analytical reconstruction formula and is a function of <span class="math notranslate nohighlight">\(r_1(t)\)</span> and <span class="math notranslate nohighlight">\(\Phi(t)\)</span>, therefore we can also represent swap rate as an explicit function:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[s(t) = s(t,r_1(t),\Phi(t))\]</div>
</div>
<p>Since <span class="math notranslate nohighlight">\(s(t)\)</span> is martingale under annuity measure and only <span class="math notranslate nohighlight">\(dr_1(t)\)</span> has stochastic term, applying Itô’s lemma:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[ds(t) = s_{r_1}(t)\sigma_r(t,r_1(t))dw^A(t)\]</div>
</div>
<p>The RHS is an explicit function of <span class="math notranslate nohighlight">\(r_1(t)\)</span> and <span class="math notranslate nohighlight">\(\Phi(t)\)</span>. Considering short rate vol is usually less than 1% and <span class="math notranslate nohighlight">\(\Phi(t)\)</span> is of second order of short rate, the variation of <span class="math notranslate nohighlight">\(\Phi(t)\)</span> is less significant, so we will freeze it at its expectation under annuity measure, i.e., <span class="math notranslate nohighlight">\(\Phi'(t) = E^A[\Phi(t)]\)</span>.</p>
<p>Once freezing <span class="math notranslate nohighlight">\(\Phi(t)\)</span>, the RHS is now an explicit function of <span class="math notranslate nohighlight">\(r_1(t)\)</span>, hence an implicit function of <span class="math notranslate nohighlight">\(s(t)\)</span>. To derive <span class="math notranslate nohighlight">\(\sigma_s(t)\)</span> and <span class="math notranslate nohighlight">\(b_s(t)\)</span>, we use 1st order Taylor expansion to RHS around initial swap rate <span class="math notranslate nohighlight">\(s_0\)</span>, with <span class="math notranslate nohighlight">\(|_0\)</span> indicating evaluation at <span class="math notranslate nohighlight">\(s(t) = s_0\)</span>:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[sr_1(t)\sigma_r(t,r_1(t))dw^A(t) = \left[sr_1(t)\sigma_r(t)|_{s_0} + (s(t) - s_0)\left.\frac{\partial (sr_1(t)\sigma_r(t))}{\partial s(t)}\right|_{s_0}\right]dw^A(t)\]</div>
</div>
<p>After comparing with the assumed shifted lognormal diffusion in the beginning, we then get below:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\sigma_s(t) = s_{r_1}(t)\sigma_r(t)|_0\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[b_s(t) = s_0\left.\frac{s_{r_1r_1}(t)}{s_{r_1}^2(t)}\right|_0 + \frac{s_0}{s_{r_1}(t)}\left.\frac{b_r(t)}{1 + b_r(t)r_1(t)}\right|_0\]</div>
</div>
<p>Notice that via zero bond reconstruction, swap rate <span class="math notranslate nohighlight">\(s(t)\)</span> can be expressed as an explicit function of <span class="math notranslate nohighlight">\(r_1(t)\)</span>. Therefore its derivative to <span class="math notranslate nohighlight">\(r_1(t)\)</span> in above formula can be computed analytically.
[Previous content remains unchanged…]</p>
</section>
<section id="approximation-step-2-averaging-volatility-and-skew">
<h5>2) Approximation Step 2: Averaging Volatility and Skew<a class="headerlink" href="#approximation-step-2-averaging-volatility-and-skew" title="Link to this heading">#</a></h5>
<p>In the second approximation step, we will use the swap rate volatility and skew derived above, reduce the time dependency and derive the flat volatility and skew of the process.</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\sigma_T = \sqrt{\frac{1}{T}\int_0^T \sigma_s^2(t)dt}\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[b_T = \int_0^T b_s(t)w_s(t)dt, \text{ where weight function } w_s(t) = \frac{\sigma_s^2(t)\int_0^t\sigma_s^2(s)ds}{\int_0^T(\sigma_s^2(t)\int_0^t\sigma_s^2(s)ds)dt}\]</div>
</div>
<p>Both values are computed by numerical integration across the model curve nodes and assuming the model curve is piecewise constant. Further details can be referred in below document - “Time to Smile” [15].</p>
<p>With the blended vol and skew, we can calculate the model swaption/caplet prices V(0) using the shifted lognormal pricing formula:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[V(0) = A(0)[S'N(d_+) - K'N(d_-)]\]</div>
</div>
<p>where A(0) = annuity of the caplet/swaption</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[S' = \frac{S_0}{b_T}, K' = K + (1-b^T)\frac{S_0}{b_T}\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[d_\pm = \frac{\ln(\frac{S'}{K'}) \pm \frac{1}{2}\Sigma^2T}{\Sigma\sqrt{T}} \text{ where } \Sigma = \frac{\sigma_T b_T}{S_0}\]</div>
</div>
</section>
<section id="evaluation-of-e-a-phi-t-and-r-1-t-t-0">
<h5>6.1.1.1. Evaluation of <span class="math notranslate nohighlight">\(E^A[\Phi(t)]\)</span> and <span class="math notranslate nohighlight">\(r_1(t)|_{t=0}\)</span><a class="headerlink" href="#evaluation-of-e-a-phi-t-and-r-1-t-t-0" title="Link to this heading">#</a></h5>
<p>To derive the final result of <span class="math notranslate nohighlight">\(\sigma_s\)</span> and <span class="math notranslate nohighlight">\(b_s\)</span>, we still need to solve two unknowns: <span class="math notranslate nohighlight">\(E^A[\Phi(t)]\)</span> and <span class="math notranslate nohighlight">\(r_1(t)|_{t=0}\)</span></p>
<ol class="arabic simple">
<li><p>Evaluation of <span class="math notranslate nohighlight">\(\Phi^*(t) = E^A[\Phi(t)]\)</span></p></li>
</ol>
<p>Let <span class="math notranslate nohighlight">\(P^A\)</span> and <span class="math notranslate nohighlight">\(P^B\)</span> be probability measures associated with annuity and risk neutral respectively, <span class="math notranslate nohighlight">\(\beta(t)\)</span> is money market account, and <span class="math notranslate nohighlight">\(Z(t)\)</span> being the change of numeraire ratio between these two measures, i.e.:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[Z(t) = \frac{dP^A}{dP^B} = \frac{1}{\beta(t)}\frac{A(t;T_s,T_e)}{A(0;T_s,T_e)}\]</div>
</div>
<p><span class="math notranslate nohighlight">\(Z(t)\)</span> is a function of <span class="math notranslate nohighlight">\(r_1(t)\)</span> via reconstruction formula. Given that <span class="math notranslate nohighlight">\(Z(t)\)</span> is a martingale under risk neutral measure, using Itô’s lemma and further freeze the zero bond price at 0, approximately we have:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[dZ(t) = -\Sigma\left(\frac{\tau_iB(0,T_i)}{\sum_j \tau_jB(0,T_j)}\Lambda(t,T_i)\right)\sigma_r(t)Z(t)dw^B(t), \text{ where } \Lambda(t,T_i) = \int_t^{T_i}e^{-\lambda(0)(T_i-s)}ds\]</div>
</div>
<p>By change of measure theorem, we have the following relationship between <span class="math notranslate nohighlight">\(dw^A(t)\)</span> and <span class="math notranslate nohighlight">\(dw^B(t)\)</span>:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[dw^A(t) = dw^B(t) + \Sigma\left(\frac{\tau_iB(0,T_i)}{\sum_j \tau_jB(0,T_j)}\Lambda(t,T_i)\right)\sigma_r(t)dt \equiv dw^B(t) + H_w(t;T_s,T_e)\sigma_r(t)dt\]</div>
</div>
<p>Therefore, by replacing <span class="math notranslate nohighlight">\(dw^B(t)\)</span> with <span class="math notranslate nohighlight">\(dw^A(t)\)</span> in the CLV short rate dynamics, we get below dynamics under annuity measure:</p>
<p><span class="math notranslate nohighlight">\(\begin{cases}
dr_1(t) &amp;= (\Phi(t) - \lambda(t)r_1(t) - H_w(t)\sigma_r^2(t))dt + \sigma_r(t)dw^A(t) \\
d\Phi(t) &amp;= (\sigma_r^2(t) - 2\lambda(t)\Phi(t))dt
\end{cases}\)</span></p>
<p>Taking expectation on both sides, through Markovian property and approximation of the last equation, we get the following ordinary differential equation (ODE) system:</p>
<p><span class="math notranslate nohighlight">\(\begin{cases}
dE^A[r_1(t)] &amp;= (E^A[\Phi(t)] - \lambda(t)E^A[r_1(t)] - H_w(t)E^A[\sigma_r^2(t)])dt \\
dE^A[\Phi(t)] &amp;= (E^A[\sigma_r^2(t)] - 2\lambda(t)E^A[\Phi(t)])dt \\
E^A[\sigma_r^2(t)] &amp;= \sigma^2(t)(1 + b_r(t)E^A[r_1(t)])^2
\end{cases}\)</span></p>
<p>And <span class="math notranslate nohighlight">\(\Phi^*(t) = E^A[\Phi(t)]\)</span> can be solved through above ODE system.</p>
<ol class="arabic simple" start="2">
<li><p>Evaluation of <span class="math notranslate nohighlight">\(r_1(t)|_{t=0}\)</span></p></li>
</ol>
<p>Here we show how to evaluate the short rate <span class="math notranslate nohighlight">\(r_0 = r_1(t)|_{t=0}\)</span> where <span class="math notranslate nohighlight">\(s_0 = s(t,r_0,\Phi^*(t))\)</span>.</p>
<p>Since <span class="math notranslate nohighlight">\(s(t)\)</span> is monotonic and approximately locally quadratic w.r.t. <span class="math notranslate nohighlight">\(r(t)\)</span>, we use quadratic iteration to search for the root. Suppose at iteration <span class="math notranslate nohighlight">\((i-1)\)</span> the short rate is <span class="math notranslate nohighlight">\(r_{i-1}^*\)</span>, at next <span class="math notranslate nohighlight">\(i\)</span>, we solve for <span class="math notranslate nohighlight">\(r_i^*\)</span>:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[s_0 = s(t,r_i^*) = s(t,r_{i-1}^*) + s_{r_1}|_{r_{i-1}^*}(r_i^* - r_{i-1}^*) + \frac{1}{2}s_{r_1r_1}|_{r_{i-1}^*}(r_i^* - r_{i-1}^*)^2\]</div>
</div>
<p>The initial condition is <span class="math notranslate nohighlight">\(r_0^* = 0\)</span>.</p>
</section>
<section id="expansion-point-improvement">
<h5>6.1.1.2. Expansion Point Improvement<a class="headerlink" href="#expansion-point-improvement" title="Link to this heading">#</a></h5>
<p>We can actually improve the accuracy by changing the point we freeze at to be <span class="math notranslate nohighlight">\(\Phi^*(t) = E^A[\Phi(t)|S_t = S_0]\)</span>.</p>
<p>Picking this point is relevant as freezing around this point is equivalent to 1st order Taylor expansion. Once this point is found we determine <span class="math notranslate nohighlight">\(r_1(t)|_{t=0}\)</span> the same way as previously explained and formulas stay identical.</p>
<p>Integrating the SDE for <span class="math notranslate nohighlight">\(\Phi(t)\)</span>, we can show that:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\Phi^*(t) = \int_0^t e^{-2\int_u^t\lambda(s)ds}E^A[\sigma^2(u)(1 + b_r(u)x_u)^2|S_t = S_0]du\]</div>
</div>
<p>We then Taylor expands <span class="math notranslate nohighlight">\(x_u\)</span> around <span class="math notranslate nohighlight">\(S_u\)</span> and we can now express <span class="math notranslate nohighlight">\(\Phi^*(t)\)</span> as a function of the integral (over <span class="math notranslate nohighlight">\(u\)</span>) of the conditional moments of <span class="math notranslate nohighlight">\(S_t\)</span>:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\mu(u,t) = E^A[S_u - S_0|S_t = S_0]\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[V(u,t) = E^A[(S_u - S_0)^2|S_t = S_0]\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\Phi^*(t) = \int_0^t(C_0(u,t) + C_1(u,t)\mu(u,t) + C_2(u,t)V(u,t))du\]</div>
</div>
<p>In above formula <span class="math notranslate nohighlight">\(C_0\)</span>, <span class="math notranslate nohighlight">\(C_1\)</span>, <span class="math notranslate nohighlight">\(C_2\)</span> can be computed analytically since <span class="math notranslate nohighlight">\(\sigma^2(u)(1 + b_r(u)x_u)^2\)</span> is an explicit function of <span class="math notranslate nohighlight">\(x_u\)</span> which is an implicit function of <span class="math notranslate nohighlight">\(S_u\)</span> via zero bond reconstruction.</p>
<p>We can further calculate the integral of <span class="math notranslate nohighlight">\(\mu(u,t)\)</span> and <span class="math notranslate nohighlight">\(V(u,t)\)</span> in a closed form way. At each step <span class="math notranslate nohighlight">\(u\)</span>, through the averaging process, we know the temporary shifted lognormal distributions of <span class="math notranslate nohighlight">\(S_u\)</span> (using all information up to <span class="math notranslate nohighlight">\(u\)</span>), in particular we introduce below notations:</p>
<p><span class="math notranslate nohighlight">\(dS_u = \sigma(u)\left(\beta(u)\frac{S_u}{S_0} + 1 - \beta(u)\right)dw\)</span></p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[v^2(u) = \int_0^u \sigma^2(s)ds\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[w(u) = \frac{v^2(u)\sigma^2(u)}{\int_0^u \sigma^2(s)v^2(s)ds}\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\overline{\sigma}(u) = \sqrt{\frac{v^2(u)}{u}}\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\overline{\beta}(u) = \int_0^u w(s)\beta(s)ds\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\overline{\lambda}(u) = \frac{\overline{\beta}(u)\overline{\sigma}^2(u)}{S_0}\]</div>
</div>
<p>Through the property of Brownian Bridge, we have:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\mu(u,t) = \frac{S_0}{\overline{\beta}(u)}\left[e^{\frac{\overline{\lambda}(u)}{2}u - \frac{\overline{\lambda}(u)^2}{2}u^2} - 1\right]\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[V(u,t) = \frac{S_0^2}{\overline{\beta}(u)^2}\left[\overline{\lambda}(u)\overline{\lambda}(t)+\overline{\lambda}(u)^2u - \frac{\overline{\lambda}(u)^2}{2}u^2 - 2(1-\overline{\beta}(u))e^{\frac{\overline{\lambda}(u)}{2}u - \frac{\overline{\lambda}(u)^2}{2}u^2} + (1-\overline{\beta}(u))^2\right] - 2S_0\mu(u,t) - S_0^2\]</div>
</div>
<p>In particular, we can Taylor expand above two equations so that we can separate the <span class="math notranslate nohighlight">\(u\)</span> term and <span class="math notranslate nohighlight">\(t\)</span> term in the expression of <span class="math notranslate nohighlight">\(\mu(u,t)\)</span> and <span class="math notranslate nohighlight">\(V(u,t)\)</span>.</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\mu(u,t) = \sum_i A_i(t)B_i(u)\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[V(u,t) = \sum_i \overline{A_i}(t)\overline{B_i}(u)\]</div>
</div>
<p>For illustration, below is the 2nd order Taylor expansion of <span class="math notranslate nohighlight">\(\mu(u,t)\)</span>:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\mu(u,t) = \frac{S_0\overline{\lambda}(u)u}{2\overline{\beta}(u)}\lambda(t) - \frac{\overline{\beta}(u)\overline{\sigma}^2(u)u^2}{2S_0}\frac{1}{t} + \frac{\overline{\beta}(u)\overline{\sigma}^2(u)u^2}{8S_0}\lambda^2(t)\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[- \frac{\overline{\beta}(u)\overline{\lambda}(u)\overline{\sigma}^2(u)u^3\overline{\lambda}(t)}{4S_0} + \frac{\overline{\beta}(u)\overline{\lambda}^2(u)\overline{\sigma}^2(u)u^4}{8S_0}\frac{1}{t^2}\]</div>
</div>
<p><span class="math notranslate nohighlight">\(V(u,t)\)</span> can be Taylor expanded similarly and for display reason will be omitted here.</p>
<p>As a result, we can rewrite <span class="math notranslate nohighlight">\(\Phi^*(t)\)</span> as below:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\Phi^*(t) = \int_0^t C_0(u,t)du + \sum_i I_i(t) + \sum_j J_j(t)\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\text{where } I_i(t) = A_i(t)\int_0^t C_1(u,t)B_i(u)du\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[J_j(t) = \overline{A_j}(t)\int_0^t C_2(u,t)\overline{B_j}(u)du\]</div>
</div>
<p>Finally, by replacing <span class="math notranslate nohighlight">\(B_i(u)\)</span> with <span class="math notranslate nohighlight">\(C_1B_i(u)\)</span> and <span class="math notranslate nohighlight">\(B_j(u)\)</span> with <span class="math notranslate nohighlight">\(C_2B_j(u)\)</span>, we can recursively update <span class="math notranslate nohighlight">\(I_i(t)\)</span> and <span class="math notranslate nohighlight">\(J_j(t)\)</span> and hence calculate <span class="math notranslate nohighlight">\(\Phi^*(t)\)</span> at each time step going forward.</p>
<p>Full description of this methodology and accuracy comparison is available at document [9]. The quality of approximation with expansion point improvement has better convergence specially for long dated trades or in high skew environment, and therefore is used in production.</p>
</section>
</section>
<section id="calibration-types">
<h4>6.1.2. Calibration Types<a class="headerlink" href="#calibration-types" title="Link to this heading">#</a></h4>
<p>Recall the volatility/skew approximation outlined above:</p>
<ul class="simple">
<li><p>Approximate swap rate with time-dependent shifted lognormal process</p></li>
<li><p>Approximate swap rate with averaging volatility and skew shifted lognormal process</p></li>
</ul>
<p>The main idea of calibration is to match the model price of a set of calibration instruments implied from the averaged volatility and skew to those “observed” price in the market. Note that due to the one-to-one relationship between price and implied volatility, in model implementation we try to match the implied volatility of the calibration instruments. Here for simplicity, we do not distinguish between price and volatility in the objective function.</p>
<ol class="arabic simple">
<li><p>Co-terminal</p></li>
</ol>
<p>In Co-terminal calibration, mean reversion λ(t) is market input, default is 0. We calibrate short rate volatility σ(t) and skew br(t).</p>
<p>For each expiry/tenor pair (T,τ), we calibrate to 2 swaptions with different strikes:</p>
<ul class="simple">
<li><p>ATM swaption to calibrate σ(t)</p></li>
<li><p>OTM swaption to calibrate br(t)</p></li>
</ul>
<p>The calibration is done in 2 steps:</p>
<ol class="arabic simple">
<li><p>First calibrate σ(t) to ATM swaption</p></li>
<li><p>Then calibrate br(t) to OTM swaption</p></li>
</ol>
<p>For each expiry/tenor pair (T,τ), we have below calibration objective function:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[min_{\sigma(t)} |σ_{ATM}^{mkt}(T,τ) - σ_{ATM}^{mdl}(T,τ)|\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[min_{b_r(t)} |σ_{OTM}^{mkt}(T,τ) - σ_{OTM}^{mdl}(T,τ)|\]</div>
</div>
<p>where σ^mkt is market implied volatility and σ^mdl is model implied volatility.</p>
<ol class="arabic simple" start="2">
<li><p>V-fit</p></li>
</ol>
<p>In V-fit calibration, we calibrate both short rate volatility σ(t) and mean reversion λ(t).</p>
<p>For each expiry/tenor pair (T,τ), we calibrate to 1 ATM swaption to calibrate both σ(t) and λ(t).</p>
<p>The calibration is done in 2 steps:</p>
<ol class="arabic simple">
<li><p>First calibrate σ(t) to ATM swaption with λ(t) = 0</p></li>
<li><p>Then calibrate λ(t) to ATM swaption with σ(t) fixed</p></li>
</ol>
<p>For each expiry/tenor pair (T,τ), we have below calibration objective function:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[min_{\sigma(t)} |σ_{ATM}^{mkt}(T,τ) - σ_{ATM}^{mdl}(T,τ)|_{λ(t)=0}\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[min_{λ(t)} |σ_{ATM}^{mkt}(T,τ) - σ_{ATM}^{mdl}(T,τ)|_{\sigma(t)}\]</div>
</div>
<p>where σ^mkt is market implied volatility and σ^mdl is model implied volatility.</p>
<p>The idea behind V-fit calibration is to capture the term structure of volatility. For example, if we have 2 ATM swaptions with same tenor but different expiry, say 1y10y and 10y10y, we can calibrate λ(t) to match both volatilities. In particular, if 1y10y vol is higher than 10y10y vol, we will get positive mean reversion.</p>
<ol class="arabic simple">
<li><p>V-fit</p></li>
</ol>
<p>In V-fit calibration, there are 2 types of calibration set:</p>
<ul class="simple">
<li><p>2 co-terminal swaptions at 2 different strikes, 1 caplet column. In this case all the 3 model curves σ(t), b(t), λ(t) are calibrated.</p></li>
<li><p>2 caplet columns at 2 different strikes, 1 co-terminal swaption. In this case all the 3 model curves σ(t), b(t), λ(t) are calibrated.</p></li>
</ul>
<ol class="arabic simple" start="3">
<li><p>Constant Expiry (CE)</p></li>
</ol>
<p>In CE calibration, we calibrate to a 0 skew CLV model using swaptions with same expiry but different tenors. We calibrate short rate volatility σ(t) and mean reversion λ(t).</p>
<p>Both calibration types rely on global optimization, where calibrated curves are best fit to market swaption and caplet prices. The approximation of swaption volatility/skew is used here.</p>
<p>Here the objective function of the optimization problem is the Vega-weighted sum of square differences between model and market prices of all the instruments in the calibration set, i.e.</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[objective\ function = \sum_i ATMBpVega_i\left(P^{model} - P^{market}\right)^2\]</div>
</div>
<p>where P^market denotes the market price which is calculated from the feeder model using Black formula (with the only exception when β = 0, in which case the market price is calculated using Bachelier), while P^model denotes the model price which is calculated using the above swaption vol/skew approximation.</p>
<p>As one can expect, we want to assign more weights to those instruments with larger Vega risk to reduce the overall discrepancy from the market resulting from calibration error. Here the Vega risk of each calibration instrument is calculated on the fly numerically using finite difference.</p>
<p>In production the optimization solver used is Levenberg-Marquardt, which is an industry standard for solving non-linear least squares problems, which arise especially in least squares curve fitting.</p>
</section>
<section id="advanced-calibration-techniques">
<h4>6.1.3. Advanced Calibration Techniques<a class="headerlink" href="#advanced-calibration-techniques" title="Link to this heading">#</a></h4>
<section id="technical-mean-reversion-tmr">
<h5>6.1.3.1. Technical Mean Reversion (TMR)<a class="headerlink" href="#technical-mean-reversion-tmr" title="Link to this heading">#</a></h5>
<p>It is noticed that skew will have an impact on swaption forward volatilities. Similar to mean reversion, increasing skew will increase swaption forward volatility, and we denote the forward volatility impact introduced by skew as “technical mean reversion” (TMR). Therefore the total skew impact can be broken down into 2 parts: terminal skew and TMR. In the model calibration, to control the forward vol impact from total skew impact, we introduce a new calibration technique - TMR calibration, which will be a two-stage process. The effectiveness of TMR calibration, in addition to the relationship between skew and forward volatility will be tested in section 8.2.1.</p>
<p>We will start by discussing three representations of forward volatility as possible TMR calibration instruments:</p>
<p>i. Correlation
ii. Forward Volatility
iii. Midcurve Volatility</p>
<p>We first introduce correlation. Assuming swap rate is shifted lognormal dynamics:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[ds_i(t) = σ_i(t)\left(1 + b_i\left(\frac{s_i(t)-s_{i0}}{s_{i0}}\right)\right)dw^A(t), \quad i = 1,2\]</div>
</div>
<p>Here we consider co-terminal swaps, in particular s₁ and s₂ have same end date but different start dates, such as 1Y into 19Y and 2Y into 18Y. For illustration, correlation of s₁ and s₂ is defined as below (usually s₁ and s₂ are either both normal or both shifted lognormal):</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\rho = \frac{\Gamma_{12}(T_1)}{\sqrt{\Gamma_{11}(T_1)\Gamma_{22}(T_2)}}\]</div>
</div>
<p>where:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}\Gamma_{ij}(T) = \begin{cases}
\int_0^T σ_i(u)σ_j(u)du, &amp; \text{if } b_i = b_j = 0 \\
\exp\left(\frac{b_ib_j}{s_{i0}s_{j0}}\int_0^T σ_i(u)σ_j(u)du\right)-1, &amp; \text{otherwise}
\end{cases}\end{split}\]</div>
</div>
<p>Notice that correlation directly depends on swaption forward volatility, i.e. σ₂(u) while T₁ &lt; u &lt; T₂ and this justifies the use of serial correlations of co-terminal swap rates as our TMR calibration instruments to represent forward volatility. Specifically, correlation targets are defined between pairs of consecutive co-terminal swaptions in calibration set. For example, if we calibrate to 20Y co-terminal expiry and we have calibrated swaptions ranging from 1Y into 19Y to 19Y into 1Y (the actual calibration set can be configured by user input), the correlation targets are calculated for each two “adjacent” swaptions in the calibration set.</p>
<p>The second approach is to use forward volatilities directly as our TMR calibration instruments. Clearly, forward volatilities follow same structure of correlation targets. For the above example, we compute forward volatility of 1Y1Y18Y, 2Y1Y17Y, etc., for TMR calibration. One caveat in using forward volatilities is that by construction, they have ‘shorter’ expiries (i.e. time between the expiries of two adjacent co-terminal swaptions) and hence their MinDelta/MaxDelta limits are triggered more often compared to co-terminal swaptions.</p>
<p>The final and more appealing alternative to the above two choices is to use midcurve volatilities as TMR calibration instruments, i.e. midcurve volatility of 1Y1Y18Y, 2Y1Y17Y, etc., in above structure. They have longer expiries compared to forward volatilities and therefore their MinDelta/MaxDelta limits are not triggered as often. The use of midcurve volatilities as TMR calibration instruments not only provides simplicity but also better stability compared to the other two alternatives. As a result, midcurve volatilities will be used in TMR calibration.</p>
<p>• TMR Stage 1
In stage 1, we first use Co-terminal or V-fit to calibrate a base CLV model and use it to calculate TMR midcurve volatility targets. In practice, instead of calibrating skew, we will input 0 fix skew (as a result, base model degenerates to HJM1). Specifically,</p>
<ul class="simple">
<li><p>Co-terminal: calibrate to short rate volatility only. For each expiry we have 1 swaption</p></li>
<li><p>V-fit: calibrate to both mean reversion and short rate volatility. For each expiry we have 1 caplet in column and 1 swaption in co-terminal</p></li>
</ul>
<p>We will use global optimization to calibrate the base CLV model, during which we will also get the shifted lognormal swap rate dynamics via approximation. We then compute TMR targets via computing the midcurve volatilities directly. The TMR targets will be used in stage 2 below. Note that we show two other alternatives as possible TMR calibration instruments above. In practice, we prefer to use midcurve volatility targets due to its simplicity and its clear advantage over other alternatives as explained above.</p>
<p>• TMR Stage 2
In stage 2, we will calibrate CLV model to market vol and skew, as well as the midcurve volatility targets we already calculated in stage 1. For each expiry we will have 2 swaptions in co-terminal (with user specifying different strikes), plus the mid-curve volatilities, we will then use global optimization to calibrate all three model curves (short rate volatility, skew and mean reversion) using below objective function:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[objective\ function = \sum_i ATMBpVega_i\left(P^{model} - P^{market}\right)^2 + \sum_j ATMBpVega_j\left(P^{model} - P^{market}\right)^2\]</div>
</div>
<p>where i ∈ {TMR instruments} and j ∈ {stage 2 instruments}</p>
<p>Note that we directly compute midcurve volatilities from volatility and skew term structure of swap rates during both TMR stages. In particular, recall we have below swaption vol/skew approximation:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[σ_T = \sqrt{\frac{1}{T}\int_0^T σ_s^2(t)dt}\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[b_T = \int_0^T b_s(t)w_s(t)dt, \text{ where weight function } w_s(t) = \frac{σ_s^2(t)\int_0^t σ_s^2(s)ds}{\int_0^T(σ_s^2(t)\int_0^t σ_s^2(s)ds)dt}\]</div>
</div>
<p>Similar to standard European swaption, we can use above averaging formula to imply the midcurve (or even forward vol) instrument’s flat volatility and skew from the model curves during calibration, namely:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[σ_T = \sqrt{\frac{1}{T_j-T_i}\int_{T_i}^{T_j} σ_s^2(t)dt}\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[b_T = \int_{T_i}^{T_j} b_s(t)w_s(t)dt\]</div>
</div>
<p>where weight function <span class="math notranslate nohighlight">\(w_s(t) = \frac{σ_s^2(t)\int_{T_i}^t σ_s^2(u)du}{\int_{T_i}^{T_j}(σ_s^2(t)\int_{T_i}^t σ_s^2(u)du)dt}\)</span> and</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[T_i = T_E, T_j = T_S \text{ for forward vol}\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[T_i = T_0, T_j = T_E \text{ for midcurves}\]</div>
</div>
<p>where T_E is option expiry, T_S is swap start, T_End is swap end.</p>
<p>In addition, the TMR instrument strike is user input (as model parameter) and currently set as ATM (i.e. forward rate of the same underlying), the TMR instrument weight used in global optimization is calculated as the Vega risk of the corresponding European swaption that has the same underlying as the TMR instrument.</p>
<p>As a final remark, even though we talk about calibration using ‘volatilities’ above, internally we perform the calibration using prices rather than implied volatilities. These two are actually equivalent (through Black-Scholes formula) once the problems like inverting volatilities etc. are ignored. So the choice between the two is purely due to stability reasons and thus we did not distinguish between the two cases in above discussion.</p>
<p>Another final remark is that during TMR stage, correlation/forward volatility/midcurve volatility targets are essentially equivalent and the choice to use which one as final TMR instrument targets is controlled by model parameter (currently by default we use midcurve volatility). Therefore in below sections we do not distinguish them and use correlation targets as the general representation of the TMR instrument targets.</p>
</section>
<section id="shifted-mean-reversion-smr">
<h5>6.1.3.2. Shifted Mean Reversion (SMR)<a class="headerlink" href="#shifted-mean-reversion-smr" title="Link to this heading">#</a></h5>
<p>The general practice of marking the mean-reversion (MR) curves is to choose some ‘average’ representative value, perform various V-fit calibrations with various setups to get an idea about MR level in the market, and finally setting a ‘rough’ MR level for Bermudan prices to make sense. This method is prone to several disadvantages, for example, the MR level is rarely adjusted and does not react properly to changes in the market. Another disadvantage is that the MR level is general for the whole market and thus is not trade-specific. So SMR is introduced: it first calibrates a MR curve in stage 1, applies a shift to it so that forward vol level is controlled, and uses the shifted MR curve as an input to the stage 2 calibration. This way, we can avoid the situation where an outdated or incorrect MR curve is used. Specifics of SMR are detailed below:</p>
<p>• SMR Stage 1
In stage 1 of SMR, we use V-fit to calibrate a base CLV model. Specifically, we use 0 fix skew, and use global optimization to calibrate to short rate volatilities and mean reversion. We will use the calibrated mean reversion curve and apply an external shift to it in order to control forward vol (The relationship between MR levels and forward volatilities will be tested in section 8.2.2). The shifted MR curve will then be used as an input into SMR stage 2. Note that the external shift does not have to be flat; it can have term structure. The level and term structure of the shift is determined by Front Office (FO) to yield reasonable Bermudan prices.</p>
<p>• SMR Stage 2
In stage 2 of SMR, we calibrate CLV model using the shifted MR curve from stage 1 fixed as input. We use Co-terminal calibration with 2 swaptions for each expiry in the co-terminal, and use global optimization to calibrate to market vol and skew.</p>
</section>
<section id="smr-tmr">
<h5>6.1.3.3. SMR + TMR<a class="headerlink" href="#smr-tmr" title="Link to this heading">#</a></h5>
<p>The goal of SMR is to calibrate CLV model with a more intuitive and meaningful mean reversion curve, thus SMR and TMR can be combined in which the shifted mean reversion curve from the calibrated CLV model in SMR stage 1 can be used as an input to TMR stage one. We detail the specific steps below.</p>
<p>• SMR + TMR Stage 1
This stage will be exactly the same as SMR Stage 1, during which we use V-fit to calibrate a 0-skew CLV model. The resulting MR curve will be shifted by an external amount.</p>
<p>• SMR + TMR Stage 2
This stage is same as TMR stage 1, but instead of having a choice of calibration style (V-fit if we calibrate both short-rate vol and MR, and Co-terminal if we only calibrate to short-rate vol), we can only use Co-terminal calibration because we want to use the shifted MR curve from previous stage as an input, i.e., we will use shifted MR curve as an input, fix skew at 0, and use Co-terminal calibration and global optimization calibrate to short rate vol. This calibrated CLV model is used to calculate midcurve volatility targets, which will then be used in stage 3.</p>
<p>• SMR + TMR Stage 3
This stage is the same as TMR stage 2: we calibrate all three curves (short rate vol, skew, and MR) in the CLV model. For each expiry, we will have 2 swaptions in co-terminal, as well as the mid-curve volatilities.</p>
</section>
</section>
<section id="calibration-strike-choice">
<h4>6.1.4. Calibration Strike Choice<a class="headerlink" href="#calibration-strike-choice" title="Link to this heading">#</a></h4>
<p>CLV has the flexibility to specify which strike the model is calibrated to, with two common choices being the “Trade Strike” (“Trade”) and Exercise Boundary (“EB”). To compute Trade Strike or Exercise Boundary, one needs to do a preliminary calibration (by default ATM 0 skew with the same original calibration type) and pricing. To be specific, once the preliminary model is calibrated we use it to construct the PDE grid and price the trade (as described in Section 5), and during pricing when going through each option exercise date, we search for the state variable x on the grid such that:</p>
<p>• Trade Strike: the remaining underlying swap is priced at 0</p>
<p>• Exercise Boundary: the remaining underlying swap has same value as remaining option value</p>
<p>and then with this state variable x we solve for the par rate of the market convention swap with the same date structure of the remaining underlying swap to be the trade strike/exercise boundary. Notice that for trade strike it is not uncommon that none of the points on the grid will price the remaining underlying swap exactly at 0, in which case we will search for two adjacent points on the grid such that the remaining underlying has different signs (as it is monotonic to the state variable), and then solve for the par rates of the market convention swap on these two adjacent points and linearly interpolate them to be the trade strike (as swap value is linearly monotonic with respective to par rate).</p>
<p>Intuitively, Trade Strike is effectively the “equivalent” fixed rate that corresponds to the strike on the vanilla swaption which will be used for hedging that particular exercise date (while we get this equivalency from the specific state which will price the market convention swap and original underlying at par at the same time). For example in Bermudan swaption, the trade strike will be almost identical to the fixed strike of the trade (hence the name “Trade Strike”) which is the most intuitive strike that we will use to hedge such trades. Exercise Boundary is useful in case that it provides the strike at which the holder of the option will decides to exercise the option.</p>
<p>Below we list some example choices of strike that we use in PDN:</p>
<p>• In Stage 1 of TMR calibration, per each expiry, calibration strike is “ATM” strike for swaptions and caplets (if applicable), which is the most liquid point traded on the market.
In Stage 2 of TMR calibration, per each expiry, we have two swaption strikes. One is “ATM”, the other one is “Trade”. For swaptions, using “Trade” ensures that pricing of European-style exercise is arbitrage-free. For caplets (if applicable), using “Trade” ensures that caplet strike is roughly same moneyness level as swaption strike, hence ensuring proper forward volatility behavior.</p>
<p>• For amortizers/accreters, we use the average of “Trade” and “EB”, i.e. “50%Trade+50%EB”. For these product types, the market is less liquid, so “ATM” level is less relevant for Bermudan trades with non-constant notionals compared to “Trade” or “EB”.</p>
<p>More details on this can be referred to below document [21].</p>
</section>
<section id="usage-of-calibration-types">
<h4>6.1.5. Usage of Calibration Types<a class="headerlink" href="#usage-of-calibration-types" title="Link to this heading">#</a></h4>
<p>In production default setting, we use SMR + TMR for bullet bermudan swaptions, Co-terminal for amortizers/accreters, and V-fit for CIF/CCFs.</p>
<p>• Bullet Bermudans
For Bermudan bullet swaptions, we want to calibrate mean reversion to reflect up-to-date market conditions, and we want to control forward volatility impact from skew. Therefore SMR + TMR is used.</p>
<p>[Previous content remains unchanged…]</p>
<p>Below are the calibration parameters used in CLV model:</p>
<ul class="simple">
<li><p>ATMStrike: strike for non-smile calibration, can be specified as a absolute strike number (e.g. 70%) or ‘ATM’</p></li>
<li><p>Smile: an integer specifying which tenor the smile calibration is applied to, possible values are 0, 1, 2. If value is 0, it means no smile calibration</p></li>
<li><p>SmileStart/SmileEnd: specified as either dates or tenors, determines the start and end dates of calibration instruments to include in smile calibration</p></li>
<li><p>SmileStrike1/SmileStrike2: similar to ATMStrike but used for smile calibration</p></li>
<li><p>IgnoredExpiries: a list of expiries of instruments to be excluded from the calibration set</p></li>
<li><p>Tenor1MinimumExpiry: specified as a tenor or date, this allows the user to specify a different starting point for instruments in the calibration set, used for V-fit only</p></li>
<li><p>TMRStart/TMREnd: specified as either dates or tenors, determines the start and end dates of calibration instruments to include in TMR calibration</p></li>
<li><p>z74CheyetteTMR: Boolean specifying whether to turn on TMR calibration or not</p></li>
<li><p>z75CheyetteTMRBaseStrike/z76CheyetteTMRBaseSkew: determines strike and skew used for TMR base calibration when z74CheyetteTMR = true. note that z76CheyetteTMRBaseSkew usually set to 0 for reasons described in Section 6.1.3.1, but can be set to other values as well</p></li>
<li><p>z74CheyetteTMRUseMidCurve: Boolean specifying whether to use midcurve swaptions or forward vols to calculate TMR targets</p></li>
<li><p>z04ShiftedMeanRevCalib: Boolean specifying whether to turn on SMR calibration or not</p></li>
</ul>
<p>For more details about CLV parameters, see [11].</p>
</section>
</section>
<section id="justification">
<h3>6.4. Justification<a class="headerlink" href="#justification" title="Link to this heading">#</a></h3>
<p>The idea behind CLV TMR calibration is to control the skew impact on swaption forward volatility, so that we can attribute the total impact into two parts - terminal skew and forward vol. To do that in stage 2 we reuse the same midcurve targets from stage 1. Furthermore, to do V-fit in stage 1 and incorporate midcurve targets in stage 2, we need to resort to global optimization in both stages’ calibration.</p>
<p>The goal of CLV SMR calibration is to use a market-meaningful mean reversion curve as an input, instead of the possibly stale MR curves marked by the Desk. The shift of the MR curve is introduced with the same goal as TMR, i.e., to bring down the forward vol levels.</p>
</section>
<section id="id7">
<h3>6.5. Quality Control<a class="headerlink" href="#id7" title="Link to this heading">#</a></h3>
<p>We always check the errors of model and market prices for each calibrated instrument and make sure errors are within certain tolerance. In addition we input a very low tolerance (default value 1bp) to the solver.</p>
<p>In case of it exceeds the tolerance, we will return certain exceptions in below form:</p>
<p>Fit exceeded tolerance [tolerance] abov for swaption with expiry [expiry] and tenor [tenor]</p>
<p>We will show results of successful calibrations area within the tolerance in Section 8.3.5.</p>
</section>
<section id="limitations-and-risk-assessment">
<h3>6.6. Limitations and Risk Assessment<a class="headerlink" href="#limitations-and-risk-assessment" title="Link to this heading">#</a></h3>
<p>Calibration failure can be a commonplace occurrence. One reason failure occurs is that the dynamics of the model becomes incongruent with dislocation in market volatility and skews. Consider Co-terminal calibration with 0 mean reversion curve and 2 calibration instruments. If market (annualized) normal volatilities are 80bps and 50bps for 1-year and 2-year options respectively, the model sigma curve simply cannot be positive unless sigma becomes negative between 1-year and 2-year. Another reason for failure comes from calibration instruments. For example, suppose we use 0 skew V-fit, where swaption strikes are set to be high above ATM and caplet strikes are ATM. High strike swaption volatilities are much higher than ATM caplet vols. This would cause the mean reversion curve to become negative and reduce sigma to level close to 0. Finally, consider V-fit where we calibrate to 2 swaption strikes high above ATM, and ATM caplets. The positioning of the 2 swaption strikes can result in large positive skew. This would imply quite low volatilities for ATM caplet, potentially causing calibration failure.</p>
<p>In general, when calibration fails, errors are thrown and users are alerted to the presence of failure. The model is not designed to failure silently. QA team will investigate and propose remediation to calibration parameters to solve calibration error. After which MO will run impact and FO will review and approve.</p>
</section>
</section>
<section id="risk-calculated-by-the-model-payoff">
<h2>7. Risk (Calculated by the model/payoff)<a class="headerlink" href="#risk-calculated-by-the-model-payoff" title="Link to this heading">#</a></h2>
<p>We first introduce the methodology of external/internal risk that we briefly mentioned in 4.1.3.</p>
<p>External risk is straightforward:</p>
<ol class="arabic simple">
<li><p>calibrate base model and price base PV</p></li>
<li><p>directly bump market data, recalibrate bumped model and price bumped PV</p></li>
<li><p>difference base PV and bumped PV</p></li>
</ol>
<p>However, the external risk has some issues such as possible recalibration failure and unstable risk due to bump of market data. Therefore we develop a new risking methodology - internal risk, where we only do one base calibration. Further details can be referred in below document [22].</p>
</section>
<section id="id8">
<h2>7.1. Description<a class="headerlink" href="#id8" title="Link to this heading">#</a></h2>
<section id="volatility-sensitivity">
<h3>7.1.1. Volatility Sensitivity<a class="headerlink" href="#volatility-sensitivity" title="Link to this heading">#</a></h3>
<p>We will show how the internal alpha risk is calculated. For illustration, we assume the final model curves have <span class="math notranslate nohighlight">\(2N + M\)</span> points in total: volatility and skew curves have <span class="math notranslate nohighlight">\(N\)</span> points respectively, mean reversion curve has <span class="math notranslate nohighlight">\(M\)</span> points. In another word we have <span class="math notranslate nohighlight">\(2N\)</span> swaptions in co-terminal (<span class="math notranslate nohighlight">\(N\)</span> expiries, each expiry has two strikes) and <span class="math notranslate nohighlight">\(M\)</span> caplets in column (<span class="math notranslate nohighlight">\(M\)</span> expiries) in our V-fit calibration set. It is clear that <span class="math notranslate nohighlight">\(M \geq 0\)</span>, <span class="math notranslate nohighlight">\(N \geq 0\)</span>.</p>
<p>Let us use the following notations,</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(T\)</span>: trade</p></li>
<li><p><span class="math notranslate nohighlight">\(V_1^1, V_2^1,\cdots , V_{N+M}^1\)</span>: calibration instrument price in stage 1, including <span class="math notranslate nohighlight">\(N\)</span> swaptions and <span class="math notranslate nohighlight">\(M\)</span> caplets</p></li>
<li><p><span class="math notranslate nohighlight">\(p_1^1, p_2^1,\cdots , p_{N+M}^1\)</span>: volatility and mean reversion curves in stage 1</p></li>
<li><p><span class="math notranslate nohighlight">\(\rho_1, \rho_2,\cdots , \rho_M\)</span>: correlation targets (same number of points as mean reversion)</p></li>
<li><p><span class="math notranslate nohighlight">\(V_1^2, V_2^2,\cdots , V_{2N}^2\)</span>: calibration instrument price in stage 2, including <span class="math notranslate nohighlight">\(2N\)</span> swaptions</p></li>
<li><p><span class="math notranslate nohighlight">\(p_1^2, p_2^2,\cdots , p_{2N+M}^2\)</span>: volatility, skew and mean reversion curves in stage 2 (final model curves)</p></li>
</ul>
<p>Note here for illustration purpose we use correlation targets to represent the TMR targets, in reality these will be whatever we choose to use as the TMR instrument targets. This is used in all below risk descriptions.</p>
<p>In stage 1, we calculate the sensitivity of correlation targets to a bump of alpha in SABR surface:</p>
<div class="math-wrapper docutils container" id="equation-7-1">
<div class="math notranslate nohighlight" id="equation-7-1">
<span class="eqno">(4)<a class="headerlink" href="#equation-7-1" title="Link to this equation">#</a></span>\[\frac{\partial\rho_k}{\partial\alpha} = \sum_{j=1}^{N+M}\sum_{i=1}^{N+M}\frac{\partial\rho_k}{\partial p_j^1}\frac{\partial V_i^1}{\partial\alpha}, \quad k = 1,2,\cdots,M\]</div>
</div>
<p>In a matrix form, this becomes:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\frac{\partial\rho_k}{\partial\alpha} = T_\rho^1J_{base}^{-1}V_\alpha^1\]</div>
</div>
<p>where</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(T_\rho^1\)</span> is the sensitivity of correlation targets to the volatility and mean reversion curves in stage 1, it is an <span class="math notranslate nohighlight">\(1 \times (N + M)\)</span> vector with</p></li>
</ul>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[(T_\rho^1)_j = \frac{\partial\rho_k}{\partial p_j^1}\]</div>
</div>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(J_{base}\)</span> is the Jacobian matrix of sensitivity of the calibration set in stage 1 to above two curves, it is an <span class="math notranslate nohighlight">\((N + M) \times (N + M)\)</span> square matrix with</p></li>
</ul>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[(J_{base})_{ij} = \frac{\partial V_i^1}{\partial p_j^1}\]</div>
</div>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(V_\alpha^1\)</span> is the matrix of Vegas for each above calibration instrument in stage 1, it is an <span class="math notranslate nohighlight">\(1 \times (N + M)\)</span> vector with</p></li>
</ul>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[(V_\alpha^1)_j = \frac{\partial V_j^1}{\partial\alpha}\]</div>
</div>
<p>In stage 2, we use above sensitivity of correlation targets to calculate the sensitivity of trade to alpha:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\frac{\partial T}{\partial\alpha} = \sum_{j=1}^{2N+M}\left[\frac{\partial T}{\partial p_j^2}\left(\sum_{i=1}^{2N}\frac{\partial p_j^2}{\partial V_i^2}\frac{\partial V_i^2}{\partial\alpha} + \sum_{i=1}^M\frac{\partial p_j^2}{\partial\rho_i}\frac{\partial\rho_i}{\partial\alpha}\right)\right]\]</div>
</div>
<p>Essentially we can treat each correlation target as an additional calibration instrument in stage 2.</p>
<p>Just as stage 1, in a matrix form, this becomes:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[Vega = T_p^2J_{final}^{-1}V_\alpha^2\]</div>
</div>
<p>where</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(T_p^2\)</span> is the sensitivity of the trade to the model curves in stage 2, it is an <span class="math notranslate nohighlight">\(1 \times (2N + M)\)</span> vector with</p></li>
</ul>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[(T_p^2)_j = \frac{\partial T}{\partial p_j^2}\]</div>
</div>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(J_{final}\)</span> the Jacobian matrix of sensitivity of the calibration set in stage 2 plus the correlation targets, it is an <span class="math notranslate nohighlight">\((2N + M) \times (2N + M)\)</span> square matrix with</p></li>
</ul>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}(J_{final})_{ij} = \begin{cases}
\frac{\partial p_i^2}{\partial V_j^2} &amp; \text{for } j = 1,2,\cdots,2N \\
\frac{\partial p_i^2}{\partial\rho_{j-2N}} &amp; \text{for } j = 2N+1, 2N+2,\cdots,2N+M
\end{cases}\end{split}\]</div>
</div>
<ul class="simple">
<li><p>and <span class="math notranslate nohighlight">\(V_\alpha^2\)</span> is the Vega for calibration instrument in stage 2 plus the correlation sensitivity to alpha from stage 1, it is a <span class="math notranslate nohighlight">\((2N + M) \times 1\)</span> matrix with</p></li>
</ul>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}(V_\alpha^2)_j = \begin{cases}
\partial V_j^2/\partial\alpha &amp; \text{for } j = 1,2,\cdots,2N \\
\partial\rho_{j-2N}/\partial\alpha &amp; \text{for } j = 2N+1,\cdots,2N+M
\end{cases}\end{split}\]</div>
</div>
<p>In both stages, matrix inversion is achieved by singular value decomposition, with exception thrown when the inversion fails. In particular, if the base calibration succeeds, the Jacobian matrix will always be invertible from the fact that the inverted Jacobian is required during the base calibration. This gives internal risk the merit that the risk calculation will always be successful as long as the base calibration succeeds.</p>
<p>As a result, we only need one base calibration, and calculate numerical derivatives by directly bumping model curves, with multiple times pricing performed. This way internal alpha risk is completed.</p>
<p>Note that the numerical bumping for model curves is usually done by above additive difference, with the bump size specified by the parameters described in below section 7.2.</p>
<p>Other internal SABR risks can be calculated in the similar way as above.</p>
<p>The internal ATM Vega risk can be computed by the alpha risk scaled by certain conversion factors, more specifically the ATM Vega is computed as alpha risk scaled by <span class="math notranslate nohighlight">\((d\text{ATMVol}/d\text{Alpha})^{-1}\)</span>, i.e.,</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\frac{dPV}{d\sigma_{ATM}} = \frac{dPV}{d\alpha}\frac{d\alpha}{d\sigma_{ATM}} = \frac{dPV}{d\alpha}/\frac{d\sigma_{ATM}}{d\alpha}\]</div>
</div>
<p>Here <span class="math notranslate nohighlight">\(\frac{d\sigma_{ATM}}{d\alpha}\)</span> is calculated numerically by bumping alpha and revaluating/differencing ATM vol (ATM normal vol in the case of calculating ATM bp Vega) between the base and the bumped levels of alpha.</p>
</section>
<section id="curve-sensitivity">
<h3>7.1.2. Curve Sensitivity<a class="headerlink" href="#curve-sensitivity" title="Link to this heading">#</a></h3>
<p>It is more complicated for internal delta, as correlation targets and trade themselves are priced with the curve whereas in previous section they do not depend on SABR (only the calibration does).</p>
<p>After some corrections, for internal delta we have the following matrix forms:</p>
<p>In stage 1,</p>
<p>Delta of kth correl target = <span class="math notranslate nohighlight">\(T_\rho^1J_{base}^{-1}(V_c^1 - X) + \frac{\partial\rho_k}{\partial C}\)</span>, where <span class="math notranslate nohighlight">\(X_{ij} = \frac{\partial V_i^1(p^1,C)}{\partial C_j}\)</span> (7.2)</p>
<p>In stage 2,</p>
<div class="math-wrapper docutils container" id="equation-7-3">
<div class="math notranslate nohighlight" id="equation-7-3">
<span class="eqno">(5)<a class="headerlink" href="#equation-7-3" title="Link to this equation">#</a></span>\[Delta = T_p^2J_{final}^{-1}(V_c^2 - Y) + \frac{\partial T}{\partial C}\]</div>
</div>
<p>where</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}Y_{ij} = \begin{cases}
\frac{\partial V_i^2(p^2,C)}{\partial C_j} &amp; \text{for } i = 1,\cdots,2N \\
\frac{\partial\rho_{i-2N}}{\partial C_j} &amp; \text{for } i = 2N+1,\cdots,2N+M
\end{cases}\end{split}\]</div>
</div>
<p>Here X and Y are the corresponding matrices of the sensitivities of calibration instruments/correlation targets to the curve and priced with the CLV model at each stage. They have the same dimension as <span class="math notranslate nohighlight">\(V_c^1\)</span> and <span class="math notranslate nohighlight">\(V_c^2\)</span> respectively.</p>
<p>Note that</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(T_\rho^1\)</span>, <span class="math notranslate nohighlight">\(T_p^2\)</span>, <span class="math notranslate nohighlight">\(J_{base}\)</span>, <span class="math notranslate nohighlight">\(J_{final}\)</span> are the same as mentioned in Section 7.1.1</p></li>
<li><p><span class="math notranslate nohighlight">\(V_c^1\)</span>, <span class="math notranslate nohighlight">\(V_c^2\)</span> are the Deltas for calibration instruments in stage 1 and 2 respectively. Recall that calibration instruments are <span class="math notranslate nohighlight">\(N\)</span> swaptions and <span class="math notranslate nohighlight">\(M\)</span> caplets in stage 1, and <span class="math notranslate nohighlight">\(2N\)</span> swaptions and <span class="math notranslate nohighlight">\(M\)</span> correlation targets in stage 2.</p></li>
</ul>
<p>These two formulas have a similar format, and they can be explained quite intuitively as below:</p>
<p>Reusing the same notations above we can write the trade price <span class="math notranslate nohighlight">\(T\)</span> as a function of yield curve <span class="math notranslate nohighlight">\(C\)</span> and model curve <span class="math notranslate nohighlight">\(P\)</span>, while model curve is calibrated from the yield curve and calibration instruments <span class="math notranslate nohighlight">\(V\)</span> which further depends on the yield curve and SABR, as a result we can write <span class="math notranslate nohighlight">\(T\)</span> and its derivative to <span class="math notranslate nohighlight">\(C\)</span> as below:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[T = T(C,P(C,V(C,\text{Sabr})))\]</div>
</div>
<div class="math-wrapper docutils container" id="equation-7-4">
<div class="math notranslate nohighlight" id="equation-7-4">
<span class="eqno">(6)<a class="headerlink" href="#equation-7-4" title="Link to this equation">#</a></span>\[\Rightarrow \frac{dT}{dC} = \frac{\partial T}{\partial C} + \frac{\partial T}{\partial P}\left(\frac{\partial P}{\partial C} + \frac{\partial P}{\partial V}\frac{dV}{dC}\right)\]</div>
</div>
<p>Additionally, we can write the same for the calibration instruments <span class="math notranslate nohighlight">\(V\)</span>, as well as its derivative to <span class="math notranslate nohighlight">\(V\)</span> and <span class="math notranslate nohighlight">\(C\)</span>:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[V = V(C,P(C,V(C,\text{Sabr}))), \quad 1 = \frac{dV}{dV} = \frac{\partial V}{\partial P}\frac{\partial P}{\partial V} \Rightarrow \frac{\partial P}{\partial V} = \left(\frac{\partial V}{\partial P}\right)^{-1}\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\Rightarrow \frac{dV}{dC} = \frac{\partial V}{\partial C} + \frac{\partial V}{\partial P}\left(\frac{\partial P}{\partial C} + \frac{\partial P}{\partial V}\frac{dV}{dC}\right) \Rightarrow 0 = \frac{\partial V}{\partial C} + \frac{\partial V}{\partial P}\frac{\partial P}{\partial C} - \frac{dV}{dC} = \frac{\partial V}{\partial C} + \frac{\partial V}{\partial P}\frac{\partial P}{\partial C} - \frac{dV}{dC}\]</div>
</div>
<p>Therefore replacing <span class="math notranslate nohighlight">\(\frac{\partial P}{\partial C}\)</span> term in (7.4), we get</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\frac{dT}{dC} = \frac{\partial T}{\partial C} + \frac{\partial T}{\partial P}\left(\frac{\partial V}{\partial P}\right)^{-1}\left(\frac{dV}{dC} - \frac{\partial V}{\partial C}\right)\]</div>
</div>
<p>which is essentially the same as in (7.2) and (7.3) shown above. This way internal Delta is completed.</p>
<p>The Gamma risk is usually calculated by differencing Deltas under different curve shift levels. In particular we perform calibration and calculate Deltas under two different curve shift levels respectively, one in shifted up level while the other in shifted down level, then do numerical difference of the two Deltas and divide by the shift size difference to calculate the Gamma.</p>
</section>
<section id="mean-reversion-sensitivity-co-terminal-calibration-only">
<h3>7.1.3. Mean Reversion Sensitivity (Co-terminal Calibration Only)<a class="headerlink" href="#mean-reversion-sensitivity-co-terminal-calibration-only" title="Link to this heading">#</a></h3>
<p>When using Co-terminal calibration we will input external mean reversion curve marked by traders for calibration and pricing, therefore we can also calculate internal risk for mean reversion.</p>
<p>Using the same notations as in section 7.1.1:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(T\)</span>: trade</p></li>
<li><p><span class="math notranslate nohighlight">\(V_1^1, V_2^1,\cdots, V_N^1\)</span>: calibration instrument price in stage 1, including <span class="math notranslate nohighlight">\(N\)</span> swaptions</p></li>
<li><p><span class="math notranslate nohighlight">\(p_1^1, p_2^1,\cdots, p_N^1\)</span>: volatility curve in stage 1</p></li>
<li><p><span class="math notranslate nohighlight">\(q_1, q_2,\cdots, q_M\)</span>: mean reversion input</p></li>
<li><p><span class="math notranslate nohighlight">\(\rho_1, \rho_2,\cdots, \rho_M\)</span>: correlation targets (same number of points as mean reversion)</p></li>
<li><p><span class="math notranslate nohighlight">\(V_1^2, V_2^2,\cdots, V_{2N}^2\)</span>: calibration instrument price in stage 2, including <span class="math notranslate nohighlight">\(2N\)</span> swaptions</p></li>
<li><p><span class="math notranslate nohighlight">\(p_1^2, p_2^2,\cdots, p_{2N+M}^2\)</span>: volatility, skew and mean reversion curves in stage 2 (final model curves)</p></li>
</ul>
<p>In stage 1,</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\frac{\partial\rho}{\partial q} = \frac{\partial\rho}{\partial p^1}\left.\times\frac{\partial p^1}{\partial q}\right|_q + \left.\frac{\partial\rho}{\partial q}\right|_{p^1}\]</div>
</div>
<p>In stage 2,</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\frac{\partial T}{\partial q} = \frac{\partial T}{\partial p^2}\left(\frac{\partial p}{\partial p^2}\right)^{-1}\frac{\partial\rho}{\partial q}\]</div>
</div>
<p>Note that the instrument prices in both stages are calculated directly from SABR and thus have no sensitivity to mean reversion input. The only tricky thing here is the sensitivity of volatility to mean reversion input in the 1st stage <span class="math notranslate nohighlight">\(\frac{\partial p^1}{\partial q}\)</span>, which can be implied from the below fact:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\frac{\partial V^1}{\partial q} = \left.\frac{\partial V^1}{\partial p^1}\right|_q\times\frac{\partial q}{\partial q} + \left.\frac{\partial V^1}{\partial q}\right|_{p^1} = 0 \Rightarrow \frac{\partial p^1}{\partial q} = -\left(\left.\frac{\partial V^1}{\partial p^1}\right|_q\right)^{-1}\left.\frac{\partial V^1}{\partial q}\right|_{p^1}\]</div>
</div>
<p>Here <span class="math notranslate nohighlight">\(V^1\)</span> is the instrument price in the first stage, <span class="math notranslate nohighlight">\(\left.\frac{\partial p^1}{\partial p^1}\right|_q\)</span> and <span class="math notranslate nohighlight">\(\left.\frac{\partial V^1}{\partial q}\right|_{p^1}\)</span> are the corresponding sensitivities priced using CLV models in the 1st stage. From there we can compute the sensitivity of correlation target to mean reversion input in 1st stage, and further the sensitivity of the final exotic price to mean reversion input.</p>
</section>
<section id="additional-comments">
<h3>7.1.4. Additional Comments<a class="headerlink" href="#additional-comments" title="Link to this heading">#</a></h3>
<p>In above calculations, we use chain rule to calculate the sensitivity of model curves to different parameters. For example, in equation (7.1),</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\frac{\partial p_j^1}{\partial\alpha} = \frac{\partial p_j^1}{\partial V_i^1}\frac{\partial V_i^1}{\partial\alpha}\]</div>
</div>
<p>One thing to notice is that the first term on the RHS <span class="math notranslate nohighlight">\(\frac{\partial p_j^1}{\partial V_i^1}\)</span> is the sensitivity of model curve to calibration instrument, <span class="math notranslate nohighlight">\(V_i^1\)</span> here is the model price of calibration instrument. The second term <span class="math notranslate nohighlight">\(\frac{\partial V_i^1}{\partial\alpha}\)</span> on the other hand, is the Vega of the calibration instrument and <span class="math notranslate nohighlight">\(V_i^1\)</span> here is its market price. Here we are making an implicit assumption that the model price and the market price of the calibration instruments behave similarly, so that we can use chain rule in these calculations.</p>
<p>Under the degenerated case where no TMR calibration is done, the internal risk computation is calculated similarly with only stage 1 being performed. The calculation of each respective risk can be expressed in the same corresponding equation in stage 1 above by replacing the correlation target <span class="math notranslate nohighlight">\(\rho\)</span> with the trade <span class="math notranslate nohighlight">\(T\)</span>.</p>
<p>A final remark is that the internal risk framework as described above supports both the grid style risk and the parallel style risk, and the grid style risk is used in PDN.</p>
</section>
</section>
<section id="id9">
<h2>7.2. Inputs<a class="headerlink" href="#id9" title="Link to this heading">#</a></h2>
<p>We need to input the bump size(s) to calculate the numerical derivatives. The inputs are:</p>
<p>With respect to the actual risk query (Delta, Vega, etc),</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>CalculateBy</p></td>
<td><p>risk type (Model for internal, Numerical for external)</p></td>
<td><p>Model</p></td>
</tr>
<tr class="row-odd"><td><p>BumpSize</p></td>
<td><p>bump size of market data</p></td>
<td><p>0.0001</p></td>
</tr>
<tr class="row-even"><td><p>BumpStyle</p></td>
<td><p>how to use BumpSize, e.g. additive/multiplicative</p></td>
<td><p>Additive</p></td>
</tr>
<tr class="row-odd"><td><p>Differencing</p></td>
<td><p>how to evaluate numerical difference</p></td>
<td><p>Central</p></td>
</tr>
<tr class="row-even"><td><p>BumpType</p></td>
<td><p>how to apply bumping, e.g PointByPoint/AllPoints</p></td>
<td><p>PointByPoint</p></td>
</tr>
</tbody>
</table>
</div>
<p>These are used to bump the market curves (yield curve, SABR surface) and calculate the corresponding sensitivities. Notice that “CalculateBy” is set to “Model” for internal risk, and “Numerical” for external risk.</p>
<p>With respect to CLV model curves,</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>z40InternalRiskBumpType</p></td>
<td><p>how to evaluate numerical difference</p></td>
<td><p>Above</p></td>
</tr>
<tr class="row-odd"><td><p>z81InternalRiskCheyRateVolBumpSize</p></td>
<td><p>bump size of vol curve</p></td>
<td><p>1.00E-06</p></td>
</tr>
<tr class="row-even"><td><p>z81InternalRiskCheyRateSkewBumpSize</p></td>
<td><p>bump size of skew curve</p></td>
<td><p>0.0001</p></td>
</tr>
<tr class="row-odd"><td><p>z85InternalRiskCheyRateMRBumpSize</p></td>
<td><p>bump size of mean reversion curve</p></td>
<td><p>0.0001</p></td>
</tr>
</tbody>
</table>
</div>
<p>These are used to bump the CLV model curves and calculate the corresponding sensitivities.</p>
<p>The recommended Values are chosen, especially those of BumpSize and Differencing, to ensure that the Jacobian matrix is numerically meaningful and robust.</p>
</section>
<section id="id10">
<h2>7.3. Limitations and Risk Assessment<a class="headerlink" href="#id10" title="Link to this heading">#</a></h2>
<p>As long as base calibration is successful, internal risks will always succeed.</p>
</section>
<section id="numerical-scheme-summary">
<h2>7.4. Numerical Scheme Summary<a class="headerlink" href="#numerical-scheme-summary" title="Link to this heading">#</a></h2>
<p>For better illustration, below we summarize all numeric schemes used in previous three sections (5, 6, 7) and present them in a single list together with references to the detailed descriptions:</p>
<ul class="simple">
<li><p>Generic PDE Solver/Alternating Direction Implicit scheme, for further details refer to [19]</p></li>
<li><p>Finite Differencing Method, for further details refer to [20]</p></li>
<li><p>Rannacher Scheme/Payoff Smoothing, for further details refer to [18] &amp; [12]</p></li>
<li><p>Levenberg Marquardt, for further details refer to [23]</p></li>
<li><p>Singular Value Decomposition, for further details refer to [13]</p></li>
</ul>
</section>
<section id="tests-outcome-analyses-performed-on-payoff-model-portfolio">
<h2>8. Tests &amp; Outcome Analyses performed on Payoff / Model / Portfolio<a class="headerlink" href="#tests-outcome-analyses-performed-on-payoff-model-portfolio" title="Link to this heading">#</a></h2>
<section id="scenario-and-stress-testing">
<h3>8.1. Scenario and Stress-Testing<a class="headerlink" href="#scenario-and-stress-testing" title="Link to this heading">#</a></h3>
<section id="ccar-comprehensive-capital-analysis-and-review-testing">
<h4>8.1.1. CCAR (Comprehensive Capital Analysis and Review) Testing<a class="headerlink" href="#ccar-comprehensive-capital-analysis-and-review-testing" title="Link to this heading">#</a></h4>
<p>Federal Reserve’s annual Comprehensive Capital Analysis and Review (CCAR) is an intensive assessment of the capital adequacy of large, complex U.S. bank holding companies (BHCs), and of the practices these BHCs use to assess their capital needs. The Federal Reserve expects these BHCs to have sufficient capital to withstand a severely adverse operating environment and continue to be able to lend to households and businesses, continue operations, maintain ready access to funding, and meet obligations to creditors and counterparties. The BHCs with significant trading operations are required to include the global market shock as part of their calculations of post-stress capital under the supervisory adverse and severely adverse scenarios. The global market shock is a component of the stress test designed specially to assess potential losses stemming from trading books, private equity positions, and counterparty exposures. The firms subject to the global market shock must apply the shock as of a specified point in time, which will result in instantaneous losses and a reduction in capital. These losses and related capital impact will be included in projections for the first quarter of the planning horizon.</p>
<p>Without loss of generality we pick 2017 CCAR global market shock adverse / severe adverse scenarios to stress our CLV model and produce stressed PV for the relevant portfolios, and furthermore use the corresponding risk metrics to validate the stressed PnL, to demonstrate:</p>
<ul class="simple">
<li><p>CLV model can adapt to a certain (high) degree of stressed scenario and produce PV without failures.</p></li>
<li><p>CLV model can accurately model the underlying dynamics and consistently project corresponding risk factors onto the market input so that PnL under various scenarios can be well explained, which is a key factor for risk management.</p></li>
</ul>
<p>In particular, during the testing,</p>
<ul class="simple">
<li><p>Stress is applied under both adverse and severe adverse scenarios. The stressed scenario is applied on the market input (more specifically, in the context of CLV, curve and volatility surface) to produce the corresponding stressed model output (i.e. PV)</p></li>
<li><p>Trade population are then all Barclays IHC’s trades priced on CLV model (i.e. Berm and CIF/CCF)</p></li>
<li><p>The exact market valuation date and market shock are defined on the Fed’s website [4]</p></li>
</ul>
<p>Below are the testing results:</p>
</section>
</section>
</section>
<section id="ccap-year-2017-data">
<h2>CCAP Year 2017 Data<a class="headerlink" href="#ccap-year-2017-data" title="Link to this heading">#</a></h2>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Scenario</p></th>
<th class="head"><p>Adverse</p></th>
<th class="head"><p>Adverse</p></th>
<th class="head"><p>Severe/Adverse</p></th>
<th class="head"><p>Severe/Adverse</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>PnL</p></td>
<td><p>25,950</p></td>
<td><p>280,867</p></td>
<td><p>(38,523)</p></td>
<td><p>(123,894)</p></td>
</tr>
<tr class="row-odd"><td><p>Delta</p></td>
<td><p>1,949</p></td>
<td><p>30,236</p></td>
<td><p>(32,329)</p></td>
<td><p>(147,609)</p></td>
</tr>
<tr class="row-even"><td><p>Gamma</p></td>
<td><p>47</p></td>
<td><p>13,855</p></td>
<td><p>(909)</p></td>
<td><p>(5,327)</p></td>
</tr>
<tr class="row-odd"><td><p>Vega</p></td>
<td><p>23,101</p></td>
<td><p>267,334</p></td>
<td><p>(5,814)</p></td>
<td><p>(5,314)</p></td>
</tr>
<tr class="row-even"><td><p>Volga/Skew Rate</p></td>
<td><p>412</p></td>
<td><p>(1,764)</p></td>
<td><p>29</p></td>
<td><p>(13,550)</p></td>
</tr>
<tr class="row-odd"><td><p>Volkomma</p></td>
<td><p>(621)</p></td>
<td><p>(10,913)</p></td>
<td><p>(37)</p></td>
<td><p>(902)</p></td>
</tr>
<tr class="row-even"><td><p>Risk Explain</p></td>
<td><p>24,887</p></td>
<td><p>284,810</p></td>
<td><p>(38,553)</p></td>
<td><p>(223,335)</p></td>
</tr>
<tr class="row-odd"><td><p>Unexplain (absolute)</p></td>
<td><p>(337)</p></td>
<td><p>(3,213)</p></td>
<td><p>30</p></td>
<td><p>(233)</p></td>
</tr>
<tr class="row-even"><td><p>Unexplain (relative)</p></td>
<td><p>-1.3%</p></td>
<td><p>-1.1%</p></td>
<td><p>-0.08%</p></td>
<td><p>0.10%</p></td>
</tr>
</tbody>
</table>
</div>
<p>Some conclusions on the testing results:</p>
<ul class="simple">
<li><p>We are able to produce stressed PV for all available trades on the respective valuation dates during each run, proving that CLV does not fail under various stressed scenarios and will work successfully.</p></li>
<li><p>We are able to get a relatively good PnL explain to justify the stressed PV impact. From our point of view, the most important merit of a good model is the ability to justify the PV change with certain degree of accuracy by the corresponding risk metrics and the market move. In most case the model is used to price interest rate exotic payoff which doesn’t have an exact “correct” price, hence rather than the absolute PV (or the PV impact between two different scenarios) given by the model, we are more interested in how to use the model to explain this PV impact with its corresponding risk factors, or in another word, how to use the model to appropriately risk manage the payoff. Therefore we think the fact that the PV impact is explained quite accurately under different stressed scenarios is a good benchmark to demonstrate the CLV model is working well.</p></li>
</ul>
<p>In addition, during each scenario testing, we also apply the incremental shocks by taking the original market shock and applying 0%, 25%, 50%, 75% and 100% in respective of the original shocks and produce stressed PnL as well as the corresponding PnL explain. Results below:</p>
<p><img alt="Figure 4.1: Two graphs showing 2017 Adverse and Severe Adverse scenarios with incremental shocks" src="../../_images/51.png" />
<strong>Figure 4.1:</strong> Two graphs showing 2017 Adverse and Severe Adverse</p>
<p>These plots show that:</p>
<ul class="simple">
<li><p>The stressed PnL is evolving stably and consistently with the incremental market shocks</p></li>
<li><p>The stressed PnL under both final and each intermediate stressed scenarios are explained quite well</p></li>
</ul>
<p>This shows that CLV is working well under various scenario testing.</p>
<p>As a final remark, in production we also run PnL explain everyday and generate reports for booking and risk management purposes. The trading desk and risk managers will routinely and continuously monitor the PnL produced by the model. For example, if the PnL has a very significant unexplain this may suggest the model is failing or not calibrated well to reflect the current market. Given we only capture up to 2nd order risks, we consider a relative unexplain less than 5% and/or an absolute unexplain less than 5000 to be a fairly good PnL explain and base on which we can feel confident the model is performing well and pricing/risking the payoff as expected. Usually the day to day market move in reality would not be as severe as the market shocks specified in the CCAR scenarios, therefore above results, which explain the PnL quite well under the severer-than-reality scenarios, further demonstrate that in reality CLV model has the ability to adapt to the stressed market conditions and perform with good quality.</p>
<p>Details of the testing results can be found here:
\NYKDWM475778\Shared\CLV\TestResults\CCARTesting.xls</p>
<p>These testing can be set up with updated scenarios and scheduled to run automatically in the future.</p>
<section id="sensitivity-testing">
<h3>8.1.2. Sensitivity Testing<a class="headerlink" href="#sensitivity-testing" title="Link to this heading">#</a></h3>
<p>The purpose of sensitivity testing is to test the PV/Risk sensitivity to incremental changes of market data as well as model inputs. In the CLV model pricing, the most impactful market variables are rates and volatility. Therefore, we apply different parallel bumping sizes to each market data and observe if PV has any unstable performance. In addition, we also test for mean reversion sensitivity which can be an input if the user specifies it.</p>
<p>Below testing results are on all Barclays IHC Bermudan/CIF trades available on date 01/05/2017, which is the date for non-GMS bank CCAR submission.</p>
<section id="curve-bumping">
<h4>8.1.2.1. Curve Bumping<a class="headerlink" href="#curve-bumping" title="Link to this heading">#</a></h4>
<p>We parallel bump the curve using following bump sizes: 0, ±0.5%, ±1%, -1.5%, +2%, +3%, +4%, +5%, +6%, +7%, +8%, +9%, +10%; the absolute value of the size is large enough to be close to the averaged curve bump size in GMS severely adverse scenario to make the scenario qualified as a stressed one. Below are the results: the first is a plot of PV/risks at an aggregate portfolio level of the two different trade types under various bumped scenarios; the second are trade-level details of the results.</p>
<p><img alt="Figure 8.1: Graphs showing Rate Sensitivity for DXCIF and DXSBERM with corresponding data tables" src="../../_images/61.png" />
<strong>Figure 8.1:</strong> Graphs showing Rate Sensitivity for DXCIF and DXSBERM with corresponding data tables</p>
<p>From above plot, we can see that across different bump sizes at an aggregate portfolio level, PV/Risk changes in a quite smooth way without big oscillations.</p>
<p>All trades have underlying swap that receives structured leg, i.e. receive fix and pay floating, plus short the option right to cancel the underlying swap. The receiver swap has a Delta of -1, while the option has a Delta with magnitude &lt; 1. So we can see from above table that all Deltas are negative. With negative Deltas, PV decreases as rate increases, which is also what we expected since as rate increases, receiver swaption decreases in value, while longing the option worth more. Also note that all Vega values are negative, and this is because we are shorting the option. At trade-level, we can see CLV model is performing as expected for both PV and risks. In addition, it also shows no instabilities across different parallel curve bump values.</p>
</section>
<section id="volatility-bumping">
<h4>8.1.2.2. Volatility Bumping<a class="headerlink" href="#volatility-bumping" title="Link to this heading">#</a></h4>
<p>We parallel bump the ATM normal vol using following bump sizes: 0, ±5 bps, ±10 bps, ±15 bps, ±20 bps, -25 bps, +30 bps, +40 bps, +50 bps; reason same as the above.</p>
<p>Below we show the plots of the PV/risk at an aggregate portfolio for Barclays IHC Bermudans/CIFs, and also the trade-by-trade level results.</p>
</section>
</section>
<section id="copfv-data-tables">
<h3>COPFV Data Tables<a class="headerlink" href="#copfv-data-tables" title="Link to this heading">#</a></h3>
<section id="table-1-copfv">
<h4>Table 1: COPFV<a class="headerlink" href="#table-1-copfv" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Scenario/Shock</p></th>
<th class="head"><p>MoneyLoss</p></th>
<th class="head"><p>EURUSD</p></th>
<th class="head"><p>USDJPY</p></th>
<th class="head"><p>Scenario/Shock</p></th>
<th class="head"><p>MoneyLoss</p></th>
<th class="head"><p>EURUSD</p></th>
<th class="head"><p>USDJPY</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>-10.0%</p></td>
<td><p>35</p></td>
<td><p>(5,563)</p></td>
<td><p>(37,233)</p></td>
<td><p>6,757</p></td>
<td><p>14,602</p></td>
<td><p>7,351</p></td>
<td><p>14,651</p></td>
</tr>
<tr class="row-odd"><td><p>-5.0%</p></td>
<td><p>19</p></td>
<td><p>(2,788)</p></td>
<td><p>(4,465)</p></td>
<td><p>3,429</p></td>
<td><p>9,438</p></td>
<td><p>(4,045)</p></td>
<td><p>10,008</p></td>
</tr>
<tr class="row-even"><td><p>-2.0%</p></td>
<td><p>9</p></td>
<td><p>(1,118)</p></td>
<td><p>(4,809)</p></td>
<td><p>1,426</p></td>
<td><p>3,890</p></td>
<td><p>(1,618)</p></td>
<td><p>4,063</p></td>
</tr>
<tr class="row-odd"><td><p>0.0%</p></td>
<td><p>(1,363)</p></td>
<td><p>(139,436)</p></td>
<td><p>(41,603)</p></td>
<td><p>(32,714)</p></td>
<td><p>(6,511)</p></td>
<td><p>(56,348)</p></td>
<td><p>(164,331)</p></td>
</tr>
<tr class="row-even"><td><p>0.5%</p></td>
<td><p>(1,533)</p></td>
<td><p>(157,338)</p></td>
<td><p>(82,830)</p></td>
<td><p>(36,797)</p></td>
<td><p>(7,335)</p></td>
<td><p>(63,580)</p></td>
<td><p>(185,474)</p></td>
</tr>
<tr class="row-odd"><td><p>1.0%</p></td>
<td><p>(1,703)</p></td>
<td><p>(175,240)</p></td>
<td><p>(124,057)</p></td>
<td><p>(40,881)</p></td>
<td><p>(8,160)</p></td>
<td><p>(70,815)</p></td>
<td><p>(206,618)</p></td>
</tr>
<tr class="row-even"><td><p>2.0%</p></td>
<td><p>(6,814)</p></td>
<td><p>(693,778)</p></td>
<td><p>(196,385)</p></td>
<td><p>(65,059)</p></td>
<td><p>(64,778)</p></td>
<td><p>(131,598)</p></td>
<td><p>(847,302)</p></td>
</tr>
<tr class="row-odd"><td><p>3.0%</p></td>
<td><p>(12,293)</p></td>
<td><p>(517,215)</p></td>
<td><p>(375,923)</p></td>
<td><p>(293,170)</p></td>
<td><p>(154,736)</p></td>
<td><p>(197,682)</p></td>
<td><p>(1,262,405)</p></td>
</tr>
<tr class="row-even"><td><p>4.0%</p></td>
<td><p>(16,455)</p></td>
<td><p>(677,323)</p></td>
<td><p>(502,461)</p></td>
<td><p>(392,038)</p></td>
<td><p>(207,040)</p></td>
<td><p>(264,577)</p></td>
<td><p>(1,689,887)</p></td>
</tr>
<tr class="row-odd"><td><p>5.0%</p></td>
<td><p>(24,003)</p></td>
<td><p>(987,630)</p></td>
<td><p>(734,921)</p></td>
<td><p>(574,373)</p></td>
<td><p>(302,610)</p></td>
<td><p>(386,252)</p></td>
<td><p>(2,466,641)</p></td>
</tr>
<tr class="row-even"><td><p>6.0%</p></td>
<td><p>(24,210)</p></td>
<td><p>(1,296,346)</p></td>
<td><p>(774,924)</p></td>
<td><p>(578,789)</p></td>
<td><p>(344,139)</p></td>
<td><p>(389,347)</p></td>
<td><p>(2,489,941)</p></td>
</tr>
<tr class="row-odd"><td><p>8.0%</p></td>
<td><p>(37,937)</p></td>
<td><p>(1,547,267)</p></td>
<td><p>(1,213,343)</p></td>
<td><p>(903,371)</p></td>
<td><p>(456,410)</p></td>
<td><p>(603,630)</p></td>
<td><p>(3,411,225)</p></td>
</tr>
<tr class="row-even"><td><p>9.0%</p></td>
<td><p>(50,214)</p></td>
<td><p>(2,047,093)</p></td>
<td><p>(1,607,273)</p></td>
<td><p>(1,196,713)</p></td>
<td><p>(604,354)</p></td>
<td><p>(799,330)</p></td>
<td><p>(4,514,738)</p></td>
</tr>
<tr class="row-odd"><td><p>10.0%</p></td>
<td><p>(62,491)</p></td>
<td><p>(2,546,919)</p></td>
<td><p>(2,001,204)</p></td>
<td><p>(1,490,055)</p></td>
<td><p>(752,297)</p></td>
<td><p>(995,029)</p></td>
<td><p>(5,618,252)</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="table-2-delta">
<h4>Table 2: Delta<a class="headerlink" href="#table-2-delta" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Scenario/Shock</p></th>
<th class="head"><p>MoneyLoss</p></th>
<th class="head"><p>EURUSD</p></th>
<th class="head"><p>USDJPY</p></th>
<th class="head"><p>Scenario/Shock</p></th>
<th class="head"><p>MoneyLoss</p></th>
<th class="head"><p>EURUSD</p></th>
<th class="head"><p>USDJPY</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>-10.0%</p></td>
<td><p>(3)</p></td>
<td><p>(325)</p></td>
<td><p>(772)</p></td>
<td><p>(154)</p></td>
<td><p>(84)</p></td>
<td><p>(122)</p></td>
<td><p>(265)</p></td>
</tr>
<tr class="row-odd"><td><p>-5.0%</p></td>
<td><p>(2)</p></td>
<td><p>(162)</p></td>
<td><p>(193)</p></td>
<td><p>(77)</p></td>
<td><p>(42)</p></td>
<td><p>(61)</p></td>
<td><p>(133)</p></td>
</tr>
<tr class="row-even"><td><p>-2.0%</p></td>
<td><p>(1)</p></td>
<td><p>(65)</p></td>
<td><p>(123)</p></td>
<td><p>(31)</p></td>
<td><p>(17)</p></td>
<td><p>(24)</p></td>
<td><p>(58)</p></td>
</tr>
<tr class="row-odd"><td><p>0.0%</p></td>
<td><p>(36)</p></td>
<td><p>(1,570)</p></td>
<td><p>(448)</p></td>
<td><p>(349)</p></td>
<td><p>(240)</p></td>
<td><p>(451)</p></td>
<td><p>(1,470)</p></td>
</tr>
<tr class="row-even"><td><p>0.5%</p></td>
<td><p>(41)</p></td>
<td><p>(1,763)</p></td>
<td><p>(504)</p></td>
<td><p>(393)</p></td>
<td><p>(270)</p></td>
<td><p>(506)</p></td>
<td><p>(1,650)</p></td>
</tr>
<tr class="row-odd"><td><p>1.0%</p></td>
<td><p>(45)</p></td>
<td><p>(1,956)</p></td>
<td><p>(560)</p></td>
<td><p>(437)</p></td>
<td><p>(300)</p></td>
<td><p>(562)</p></td>
<td><p>(1,830)</p></td>
</tr>
<tr class="row-even"><td><p>2.0%</p></td>
<td><p>(96)</p></td>
<td><p>(3,870)</p></td>
<td><p>(448)</p></td>
<td><p>(864)</p></td>
<td><p>(612)</p></td>
<td><p>(688)</p></td>
<td><p>(4,965)</p></td>
</tr>
<tr class="row-odd"><td><p>3.0%</p></td>
<td><p>(97)</p></td>
<td><p>(2,761)</p></td>
<td><p>(896)</p></td>
<td><p>(1,735)</p></td>
<td><p>(923)</p></td>
<td><p>(1,026)</p></td>
<td><p>(6,723)</p></td>
</tr>
<tr class="row-even"><td><p>4.0%</p></td>
<td><p>(98)</p></td>
<td><p>(3,614)</p></td>
<td><p>(1,194)</p></td>
<td><p>(2,319)</p></td>
<td><p>(1,247)</p></td>
<td><p>(1,366)</p></td>
<td><p>(9,011)</p></td>
</tr>
<tr class="row-odd"><td><p>5.0%</p></td>
<td><p>(99)</p></td>
<td><p>(5,174)</p></td>
<td><p>(1,743)</p></td>
<td><p>(3,373)</p></td>
<td><p>(1,807)</p></td>
<td><p>(1,988)</p></td>
<td><p>(13,107)</p></td>
</tr>
<tr class="row-even"><td><p>6.0%</p></td>
<td><p>(99)</p></td>
<td><p>(6,787)</p></td>
<td><p>(1,834)</p></td>
<td><p>(3,400)</p></td>
<td><p>(2,051)</p></td>
<td><p>(2,004)</p></td>
<td><p>(13,220)</p></td>
</tr>
<tr class="row-odd"><td><p>8.0%</p></td>
<td><p>(99)</p></td>
<td><p>(8,091)</p></td>
<td><p>(2,878)</p></td>
<td><p>(5,329)</p></td>
<td><p>(2,722)</p></td>
<td><p>(3,104)</p></td>
<td><p>(17,894)</p></td>
</tr>
<tr class="row-even"><td><p>9.0%</p></td>
<td><p>(99)</p></td>
<td><p>(10,714)</p></td>
<td><p>(3,812)</p></td>
<td><p>(7,052)</p></td>
<td><p>(3,604)</p></td>
<td><p>(4,109)</p></td>
<td><p>(23,697)</p></td>
</tr>
<tr class="row-odd"><td><p>10.0%</p></td>
<td><p>(99)</p></td>
<td><p>(13,337)</p></td>
<td><p>(4,745)</p></td>
<td><p>(8,775)</p></td>
<td><p>(4,485)</p></td>
<td><p>(5,115)</p></td>
<td><p>(29,501)</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="table-3-vega">
<h4>Table 3: Vega<a class="headerlink" href="#table-3-vega" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Scenario/Shock</p></th>
<th class="head"><p>MoneyLoss</p></th>
<th class="head"><p>EURUSD</p></th>
<th class="head"><p>USDJPY</p></th>
<th class="head"><p>Scenario/Shock</p></th>
<th class="head"><p>MoneyLoss</p></th>
<th class="head"><p>EURUSD</p></th>
<th class="head"><p>USDJPY</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>-10.0%</p></td>
<td><p>(9)</p></td>
<td><p>(841)</p></td>
<td><p>(368)</p></td>
<td><p>(575)</p></td>
<td><p>(349)</p></td>
<td><p>(622)</p></td>
<td><p>(1,095)</p></td>
</tr>
<tr class="row-odd"><td><p>-5.0%</p></td>
<td><p>(4)</p></td>
<td><p>(420)</p></td>
<td><p>(184)</p></td>
<td><p>(287)</p></td>
<td><p>(175)</p></td>
<td><p>(311)</p></td>
<td><p>(547)</p></td>
</tr>
<tr class="row-even"><td><p>-2.0%</p></td>
<td><p>(2)</p></td>
<td><p>(168)</p></td>
<td><p>(92)</p></td>
<td><p>(115)</p></td>
<td><p>(70)</p></td>
<td><p>(124)</p></td>
<td><p>(219)</p></td>
</tr>
<tr class="row-odd"><td><p>0.0%</p></td>
<td><p>(12)</p></td>
<td><p>(862)</p></td>
<td><p>(315)</p></td>
<td><p>(194)</p></td>
<td><p>(334)</p></td>
<td><p>(309)</p></td>
<td><p>(1,239)</p></td>
</tr>
<tr class="row-even"><td><p>0.5%</p></td>
<td><p>(14)</p></td>
<td><p>(969)</p></td>
<td><p>(354)</p></td>
<td><p>(219)</p></td>
<td><p>(375)</p></td>
<td><p>(348)</p></td>
<td><p>(1,394)</p></td>
</tr>
<tr class="row-odd"><td><p>1.0%</p></td>
<td><p>(15)</p></td>
<td><p>(1,076)</p></td>
<td><p>(424)</p></td>
<td><p>(243)</p></td>
<td><p>(417)</p></td>
<td><p>(386)</p></td>
<td><p>(1,549)</p></td>
</tr>
<tr class="row-even"><td><p>2.0%</p></td>
<td><p>(0)</p></td>
<td><p>(840)</p></td>
<td><p>(76)</p></td>
<td><p>(44)</p></td>
<td><p>(577)</p></td>
<td><p>(375)</p></td>
<td><p>(2,790)</p></td>
</tr>
<tr class="row-odd"><td><p>3.0%</p></td>
<td><p>(0)</p></td>
<td><p>(615)</p></td>
<td><p>(76)</p></td>
<td><p>(49)</p></td>
<td><p>(61)</p></td>
<td><p>(359)</p></td>
<td><p>(719)</p></td>
</tr>
<tr class="row-even"><td><p>4.0%</p></td>
<td><p>(0)</p></td>
<td><p>(805)</p></td>
<td><p>(1)</p></td>
<td><p>(0)</p></td>
<td><p>(33)</p></td>
<td><p>(183)</p></td>
<td><p>(513)</p></td>
</tr>
<tr class="row-odd"><td><p>5.0%</p></td>
<td><p>(0)</p></td>
<td><p>(414)</p></td>
<td><p>(26)</p></td>
<td><p>(0)</p></td>
<td><p>(31)</p></td>
<td><p>(136)</p></td>
<td><p>(747)</p></td>
</tr>
<tr class="row-even"><td><p>6.0%</p></td>
<td><p>0</p></td>
<td><p>(348)</p></td>
<td><p>14</p></td>
<td><p>(0)</p></td>
<td><p>(31)</p></td>
<td><p>(25)</p></td>
<td><p>(49)</p></td>
</tr>
<tr class="row-odd"><td><p>8.0%</p></td>
<td><p>0</p></td>
<td><p>(41)</p></td>
<td><p>19</p></td>
<td><p>(0)</p></td>
<td><p>(0)</p></td>
<td><p>(25)</p></td>
<td><p>(45)</p></td>
</tr>
<tr class="row-even"><td><p>9.0%</p></td>
<td><p>0</p></td>
<td><p>(41)</p></td>
<td><p>19</p></td>
<td><p>(0)</p></td>
<td><p>(0)</p></td>
<td><p>(25)</p></td>
<td><p>(45)</p></td>
</tr>
<tr class="row-odd"><td><p>10.0%</p></td>
<td><p>0</p></td>
<td><p>(41)</p></td>
<td><p>19</p></td>
<td><p>(0)</p></td>
<td><p>(0)</p></td>
<td><p>(25)</p></td>
<td><p>(45)</p></td>
</tr>
</tbody>
</table>
</div>
<p><img alt="Figure 8.1: Graphs showing Rate Sensitivity for DXCIF and DXSBERM with corresponding data tables" src="../../_images/71.png" />
<strong>Figure 8.1:</strong> Vole Sensitivity for DXCIF and DXSBERM</p>
</section>
</section>
<section id="copfv-data-tables-additional-scenarios">
<h3>COPFV Data Tables - Additional Scenarios<a class="headerlink" href="#copfv-data-tables-additional-scenarios" title="Link to this heading">#</a></h3>
<section id="id11">
<h4>Table 1: COPFV<a class="headerlink" href="#id11" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Scenario/Shock</p></th>
<th class="head"><p>MoneyLoss</p></th>
<th class="head"><p>EURUSD</p></th>
<th class="head"><p>USDJPY</p></th>
<th class="head"><p>Scenario/Shock</p></th>
<th class="head"><p>MoneyLoss</p></th>
<th class="head"><p>EURUSD</p></th>
<th class="head"><p>USDJPY</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>-20 bps</p></td>
<td><p>(2,043)</p></td>
<td><p>(213,158)</p></td>
<td><p>(56,951)</p></td>
<td><p>(47,934)</p></td>
<td><p>(9,544)</p></td>
<td><p>(82,798)</p></td>
<td><p>(242,252)</p></td>
</tr>
<tr class="row-odd"><td><p>-15 bps</p></td>
<td><p>(1,873)</p></td>
<td><p>(195,256)</p></td>
<td><p>(52,868)</p></td>
<td><p>(43,850)</p></td>
<td><p>(8,719)</p></td>
<td><p>(75,564)</p></td>
<td><p>(221,108)</p></td>
</tr>
<tr class="row-even"><td><p>-10 bps</p></td>
<td><p>(1,703)</p></td>
<td><p>(177,355)</p></td>
<td><p>(48,784)</p></td>
<td><p>(39,766)</p></td>
<td><p>(7,894)</p></td>
<td><p>(68,331)</p></td>
<td><p>(199,965)</p></td>
</tr>
<tr class="row-odd"><td><p>-5 bps</p></td>
<td><p>(1,533)</p></td>
<td><p>(158,443)</p></td>
<td><p>(44,701)</p></td>
<td><p>(35,683)</p></td>
<td><p>(7,070)</p></td>
<td><p>(61,098)</p></td>
<td><p>(178,821)</p></td>
</tr>
<tr class="row-even"><td><p>0 bps</p></td>
<td><p>(1,363)</p></td>
<td><p>(141,541)</p></td>
<td><p>(41,351)</p></td>
<td><p>(32,714)</p></td>
<td><p>(6,511)</p></td>
<td><p>(56,348)</p></td>
<td><p>(164,331)</p></td>
</tr>
<tr class="row-odd"><td><p>5 bps</p></td>
<td><p>(1,320)</p></td>
<td><p>(143,499)</p></td>
<td><p>(48,601)</p></td>
<td><p>(33,456)</p></td>
<td><p>(6,819)</p></td>
<td><p>(57,350)</p></td>
<td><p>(201,521)</p></td>
</tr>
<tr class="row-even"><td><p>10 bps</p></td>
<td><p>(1,361)</p></td>
<td><p>(147,339)</p></td>
<td><p>(67,642)</p></td>
<td><p>(35,014)</p></td>
<td><p>(7,244)</p></td>
<td><p>(59,516)</p></td>
<td><p>(208,883)</p></td>
</tr>
<tr class="row-odd"><td><p>15 bps</p></td>
<td><p>(1,405)</p></td>
<td><p>(151,409)</p></td>
<td><p>(86,683)</p></td>
<td><p>(36,573)</p></td>
<td><p>(7,670)</p></td>
<td><p>(61,681)</p></td>
<td><p>(216,245)</p></td>
</tr>
<tr class="row-even"><td><p>20 bps</p></td>
<td><p>(1,448)</p></td>
<td><p>(155,196)</p></td>
<td><p>(91,441)</p></td>
<td><p>(38,044)</p></td>
<td><p>(14,839)</p></td>
<td><p>(63,928)</p></td>
<td><p>(213,023)</p></td>
</tr>
<tr class="row-odd"><td><p>25 bps</p></td>
<td><p>(1,490)</p></td>
<td><p>(158,982)</p></td>
<td><p>(96,198)</p></td>
<td><p>(39,516)</p></td>
<td><p>(22,008)</p></td>
<td><p>(66,176)</p></td>
<td><p>(209,801)</p></td>
</tr>
<tr class="row-even"><td><p>30 bps</p></td>
<td><p>(1,529)</p></td>
<td><p>(162,543)</p></td>
<td><p>(100,805)</p></td>
<td><p>(40,905)</p></td>
<td><p>(29,009)</p></td>
<td><p>(68,324)</p></td>
<td><p>(206,451)</p></td>
</tr>
<tr class="row-odd"><td><p>35 bps</p></td>
<td><p>(1,567)</p></td>
<td><p>(166,104)</p></td>
<td><p>(105,412)</p></td>
<td><p>(42,294)</p></td>
<td><p>(36,010)</p></td>
<td><p>(70,471)</p></td>
<td><p>(203,101)</p></td>
</tr>
<tr class="row-even"><td><p>40 bps</p></td>
<td><p>(1,701)</p></td>
<td><p>(184,796)</p></td>
<td><p>(125,029)</p></td>
<td><p>(50,025)</p></td>
<td><p>(25,628)</p></td>
<td><p>(77,836)</p></td>
<td><p>(213,901)</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id12">
<h4>Table 2: Delta<a class="headerlink" href="#id12" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Scenario/Shock</p></th>
<th class="head"><p>MoneyLoss</p></th>
<th class="head"><p>EURUSD</p></th>
<th class="head"><p>USDJPY</p></th>
<th class="head"><p>Scenario/Shock</p></th>
<th class="head"><p>MoneyLoss</p></th>
<th class="head"><p>EURUSD</p></th>
<th class="head"><p>USDJPY</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>-20 bps</p></td>
<td><p>(55)</p></td>
<td><p>(2,512)</p></td>
<td><p>(659)</p></td>
<td><p>(551)</p></td>
<td><p>(384)</p></td>
<td><p>(721)</p></td>
<td><p>(2,350)</p></td>
</tr>
<tr class="row-odd"><td><p>-15 bps</p></td>
<td><p>(50)</p></td>
<td><p>(2,198)</p></td>
<td><p>(603)</p></td>
<td><p>(482)</p></td>
<td><p>(336)</p></td>
<td><p>(631)</p></td>
<td><p>(2,056)</p></td>
</tr>
<tr class="row-even"><td><p>-10 bps</p></td>
<td><p>(45)</p></td>
<td><p>(1,884)</p></td>
<td><p>(547)</p></td>
<td><p>(413)</p></td>
<td><p>(288)</p></td>
<td><p>(541)</p></td>
<td><p>(1,762)</p></td>
</tr>
<tr class="row-odd"><td><p>-5 bps</p></td>
<td><p>(41)</p></td>
<td><p>(1,570)</p></td>
<td><p>(448)</p></td>
<td><p>(345)</p></td>
<td><p>(240)</p></td>
<td><p>(451)</p></td>
<td><p>(1,468)</p></td>
</tr>
<tr class="row-even"><td><p>0 bps</p></td>
<td><p>(36)</p></td>
<td><p>(1,570)</p></td>
<td><p>(448)</p></td>
<td><p>(345)</p></td>
<td><p>(240)</p></td>
<td><p>(451)</p></td>
<td><p>(1,468)</p></td>
</tr>
<tr class="row-odd"><td><p>5 bps</p></td>
<td><p>(36)</p></td>
<td><p>(1,570)</p></td>
<td><p>(448)</p></td>
<td><p>(349)</p></td>
<td><p>(240)</p></td>
<td><p>(451)</p></td>
<td><p>(1,470)</p></td>
</tr>
<tr class="row-even"><td><p>10 bps</p></td>
<td><p>(38)</p></td>
<td><p>(1,614)</p></td>
<td><p>(462)</p></td>
<td><p>(358)</p></td>
<td><p>(246)</p></td>
<td><p>(464)</p></td>
<td><p>(1,510)</p></td>
</tr>
<tr class="row-odd"><td><p>15 bps</p></td>
<td><p>(39)</p></td>
<td><p>(1,659)</p></td>
<td><p>(476)</p></td>
<td><p>(368)</p></td>
<td><p>(253)</p></td>
<td><p>(476)</p></td>
<td><p>(1,550)</p></td>
</tr>
<tr class="row-even"><td><p>20 bps</p></td>
<td><p>(40)</p></td>
<td><p>(1,703)</p></td>
<td><p>(490)</p></td>
<td><p>(377)</p></td>
<td><p>(260)</p></td>
<td><p>(488)</p></td>
<td><p>(1,590)</p></td>
</tr>
<tr class="row-odd"><td><p>25 bps</p></td>
<td><p>(41)</p></td>
<td><p>(1,747)</p></td>
<td><p>(504)</p></td>
<td><p>(387)</p></td>
<td><p>(266)</p></td>
<td><p>(501)</p></td>
<td><p>(1,630)</p></td>
</tr>
<tr class="row-even"><td><p>30 bps</p></td>
<td><p>(41)</p></td>
<td><p>(1,791)</p></td>
<td><p>(509)</p></td>
<td><p>(396)</p></td>
<td><p>(272)</p></td>
<td><p>(513)</p></td>
<td><p>(1,670)</p></td>
</tr>
<tr class="row-odd"><td><p>35 bps</p></td>
<td><p>(42)</p></td>
<td><p>(1,835)</p></td>
<td><p>(514)</p></td>
<td><p>(406)</p></td>
<td><p>(279)</p></td>
<td><p>(526)</p></td>
<td><p>(1,710)</p></td>
</tr>
<tr class="row-even"><td><p>40 bps</p></td>
<td><p>(42)</p></td>
<td><p>(1,879)</p></td>
<td><p>(528)</p></td>
<td><p>(415)</p></td>
<td><p>(286)</p></td>
<td><p>(538)</p></td>
<td><p>(1,750)</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id13">
<h4>Table 3: Vega<a class="headerlink" href="#id13" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Scenario/Shock</p></th>
<th class="head"><p>MoneyLoss</p></th>
<th class="head"><p>EURUSD</p></th>
<th class="head"><p>USDJPY</p></th>
<th class="head"><p>Scenario/Shock</p></th>
<th class="head"><p>MoneyLoss</p></th>
<th class="head"><p>EURUSD</p></th>
<th class="head"><p>USDJPY</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>-20 bps</p></td>
<td><p>(18)</p></td>
<td><p>(1,377)</p></td>
<td><p>(473)</p></td>
<td><p>(310)</p></td>
<td><p>(535)</p></td>
<td><p>(495)</p></td>
<td><p>(1,983)</p></td>
</tr>
<tr class="row-odd"><td><p>-15 bps</p></td>
<td><p>(16)</p></td>
<td><p>(1,204)</p></td>
<td><p>(414)</p></td>
<td><p>(271)</p></td>
<td><p>(468)</p></td>
<td><p>(433)</p></td>
<td><p>(1,735)</p></td>
</tr>
<tr class="row-even"><td><p>-10 bps</p></td>
<td><p>(14)</p></td>
<td><p>(1,031)</p></td>
<td><p>(368)</p></td>
<td><p>(233)</p></td>
<td><p>(401)</p></td>
<td><p>(371)</p></td>
<td><p>(1,487)</p></td>
</tr>
<tr class="row-odd"><td><p>-5 bps</p></td>
<td><p>(13)</p></td>
<td><p>(947)</p></td>
<td><p>(346)</p></td>
<td><p>(214)</p></td>
<td><p>(367)</p></td>
<td><p>(340)</p></td>
<td><p>(1,363)</p></td>
</tr>
<tr class="row-even"><td><p>0 bps</p></td>
<td><p>(12)</p></td>
<td><p>(862)</p></td>
<td><p>(315)</p></td>
<td><p>(194)</p></td>
<td><p>(334)</p></td>
<td><p>(309)</p></td>
<td><p>(1,239)</p></td>
</tr>
<tr class="row-odd"><td><p>5 bps</p></td>
<td><p>(13)</p></td>
<td><p>(911)</p></td>
<td><p>(368)</p></td>
<td><p>(219)</p></td>
<td><p>(334)</p></td>
<td><p>(347)</p></td>
<td><p>(1,369)</p></td>
</tr>
<tr class="row-even"><td><p>10 bps</p></td>
<td><p>(13)</p></td>
<td><p>(911)</p></td>
<td><p>(368)</p></td>
<td><p>(219)</p></td>
<td><p>(334)</p></td>
<td><p>(347)</p></td>
<td><p>(1,369)</p></td>
</tr>
<tr class="row-odd"><td><p>15 bps</p></td>
<td><p>(13)</p></td>
<td><p>(911)</p></td>
<td><p>(368)</p></td>
<td><p>(219)</p></td>
<td><p>(334)</p></td>
<td><p>(347)</p></td>
<td><p>(1,369)</p></td>
</tr>
<tr class="row-even"><td><p>20 bps</p></td>
<td><p>(13)</p></td>
<td><p>(644)</p></td>
<td><p>(266)</p></td>
<td><p>(446)</p></td>
<td><p>(425)</p></td>
<td><p>(431)</p></td>
<td><p>(1,349)</p></td>
</tr>
<tr class="row-odd"><td><p>25 bps</p></td>
<td><p>(13)</p></td>
<td><p>(644)</p></td>
<td><p>(372)</p></td>
<td><p>(446)</p></td>
<td><p>(425)</p></td>
<td><p>(431)</p></td>
<td><p>(1,350)</p></td>
</tr>
<tr class="row-even"><td><p>30 bps</p></td>
<td><p>(13)</p></td>
<td><p>(644)</p></td>
<td><p>(372)</p></td>
<td><p>(446)</p></td>
<td><p>(425)</p></td>
<td><p>(431)</p></td>
<td><p>(1,350)</p></td>
</tr>
<tr class="row-odd"><td><p>35 bps</p></td>
<td><p>(13)</p></td>
<td><p>(644)</p></td>
<td><p>(372)</p></td>
<td><p>(446)</p></td>
<td><p>(425)</p></td>
<td><p>(431)</p></td>
<td><p>(1,350)</p></td>
</tr>
<tr class="row-even"><td><p>40 bps</p></td>
<td><p>(13)</p></td>
<td><p>(644)</p></td>
<td><p>(502)</p></td>
<td><p>(706)</p></td>
<td><p>(642)</p></td>
<td><p>(646)</p></td>
<td><p>(1,307)</p></td>
</tr>
</tbody>
</table>
</div>
<p>We can see from above results that similar to the results of rate sensitivity, the PV/Risks for CIFs and Bermudans appear smooth and exhibit no obvious oscillations. PV decreases monotonically as volatility increases, which corroborates our negative Vegas in the previous section. Intuitively, the absolute value of the option is positively correlated with volatility; but since we are shorting the option, our PV will decrease with increasing volatility level. At individual trade level, CLV model performs as expected and also shows stability across different volatility levels.</p>
</section>
<section id="curve-volatility-bumping">
<h4>8.1.2.3. Curve + Volatility Bumping<a class="headerlink" href="#curve-volatility-bumping" title="Link to this heading">#</a></h4>
<p>For this testing we apply a curve and vol bump simultaneously, and see how the PV and risks changes. Using market date 01/05/2017, we use curve bump sizes 0, ±50 bps, ±100 bps, and vol bump sizes 0, ±10 bps, ±20 bps. Below are surface plots for PV, Delta and Vega at various rate + vol bump scenarios at an aggregate portfolio level, we can see that PV and risks behaves smoothly across different values. Specific trade by trade details are also displayed in the table below the plots.</p>
<p><img alt="Figure 8.2: Graphs showing Rate Sensitivity for DXCIF and DXSBERM with corresponding data tables" src="../../_images/81.png" />
<strong>Figure 8.2:</strong> 3D surface plots showing CCYPV, BUDeltaNormalConstraint, and PSABRATMBPVega with corresponding data tables</p>
</section>
</section>
<section id="copfv-volatility-scaling-data">
<h3>COPFV Volatility Scaling Data<a class="headerlink" href="#copfv-volatility-scaling-data" title="Link to this heading">#</a></h3>
<p><em>Note: Value numbers are Trailing Stressing in bps, volatility numbers are spot Trailing in bps.</em></p>
<section id="copfv">
<h4>COPFV<a class="headerlink" href="#copfv" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Maturity/Strike</p></th>
<th class="head"><p>-100</p></th>
<th class="head"><p>-50</p></th>
<th class="head"><p>0</p></th>
<th class="head"><p>50</p></th>
<th class="head"><p>100</p></th>
<th class="head"><p>Maturity/Strike</p></th>
<th class="head"><p>-100</p></th>
<th class="head"><p>-50</p></th>
<th class="head"><p>0</p></th>
<th class="head"><p>50</p></th>
<th class="head"><p>100</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>01/07 1 mth</strong></p></td>
<td><p>92</p></td>
<td><p>81</p></td>
<td><p>68</p></td>
<td><p>46</p></td>
<td><p>22</p></td>
<td><p><strong>01/07 1M ATM</strong></p></td>
<td><p>(71)</p></td>
<td><p>(590)</p></td>
<td><p>(1,800)</p></td>
<td><p>(2,706)</p></td>
<td><p>(3,490)</p></td>
</tr>
<tr class="row-odd"><td><p>-100</p></td>
<td><p>58</p></td>
<td><p>52</p></td>
<td><p>39</p></td>
<td><p>25</p></td>
<td><p>13</p></td>
<td><p>-100</p></td>
<td><p>(45)</p></td>
<td><p>(172)</p></td>
<td><p>(15,663)</p></td>
<td><p>(24,202)</p></td>
<td><p>(13,394)</p></td>
</tr>
<tr class="row-even"><td><p>0</p></td>
<td><p>(0.4)</p></td>
<td><p>(0.4)</p></td>
<td><p>(0.5)</p></td>
<td><p>(0.6)</p></td>
<td><p>(0.6)</p></td>
<td><p>0</p></td>
<td><p>(54,211)</p></td>
<td><p>(60,780)</p></td>
<td><p>(65,337)</p></td>
<td><p>(65,911)</p></td>
<td><p>(60,464)</p></td>
</tr>
<tr class="row-odd"><td><p>100</p></td>
<td><p>(0,408)</p></td>
<td><p>(3,917)</p></td>
<td><p>(3,661)</p></td>
<td><p>(3,615)</p></td>
<td><p>(3,605)</p></td>
<td><p>100</p></td>
<td><p>(6,368)</p></td>
<td><p>(31,757)</p></td>
<td><p>(56,057)</p></td>
<td><p>(80,296)</p></td>
<td><p>(93,118)</p></td>
</tr>
<tr class="row-even"><td><p><strong>01/07 3 mth</strong></p></td>
<td><p>24,199</p></td>
<td><p>20,693</p></td>
<td><p>17,230</p></td>
<td><p>13,978</p></td>
<td><p>10,479</p></td>
<td><p><strong>01/07 3M ATM</strong></p></td>
<td><p>12,989</p></td>
<td><p>9,726</p></td>
<td><p>6,426</p></td>
<td><p>120</p></td>
<td><p>(6,081)</p></td>
</tr>
<tr class="row-odd"><td><p>-100</p></td>
<td><p>11,764</p></td>
<td><p>13,596</p></td>
<td><p>11,434</p></td>
<td><p>9,209</p></td>
<td><p>7,112</p></td>
<td><p>-100</p></td>
<td><p>9,135</p></td>
<td><p>(36,563)</p></td>
<td><p>(81,755)</p></td>
<td><p>(126,845)</p></td>
<td><p>(93,435)</p></td>
</tr>
<tr class="row-even"><td><p>0</p></td>
<td><p>(232,260)</p></td>
<td><p>(213,646)</p></td>
<td><p>(191,451)</p></td>
<td><p>(223,372)</p></td>
<td><p>(226,726)</p></td>
<td><p>0</p></td>
<td><p>(715,940)</p></td>
<td><p>(736,465)</p></td>
<td><p>(742,849)</p></td>
<td><p>(746,432)</p></td>
<td><p>(570,302)</p></td>
</tr>
<tr class="row-odd"><td><p>100</p></td>
<td><p>(124,751)</p></td>
<td><p>(121,149)</p></td>
<td><p>(114,438)</p></td>
<td><p>(104,935)</p></td>
<td><p>(64,734)</p></td>
<td><p>100</p></td>
<td><p>(1,076,840)</p></td>
<td><p>(1,056,513)</p></td>
<td><p>(1,032,711)</p></td>
<td><p>(1,004,434)</p></td>
<td><p>(548,328)</p></td>
</tr>
<tr class="row-even"><td><p><strong>01/07 6 mth</strong></p></td>
<td><p>2,260</p></td>
<td><p>936</p></td>
<td><p>(1,135)</p></td>
<td><p>(2,469)</p></td>
<td><p>(4,074)</p></td>
<td><p><strong>01/07 6M ATM</strong></p></td>
<td><p>11,377</p></td>
<td><p>157</p></td>
<td><p>(13,235)</p></td>
<td><p>(28,544)</p></td>
<td><p>(46,401)</p></td>
</tr>
<tr class="row-odd"><td><p>-100</p></td>
<td><p>13,209</p></td>
<td><p>(11,252)</p></td>
<td><p>(31,175)</p></td>
<td><p>(50,467)</p></td>
<td><p>(69,373)</p></td>
<td><p>-100</p></td>
<td><p>(114,661)</p></td>
<td><p>(165,265)</p></td>
<td><p>(189,659)</p></td>
<td><p>(212,647)</p></td>
<td><p>(250,414)</p></td>
</tr>
<tr class="row-even"><td><p>0</p></td>
<td><p>(96,662)</p></td>
<td><p>(44,339)</p></td>
<td><p>(67,051)</p></td>
<td><p>(96,220)</p></td>
<td><p>(125,907)</p></td>
<td><p>0</p></td>
<td><p>(276,154)</p></td>
<td><p>(311,000)</p></td>
<td><p>(342,931)</p></td>
<td><p>(374,827)</p></td>
<td><p>(370,336)</p></td>
</tr>
<tr class="row-odd"><td><p>100</p></td>
<td><p>(66,962)</p></td>
<td><p>(58,933)</p></td>
<td><p>(71,042)</p></td>
<td><p>(83,256)</p></td>
<td><p>(104,754)</p></td>
<td><p>100</p></td>
<td><p>(271,051)</p></td>
<td><p>(312,728)</p></td>
<td><p>(352,722)</p></td>
<td><p>(390,221)</p></td>
<td><p>(1,111,953)</p></td>
</tr>
<tr class="row-even"><td><p><strong>01/07 1 yr</strong></p></td>
<td><p>4,373</p></td>
<td><p>3,863</p></td>
<td><p>3,523</p></td>
<td><p>2,816</p></td>
<td><p>2,063</p></td>
<td><p><strong>01/07 9M ATM</strong></p></td>
<td><p>4,789</p></td>
<td><p>4,063</p></td>
<td><p>4,097</p></td>
<td><p>3,276</p></td>
<td><p>2,854</p></td>
</tr>
<tr class="row-odd"><td><p>-100</p></td>
<td><p>(4,395)</p></td>
<td><p>(1,658)</p></td>
<td><p>1,023</p></td>
<td><p>3,129</p></td>
<td><p>5,221</p></td>
<td><p>-100</p></td>
<td><p>2,637</p></td>
<td><p>(1,039)</p></td>
<td><p>(2,376)</p></td>
<td><p>(6,111)</p></td>
<td><p>(3,274)</p></td>
</tr>
<tr class="row-even"><td><p>0</p></td>
<td><p>(23,418)</p></td>
<td><p>(21,278)</p></td>
<td><p>(21,731)</p></td>
<td><p>(23,381)</p></td>
<td><p>(25,055)</p></td>
<td><p>0</p></td>
<td><p>(12,236)</p></td>
<td><p>(14,300)</p></td>
<td><p>(17,039)</p></td>
<td><p>(19,171)</p></td>
<td><p>(21,300)</p></td>
</tr>
<tr class="row-odd"><td><p>100</p></td>
<td><p>(27,205)</p></td>
<td><p>(26,603)</p></td>
<td><p>(24,432)</p></td>
<td><p>(20,861)</p></td>
<td><p>(16,283)</p></td>
<td><p>100</p></td>
<td><p>(45,266)</p></td>
<td><p>(56,821)</p></td>
<td><p>(65,764)</p></td>
<td><p>(71,125)</p></td>
<td><p>(76,121)</p></td>
</tr>
<tr class="row-even"><td><p><strong>01/07 10Y PH</strong></p></td>
<td><p>26</p></td>
<td><p>11,669</p></td>
<td><p>11,057</p></td>
<td><p>13</p></td>
<td><p>961</p></td>
<td><p><strong>01/07 10/15M</strong></p></td>
<td><p>19,987</p></td>
<td><p>16,615</p></td>
<td><p>10,349</p></td>
<td><p>7,751</p></td>
<td><p>17,060</p></td>
</tr>
<tr class="row-odd"><td><p>-100</p></td>
<td><p>45</p></td>
<td><p>(5,860)</p></td>
<td><p>2,252</p></td>
<td><p>10,299</p></td>
<td><p>1,991</p></td>
<td><p>-100</p></td>
<td><p>14,252</p></td>
<td><p>11,934</p></td>
<td><p>10,357</p></td>
<td><p>8,463</p></td>
<td><p>6,303</p></td>
</tr>
<tr class="row-even"><td><p>0</p></td>
<td><p>(8,661)</p></td>
<td><p>(9,906)</p></td>
<td><p>(9,531)</p></td>
<td><p>(3,669)</p></td>
<td><p>(1,005)</p></td>
<td><p>0</p></td>
<td><p>(1,909)</p></td>
<td><p>(2,674)</p></td>
<td><p>(7,316)</p></td>
<td><p>(13,533)</p></td>
<td><p>(17,473)</p></td>
</tr>
<tr class="row-odd"><td><p>100</p></td>
<td><p>(7,729)</p></td>
<td><p>(11,261)</p></td>
<td><p>(15,689)</p></td>
<td><p>(20,456)</p></td>
<td><p>(27,301)</p></td>
<td><p>100</p></td>
<td><p>(44,215)</p></td>
<td><p>(44,994)</p></td>
<td><p>(47,144)</p></td>
<td><p>(50,009)</p></td>
<td><p>(53,240)</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="eurusd">
<h4>EURUSD<a class="headerlink" href="#eurusd" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Maturity/Strike</p></th>
<th class="head"><p>-20</p></th>
<th class="head"><p>-10</p></th>
<th class="head"><p>0</p></th>
<th class="head"><p>10</p></th>
<th class="head"><p>20</p></th>
<th class="head"><p>Maturity/Strike</p></th>
<th class="head"><p>-20</p></th>
<th class="head"><p>-10</p></th>
<th class="head"><p>0</p></th>
<th class="head"><p>10</p></th>
<th class="head"><p>20</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>01/07 1 mth</strong></p></td>
<td><p>28</p></td>
<td><p>16</p></td>
<td><p>6</p></td>
<td><p>(6)</p></td>
<td><p>(15)</p></td>
<td><p><strong>01/07 1M ATM</strong></p></td>
<td><p>(239)</p></td>
<td><p>(308)</p></td>
<td><p>(315)</p></td>
<td><p>(323)</p></td>
<td><p>(329)</p></td>
</tr>
<tr class="row-odd"><td><p>-50</p></td>
<td><p>(20)</p></td>
<td><p>(20)</p></td>
<td><p>(21)</p></td>
<td><p>(21)</p></td>
<td><p>(21)</p></td>
<td><p>-50</p></td>
<td><p>(306)</p></td>
<td><p>(306)</p></td>
<td><p>(341)</p></td>
<td><p>(342)</p></td>
<td><p>(379)</p></td>
</tr>
<tr class="row-even"><td><p>0</p></td>
<td><p>(19)</p></td>
<td><p>(19)</p></td>
<td><p>(19)</p></td>
<td><p>(20)</p></td>
<td><p>(20)</p></td>
<td><p>0</p></td>
<td><p>(661)</p></td>
<td><p>(661)</p></td>
<td><p>(661)</p></td>
<td><p>(662)</p></td>
<td><p>(662)</p></td>
</tr>
<tr class="row-odd"><td><p>50</p></td>
<td><p>(28)</p></td>
<td><p>(28)</p></td>
<td><p>(28)</p></td>
<td><p>(28)</p></td>
<td><p>(28)</p></td>
<td><p>50</p></td>
<td><p>(807)</p></td>
<td><p>(807)</p></td>
<td><p>(808)</p></td>
<td><p>(809)</p></td>
<td><p>(809)</p></td>
</tr>
<tr class="row-even"><td><p>100</p></td>
<td><p>(36)</p></td>
<td><p>(36)</p></td>
<td><p>(36)</p></td>
<td><p>(36)</p></td>
<td><p>(36)</p></td>
<td><p>100</p></td>
<td><p>(837)</p></td>
<td><p>(837)</p></td>
<td><p>(837)</p></td>
<td><p>(837)</p></td>
<td><p>(837)</p></td>
</tr>
<tr class="row-odd"><td><p><strong>01/07 3 mth</strong></p></td>
<td><p>17</p></td>
<td><p>14</p></td>
<td><p>4</p></td>
<td><p>(5)</p></td>
<td><p>(16)</p></td>
<td><p><strong>01/07 3 Mo ATM</strong></p></td>
<td><p>(1,603)</p></td>
<td><p>(1,653)</p></td>
<td><p>(1,725)</p></td>
<td><p>(1,783)</p></td>
<td><p>(1,829)</p></td>
</tr>
<tr class="row-even"><td><p>-50</p></td>
<td><p>(1,457)</p></td>
<td><p>(1,466)</p></td>
<td><p>(1,495)</p></td>
<td><p>(1,531)</p></td>
<td><p>(1,565)</p></td>
<td><p>-50</p></td>
<td><p>(1,955)</p></td>
<td><p>(1,653)</p></td>
<td><p>(1,725)</p></td>
<td><p>(1,783)</p></td>
<td><p>(1,829)</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>(1,454)</p></td>
<td><p>(1,459)</p></td>
<td><p>(1,470)</p></td>
<td><p>(1,482)</p></td>
<td><p>(1,493)</p></td>
<td><p>0</p></td>
<td><p>(2,424)</p></td>
<td><p>(2,424)</p></td>
<td><p>(2,425)</p></td>
<td><p>(2,426)</p></td>
<td><p>(2,427)</p></td>
</tr>
<tr class="row-even"><td><p>50</p></td>
<td><p>(1,508)</p></td>
<td><p>(1,508)</p></td>
<td><p>(1,509)</p></td>
<td><p>(1,510)</p></td>
<td><p>(1,510)</p></td>
<td><p>50</p></td>
<td><p>(2,618)</p></td>
<td><p>(2,618)</p></td>
<td><p>(2,619)</p></td>
<td><p>(2,619)</p></td>
<td><p>(2,620)</p></td>
</tr>
<tr class="row-odd"><td><p>100</p></td>
<td><p>(1,528)</p></td>
<td><p>(1,545)</p></td>
<td><p>(1,613)</p></td>
<td><p>(1,630)</p></td>
<td><p>(1,647)</p></td>
<td><p>100</p></td>
<td><p>(2,637)</p></td>
<td><p>(2,812)</p></td>
<td><p>(3,370)</p></td>
<td><p>(3,422)</p></td>
<td><p>(3,515)</p></td>
</tr>
<tr class="row-even"><td><p><strong>01/07 6 mth</strong></p></td>
<td><p>42</p></td>
<td><p>32</p></td>
<td><p>11</p></td>
<td><p>(10)</p></td>
<td><p>(44)</p></td>
<td><p><strong>01/07 6M ATM</strong></p></td>
<td><p>(3,940)</p></td>
<td><p>(4,124)</p></td>
<td><p>(4,242)</p></td>
<td><p>(4,349)</p></td>
<td><p>(4,422)</p></td>
</tr>
<tr class="row-odd"><td><p>-50</p></td>
<td><p>(404)</p></td>
<td><p>(320)</p></td>
<td><p>(328)</p></td>
<td><p>(336)</p></td>
<td><p>(352)</p></td>
<td><p>-50</p></td>
<td><p>(8,093)</p></td>
<td><p>(8,093)</p></td>
<td><p>(8,097)</p></td>
<td><p>(8,103)</p></td>
<td><p>(8,150)</p></td>
</tr>
<tr class="row-even"><td><p>0</p></td>
<td><p>(642)</p></td>
<td><p>(642)</p></td>
<td><p>(644)</p></td>
<td><p>(645)</p></td>
<td><p>(649)</p></td>
<td><p>0</p></td>
<td><p>(9,428)</p></td>
<td><p>(9,428)</p></td>
<td><p>(9,428)</p></td>
<td><p>(9,428)</p></td>
<td><p>(9,428)</p></td>
</tr>
<tr class="row-odd"><td><p>50</p></td>
<td><p>(671)</p></td>
<td><p>(671)</p></td>
<td><p>(671)</p></td>
<td><p>(671)</p></td>
<td><p>(671)</p></td>
<td><p>50</p></td>
<td><p>(9,196)</p></td>
<td><p>(9,196)</p></td>
<td><p>(9,196)</p></td>
<td><p>(9,196)</p></td>
<td><p>(9,196)</p></td>
</tr>
<tr class="row-even"><td><p>100</p></td>
<td><p>(723)</p></td>
<td><p>(723)</p></td>
<td><p>(667)</p></td>
<td><p>(661)</p></td>
<td><p>(593)</p></td>
<td><p>100</p></td>
<td><p>(9,188)</p></td>
<td><p>(9,190)</p></td>
<td><p>(9,259)</p></td>
<td><p>(10,031)</p></td>
<td><p>(7,963)</p></td>
</tr>
<tr class="row-odd"><td><p><strong>01/07 1 Yr</strong></p></td>
<td><p>34</p></td>
<td><p>28</p></td>
<td><p>19</p></td>
<td><p>8</p></td>
<td><p>(9)</p></td>
<td><p><strong>01/07 1 Yr ATM</strong></p></td>
<td><p>(143)</p></td>
<td><p>(162)</p></td>
<td><p>(172)</p></td>
<td><p>(193)</p></td>
<td><p>(206)</p></td>
</tr>
<tr class="row-even"><td><p>-50</p></td>
<td><p>(253)</p></td>
<td><p>(254)</p></td>
<td><p>(257)</p></td>
<td><p>(257)</p></td>
<td><p>(258)</p></td>
<td><p>-50</p></td>
<td><p>(464)</p></td>
<td><p>(465)</p></td>
<td><p>(465)</p></td>
<td><p>(465)</p></td>
<td><p>(467)</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>(251)</p></td>
<td><p>(251)</p></td>
<td><p>(250)</p></td>
<td><p>(250)</p></td>
<td><p>(250)</p></td>
<td><p>0</p></td>
<td><p>(501)</p></td>
<td><p>(501)</p></td>
<td><p>(501)</p></td>
<td><p>(501)</p></td>
<td><p>(501)</p></td>
</tr>
<tr class="row-even"><td><p>50</p></td>
<td><p>(353)</p></td>
<td><p>(353)</p></td>
<td><p>(353)</p></td>
<td><p>(354)</p></td>
<td><p>(354)</p></td>
<td><p>50</p></td>
<td><p>(566)</p></td>
<td><p>(567)</p></td>
<td><p>(567)</p></td>
<td><p>(567)</p></td>
<td><p>(568)</p></td>
</tr>
<tr class="row-odd"><td><p>100</p></td>
<td><p>(363)</p></td>
<td><p>(361)</p></td>
<td><p>(359)</p></td>
<td><p>(356)</p></td>
<td><p>(353)</p></td>
<td><p>100</p></td>
<td><p>(570)</p></td>
<td><p>(570)</p></td>
<td><p>(571)</p></td>
<td><p>(575)</p></td>
<td><p>(576)</p></td>
</tr>
<tr class="row-even"><td><p><strong>01/07 2 Yr</strong></p></td>
<td><p>31</p></td>
<td><p>24</p></td>
<td><p>19</p></td>
<td><p>12</p></td>
<td><p>5</p></td>
<td><p><strong>01/07 2 Yr ATM</strong></p></td>
<td><p>(157)</p></td>
<td><p>(165)</p></td>
<td><p>(166)</p></td>
<td><p>(171)</p></td>
<td><p>(174)</p></td>
</tr>
<tr class="row-odd"><td><p>-50</p></td>
<td><p>(158)</p></td>
<td><p>(164)</p></td>
<td><p>(170)</p></td>
<td><p>(175)</p></td>
<td><p>(179)</p></td>
<td><p>-50</p></td>
<td><p>(193)</p></td>
<td><p>(193)</p></td>
<td><p>(208)</p></td>
<td><p>(241)</p></td>
<td><p>(299)</p></td>
</tr>
<tr class="row-even"><td><p>0</p></td>
<td><p>(201)</p></td>
<td><p>(201)</p></td>
<td><p>(201)</p></td>
<td><p>(201)</p></td>
<td><p>(201)</p></td>
<td><p>0</p></td>
<td><p>(327)</p></td>
<td><p>(327)</p></td>
<td><p>(327)</p></td>
<td><p>(328)</p></td>
<td><p>(328)</p></td>
</tr>
<tr class="row-odd"><td><p>50</p></td>
<td><p>(253)</p></td>
<td><p>(253)</p></td>
<td><p>(253)</p></td>
<td><p>(254)</p></td>
<td><p>(254)</p></td>
<td><p>50</p></td>
<td><p>(325)</p></td>
<td><p>(325)</p></td>
<td><p>(325)</p></td>
<td><p>(326)</p></td>
<td><p>(326)</p></td>
</tr>
<tr class="row-even"><td><p>100</p></td>
<td><p>(254)</p></td>
<td><p>(254)</p></td>
<td><p>(254)</p></td>
<td><p>(254)</p></td>
<td><p>(254)</p></td>
<td><p>100</p></td>
<td><p>(1,151)</p></td>
<td><p>(1,151)</p></td>
<td><p>(1,152)</p></td>
<td><p>(1,152)</p></td>
<td><p>(1,151)</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="usdjpy-eurgbp">
<h4>USDJPY/EURGBP<a class="headerlink" href="#usdjpy-eurgbp" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Maturity/Strike</p></th>
<th class="head"><p>-20</p></th>
<th class="head"><p>-10</p></th>
<th class="head"><p>0</p></th>
<th class="head"><p>10</p></th>
<th class="head"><p>20</p></th>
<th class="head"><p>Maturity/Strike</p></th>
<th class="head"><p>-20</p></th>
<th class="head"><p>-10</p></th>
<th class="head"><p>0</p></th>
<th class="head"><p>10</p></th>
<th class="head"><p>20</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>01/07 1 mth</strong></p></td>
<td><p>21</p></td>
<td><p>11</p></td>
<td><p>4</p></td>
<td><p>(4)</p></td>
<td><p>(10)</p></td>
<td><p><strong>01/07 1M ATM</strong></p></td>
<td><p>(507)</p></td>
<td><p>(583)</p></td>
<td><p>(597)</p></td>
<td><p>(604)</p></td>
<td><p>(609)</p></td>
</tr>
<tr class="row-odd"><td><p>-50</p></td>
<td><p>(13)</p></td>
<td><p>(13)</p></td>
<td><p>(14)</p></td>
<td><p>(14)</p></td>
<td><p>(14)</p></td>
<td><p>-50</p></td>
<td><p>(506)</p></td>
<td><p>(583)</p></td>
<td><p>(597)</p></td>
<td><p>(604)</p></td>
<td><p>(611)</p></td>
</tr>
<tr class="row-even"><td><p>0</p></td>
<td><p>(13)</p></td>
<td><p>(13)</p></td>
<td><p>(13)</p></td>
<td><p>(13)</p></td>
<td><p>(13)</p></td>
<td><p>0</p></td>
<td><p>(908)</p></td>
<td><p>(908)</p></td>
<td><p>(909)</p></td>
<td><p>(909)</p></td>
<td><p>(909)</p></td>
</tr>
<tr class="row-odd"><td><p>50</p></td>
<td><p>(19)</p></td>
<td><p>(19)</p></td>
<td><p>(19)</p></td>
<td><p>(19)</p></td>
<td><p>(19)</p></td>
<td><p>50</p></td>
<td><p>(1,127)</p></td>
<td><p>(1,127)</p></td>
<td><p>(1,127)</p></td>
<td><p>(1,127)</p></td>
<td><p>(1,128)</p></td>
</tr>
<tr class="row-even"><td><p>100</p></td>
<td><p>(24)</p></td>
<td><p>(24)</p></td>
<td><p>(24)</p></td>
<td><p>(24)</p></td>
<td><p>(24)</p></td>
<td><p>100</p></td>
<td><p>(1,164)</p></td>
<td><p>(1,164)</p></td>
<td><p>(1,164)</p></td>
<td><p>(1,164)</p></td>
<td><p>(1,164)</p></td>
</tr>
<tr class="row-odd"><td><p><strong>01/07 3 mth</strong></p></td>
<td><p>11</p></td>
<td><p>10</p></td>
<td><p>3</p></td>
<td><p>(4)</p></td>
<td><p>(11)</p></td>
<td><p><strong>01/07 3 Mo ATM</strong></p></td>
<td><p>(2,085)</p></td>
<td><p>(2,134)</p></td>
<td><p>(2,243)</p></td>
<td><p>(2,327)</p></td>
<td><p>(2,396)</p></td>
</tr>
<tr class="row-even"><td><p>-50</p></td>
<td><p>(979)</p></td>
<td><p>(977)</p></td>
<td><p>(982)</p></td>
<td><p>(982)</p></td>
<td><p>(982)</p></td>
<td><p>-50</p></td>
<td><p>(2,365)</p></td>
<td><p>(2,371)</p></td>
<td><p>(2,376)</p></td>
<td><p>(2,381)</p></td>
<td><p>(2,386)</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>(972)</p></td>
<td><p>(973)</p></td>
<td><p>(974)</p></td>
<td><p>(975)</p></td>
<td><p>(976)</p></td>
<td><p>0</p></td>
<td><p>(3,222)</p></td>
<td><p>(3,222)</p></td>
<td><p>(3,223)</p></td>
<td><p>(3,224)</p></td>
<td><p>(3,225)</p></td>
</tr>
<tr class="row-even"><td><p>50</p></td>
<td><p>(1,007)</p></td>
<td><p>(1,008)</p></td>
<td><p>(1,009)</p></td>
<td><p>(1,009)</p></td>
<td><p>(1,010)</p></td>
<td><p>50</p></td>
<td><p>(3,485)</p></td>
<td><p>(3,487)</p></td>
<td><p>(3,487)</p></td>
<td><p>(3,488)</p></td>
<td><p>(3,488)</p></td>
</tr>
<tr class="row-odd"><td><p>100</p></td>
<td><p>(1,019)</p></td>
<td><p>(1,024)</p></td>
<td><p>(1,052)</p></td>
<td><p>(1,060)</p></td>
<td><p>(1,097)</p></td>
<td><p>100</p></td>
<td><p>(3,509)</p></td>
<td><p>(3,637)</p></td>
<td><p>(4,003)</p></td>
<td><p>(4,038)</p></td>
<td><p>(4,108)</p></td>
</tr>
<tr class="row-even"><td><p><strong>01/07 6 mth</strong></p></td>
<td><p>28</p></td>
<td><p>21</p></td>
<td><p>7</p></td>
<td><p>(7)</p></td>
<td><p>(30)</p></td>
<td><p><strong>01/07 6M ATM</strong></p></td>
<td><p>(7,513)</p></td>
<td><p>(7,753)</p></td>
<td><p>(7,781)</p></td>
<td><p>(7,847)</p></td>
<td><p>(7,912)</p></td>
</tr>
<tr class="row-odd"><td><p>-50</p></td>
<td><p>(269)</p></td>
<td><p>(269)</p></td>
<td><p>(274)</p></td>
<td><p>(276)</p></td>
<td><p>(280)</p></td>
<td><p>-50</p></td>
<td><p>(7,349)</p></td>
<td><p>(7,349)</p></td>
<td><p>(7,352)</p></td>
<td><p>(7,372)</p></td>
<td><p>(7,463)</p></td>
</tr>
<tr class="row-even"><td><p>0</p></td>
<td><p>(427)</p></td>
<td><p>(427)</p></td>
<td><p>(428)</p></td>
<td><p>(429)</p></td>
<td><p>(432)</p></td>
<td><p>0</p></td>
<td><p>(6,300)</p></td>
<td><p>(6,300)</p></td>
<td><p>(6,301)</p></td>
<td><p>(6,301)</p></td>
<td><p>(6,301)</p></td>
</tr>
<tr class="row-odd"><td><p>50</p></td>
<td><p>(447)</p></td>
<td><p>(447)</p></td>
<td><p>(447)</p></td>
<td><p>(447)</p></td>
<td><p>(447)</p></td>
<td><p>50</p></td>
<td><p>(6,161)</p></td>
<td><p>(6,161)</p></td>
<td><p>(6,161)</p></td>
<td><p>(6,161)</p></td>
<td><p>(6,161)</p></td>
</tr>
<tr class="row-even"><td><p>100</p></td>
<td><p>(481)</p></td>
<td><p>(481)</p></td>
<td><p>(444)</p></td>
<td><p>(440)</p></td>
<td><p>(394)</p></td>
<td><p>100</p></td>
<td><p>(6,146)</p></td>
<td><p>(6,147)</p></td>
<td><p>(6,228)</p></td>
<td><p>(6,742)</p></td>
<td><p>(5,323)</p></td>
</tr>
<tr class="row-odd"><td><p><strong>01/07 1 Yr</strong></p></td>
<td><p>23</p></td>
<td><p>19</p></td>
<td><p>13</p></td>
<td><p>5</p></td>
<td><p>(7)</p></td>
<td><p><strong>01/07 1 Yr ATM</strong></p></td>
<td><p>(80)</p></td>
<td><p>(95)</p></td>
<td><p>(104)</p></td>
<td><p>(123)</p></td>
<td><p>(136)</p></td>
</tr>
<tr class="row-even"><td><p>-50</p></td>
<td><p>(169)</p></td>
<td><p>(169)</p></td>
<td><p>(171)</p></td>
<td><p>(171)</p></td>
<td><p>(171)</p></td>
<td><p>-50</p></td>
<td><p>(304)</p></td>
<td><p>(311)</p></td>
<td><p>(316)</p></td>
<td><p>(326)</p></td>
<td><p>(332)</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>(167)</p></td>
<td><p>(167)</p></td>
<td><p>(167)</p></td>
<td><p>(167)</p></td>
<td><p>(167)</p></td>
<td><p>0</p></td>
<td><p>(330)</p></td>
<td><p>(330)</p></td>
<td><p>(330)</p></td>
<td><p>(330)</p></td>
<td><p>(331)</p></td>
</tr>
<tr class="row-even"><td><p>50</p></td>
<td><p>(235)</p></td>
<td><p>(235)</p></td>
<td><p>(235)</p></td>
<td><p>(236)</p></td>
<td><p>(236)</p></td>
<td><p>50</p></td>
<td><p>(374)</p></td>
<td><p>(374)</p></td>
<td><p>(374)</p></td>
<td><p>(375)</p></td>
<td><p>(376)</p></td>
</tr>
<tr class="row-odd"><td><p>100</p></td>
<td><p>(242)</p></td>
<td><p>(241)</p></td>
<td><p>(239)</p></td>
<td><p>(237)</p></td>
<td><p>(235)</p></td>
<td><p>100</p></td>
<td><p>(378)</p></td>
<td><p>(378)</p></td>
<td><p>(378)</p></td>
<td><p>(381)</p></td>
<td><p>(382)</p></td>
</tr>
<tr class="row-even"><td><p><strong>01/07 2 Yr</strong></p></td>
<td><p>21</p></td>
<td><p>16</p></td>
<td><p>13</p></td>
<td><p>8</p></td>
<td><p>3</p></td>
<td><p><strong>01/07 2 Yr ATM</strong></p></td>
<td><p>(83)</p></td>
<td><p>(88)</p></td>
<td><p>(89)</p></td>
<td><p>(95)</p></td>
<td><p>(100)</p></td>
</tr>
<tr class="row-odd"><td><p>-50</p></td>
<td><p>(105)</p></td>
<td><p>(109)</p></td>
<td><p>(113)</p></td>
<td><p>(117)</p></td>
<td><p>(119)</p></td>
<td><p>-50</p></td>
<td><p>(124)</p></td>
<td><p>(129)</p></td>
<td><p>(141)</p></td>
<td><p>(170)</p></td>
<td><p>(221)</p></td>
</tr>
<tr class="row-even"><td><p>0</p></td>
<td><p>(134)</p></td>
<td><p>(134)</p></td>
<td><p>(134)</p></td>
<td><p>(134)</p></td>
<td><p>(134)</p></td>
<td><p>0</p></td>
<td><p>(224)</p></td>
<td><p>(224)</p></td>
<td><p>(224)</p></td>
<td><p>(224)</p></td>
<td><p>(225)</p></td>
</tr>
<tr class="row-odd"><td><p>50</p></td>
<td><p>(168)</p></td>
<td><p>(168)</p></td>
<td><p>(169)</p></td>
<td><p>(169)</p></td>
<td><p>(169)</p></td>
<td><p>50</p></td>
<td><p>(1,092)</p></td>
<td><p>(1,109)</p></td>
<td><p>(1,111)</p></td>
<td><p>(1,112)</p></td>
<td><p>(1,112)</p></td>
</tr>
<tr class="row-even"><td><p>100</p></td>
<td><p>(169)</p></td>
<td><p>(169)</p></td>
<td><p>(169)</p></td>
<td><p>(169)</p></td>
<td><p>(169)</p></td>
<td><p>100</p></td>
<td><p>(1,269)</p></td>
<td><p>(1,269)</p></td>
<td><p>(1,270)</p></td>
<td><p>(1,270)</p></td>
<td><p>(1,270)</p></td>
</tr>
</tbody>
</table>
</div>
<p>In conclusion, the CLV model behaves smoothly with various rate and vol bump scenarios.</p>
</section>
<section id="mean-reversion-bumping">
<h4>8.1.2.4. Mean Reversion Bumping<a class="headerlink" href="#mean-reversion-bumping" title="Link to this heading">#</a></h4>
<p>Mean reversion sensitivity exists only when it is an input in any of the calibration stages. More specifically, in:</p>
<ul class="simple">
<li><p>V-fit: there is no MR risk as it is calibrated.</p></li>
<li><p>Co-terminal: there is MR risk as it is a market input, so different MR levels will result in different calibrated models.</p></li>
<li><p>TMR: in stage 2, MR is always calibrated, but in stage 1, user can specify whether to calibrate MR (V-fit) or to input an external MR (Co-terminal). If in stage 1, user chooses to input a MR externally, there will be MR risk, otherwise not.</p></li>
<li><p>SMR: in stage 1, MR is calibrated, however, an external shift is applied to the calibrated MR and then feed into 2nd stage as an input. Thus, changing the values of the external shift will affect the final CLV model, so MR risk in SMR comes from external shift values.</p></li>
</ul>
<p>In Barclays IHC, CIF is priced using V-fit, so there is no MR sensitivity; Bermudans, on the other hand, are priced using SMR+TMR, as a result, the external shift parameters will have an impact on the final calibrated CLV model. In below testing, we bump the shift values and see how PV/risks of Bermudan swaptions behave.</p>
<p><img alt="Figure 8.3: Graphs showing Rate Sensitivity for DXCIF and DXSBERM with corresponding data tables" src="../../_images/91.png" />
<strong>Figure 8.3:</strong> Mean Reversion sensitivity DXSBERM</p>
</section>
</section>
<section id="ccypv-data-tables">
<h3>CCYPV Data Tables<a class="headerlink" href="#ccypv-data-tables" title="Link to this heading">#</a></h3>
<section id="ccypv">
<h4>CCYPV<a class="headerlink" href="#ccypv" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Bump/Slide/Trade ID</p></th>
<th class="head"><p>e10/7T1 6M1</p></th>
<th class="head"><p>e10/7T43m5</p></th>
<th class="head"><p>e10/7T13/19</p></th>
<th class="head"><p>e01/7I3a44c</p></th>
<th class="head"><p>e01/7I30/7b</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>-10%</p></td>
<td><p>(1,211)</p></td>
<td><p>(135,271)</p></td>
<td><p>(42,772)</p></td>
<td><p>(21,522)</p></td>
<td><p>(6,272)</p></td>
</tr>
<tr class="row-odd"><td><p>-8%</p></td>
<td><p>(1,317)</p></td>
<td><p>(135,975)</p></td>
<td><p>(43,414)</p></td>
<td><p>(21,638)</p></td>
<td><p>(6,594)</p></td>
</tr>
<tr class="row-even"><td><p>-6%</p></td>
<td><p>(1,522)</p></td>
<td><p>(140,526)</p></td>
<td><p>(44,304)</p></td>
<td><p>(21,735)</p></td>
<td><p>(6,680)</p></td>
</tr>
<tr class="row-odd"><td><p>-4%</p></td>
<td><p>(1,243)</p></td>
<td><p>(141,713)</p></td>
<td><p>(45,147)</p></td>
<td><p>(21,849)</p></td>
<td><p>(10,428)</p></td>
</tr>
<tr class="row-even"><td><p>-2%</p></td>
<td><p>(1,254)</p></td>
<td><p>(142,931)</p></td>
<td><p>(45,428)</p></td>
<td><p>(21,961)</p></td>
<td><p>(13,201)</p></td>
</tr>
<tr class="row-odd"><td><p>0%</p></td>
<td><p>(1,264)</p></td>
<td><p>(144,185)</p></td>
<td><p>(47,526)</p></td>
<td><p>(22,074)</p></td>
<td><p>(14,595)</p></td>
</tr>
<tr class="row-even"><td><p>2%</p></td>
<td><p>(1,275)</p></td>
<td><p>(145,473)</p></td>
<td><p>(45,647)</p></td>
<td><p>(22,189)</p></td>
<td><p>(13,813)</p></td>
</tr>
<tr class="row-odd"><td><p>4%</p></td>
<td><p>(1,287)</p></td>
<td><p>(146,801)</p></td>
<td><p>(45,791)</p></td>
<td><p>(22,305)</p></td>
<td><p>(13,640)</p></td>
</tr>
<tr class="row-even"><td><p>6%</p></td>
<td><p>(1,298)</p></td>
<td><p>(148,169)</p></td>
<td><p>(50,027)</p></td>
<td><p>(22,424)</p></td>
<td><p>(14,502)</p></td>
</tr>
<tr class="row-odd"><td><p>8%</p></td>
<td><p>(2,009)</p></td>
<td><p>(146,559)</p></td>
<td><p>(51,152)</p></td>
<td><p>(22,544)</p></td>
<td><p>(15,372)</p></td>
</tr>
<tr class="row-even"><td><p>10%</p></td>
<td><p>(2,025)</p></td>
<td><p>(149,971)</p></td>
<td><p>(51,280)</p></td>
<td><p>(22,666)</p></td>
<td><p>(16,271)</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="delta">
<h4>Delta<a class="headerlink" href="#delta" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Bump/Slide/Trade ID</p></th>
<th class="head"><p>e10/7T1 6M1</p></th>
<th class="head"><p>e10/7T43m5</p></th>
<th class="head"><p>e10/7T13/19</p></th>
<th class="head"><p>e01/7I3a44c</p></th>
<th class="head"><p>e01/7I30/7b</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>-10%</p></td>
<td><p>(30)</p></td>
<td><p>(1,550)</p></td>
<td><p>(449)</p></td>
<td><p>(307)</p></td>
<td><p>(300)</p></td>
</tr>
<tr class="row-odd"><td><p>-8%</p></td>
<td><p>(30)</p></td>
<td><p>(1,548)</p></td>
<td><p>(448)</p></td>
<td><p>(307)</p></td>
<td><p>(251)</p></td>
</tr>
<tr class="row-even"><td><p>-6%</p></td>
<td><p>(30)</p></td>
<td><p>(1,545)</p></td>
<td><p>(447)</p></td>
<td><p>(306)</p></td>
<td><p>(253)</p></td>
</tr>
<tr class="row-odd"><td><p>-4%</p></td>
<td><p>(29)</p></td>
<td><p>(1,541)</p></td>
<td><p>(446)</p></td>
<td><p>(305)</p></td>
<td><p>(264)</p></td>
</tr>
<tr class="row-even"><td><p>-2%</p></td>
<td><p>(29)</p></td>
<td><p>(1,538)</p></td>
<td><p>(455)</p></td>
<td><p>(304)</p></td>
<td><p>(264)</p></td>
</tr>
<tr class="row-odd"><td><p>0%</p></td>
<td><p>(29)</p></td>
<td><p>(1,535)</p></td>
<td><p>(453)</p></td>
<td><p>(303)</p></td>
<td><p>(264)</p></td>
</tr>
<tr class="row-even"><td><p>2%</p></td>
<td><p>(29)</p></td>
<td><p>(1,532)</p></td>
<td><p>(477)</p></td>
<td><p>(303)</p></td>
<td><p>(265)</p></td>
</tr>
<tr class="row-odd"><td><p>4%</p></td>
<td><p>(29)</p></td>
<td><p>(1,529)</p></td>
<td><p>(423)</p></td>
<td><p>(302)</p></td>
<td><p>(265)</p></td>
</tr>
<tr class="row-even"><td><p>6%</p></td>
<td><p>(29)</p></td>
<td><p>(1,526)</p></td>
<td><p>(418)</p></td>
<td><p>(301)</p></td>
<td><p>(265)</p></td>
</tr>
<tr class="row-odd"><td><p>8%</p></td>
<td><p>(29)</p></td>
<td><p>(1,522)</p></td>
<td><p>(414)</p></td>
<td><p>(300)</p></td>
<td><p>(265)</p></td>
</tr>
<tr class="row-even"><td><p>10%</p></td>
<td><p>(29)</p></td>
<td><p>(1,519)</p></td>
<td><p>(410)</p></td>
<td><p>(299)</p></td>
<td><p>(264)</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="vega">
<h4>Vega<a class="headerlink" href="#vega" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Bump/Slide/Trade ID</p></th>
<th class="head"><p>e10/7T1 6M1</p></th>
<th class="head"><p>e10/7T43m5</p></th>
<th class="head"><p>e10/7T13/19</p></th>
<th class="head"><p>e01/7I3a44c</p></th>
<th class="head"><p>e01/7I30/7b</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>-10%</p></td>
<td><p>(15)</p></td>
<td><p>(880)</p></td>
<td><p>(379)</p></td>
<td><p>(159)</p></td>
<td><p>(317)</p></td>
</tr>
<tr class="row-odd"><td><p>-8%</p></td>
<td><p>(15)</p></td>
<td><p>(895)</p></td>
<td><p>(382)</p></td>
<td><p>(159)</p></td>
<td><p>(326)</p></td>
</tr>
<tr class="row-even"><td><p>-6%</p></td>
<td><p>(16)</p></td>
<td><p>(909)</p></td>
<td><p>(388)</p></td>
<td><p>(161)</p></td>
<td><p>(335)</p></td>
</tr>
<tr class="row-odd"><td><p>-4%</p></td>
<td><p>(16)</p></td>
<td><p>(923)</p></td>
<td><p>(402)</p></td>
<td><p>(163)</p></td>
<td><p>(344)</p></td>
</tr>
<tr class="row-even"><td><p>-2%</p></td>
<td><p>(16)</p></td>
<td><p>(938)</p></td>
<td><p>(423)</p></td>
<td><p>(165)</p></td>
<td><p>(353)</p></td>
</tr>
<tr class="row-odd"><td><p>0%</p></td>
<td><p>(16)</p></td>
<td><p>(952)</p></td>
<td><p>(457)</p></td>
<td><p>(167)</p></td>
<td><p>(363)</p></td>
</tr>
<tr class="row-even"><td><p>2%</p></td>
<td><p>(16)</p></td>
<td><p>(967)</p></td>
<td><p>(461)</p></td>
<td><p>(169)</p></td>
<td><p>(372)</p></td>
</tr>
<tr class="row-odd"><td><p>4%</p></td>
<td><p>(17)</p></td>
<td><p>(982)</p></td>
<td><p>(466)</p></td>
<td><p>(171)</p></td>
<td><p>(381)</p></td>
</tr>
<tr class="row-even"><td><p>6%</p></td>
<td><p>(17)</p></td>
<td><p>(997)</p></td>
<td><p>(481)</p></td>
<td><p>(173)</p></td>
<td><p>(391)</p></td>
</tr>
<tr class="row-odd"><td><p>8%</p></td>
<td><p>(17)</p></td>
<td><p>(1,012)</p></td>
<td><p>(496)</p></td>
<td><p>(175)</p></td>
<td><p>(401)</p></td>
</tr>
<tr class="row-even"><td><p>10%</p></td>
<td><p>(17)</p></td>
<td><p>(1,026)</p></td>
<td><p>(511)</p></td>
<td><p>(177)</p></td>
<td><p>(410)</p></td>
</tr>
</tbody>
</table>
</div>
<p>From the plot analysis you’ve provided, I can see that PV/risk values demonstrate a smooth pattern across different MR bump values. As MR (Market Rate) increases, forward volatility also increases, which leads to higher option values. Since the position involves shorting options, this results in a decrease in PV (Present Value).</p>
<p>This inverse relationship makes sense from a trading perspective. When volatility rises, option prices generally increase, which creates a negative impact on short option positions. The smooth curve indicates a consistent and predictable relationship between these market variables.</p>
</section>
</section>
<section id="impact-of-skew-mean-reversion-on-forward-volatilities">
<h3>8.2. Impact of Skew/Mean Reversion on Forward Volatilities<a class="headerlink" href="#impact-of-skew-mean-reversion-on-forward-volatilities" title="Link to this heading">#</a></h3>
<p>The two advanced calibration techniques (TMR and SMR) described in section 6.1.3 are all introduced to have more control over the forward volatility level implied from CLV. In this section, we will test how different skew and MR levels affect resulting forward volatility, and also test that TMR indeed brings down forward volatility levels.</p>
<section id="skew-effects-on-forward-volatility">
<h4>8.2.1. Skew Effects on Forward Volatility<a class="headerlink" href="#skew-effects-on-forward-volatility" title="Link to this heading">#</a></h4>
<p>If CLV is calibrated “naively” (i.e. without TMR correction), the forward volatility is very much affected by the model skew. The goal of TMR calibration is to mitigate and isolate this effect. To validate the choice of TMR, we want to show that TMR is effective in bringing down forward volatilities. In below test, to make it simple, we use a theoretical flat vol market with SABR parameters <span class="math notranslate nohighlight">\(\alpha = 0.8\%\)</span>, <span class="math notranslate nohighlight">\(\beta = \rho = \nu = 0\)</span>; other market variables are all of the date 01/05/2017. We compare forward volatilities 1Y1Y28Y, 2Y1Y27Y, …, 28Y1Y1Y under calibrated CLV models with various skew levels. Models are calibrated with Co-terminal calibration and 0% mean reversion.</p>
<p>In below plot, x-axis represents the instrument xY1Y(30-x)Y, and y-axis is the forward volatility.</p>
<p>We first compare the results the “naive” CLV models with three different skews: 0%, 50%, and 100%. From below plot, we can see that as input skew increases, the forward volatility increases monotonically and is higher for instruments with longer expiries.</p>
<p>Next, we calibrate CLV model using TMR calibration, with 50% and 100% input skew. We can see from below plot that, ceteris paribus, the resulting forward vol is lower with TMR calibration than without. We can conclude that TMR calibration does indeed bring down forward volatility.</p>
<p><img alt="Figure 8.4: Graphs showing Rate Sensitivity for DXCIF and DXSBERM with corresponding data tables" src="../../_images/101.png" /></p>
</section>
<section id="mean-reversion-vs-forward-volatility">
<h4>8.2.2. Mean Reversion vs. Forward Volatility<a class="headerlink" href="#mean-reversion-vs-forward-volatility" title="Link to this heading">#</a></h4>
<p>Similar to skew, mean reversion also affects forward volatility, and this is the main motivation for the external shift in SMR. Below, we calibrated 5 models with 0% skew and Co-terminal calibration. We vary the input MR level and compare the resulting forward volatilities. Market data is same as previous section. In below plot, x-axis represents the instrument xY1Y(30-x)Y, and y-axis is the forward volatility.</p>
<p><img alt="Figure 8.4: Graphs showing Rate Sensitivity for DXCIF and DXSBERM with corresponding data tables" src="../../_images/111.png" /></p>
<p>We can clearly see from above plot that the higher the mean reversion, the higher the forward volatility levels. Also MR levels affect those trades with longer expiries more, the variations are greater compared to those with shorter expiries.</p>
</section>
</section>
<section id="accuracy-convergence-stability-and-sensitivity">
<h3>8.3. Accuracy, Convergence, Stability and Sensitivity<a class="headerlink" href="#accuracy-convergence-stability-and-sensitivity" title="Link to this heading">#</a></h3>
<section id="risk-stability-of-two-formulations">
<h4>8.3.1. Risk Stability of Two Formulations<a class="headerlink" href="#risk-stability-of-two-formulations" title="Link to this heading">#</a></h4>
<p>Below we take both Bermudan and CIF portfolio in 2017 CCAR scenarios, and compare bucket delta/vega risks between two different formulations. Market date is 01/05/2017.</p>
</section>
</section>
<section id="financial-performance-analysis">
<h3>Financial Performance Analysis<a class="headerlink" href="#financial-performance-analysis" title="Link to this heading">#</a></h3>
<section id="digre-dxgre-delta">
<h4>DIGRE/DXGRE Delta<a class="headerlink" href="#digre-dxgre-delta" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Tenor</p></th>
<th class="head"><p>Formulation 1</p></th>
<th class="head"><p>Formulation 2</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1M</p></td>
<td><p>1.2</p></td>
<td><p>1.2</p></td>
</tr>
<tr class="row-odd"><td><p>3M</p></td>
<td><p>58</p></td>
<td><p>58</p></td>
</tr>
<tr class="row-even"><td><p>6M</p></td>
<td><p>(2)</p></td>
<td><p>(3)</p></td>
</tr>
<tr class="row-odd"><td><p>9M</p></td>
<td><p>(12)</p></td>
<td><p>(13)</p></td>
</tr>
<tr class="row-even"><td><p>1Y</p></td>
<td><p>(44)</p></td>
<td><p>(3)</p></td>
</tr>
<tr class="row-odd"><td><p>2Y</p></td>
<td><p>(38)</p></td>
<td><p>(147)</p></td>
</tr>
<tr class="row-even"><td><p>3Y</p></td>
<td><p>93</p></td>
<td><p>(73)</p></td>
</tr>
<tr class="row-odd"><td><p>5Y</p></td>
<td><p>724</p></td>
<td><p>(778)</p></td>
</tr>
<tr class="row-even"><td><p>7Y</p></td>
<td><p>(2,113)</p></td>
<td><p>(680)</p></td>
</tr>
<tr class="row-odd"><td><p>10Y</p></td>
<td><p>60</p></td>
<td><p>109</p></td>
</tr>
<tr class="row-even"><td><p>30Y</p></td>
<td><p>(45)</p></td>
<td><p>(45)</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Total</strong></p></td>
<td><p><strong>(1,318)</strong></p></td>
<td><p><strong>(1,574)</strong></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="dkrm-dkc-vega">
<h4>DKRM/DKC Vega<a class="headerlink" href="#dkrm-dkc-vega" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Tenor</p></th>
<th class="head"><p>Formulation 1</p></th>
<th class="head"><p>Formulation 2</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>6M</p></td>
<td><p>(1)</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>9M</p></td>
<td><p>(49)</p></td>
<td><p>(47)</p></td>
</tr>
<tr class="row-even"><td><p>1Y</p></td>
<td><p>21</p></td>
<td><p>(47)</p></td>
</tr>
<tr class="row-odd"><td><p>1.5Y</p></td>
<td><p>(162)</p></td>
<td><p>(83)</p></td>
</tr>
<tr class="row-even"><td><p>2Y</p></td>
<td><p>(199)</p></td>
<td><p>(188)</p></td>
</tr>
<tr class="row-odd"><td><p>2.5Y</p></td>
<td><p>(2,136)</p></td>
<td><p>(473)</p></td>
</tr>
<tr class="row-even"><td><p>3Y</p></td>
<td><p>(24,627)</p></td>
<td><p>(376)</p></td>
</tr>
<tr class="row-odd"><td><p>5Y</p></td>
<td><p>25,469</p></td>
<td><p>(309)</p></td>
</tr>
<tr class="row-even"><td><p>7Y</p></td>
<td><p>287</p></td>
<td><p>(398)</p></td>
</tr>
<tr class="row-odd"><td><p>10Y</p></td>
<td><p>(1,372)</p></td>
<td><p>(1,121)</p></td>
</tr>
<tr class="row-even"><td><p><strong>Total</strong></p></td>
<td><p><strong>(2,769)</strong></p></td>
<td><p><strong>(3,042)</strong></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="digre-dxgre-vega">
<h4>DIGRE/DXGRE Vega<a class="headerlink" href="#digre-dxgre-vega" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Tenor</p></th>
<th class="head"><p>Formulation 1</p></th>
<th class="head"><p>Formulation 2</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1M</p></td>
<td><p>62</p></td>
<td><p>62</p></td>
</tr>
<tr class="row-odd"><td><p>3M</p></td>
<td><p>(57)</p></td>
<td><p>(58)</p></td>
</tr>
<tr class="row-even"><td><p>6M</p></td>
<td><p>(13)</p></td>
<td><p>(14)</p></td>
</tr>
<tr class="row-odd"><td><p>9M</p></td>
<td><p>(107)</p></td>
<td><p>(112)</p></td>
</tr>
<tr class="row-even"><td><p>1Y</p></td>
<td><p>(253)</p></td>
<td><p>(275)</p></td>
</tr>
<tr class="row-odd"><td><p>2Y</p></td>
<td><p>(731)</p></td>
<td><p>(778)</p></td>
</tr>
<tr class="row-even"><td><p>3Y</p></td>
<td><p>(1,473)</p></td>
<td><p>(1,654)</p></td>
</tr>
<tr class="row-odd"><td><p>5Y</p></td>
<td><p>(3,499)</p></td>
<td><p>(3,624)</p></td>
</tr>
<tr class="row-even"><td><p>7Y</p></td>
<td><p>(8,404)</p></td>
<td><p>(8,451)</p></td>
</tr>
<tr class="row-odd"><td><p>10Y</p></td>
<td><p>340</p></td>
<td><p>338</p></td>
</tr>
<tr class="row-even"><td><p>30Y</p></td>
<td><p>10</p></td>
<td><p>10</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Total</strong></p></td>
<td><p><strong>(14,025)</strong></p></td>
<td><p><strong>(14,556)</strong></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id14">
<h4>DKRM/DKC Vega<a class="headerlink" href="#id14" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Tenor</p></th>
<th class="head"><p>Formulation 1</p></th>
<th class="head"><p>Formulation 2</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>3M</p></td>
<td><p>(122)</p></td>
<td><p>(120)</p></td>
</tr>
<tr class="row-odd"><td><p>6M</p></td>
<td><p>(117)</p></td>
<td><p>(109)</p></td>
</tr>
<tr class="row-even"><td><p>9M</p></td>
<td><p>(275)</p></td>
<td><p>(251)</p></td>
</tr>
<tr class="row-odd"><td><p>1Y</p></td>
<td><p>(510)</p></td>
<td><p>(484)</p></td>
</tr>
<tr class="row-even"><td><p>15M</p></td>
<td><p>(475)</p></td>
<td><p>(467)</p></td>
</tr>
<tr class="row-odd"><td><p>18M</p></td>
<td><p>(504)</p></td>
<td><p>(502)</p></td>
</tr>
<tr class="row-even"><td><p>21M</p></td>
<td><p>(543)</p></td>
<td><p>(564)</p></td>
</tr>
<tr class="row-odd"><td><p>2Y</p></td>
<td><p>(520)</p></td>
<td><p>(517)</p></td>
</tr>
<tr class="row-even"><td><p>27M</p></td>
<td><p>(513)</p></td>
<td><p>(513)</p></td>
</tr>
<tr class="row-odd"><td><p>30M</p></td>
<td><p>(520)</p></td>
<td><p>(524)</p></td>
</tr>
<tr class="row-even"><td><p>3Y</p></td>
<td><p>(1,448)</p></td>
<td><p>(1,441)</p></td>
</tr>
<tr class="row-odd"><td><p>4Y</p></td>
<td><p>(1,646)</p></td>
<td><p>(1,634)</p></td>
</tr>
<tr class="row-even"><td><p>5Y</p></td>
<td><p>(2,116)</p></td>
<td><p>(2,059)</p></td>
</tr>
<tr class="row-odd"><td><p>7Y</p></td>
<td><p>(3,962)</p></td>
<td><p>(3,562)</p></td>
</tr>
<tr class="row-even"><td><p>10Y</p></td>
<td><p>(353)</p></td>
<td><p>(353)</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Total</strong></p></td>
<td><p><strong>(14,075)</strong></p></td>
<td><p><strong>(14,340)</strong></p></td>
</tr>
</tbody>
</table>
</div>
<p>Above results show that even though two formulations give quite close total risks, formulation 2 gives smoother and more stable risk bucket. As a result, formulation 2 is set as default, but user does have the flexibility of choosing to which formulation to use.</p>
</section>
<section id="comparison-of-internal-and-external-risk-results">
<h4>8.3.2. Comparison of Internal and External Risk Results<a class="headerlink" href="#comparison-of-internal-and-external-risk-results" title="Link to this heading">#</a></h4>
<p>In this section we compare the results of internal and external risk. We test on all IHC Bermudan trades using market data on 01/05/2017 and calculate Normal Constraint Delta and ATM BP Vega.</p>
</section>
</section>
<section id="trader-risk-exposure-data">
<h3>Trader Risk Exposure Data<a class="headerlink" href="#trader-risk-exposure-data" title="Link to this heading">#</a></h3>
<section id="risk-metrics-by-trader">
<h4>Risk Metrics by Trader<a class="headerlink" href="#risk-metrics-by-trader" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>TraderID</p></th>
<th class="head"><p>Delta External</p></th>
<th class="head"><p>Delta Internal</p></th>
<th class="head"><p>Vega External</p></th>
<th class="head"><p>Vega Internal</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>dm0711e8d1</p></td>
<td><p>(130.25)</p></td>
<td><p>(351.04)</p></td>
<td><p>(174.57)</p></td>
<td><p>(171.16)</p></td>
</tr>
<tr class="row-odd"><td><p>dm07242bc5</p></td>
<td><p>(517.82)</p></td>
<td><p>(514.45)</p></td>
<td><p>(360.06)</p></td>
<td><p>(359.86)</p></td>
</tr>
<tr class="row-even"><td><p>dm0713c91d</p></td>
<td><p>(79.69)</p></td>
<td><p>(82.02)</p></td>
<td><p>(79.53)</p></td>
<td><p>(79.53)</p></td>
</tr>
<tr class="row-odd"><td><p>dm077de9d4</p></td>
<td><p>(3.58)</p></td>
<td><p>(3.28)</p></td>
<td><p>(1.95)</p></td>
<td><p>(1.68)</p></td>
</tr>
<tr class="row-even"><td><p>dm07307f1c</p></td>
<td><p>(450.19)</p></td>
<td><p>(450.61)</p></td>
<td><p>(476.19)</p></td>
<td><p>(476.19)</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="summary-statistics">
<h4>Summary Statistics<a class="headerlink" href="#summary-statistics" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Metric</p></th>
<th class="head"><p>External Total</p></th>
<th class="head"><p>Internal Total</p></th>
<th class="head"><p>Difference</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Delta</p></td>
<td><p>(1,181.53)</p></td>
<td><p>(1,401.40)</p></td>
<td><p>219.87</p></td>
</tr>
<tr class="row-odd"><td><p>Vega</p></td>
<td><p>(1,092.30)</p></td>
<td><p>(1,088.42)</p></td>
<td><p>(3.88)</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="risk-distribution-analysis">
<h4>Risk Distribution Analysis<a class="headerlink" href="#risk-distribution-analysis" title="Link to this heading">#</a></h4>
<ul class="simple">
<li><p><strong>Highest Delta Exposure</strong>: Trader dm07242bc5 has the highest delta exposure with external value of (517.82)</p></li>
<li><p><strong>Highest Vega Exposure</strong>: Trader dm07307f1c has the highest vega exposure with external value of (476.19)</p></li>
<li><p><strong>Lowest Risk Exposure</strong>: Trader dm077de9d4 has minimal exposure across all metrics</p></li>
<li><p><strong>Internal/External Discrepancy</strong>: The largest discrepancy between internal and external measurements is in trader dm0711e8d1’s delta values, with a difference of 220.79</p></li>
</ul>
</section>
<section id="notes">
<h4>Notes<a class="headerlink" href="#notes" title="Link to this heading">#</a></h4>
<ul class="simple">
<li><p>All values in parentheses represent negative numbers</p></li>
<li><p>Delta measures the rate of change in option value with respect to changes in the underlying asset’s price</p></li>
<li><p>Vega measures sensitivity to volatility</p></li>
<li><p>External values may represent market-facing exposure while internal values represent risk model calculations</p></li>
<li><p>All traders currently show negative exposure across all metrics</p></li>
</ul>
<p>Below we show the grid results for trade eln0711efd1, other trades have similar results:</p>
</section>
</section>
<section id="time-structure-risk-analysis">
<h3>Time Structure Risk Analysis<a class="headerlink" href="#time-structure-risk-analysis" title="Link to this heading">#</a></h3>
<section id="delta-risk-by-tenor">
<h4>Delta Risk by Tenor<a class="headerlink" href="#delta-risk-by-tenor" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Tenor</p></th>
<th class="head"><p>External</p></th>
<th class="head"><p>Internal</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1M</p></td>
<td><p>0.42</p></td>
<td><p>0.43</p></td>
</tr>
<tr class="row-odd"><td><p>3M</p></td>
<td><p>0.62</p></td>
<td><p>0.62</p></td>
</tr>
<tr class="row-even"><td><p>6M</p></td>
<td><p>(0.17)</p></td>
<td><p>(0.19)</p></td>
</tr>
<tr class="row-odd"><td><p>9M</p></td>
<td><p>(1.27)</p></td>
<td><p>(1.33)</p></td>
</tr>
<tr class="row-even"><td><p>1Y</p></td>
<td><p>(2.69)</p></td>
<td><p>(2.82)</p></td>
</tr>
<tr class="row-odd"><td><p>2Y</p></td>
<td><p>(13.97)</p></td>
<td><p>(14.03)</p></td>
</tr>
<tr class="row-even"><td><p>3Y</p></td>
<td><p>(86.66)</p></td>
<td><p>(86.91)</p></td>
</tr>
<tr class="row-odd"><td><p>5Y</p></td>
<td><p>(204.97)</p></td>
<td><p>(204.99)</p></td>
</tr>
<tr class="row-even"><td><p>7Y</p></td>
<td><p>26.46</p></td>
<td><p>27.15</p></td>
</tr>
<tr class="row-odd"><td><p>10Y</p></td>
<td><p>1.21</p></td>
<td><p>1.18</p></td>
</tr>
<tr class="row-even"><td><p>30Y</p></td>
<td><p>(0.04)</p></td>
<td><p>(0.05)</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Total</strong></p></td>
<td><p><strong>(281.06)</strong></p></td>
<td><p><strong>(281.02)</strong></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="vega-risk-by-time-structure">
<h4>Vega Risk by Time Structure<a class="headerlink" href="#vega-risk-by-time-structure" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>From</p></th>
<th class="head"><p>To</p></th>
<th class="head"><p>External</p></th>
<th class="head"><p>Internal</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1M</p></td>
<td><p>3M</p></td>
<td><p>0.29</p></td>
<td><p>0.29</p></td>
</tr>
<tr class="row-odd"><td><p>3M</p></td>
<td><p>6M</p></td>
<td><p>(0.07)</p></td>
<td><p>(0.07)</p></td>
</tr>
<tr class="row-even"><td><p>6M</p></td>
<td><p>9M</p></td>
<td><p>(0.72)</p></td>
<td><p>(0.72)</p></td>
</tr>
<tr class="row-odd"><td><p>9M</p></td>
<td><p>1Y</p></td>
<td><p>(0.53)</p></td>
<td><p>(0.53)</p></td>
</tr>
<tr class="row-even"><td><p>1Y</p></td>
<td><p>15M</p></td>
<td><p>(0.65)</p></td>
<td><p>(0.64)</p></td>
</tr>
<tr class="row-odd"><td><p>15M</p></td>
<td><p>18M</p></td>
<td><p>(0.34)</p></td>
<td><p>(0.34)</p></td>
</tr>
<tr class="row-even"><td><p>18M</p></td>
<td><p>21M</p></td>
<td><p>(0.73)</p></td>
<td><p>(0.73)</p></td>
</tr>
<tr class="row-odd"><td><p>21M</p></td>
<td><p>2Y</p></td>
<td><p>(0.45)</p></td>
<td><p>(0.45)</p></td>
</tr>
<tr class="row-even"><td><p>2Y</p></td>
<td><p>27M</p></td>
<td><p>(0.71)</p></td>
<td><p>(0.71)</p></td>
</tr>
<tr class="row-odd"><td><p>27M</p></td>
<td><p>30M</p></td>
<td><p>(0.74)</p></td>
<td><p>(0.74)</p></td>
</tr>
<tr class="row-even"><td><p>30M</p></td>
<td><p>3Y</p></td>
<td><p>(0.74)</p></td>
<td><p>(0.74)</p></td>
</tr>
<tr class="row-odd"><td><p>3Y</p></td>
<td><p>4Y</p></td>
<td><p>(1.87)</p></td>
<td><p>(1.87)</p></td>
</tr>
<tr class="row-even"><td><p>4Y</p></td>
<td><p>5Y</p></td>
<td><p>(2.87)</p></td>
<td><p>(2.86)</p></td>
</tr>
<tr class="row-odd"><td><p>5Y</p></td>
<td><p>6Y</p></td>
<td><p>(3.79)</p></td>
<td><p>(3.79)</p></td>
</tr>
<tr class="row-even"><td><p>6Y</p></td>
<td><p>7Y</p></td>
<td><p>(2.94)</p></td>
<td><p>(2.93)</p></td>
</tr>
<tr class="row-odd"><td><p>7Y</p></td>
<td><p>8Y</p></td>
<td><p>(1.39)</p></td>
<td><p>(1.39)</p></td>
</tr>
<tr class="row-even"><td><p>8Y</p></td>
<td><p>9Y</p></td>
<td><p>(0.72)</p></td>
<td><p>(0.72)</p></td>
</tr>
<tr class="row-odd"><td><p>9Y</p></td>
<td><p>10Y</p></td>
<td><p>(0.44)</p></td>
<td><p>(0.44)</p></td>
</tr>
<tr class="row-even"><td><p>3M</p></td>
<td><p>2Y</p></td>
<td><p>(0.42)</p></td>
<td><p>(0.42)</p></td>
</tr>
<tr class="row-odd"><td><p>15M</p></td>
<td><p>2Y</p></td>
<td><p>(0.92)</p></td>
<td><p>(0.91)</p></td>
</tr>
<tr class="row-even"><td><p>2Y</p></td>
<td><p>3Y</p></td>
<td><p>(0.73)</p></td>
<td><p>(0.73)</p></td>
</tr>
<tr class="row-odd"><td><p>3M</p></td>
<td><p>3Y</p></td>
<td><p>(0.40)</p></td>
<td><p>(0.40)</p></td>
</tr>
<tr class="row-even"><td><p>5Y</p></td>
<td><p>7Y</p></td>
<td><p>(0.12)</p></td>
<td><p>(0.11)</p></td>
</tr>
<tr class="row-odd"><td><p>7Y</p></td>
<td><p>10Y</p></td>
<td><p>(0.53)</p></td>
<td><p>(0.52)</p></td>
</tr>
<tr class="row-even"><td><p>15M</p></td>
<td><p>3Y</p></td>
<td><p>(0.55)</p></td>
<td><p>(0.55)</p></td>
</tr>
<tr class="row-odd"><td><p>21M</p></td>
<td><p>3Y</p></td>
<td><p>(0.73)</p></td>
<td><p>(0.73)</p></td>
</tr>
<tr class="row-even"><td><p>3M</p></td>
<td><p>5Y</p></td>
<td><p>(0.00)</p></td>
<td><p>0.01</p></td>
</tr>
<tr class="row-odd"><td><p>6M</p></td>
<td><p>3Y</p></td>
<td><p>(0.73)</p></td>
<td><p>(0.73)</p></td>
</tr>
<tr class="row-even"><td><p>6M</p></td>
<td><p>5Y</p></td>
<td><p>(0.12)</p></td>
<td><p>(0.12)</p></td>
</tr>
<tr class="row-odd"><td><p>9M</p></td>
<td><p>3Y</p></td>
<td><p>(0.73)</p></td>
<td><p>(0.73)</p></td>
</tr>
<tr class="row-even"><td><p>15M</p></td>
<td><p>5Y</p></td>
<td><p>(0.12)</p></td>
<td><p>(0.12)</p></td>
</tr>
<tr class="row-odd"><td><p>18M</p></td>
<td><p>5Y</p></td>
<td><p>(0.74)</p></td>
<td><p>(0.73)</p></td>
</tr>
<tr class="row-even"><td><p>21M</p></td>
<td><p>5Y</p></td>
<td><p>(0.12)</p></td>
<td><p>(0.12)</p></td>
</tr>
<tr class="row-odd"><td><p>3M</p></td>
<td><p>7Y</p></td>
<td><p>(0.12)</p></td>
<td><p>(0.12)</p></td>
</tr>
<tr class="row-even"><td><p>6M</p></td>
<td><p>7Y</p></td>
<td><p>(0.12)</p></td>
<td><p>(0.12)</p></td>
</tr>
<tr class="row-odd"><td><p>9M</p></td>
<td><p>7Y</p></td>
<td><p>(0.12)</p></td>
<td><p>(0.12)</p></td>
</tr>
<tr class="row-even"><td><p>1Y</p></td>
<td><p>5Y</p></td>
<td><p>(0.29)</p></td>
<td><p>(0.29)</p></td>
</tr>
<tr class="row-odd"><td><p>15M</p></td>
<td><p>7Y</p></td>
<td><p>(0.12)</p></td>
<td><p>(0.12)</p></td>
</tr>
<tr class="row-even"><td><p>18M</p></td>
<td><p>7Y</p></td>
<td><p>(0.13)</p></td>
<td><p>(0.12)</p></td>
</tr>
<tr class="row-odd"><td><p>21M</p></td>
<td><p>7Y</p></td>
<td><p>(0.12)</p></td>
<td><p>(0.12)</p></td>
</tr>
<tr class="row-even"><td><p><strong>Total</strong></p></td>
<td><p></p></td>
<td><p><strong>(29.32)</strong></p></td>
<td><p><strong>(29.25)</strong></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="key-observations">
<h4>Key Observations<a class="headerlink" href="#key-observations" title="Link to this heading">#</a></h4>
<ol class="arabic simple">
<li><p><strong>Delta Risk</strong>:</p>
<ul class="simple">
<li><p>Highest negative exposure is at the 5Y tenor: (204.97)</p></li>
<li><p>Positive exposure exists at 7Y (26.46) and 10Y (1.21) tenors</p></li>
<li><p>Total Delta risk is (281.06) for external calculations</p></li>
</ul>
</li>
<li><p><strong>Vega Risk</strong>:</p>
<ul class="simple">
<li><p>Highest negative exposure is in the 5Y-6Y bucket: (3.79)</p></li>
<li><p>Most time structure buckets show negative vega risk</p></li>
<li><p>Only positive vega exposure is in the 1M-3M bucket (0.29)</p></li>
<li><p>Total Vega risk is (29.32) for external calculations</p></li>
</ul>
</li>
<li><p><strong>External vs Internal Calculations</strong>:</p>
<ul class="simple">
<li><p>Minimal differences between external and internal risk calculations</p></li>
<li><p>Largest delta difference is at the 7Y tenor (0.69)</p></li>
<li><p>Vega calculations are nearly identical across both methods</p></li>
</ul>
</li>
</ol>
</section>
<section id="id15">
<h4>Notes<a class="headerlink" href="#id15" title="Link to this heading">#</a></h4>
<ul class="simple">
<li><p>Values in parentheses represent negative numbers</p></li>
<li><p>M = Month, Y = Year</p></li>
<li><p>Time structure indicates risk exposure between two time periods</p></li>
<li><p>Delta measures sensitivity to price changes</p></li>
<li><p>Vega measures sensitivity to volatility changes</p></li>
</ul>
<p>We can see that for each trade, the internal risk result is very close to the external risk result, which is desirable. In addition, down to the grid level, internal risk is also performing well.</p>
</section>
<section id="volatility-approximation">
<h4>8.3.3. Volatility Approximation<a class="headerlink" href="#volatility-approximation" title="Link to this heading">#</a></h4>
<section id="volatility-approximation-under-normal-conditions">
<h5>8.3.3.1. Volatility Approximation Under Normal Conditions<a class="headerlink" href="#volatility-approximation-under-normal-conditions" title="Link to this heading">#</a></h5>
<p>In below, we compare quality of volatility approximation compared to PDE. We calibrate Co-terminal ATM CLV models using market data of 01/05/2017, and see how the approximation of volatility of a 20Y into 10Y swaption performs under different input skew levels. ATM forward is around 2.5%. PDE dimension is default value 201×41.</p>
<p>For the approximation values, we use the market prices of the 20Y into 10Y swaption with corresponding strikes. Under normal market conditions, the differences between market and model volatilities are extremely small (relevant testings can be found in section 8.3.4). Under more stressed conditions, the difference is capped at 1bp if the calibration is successful (otherwise an exception will be thrown). So market volatilities are a good proxy for vol approximations.</p>
<p><img alt="Figure 8.4: Graphs and table showing 20Y10Y smile comparisons with 0%, 50%, and 100% skew" src="../../_images/121.png" /></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Strike</p></th>
<th class="head"><p>Skew Approx</p></th>
<th class="head"><p>0%</p></th>
<th class="head"><p></p></th>
<th class="head"><p>50%</p></th>
<th class="head"><p></p></th>
<th class="head"><p>100%</p></th>
<th class="head"><p></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p></p></td>
<td><p></p></td>
<td><p><strong>PDF</strong></p></td>
<td><p><strong>Diff</strong></p></td>
<td><p><strong>PDF</strong></p></td>
<td><p><strong>Diff</strong></p></td>
<td><p><strong>PDF</strong></p></td>
<td><p><strong>Diff</strong></p></td>
</tr>
<tr class="row-odd"><td><p>-0.02</p></td>
<td><p>68.89</p></td>
<td><p>68.82</p></td>
<td><p>-0.07</p></td>
<td><p>68.78</p></td>
<td><p>-0.11</p></td>
<td><p>69.79</p></td>
<td><p>0.90</p></td>
</tr>
<tr class="row-even"><td><p>0.00</p></td>
<td><p>77.53</p></td>
<td><p>77.50</p></td>
<td><p>-0.03</p></td>
<td><p>77.26</p></td>
<td><p>-0.27</p></td>
<td><p>78.47</p></td>
<td><p>0.94</p></td>
</tr>
<tr class="row-odd"><td><p>0.02</p></td>
<td><p>85.33</p></td>
<td><p>85.57</p></td>
<td><p>0.24</p></td>
<td><p>85.78</p></td>
<td><p>0.45</p></td>
<td><p>86.40</p></td>
<td><p>1.07</p></td>
</tr>
<tr class="row-even"><td><p>0.04</p></td>
<td><p>92.85</p></td>
<td><p>92.89</p></td>
<td><p>0.04</p></td>
<td><p>93.06</p></td>
<td><p>0.21</p></td>
<td><p>93.91</p></td>
<td><p>1.06</p></td>
</tr>
<tr class="row-odd"><td><p>0.06</p></td>
<td><p>100.21</p></td>
<td><p>100.25</p></td>
<td><p>0.04</p></td>
<td><p>100.25</p></td>
<td><p>0.04</p></td>
<td><p>100.97</p></td>
<td><p>0.76</p></td>
</tr>
<tr class="row-even"><td><p>0.08</p></td>
<td><p>106.21</p></td>
<td><p>106.26</p></td>
<td><p>0.05</p></td>
<td><p>106.36</p></td>
<td><p>0.15</p></td>
<td><p>106.72</p></td>
<td><p>0.51</p></td>
</tr>
</tbody>
</table>
</div>
<p>We can see that for 0% and 50% skew, the approximation is performing extremely well compared to the PDE results; for the 100% skew scenario, even though it seems there is more discrepancy compared to the lower-skew results, the difference is still less than 1bp. We can conclude that the approximation performs well and is reasonable to use under normal market conditions.</p>
</section>
<section id="volatility-approximation-under-high-skew">
<h5>8.3.3.2. Volatility Approximation Under High Skew<a class="headerlink" href="#volatility-approximation-under-high-skew" title="Link to this heading">#</a></h5>
<p>Volatility and skew approximation tend to become less accurate in high volatility and/or skew markets. In below, we show the result of the 20Y10Y smile with same setting as above, but a skew level of 150%.</p>
<p>[Graph and table showing 20Y10Y smile with 150% skew]</p>
<p><img alt="Figure 8.5: Graphs and table showing 20Y10Y smile comparisons with 0%, 50%, and 150% skew" src="../../_images/131.png" /></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Metric</p></th>
<th class="head"><p>0.01</p></th>
<th class="head"><p>0.02</p></th>
<th class="head"><p>0.03</p></th>
<th class="head"><p>0.04</p></th>
<th class="head"><p>0.05</p></th>
<th class="head"><p>0.06</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>PDF</p></td>
<td><p>80.84</p></td>
<td><p>83.96</p></td>
<td><p>90.10</p></td>
<td><p>95.96</p></td>
<td><p>102.00</p></td>
<td><p>107.65</p></td>
</tr>
<tr class="row-odd"><td><p>delta</p></td>
<td><p>99.76</p></td>
<td><p>77.88</p></td>
<td><p>65.01</p></td>
<td><p>48.92</p></td>
<td><p>31.71</p></td>
<td><p>18.65</p></td>
</tr>
<tr class="row-even"><td><p>diff</p></td>
<td><p>11.85</p></td>
<td><p>6.33</p></td>
<td><p>4.57</p></td>
<td><p>3.13</p></td>
<td><p>2.09</p></td>
<td><p>1.73</p></td>
</tr>
</tbody>
</table>
</div>
<p>From above plot, we can see that under high skew scenarios, the approximation does not match PDE results well enough, especially for the very low strikes. QA team and desk will monitor the market environment to make sure that CLV model performs as expected.</p>
</section>
</section>
<section id="pde-convergence-and-limitations">
<h4>8.3.4. PDE Convergence and Limitations<a class="headerlink" href="#pde-convergence-and-limitations" title="Link to this heading">#</a></h4>
<section id="pde-convergence-and-grid-geometry">
<h5>8.3.4.1. PDE Convergence and Grid Geometry<a class="headerlink" href="#pde-convergence-and-grid-geometry" title="Link to this heading">#</a></h5>
<p>We increase grid points to check:</p>
<ul class="simple">
<li><p>numerical scheme converges</p></li>
<li><p>how many points are needed</p></li>
</ul>
<p>Using market data as of 01/05/2017, we test all Barclay IHC’s Bermudan and CIF trades. By varying the grid geometry, we compare how PV/risks changes.</p>
</section>
</section>
</section>
<section id="risk-matrix-analysis">
<h3>Risk Matrix Analysis<a class="headerlink" href="#risk-matrix-analysis" title="Link to this heading">#</a></h3>
<section id="top-left-matrix">
<h4>Top Left Matrix<a class="headerlink" href="#top-left-matrix" title="Link to this heading">#</a></h4>
<p><strong>NB DELTA CP vs 25 DELTA P</strong></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Delta/Vega</p></th>
<th class="head"><p>1M</p></th>
<th class="head"><p>3M</p></th>
<th class="head"><p>6M</p></th>
<th class="head"><p>1Y</p></th>
<th class="head"><p>2Y</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>10%</p></td>
<td><p>(46.01)</p></td>
<td><p>(74.15)</p></td>
<td><p>(33.73)</p></td>
<td><p>73</p></td>
<td><p>31</p></td>
</tr>
<tr class="row-odd"><td><p>25%</p></td>
<td><p><strong>-</strong></p></td>
<td><p><strong>(-84.38)</strong></p></td>
<td><p>3.86</p></td>
<td><p>0.41</p></td>
<td><p>(2.93)</p></td>
</tr>
<tr class="row-even"><td><p>35%</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
</tr>
<tr class="row-odd"><td><p>50%</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="top-right-matrix">
<h4>Top Right Matrix<a class="headerlink" href="#top-right-matrix" title="Link to this heading">#</a></h4>
<p><strong>NB DELTA CP vs 25 DELTA P</strong></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Delta/Vega</p></th>
<th class="head"><p>1M</p></th>
<th class="head"><p>3M</p></th>
<th class="head"><p>6M</p></th>
<th class="head"><p>1Y</p></th>
<th class="head"><p>2Y</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>10%</p></td>
<td><p>(84.23)</p></td>
<td><p>(128.18)</p></td>
<td><p>(43.76)</p></td>
<td><p>(54)</p></td>
<td><p>29</p></td>
</tr>
<tr class="row-odd"><td><p>25%</p></td>
<td><p>-</p></td>
<td><p><strong>(144.49)</strong></p></td>
<td><p>(52.63)</p></td>
<td><p>(4.51)</p></td>
<td><p>(16.77)</p></td>
</tr>
<tr class="row-even"><td><p>35%</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
</tr>
<tr class="row-odd"><td><p>50%</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="middle-left-matrix">
<h4>Middle Left Matrix<a class="headerlink" href="#middle-left-matrix" title="Link to this heading">#</a></h4>
<p><strong>NB DELTA CP vs 25 DELTA PUT</strong></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Delta/Vega</p></th>
<th class="head"><p>1M</p></th>
<th class="head"><p>3M</p></th>
<th class="head"><p>6M</p></th>
<th class="head"><p>1Y</p></th>
<th class="head"><p>2Y</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>10%</p></td>
<td><p>0.00</p></td>
<td><p>0</p></td>
<td><p>(0.61)</p></td>
<td><p>0.01</p></td>
<td><p>0.01</p></td>
</tr>
<tr class="row-odd"><td><p>25%</p></td>
<td><p>0.00</p></td>
<td><p><strong>-0.61</strong></p></td>
<td><p>0.26</p></td>
<td><p>0.03</p></td>
<td><p>0.01</p></td>
</tr>
<tr class="row-even"><td><p>35%</p></td>
<td><p>0.00</p></td>
<td><p>0</p></td>
<td><p>0.01</p></td>
<td><p>0.01</p></td>
<td><p>0.00</p></td>
</tr>
<tr class="row-odd"><td><p>50%</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="middle-right-matrix">
<h4>Middle Right Matrix<a class="headerlink" href="#middle-right-matrix" title="Link to this heading">#</a></h4>
<p><strong>NB DELTA CP vs 25 DELTA PUT</strong></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Delta/Vega</p></th>
<th class="head"><p>1M</p></th>
<th class="head"><p>3M</p></th>
<th class="head"><p>6M</p></th>
<th class="head"><p>1Y</p></th>
<th class="head"><p>2Y</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>10%</p></td>
<td><p>0.75</p></td>
<td><p>0</p></td>
<td><p>0.64</p></td>
<td><p>0.28</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>25%</p></td>
<td><p>-</p></td>
<td><p><strong>-0.44</strong></p></td>
<td><p>2.14</p></td>
<td><p>(0.39)</p></td>
<td><p>(0.33)</p></td>
</tr>
<tr class="row-even"><td><p>35%</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
</tr>
<tr class="row-odd"><td><p>50%</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="bottom-left-matrix">
<h4>Bottom Left Matrix<a class="headerlink" href="#bottom-left-matrix" title="Link to this heading">#</a></h4>
<p><strong>NB DELTA VEGA vs 25 DELTA</strong></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Delta/Vega</p></th>
<th class="head"><p>1M</p></th>
<th class="head"><p>3M</p></th>
<th class="head"><p>6M</p></th>
<th class="head"><p>1Y</p></th>
<th class="head"><p>2Y</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>10%</p></td>
<td><p>4.72</p></td>
<td><p>3.13</p></td>
<td><p>1.96</p></td>
<td><p>0.73</p></td>
<td><p>0.03</p></td>
</tr>
<tr class="row-odd"><td><p>25%</p></td>
<td><p>-</p></td>
<td><p><strong>-3.43</strong></p></td>
<td><p>1.96</p></td>
<td><p>0.73</p></td>
<td><p>0.03</p></td>
</tr>
<tr class="row-even"><td><p>35%</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
</tr>
<tr class="row-odd"><td><p>50%</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="bottom-right-matrix">
<h4>Bottom Right Matrix<a class="headerlink" href="#bottom-right-matrix" title="Link to this heading">#</a></h4>
<p><strong>NB DELTA VEGA vs 25 DELTA</strong></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Delta/Vega</p></th>
<th class="head"><p>1M</p></th>
<th class="head"><p>3M</p></th>
<th class="head"><p>6M</p></th>
<th class="head"><p>1Y</p></th>
<th class="head"><p>2Y</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>10%</p></td>
<td><p>8.75</p></td>
<td><p>13.45</p></td>
<td><p>12.11</p></td>
<td><p>6.73</p></td>
<td><p>0.93</p></td>
</tr>
<tr class="row-odd"><td><p>25%</p></td>
<td><p>-</p></td>
<td><p><strong>-3.92</strong></p></td>
<td><p>3.35</p></td>
<td><p>0.90</p></td>
<td><p>0.93</p></td>
</tr>
<tr class="row-even"><td><p>35%</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
</tr>
<tr class="row-odd"><td><p>50%</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id16">
<h4>Key Observations<a class="headerlink" href="#id16" title="Link to this heading">#</a></h4>
<ol class="arabic simple">
<li><p><strong>Highlighted Critical Values</strong>:</p>
<ul class="simple">
<li><p>Several values are highlighted in yellow across the matrices, particularly at the 25% delta level and 3M time period</p></li>
<li><p>The largest highlighted value is (-144.49) in the top right matrix</p></li>
</ul>
</li>
<li><p><strong>Pattern Analysis</strong>:</p>
<ul class="simple">
<li><p>Negative values (shown in red in the original) are most prevalent in the top two matrices</p></li>
<li><p>Middle matrices contain values closer to zero, suggesting lower risk or exposure</p></li>
<li><p>Bottom matrices show primarily positive values, especially in the 10% delta row</p></li>
</ul>
</li>
<li><p><strong>Time Period Trends</strong>:</p>
<ul class="simple">
<li><p>The 3M column frequently contains the most extreme values</p></li>
<li><p>Values tend to moderate as time periods extend to 1Y and 2Y</p></li>
<li><p>The 1M column shows significant variability across different matrices</p></li>
</ul>
</li>
<li><p><strong>Delta Level Impact</strong>:</p>
<ul class="simple">
<li><p>10% delta level consistently shows more extreme values than other levels</p></li>
<li><p>25% delta level contains most of the highlighted values of concern</p></li>
<li><p>Higher delta levels (35%, 50%) have limited or no data in most matrices</p></li>
</ul>
</li>
</ol>
<p>From above two tables, we can see that for both trade types, the PDE scheme exhibit convergence. In addition, the highlighted cell represents the results of the default PDE grid size (201×41). We can see that this choice of grid size gives us reasonable difference compared to those with larger grid sizes. Thus, we set the default at this level because it gives us a good balance between accuracy and speed.</p>
<p>The testing FSP scenario is:
private/system/configmanager/luyangfa/fsp/scenarios/templates/clv/modeltest/pdeconvergence</p>
<section id="limitations">
<h5>8.3.4.2. Limitations<a class="headerlink" href="#limitations" title="Link to this heading">#</a></h5>
<p>As aforementioned, under some extreme market conditions such as very high volatility/skew, the CLV model may fail. As a rule of thumb, high volatility refers to a level greater than 120bpy, and high skew greater than 150%.</p>
<p>We test for PDE performance under two different skew scenarios using market date 01/05/2017. Below table shows the difference of the PV of underlying using CLV and that from using the vanilla pricer. First table we use skew = 100%, while second we use skew = 250%. We can see that under the high-skew model, the difference is bigger and thus will take more points to reach the same accuracy threshold.</p>
</section>
</section>
</section>
<section id="table-1-delta-vega-theta-ratios-top-matrix">
<h3>Table 1: Delta/Vega/Theta Ratios (Top Matrix)<a class="headerlink" href="#table-1-delta-vega-theta-ratios-top-matrix" title="Link to this heading">#</a></h3>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Delta/Vega/Theta</p></th>
<th class="head"><p>1M</p></th>
<th class="head"><p>3M</p></th>
<th class="head"><p>6M</p></th>
<th class="head"><p>1Y</p></th>
<th class="head"><p>30Y</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>10%</p></td>
<td><p>0.005358</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
</tr>
<tr class="row-odd"><td><p>15%</p></td>
<td><p>-</p></td>
<td><p>0.081577</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
</tr>
<tr class="row-even"><td><p>25%</p></td>
<td><p>-</p></td>
<td><p><strong>0.081118</strong></p></td>
<td><p>0.081118</p></td>
<td><p>-</p></td>
<td><p>0.381023</p></td>
</tr>
<tr class="row-odd"><td><p>50%</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>0.601015</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="table-2-delta-vega-phi-ratios-bottom-matrix">
<h3>Table 2: Delta/Vega/Phi Ratios (Bottom Matrix)<a class="headerlink" href="#table-2-delta-vega-phi-ratios-bottom-matrix" title="Link to this heading">#</a></h3>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Delta/Vega/Phi</p></th>
<th class="head"><p>1M</p></th>
<th class="head"><p>3M</p></th>
<th class="head"><p>6M</p></th>
<th class="head"><p>1Y</p></th>
<th class="head"><p>30Y</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>10%</p></td>
<td><p>0.568432</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
</tr>
<tr class="row-odd"><td><p>15%</p></td>
<td><p>-</p></td>
<td><p>0.564805</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
</tr>
<tr class="row-even"><td><p>25%</p></td>
<td><p>-</p></td>
<td><p><strong>0.574094</strong></p></td>
<td><p>0.568432</p></td>
<td><p>-</p></td>
<td><p>0.568234</p></td>
</tr>
<tr class="row-odd"><td><p>50%</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>0.551421</p></td>
</tr>
</tbody>
</table>
</div>
<p>In general, combination of high model skews and volatilities and/or long dated models will tend to make the model closer to the boundaries where numerical methodologies get unstable. Such boundary cases may come from genuine market (real model limitation), but more often from a calibration strategy not being consistent with actual market data dynamics. An example of the latter is that if you calibrate high strikes with a model fixed skew significantly much lower than the market skew, you may end up with artificially high model volatilities. Therefore one has to be careful when choosing a calibration strategy. If the user is not sure about it, we would recommend him to include ATM volatilities as part of the calibration targets.</p>
<section id="calibration-errors">
<h4>8.3.5. Calibration Errors<a class="headerlink" href="#calibration-errors" title="Link to this heading">#</a></h4>
<p>During the calibration process, CLV model will calibrate to market instruments (swaptions or swaptions+caplets depending on which calibration type it is). The calibration will succeed if the CLV model is able to match all instruments in the calibration set within a certain tolerance (default is 1bp). Below we show the calibration results of two trades.</p>
<p>The first one is a Bermudan swaption eln0711efd1. For Bermudan swaptions, PDN setting is to use SMR + TMR, the last stage is co-terminal calibration, so we only have swaptions in our calibration set.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Swaption ID</p></th>
<th class="head"><p>Begin</p></th>
<th class="head"><p>End</p></th>
<th class="head"><p>ModelVol (bps)</p></th>
<th class="head"><p>MarketVol (bps)</p></th>
<th class="head"><p>Error</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>03/06/17</p></td>
<td><p>10/29/21</p></td>
<td><p>81.7333</p></td>
<td><p>81.7332</p></td>
<td><p>0.0001</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>04/05/17</p></td>
<td><p>10/29/21</p></td>
<td><p>78.8705</p></td>
<td><p>78.8702</p></td>
<td><p>0.0003</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>07/05/17</p></td>
<td><p>10/29/21</p></td>
<td><p>79.9835</p></td>
<td><p>79.9831</p></td>
<td><p>0.0004</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>08/04/17</p></td>
<td><p>10/29/21</p></td>
<td><p>80.9838</p></td>
<td><p>80.9838</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>10/05/17</p></td>
<td><p>10/29/21</p></td>
<td><p>76.884</p></td>
<td><p>76.8839</p></td>
<td><p>0.0001</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>11/03/17</p></td>
<td><p>10/29/21</p></td>
<td><p>76.8850</p></td>
<td><p>76.8849</p></td>
<td><p>0.0001</p></td>
</tr>
<tr class="row-even"><td><p>6</p></td>
<td><p>12/01/17</p></td>
<td><p>10/29/21</p></td>
<td><p>82.1207</p></td>
<td><p>82.1201</p></td>
<td><p>0.0006</p></td>
</tr>
<tr class="row-odd"><td><p>7</p></td>
<td><p>01/05/18</p></td>
<td><p>10/29/21</p></td>
<td><p>78.0689</p></td>
<td><p>78.0688</p></td>
<td><p>0.0001</p></td>
</tr>
<tr class="row-even"><td><p>8</p></td>
<td><p>04/06/18</p></td>
<td><p>10/29/21</p></td>
<td><p>83.0982</p></td>
<td><p>83.0979</p></td>
<td><p>0.0003</p></td>
</tr>
<tr class="row-odd"><td><p>9</p></td>
<td><p>06/01/18</p></td>
<td><p>10/29/21</p></td>
<td><p>81.6086</p></td>
<td><p>81.6086</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>10</p></td>
<td><p>07/05/18</p></td>
<td><p>10/29/21</p></td>
<td><p>84.5089</p></td>
<td><p>84.5089</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>11</p></td>
<td><p>08/03/18</p></td>
<td><p>10/29/21</p></td>
<td><p>80.6433</p></td>
<td><p>80.6412</p></td>
<td><p>0.0021</p></td>
</tr>
<tr class="row-even"><td><p>12</p></td>
<td><p>10/05/18</p></td>
<td><p>10/29/21</p></td>
<td><p>82.9304</p></td>
<td><p>82.9304</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>13</p></td>
<td><p>11/02/18</p></td>
<td><p>10/29/21</p></td>
<td><p>82.2824</p></td>
<td><p>82.2822</p></td>
<td><p>0.0002</p></td>
</tr>
<tr class="row-even"><td><p>14</p></td>
<td><p>12/07/18</p></td>
<td><p>10/29/21</p></td>
<td><p>82.7973</p></td>
<td><p>82.7973</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>15</p></td>
<td><p>01/07/19</p></td>
<td><p>10/29/21</p></td>
<td><p>83.7698</p></td>
<td><p>83.7699</p></td>
<td><p>-0.0001</p></td>
</tr>
<tr class="row-even"><td><p>16</p></td>
<td><p>04/05/19</p></td>
<td><p>10/29/21</p></td>
<td><p>87.8512</p></td>
<td><p>87.8512</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>17</p></td>
<td><p>05/03/19</p></td>
<td><p>10/29/21</p></td>
<td><p>84.9301</p></td>
<td><p>84.9299</p></td>
<td><p>0.0002</p></td>
</tr>
<tr class="row-even"><td><p>18</p></td>
<td><p>06/07/19</p></td>
<td><p>10/29/21</p></td>
<td><p>85.0443</p></td>
<td><p>85.0444</p></td>
<td><p>-0.0001</p></td>
</tr>
<tr class="row-odd"><td><p>19</p></td>
<td><p>07/05/19</p></td>
<td><p>10/29/21</p></td>
<td><p>83.9721</p></td>
<td><p>83.9721</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>20</p></td>
<td><p>10/07/19</p></td>
<td><p>10/29/21</p></td>
<td><p>89.8909</p></td>
<td><p>89.8909</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>21</p></td>
<td><p>01/10/20</p></td>
<td><p>10/29/21</p></td>
<td><p>84.9993</p></td>
<td><p>84.9993</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>22</p></td>
<td><p>01/04/20</p></td>
<td><p>10/29/21</p></td>
<td><p>90.1950</p></td>
<td><p>90.1950</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>23</p></td>
<td><p>07/10/20</p></td>
<td><p>10/29/21</p></td>
<td><p>90.1051</p></td>
<td><p>90.1050</p></td>
<td><p>0.0001</p></td>
</tr>
<tr class="row-even"><td><p>24</p></td>
<td><p>01/05/21</p></td>
<td><p>10/29/21</p></td>
<td><p>91.9911</p></td>
<td><p>91.9911</p></td>
<td><p>0</p></td>
</tr>
</tbody>
</table>
</div>
<p>Next table shows the calibration results a CIF: eln07bf3871. For CIFs, PDN setting is V-fit, so we have both swaptions and caplets in our calibration set.</p>
</section>
</section>
<section id="level">
<h3>50% Level<a class="headerlink" href="#level" title="Link to this heading">#</a></h3>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>TradeSubType</p></th>
<th class="head"><p>TradeId</p></th>
<th class="head"><p>Vanilla Price</p></th>
<th class="head"><p>Model</p></th>
<th class="head"><p></p></th>
<th class="head"><p>PV diff in rate</p></th>
<th class="head"><p>Delta B</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>DIGRF</p></td>
<td><p>dm0710719F1</p></td>
<td><p>51,264</p></td>
<td><p>(976)</p></td>
<td><p>(1,242)</p></td>
<td><p>32,473</p></td>
<td><p>(987)</p></td>
</tr>
<tr class="row-odd"><td><p>DIGRF</p></td>
<td><p>dm0713c89c0</p></td>
<td><p>5,338</p></td>
<td><p>(3,306)</p></td>
<td><p>(2,888)</p></td>
<td><p>(6,359)</p></td>
<td><p>(2,896)</p></td>
</tr>
<tr class="row-even"><td><p>DIGRF</p></td>
<td><p>dm0713c91d</p></td>
<td><p>499,460</p></td>
<td><p>(11,685)</p></td>
<td><p>(2,787)</p></td>
<td><p>406,288</p></td>
<td><p>(11,671)</p></td>
</tr>
<tr class="row-odd"><td><p>DIGRF</p></td>
<td><p>dm0713e8e90</p></td>
<td><p>41,233</p></td>
<td><p>(819)</p></td>
<td><p>(1,052)</p></td>
<td><p>2,173</p></td>
<td><p>(804)</p></td>
</tr>
<tr class="row-even"><td><p>DIGRF</p></td>
<td><p>dm0714d2bc5</p></td>
<td><p>41,263</p></td>
<td><p>(1,626)</p></td>
<td><p>(313)</p></td>
<td><p>426,738</p></td>
<td><p>(2,262)</p></td>
</tr>
<tr class="row-odd"><td><p>DKRERIM</p></td>
<td><p>dm0718ef14</p></td>
<td><p>(1,038)</p></td>
<td><p>(44)</p></td>
<td><p>0</p></td>
<td><p>(1,038)</p></td>
<td><p>(44)</p></td>
</tr>
<tr class="row-even"><td><p>DKRERIM</p></td>
<td><p>dm0713c91e</p></td>
<td><p>(0,778)</p></td>
<td><p>(658)</p></td>
<td><p>0</p></td>
<td><p>(0,776)</p></td>
<td><p>(658)</p></td>
</tr>
<tr class="row-odd"><td><p>DKRERIM</p></td>
<td><p>dm0718ef54</p></td>
<td><p>(1,284)</p></td>
<td><p>(431)</p></td>
<td><p>0</p></td>
<td><p>(1,284)</p></td>
<td><p>(431)</p></td>
</tr>
<tr class="row-even"><td><p>DKRERIM</p></td>
<td><p>dm0713c91f</p></td>
<td><p>(0,797)</p></td>
<td><p>(279)</p></td>
<td><p>0</p></td>
<td><p>(0,797)</p></td>
<td><p>(279)</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id17">
<h3>100% Level<a class="headerlink" href="#id17" title="Link to this heading">#</a></h3>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>TradeSubType</p></th>
<th class="head"><p>TradeId</p></th>
<th class="head"><p>CCYPV</p></th>
<th class="head"><p>Delta</p></th>
<th class="head"><p>Vega</p></th>
<th class="head"><p>CCYPV</p></th>
<th class="head"><p>Delta</p></th>
<th class="head"><p>Vega</p></th>
<th class="head"><p>PV diff in rate</p></th>
<th class="head"><p>Delta B</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>DIGRF</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>3,519</p></td>
</tr>
<tr class="row-odd"><td><p>DIGRF</p></td>
<td><p>dm0713c89c0</p></td>
<td><p>13,794</p></td>
<td><p>(5,001)</p></td>
<td><p>(878)</p></td>
<td><p>16,178</p></td>
<td><p>(5,073)</p></td>
<td><p>(863)</p></td>
<td><p>0,972</p></td>
<td><p>(2,389)</p></td>
</tr>
<tr class="row-even"><td><p>DIGRF</p></td>
<td><p>dm0713c91d</p></td>
<td><p>99,560</p></td>
<td><p>(11,685)</p></td>
<td><p>(2,787)</p></td>
<td><p>406,288</p></td>
<td><p>(11,858)</p></td>
<td><p>(2,787)</p></td>
<td><p>0</p></td>
<td><p>93,032</p></td>
</tr>
<tr class="row-odd"><td><p>DIGRF</p></td>
<td><p>dm0713e8e90</p></td>
<td><p>41,233</p></td>
<td><p>(819)</p></td>
<td><p>(1,052)</p></td>
<td><p>4,196</p></td>
<td><p>(962)</p></td>
<td><p>(1,164)</p></td>
<td><p>0,010</p></td>
<td><p>3,197</p></td>
</tr>
<tr class="row-even"><td><p>DIGRF</p></td>
<td><p>dm0714d2bc5</p></td>
<td><p>30,369</p></td>
<td><p>(1,257)</p></td>
<td><p>(100)</p></td>
<td><p>26,131</p></td>
<td><p>(1,565)</p></td>
<td><p>(167)</p></td>
<td><p>0,198</p></td>
<td><p>12,329</p></td>
</tr>
<tr class="row-odd"><td><p>DKRERIM</p></td>
<td><p>dm0718ef14</p></td>
<td><p>(1,038)</p></td>
<td><p>(44)</p></td>
<td><p>0</p></td>
<td><p>(1,038)</p></td>
<td><p>(44)</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>DKRERIM</p></td>
<td><p>dm0713c91e</p></td>
<td><p>(0,776)</p></td>
<td><p>(657)</p></td>
<td><p>0</p></td>
<td><p>(0,776)</p></td>
<td><p>(657)</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>DKRERIM</p></td>
<td><p>dm0718ef54</p></td>
<td><p>(1,284)</p></td>
<td><p>(431)</p></td>
<td><p>0</p></td>
<td><p>(1,284)</p></td>
<td><p>(431)</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>DKRERIM</p></td>
<td><p>dm0713c91f</p></td>
<td><p>(0,797)</p></td>
<td><p>(279)</p></td>
<td><p>0</p></td>
<td><p>(0,797)</p></td>
<td><p>(279)</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
</tbody>
</table>
</div>
<p>From above tables, we can see that CLV is performing very well to price the underlying. Both PV and risks matches those from the vanilla pricer to a great accuracy for both trade types.</p>
</section>
<section id="lmm">
<h3>8.4. LMM<a class="headerlink" href="#lmm" title="Link to this heading">#</a></h3>
<p>CLV is a one-factor model while LMM is capable of multi-factor pricing. A more reasonable comparison is to compare CLV with one-factor LMM. Also, LMM calibrates to a full Libor grid, so we use CLV V-fit calibration, which calibrates to more market instruments on the grid comparing to CLV Co-terminal calibration. Both models calibrate to ATM strike, and market date is 01/05/2017.</p>
<p>Below, we shows the results with three different skew levels.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>TraderID</p></th>
<th class="head"><p>Level</p></th>
<th class="head"><p>CLVY Fit</p></th>
<th class="head"><p>LMM 1F</p></th>
<th class="head"><p>Diff</p></th>
<th class="head"><p>TraderID</p></th>
<th class="head"><p>CLVY Fit</p></th>
<th class="head"><p>LMM 1F</p></th>
<th class="head"><p>Diff</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>dm0711e8d1</p></td>
<td><p>0%</p></td>
<td><p>(5.23)</p></td>
<td><p>(2.023)</p></td>
<td><p>3.0</p></td>
<td><p>dm0730f87f1</p></td>
<td><p>(19.10)</p></td>
<td><p>(32.51)</p></td>
<td><p>(309)</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>50%</p></td>
<td><p>(2.010)</p></td>
<td><p>(2.559)</p></td>
<td><p>(51)</p></td>
<td><p></p></td>
<td><p>(34.811)</p></td>
<td><p>(36.579)</p></td>
<td><p>1.769</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>100%</p></td>
<td><p>(32.21)</p></td>
<td><p>(9.842)</p></td>
<td><p>1.379</p></td>
<td><p></p></td>
<td><p>(36.769)</p></td>
<td><p>(48.657)</p></td>
<td><p>1.889</p></td>
</tr>
<tr class="row-odd"><td><p>dm0714c2bc5</p></td>
<td><p>0%</p></td>
<td><p>(40.41)</p></td>
<td><p>(41.011)</p></td>
<td><p>(31)</p></td>
<td><p>dm0713e8e90</p></td>
<td><p>(7.929)</p></td>
<td><p>(13.979)</p></td>
<td><p>981</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>50%</p></td>
<td><p>(143.604)</p></td>
<td><p>(143.352)</p></td>
<td><p>(252)</p></td>
<td><p></p></td>
<td><p>(180.472)</p></td>
<td><p>(182.765)</p></td>
<td><p>2.309</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>100%</p></td>
<td><p>(144.824)</p></td>
<td><p>(143.324)</p></td>
<td><p>(144)</p></td>
<td><p></p></td>
<td><p>(183.007)</p></td>
<td><p>(180.318)</p></td>
<td><p>2.709</p></td>
</tr>
<tr class="row-even"><td><p>dm0713c91d</p></td>
<td><p>0%</p></td>
<td><p>(47.760)</p></td>
<td><p>(47.717)</p></td>
<td><p>(43)</p></td>
<td><p>dm0711e8d1</p></td>
<td><p>(450.746)</p></td>
<td><p>(420.846)</p></td>
<td><p>29.980</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>50%</p></td>
<td><p>(46.321)</p></td>
<td><p>(46.258)</p></td>
<td><p>(63)</p></td>
<td><p></p></td>
<td><p>(465.145)</p></td>
<td><p>(435.198)</p></td>
<td><p>29.957</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>100%</p></td>
<td><p>(49.821)</p></td>
<td><p>(48.393)</p></td>
<td><p>(1.362)</p></td>
<td><p></p></td>
<td><p>(478.991)</p></td>
<td><p>(522.554)</p></td>
<td><p>43.563</p></td>
</tr>
<tr class="row-odd"><td><p>dm0718ef54</p></td>
<td><p>0%</p></td>
<td><p>(22.684)</p></td>
<td><p>(22.760)</p></td>
<td><p>75</p></td>
<td><p></p></td>
<td><p>(14.169)</p></td>
<td><p>(13.613)</p></td>
<td><p>(556)</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>50%</p></td>
<td><p>(22.521)</p></td>
<td><p>(21.941)</p></td>
<td><p>(581)</p></td>
<td><p></p></td>
<td><p>(15.348)</p></td>
<td><p>(14.526)</p></td>
<td><p>828</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>100%</p></td>
<td><p>(21.948)</p></td>
<td><p>(21.821)</p></td>
<td><p>(122)</p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>dm07307f1c</p></td>
<td><p>0%</p></td>
<td><p>(11.184)</p></td>
<td><p>(11.176)</p></td>
<td><p>(12)</p></td>
<td><p>dm0718ea050</p></td>
<td><p>(2.210)</p></td>
<td><p>(7.544)</p></td>
<td><p>4.733</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>50%</p></td>
<td><p>(11.605)</p></td>
<td><p>(12.412)</p></td>
<td><p>810</p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>100%</p></td>
<td><p>(9.420)</p></td>
<td><p>(10.600)</p></td>
<td><p>1.198</p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>DCSERM</p></th>
<th class="head"><p>CLV-V-fit</p></th>
<th class="head"><p>LMM-1F</p></th>
<th class="head"><p>Diff</p></th>
<th class="head"><p>DKCF</p></th>
<th class="head"><p>CLV-V-fit</p></th>
<th class="head"><p>LMM-1F</p></th>
<th class="head"><p>Diff</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>8/07/11d4f1</p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p>8/07/0fd871</p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>0%</p></td>
<td><p>(30)</p></td>
<td><p>(30)</p></td>
<td><p>(0)</p></td>
<td><p>0%</p></td>
<td><p>(482)</p></td>
<td><p>(480)</p></td>
<td><p>(1)</p></td>
</tr>
<tr class="row-even"><td><p>50%</p></td>
<td><p>(30)</p></td>
<td><p>(29)</p></td>
<td><p>(1)</p></td>
<td><p>50%</p></td>
<td><p>(482)</p></td>
<td><p>(420)</p></td>
<td><p>(62)</p></td>
</tr>
<tr class="row-odd"><td><p>100%</p></td>
<td><p>(29)</p></td>
<td><p>(29)</p></td>
<td><p>(0)</p></td>
<td><p>100%</p></td>
<td><p>(478)</p></td>
<td><p>(427)</p></td>
<td><p>(51)</p></td>
</tr>
<tr class="row-even"><td><p>8/07/142b65</p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p>8/07/13e608</p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>0%</p></td>
<td><p>(3,568)</p></td>
<td><p>(3,475)</p></td>
<td><p>(93)</p></td>
<td><p>0%</p></td>
<td><p>(2,824)</p></td>
<td><p>(1,830)</p></td>
<td><p>(993)</p></td>
</tr>
<tr class="row-even"><td><p>50%</p></td>
<td><p>(1,555)</p></td>
<td><p>(1,454)</p></td>
<td><p>(101)</p></td>
<td><p>50%</p></td>
<td><p>(2,297)</p></td>
<td><p>(1,428)</p></td>
<td><p>(869)</p></td>
</tr>
<tr class="row-odd"><td><p>100%</p></td>
<td><p>(1,472)</p></td>
<td><p>(1,372)</p></td>
<td><p>(101)</p></td>
<td><p>100%</p></td>
<td><p>(2,270)</p></td>
<td><p>(2,065)</p></td>
<td><p>(205)</p></td>
</tr>
<tr class="row-even"><td><p>8/07/18d6d4</p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p>8/07/186dd0</p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>0%</p></td>
<td><p>(424)</p></td>
<td><p>(424)</p></td>
<td><p>(0)</p></td>
<td><p>0%</p></td>
<td><p>(5,534)</p></td>
<td><p>(5,672)</p></td>
<td><p>138</p></td>
</tr>
<tr class="row-even"><td><p>50%</p></td>
<td><p>(402)</p></td>
<td><p>(397)</p></td>
<td><p>(5)</p></td>
<td><p>50%</p></td>
<td><p>(5,477)</p></td>
<td><p>(5,831)</p></td>
<td><p>(445)</p></td>
</tr>
<tr class="row-odd"><td><p>100%</p></td>
<td><p>(390)</p></td>
<td><p>(380)</p></td>
<td><p>(10)</p></td>
<td><p>100%</p></td>
<td><p>(5,467)</p></td>
<td><p>(5,457)</p></td>
<td><p>(10)</p></td>
</tr>
<tr class="row-even"><td><p>8/07/190f70</p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p>8/07/10d9e4</p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>0%</p></td>
<td><p>(305)</p></td>
<td><p>(296)</p></td>
<td><p>(9)</p></td>
<td><p>0%</p></td>
<td><p>(376)</p></td>
<td><p>(290)</p></td>
<td><p>(86)</p></td>
</tr>
<tr class="row-even"><td><p>50%</p></td>
<td><p>(260)</p></td>
<td><p>(240)</p></td>
<td><p>(40)</p></td>
<td><p>50%</p></td>
<td><p>(531)</p></td>
<td><p>(446)</p></td>
<td><p>(85)</p></td>
</tr>
<tr class="row-odd"><td><p>100%</p></td>
<td><p>(275)</p></td>
<td><p>(248)</p></td>
<td><p>(28)</p></td>
<td><p>100%</p></td>
<td><p>(556)</p></td>
<td><p>(385)</p></td>
<td><p>(171)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>DCSERM</p></th>
<th class="head"><p>CLV-V-fit</p></th>
<th class="head"><p>LMM-1F</p></th>
<th class="head"><p>Diff</p></th>
<th class="head"><p>DKCF</p></th>
<th class="head"><p>CLV-V-fit</p></th>
<th class="head"><p>LMM-1F</p></th>
<th class="head"><p>Diff</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>8/07/11d4f1</p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p>8/07/0fd871</p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>0%</p></td>
<td><p>(17)</p></td>
<td><p>(17)</p></td>
<td><p>0</p></td>
<td><p>0%</p></td>
<td><p>(537)</p></td>
<td><p>(549)</p></td>
<td><p>12</p></td>
</tr>
<tr class="row-even"><td><p>50%</p></td>
<td><p>(15)</p></td>
<td><p>(16)</p></td>
<td><p>(0)</p></td>
<td><p>50%</p></td>
<td><p>(590)</p></td>
<td><p>(623)</p></td>
<td><p>33</p></td>
</tr>
<tr class="row-odd"><td><p>100%</p></td>
<td><p>(16)</p></td>
<td><p>(16)</p></td>
<td><p>0</p></td>
<td><p>100%</p></td>
<td><p>(590)</p></td>
<td><p>(602)</p></td>
<td><p>12</p></td>
</tr>
<tr class="row-even"><td><p>8/07/142b65</p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p>8/07/13e608</p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>0%</p></td>
<td><p>(948)</p></td>
<td><p>(935)</p></td>
<td><p>(13)</p></td>
<td><p>0%</p></td>
<td><p>(1,244)</p></td>
<td><p>(1,275)</p></td>
<td><p>30</p></td>
</tr>
<tr class="row-even"><td><p>50%</p></td>
<td><p>(974)</p></td>
<td><p>(961)</p></td>
<td><p>(13)</p></td>
<td><p>50%</p></td>
<td><p>(1,431)</p></td>
<td><p>(1,498)</p></td>
<td><p>67</p></td>
</tr>
<tr class="row-odd"><td><p>100%</p></td>
<td><p>(992)</p></td>
<td><p>(1,004)</p></td>
<td><p>13</p></td>
<td><p>100%</p></td>
<td><p>(1,601)</p></td>
<td><p>(1,558)</p></td>
<td><p>(43)</p></td>
</tr>
<tr class="row-even"><td><p>8/07/18d6d4</p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p>8/07/186dd0</p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>0%</p></td>
<td><p>(457)</p></td>
<td><p>(453)</p></td>
<td><p>(4)</p></td>
<td><p>0%</p></td>
<td><p>(7,192)</p></td>
<td><p>(7,209)</p></td>
<td><p>17</p></td>
</tr>
<tr class="row-even"><td><p>50%</p></td>
<td><p>(439)</p></td>
<td><p>(453)</p></td>
<td><p>(15)</p></td>
<td><p>50%</p></td>
<td><p>(7,757)</p></td>
<td><p>(8,051)</p></td>
<td><p>295</p></td>
</tr>
<tr class="row-odd"><td><p>100%</p></td>
<td><p>(417)</p></td>
<td><p>(405)</p></td>
<td><p>(13)</p></td>
<td><p>100%</p></td>
<td><p>(8,293)</p></td>
<td><p>(8,883)</p></td>
<td><p>590</p></td>
</tr>
<tr class="row-even"><td><p>8/07/190f70</p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p>8/07/10d9e4</p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>0%</p></td>
<td><p>(175)</p></td>
<td><p>(174)</p></td>
<td><p>(1)</p></td>
<td><p>0%</p></td>
<td><p>(479)</p></td>
<td><p>(486)</p></td>
<td><p>7</p></td>
</tr>
<tr class="row-even"><td><p>50%</p></td>
<td><p>(179)</p></td>
<td><p>(160)</p></td>
<td><p>(19)</p></td>
<td><p>50%</p></td>
<td><p>(523)</p></td>
<td><p>(522)</p></td>
<td><p>(0)</p></td>
</tr>
<tr class="row-odd"><td><p>100%</p></td>
<td><p>(370)</p></td>
<td><p>(355)</p></td>
<td><p>(15)</p></td>
<td><p>100%</p></td>
<td><p>(744)</p></td>
<td><p>(832)</p></td>
<td><p>88</p></td>
</tr>
</tbody>
</table>
</div>
<p>Comments:</p>
<ul class="simple">
<li><p>At skew 0%, we expect CLV V-fit to align well with LMM 1F. The numbers illustrate the alignment. The reason PVs are not identical is (primarily) because CLV V-fit does not calibrate to off-diagonal volatilities but LMM does.</p></li>
<li><p>When we impose “100% skew” on CLV, we can only ensure coterminal swap rates are lognormal. Caplets and off-diagonal skew distributions are implied by coterminal swap rate skew and mean-reversion. This is because CLV is a local volatility model. On the other hand, LMM is global model. Hence, 100% skew imposes lognormal structure across entire volatility grid. This is the key reason why skew impact (in above table) varies between LMM and CLV.</p></li>
</ul>
</section>
</section>
<section id="model-assumptions-limitations">
<h2>9. Model Assumptions/Limitations<a class="headerlink" href="#model-assumptions-limitations" title="Link to this heading">#</a></h2>
</section>
<section id="model-assumptions-and-justifications">
<h2>Model Assumptions and Justifications<a class="headerlink" href="#model-assumptions-and-justifications" title="Link to this heading">#</a></h2>
</section>
<section id="assumptions">
<h2>9.1. Assumptions<a class="headerlink" href="#assumptions" title="Link to this heading">#</a></h2>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Assumptions</p></th>
<th class="head"><p>Justifications</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>no-arbitrage and frictionless market (no transaction cost, no bid-ask spread, no restrictions on trade such as margin requirements or short sale restrictions, no tax)</p></td>
<td><p>These are basic pricing assumptions, also very large institutional traders approximate frictionless markets since their transaction costs are minimal.</p></td>
</tr>
<tr class="row-odd"><td><p>A deterministic basis adjustment (“finbias”) is applied to the discount curve to infer the forecast curve. In particular, we assume that the instantaneous basis margin is equal to its forward value. Equivalently speaking, there is a deterministic multiplicative spread between the discount bond prices</p></td>
<td><p>This is a result from the basic assumption where the instantaneous basis margin is equal to its forward value: <span class="math notranslate nohighlight">\(\mu(t) = r^{\text{fore}}(t) - r^{\text{disc}}(t)\)</span> = <span class="math notranslate nohighlight">\(\frac{\partial}{\partial T}\ln(\frac{P^{\text{fore}}(0,T)}{P^{\text{disc}}(0,T)})\vert_{T=t}\)</span> Between QA and trading, we conclude there is no justification to use stochastic basis from a practical point of view, since there is no evidence to take a more complex approach. For more information, please refer to [6]</p></td>
</tr>
<tr class="row-even"><td><p>Single factor short rate model, with: <br>- mean-reverting drift <br>- deterministic (shifted lognormal) volatility dynamics <br>- three piece-wise constant model curves <br>- 2 kinds of model dynamic formulations; formulation 2 preferred over formulation 1</p></td>
<td><p>- Trades that are being priced are index trades without correlation exposures, thus we use single factor;<br>- Mean-reverting drift is market standard for modeling interest rate dynamics.<br>- The choice of local volatility is chosen instead of stochastic volatility due to reasons that it is more intuitive to understand, and easier, faster to calibrate. Local volatility with time-dependent skew allows us to achieve volatility smile across related strikes/maturities.<br>- As for piecewise constant model curves, calibration needs to match multiple market instruments, while flat curves would not be able to reach fair accuracy. Piecewise constancy is the choice maintaining the balance between accuracy and generality.<br>- In theory, these two formulations are exactly the same, just a change of variable, however, due to numerical methods, the choice of which variable to model can affect the stability and accuracy of the results. The difference between the two formulations is described in Section 4.4 and a numerical comparison between two formulations is displayed in Section 8.3.1. Above model dynamic assumptions are implicitly tested in the day-to-day PV and risk computations, which are monitored by the QA team and the Trading Desks to make sure that model is performing in line with expectations.</p></td>
</tr>
<tr class="row-odd"><td><p>Swap dynamics are approximated as shifted-lognormal during calibration, and is approximately locally quadratic</p></td>
<td><p>This is market standard practice as shifted log-normal dynamics allows for negative interest rate in current low rate environment, the previous adopted lognormal model (Black’76) is contained therein as special case when shift = 0. Swap rate can be treated as approximately the weighted sum of Libor forward rates which contains the short rate in the form of an exponential function. When the exponent is small, it is adequate to expand to the second order to ensure accuracy. Since in each local neighbourhood the movement of the short rate is small, plus the scale of rate itself has been small enough, it is sufficient to adapt the assumption that the expansion is quadratic. A comparison of the approximation and PDE can be found in Section 8.3.3.1.</p></td>
</tr>
<tr class="row-even"><td><p>The choice of grid geometry and discretization scheme used to solve the PDE gives reasonable PV/risks results</p></td>
<td><p>The use of ADI scheme is market standard for solving multi-dimensional PDE. Chosen grid geometry has been tested in Section 8.3.4 that provides a good balance between accuracy and computation time.</p></td>
</tr>
<tr class="row-odd"><td><p>Higher skew/MR results in higher forward volatility. Thus, TMR and SMR calibration mitigates the effect that skew/MR has on forward volatility.</p></td>
<td><p>This assumption was tested and the test is described in Section 8.2</p></td>
</tr>
<tr class="row-even"><td><p>For the calculation of internal risk, by applying the chain rule we are assuming that model price and market price are behaving similarly.</p></td>
<td><p>Due to the control on calibration error, if the calibration is successful, the two quantities should be close within an acceptable tolerance (by default this tolerance is 1 bp).</p></td>
</tr>
</tbody>
</table>
</div>
<section id="id18">
<h3>9.2. Limitations<a class="headerlink" href="#id18" title="Link to this heading">#</a></h3>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Limitations</p></th>
<th class="head"><p>Control/response/monitoring (significance)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Model incorporates skew by introducing local volatility. Since it does not have a stochastic volatility term, it cannot generate volatility smile. CLV is able to price exotics payoffs which IRV model cannot, but as a one factor model without correlation being taken into account, CLV is incapable of pricing exotic products with correlation involved in payoff.</p></td>
<td><p>As indicated above, the QA team and the Trading Desks continually evaluate the performance of the model to ensure that model is not used to price instruments which require the volatility smile to obtain accurate pricing result. We showed that CLV model performs well at matching underlying prices with IRV model in Section 8.4.1, and a comparison between CLV and LMM 1F can be found in Section 8.4.2, which shows that price matches well at lower skew levels. Products with correlation involved such as spread options and other more complex exotic instruments are priced under LMM with multi-factor modelling of the entire term structure.</p></td>
</tr>
<tr class="row-odd"><td><p>Calibration limitations: - Calibration set is a subset of whole volatility surface, so model is dependent on the market instruments in the calibration set, which is only a subset instead of the whole volatility surface. - For volatility calibration, a large move in market or quite steppe volatility structure could cause outright calibration failures - calibration routines rely on non-linear optimization, thus can only reproduce market input approximately.</p></td>
<td><p>- The selected market instruments in the calibration set, which QA/Desk monitors to ensure that they are consistent with model assumptions and requirements, are all related to trade-specific properties like maturity and strikes which impact the trade being priced the most. Calibration to the full grid would just increase unnecessary calibration burden and impact the impactful instruments’ calibration accuracy. For the choice of instruments under different calibration mode, please see Section 6.1.2 &amp; 6.1.3. - In the case of outright calibration failures, QA team suggests an immediate remediation strategy that changes parameters to make calibration work. MO tests the PV impact and desk will review and approve to justify the new setting. - The price of the instrument is marked and validated by the desk on a daily basis. SABR parameters are well-calibrated with high accuracy to ensure that the model able to re-price the instrument to obtain its market price. Tolerance level of calibration is an input parameter: an exception will be thrown once this threshold is not reached, in which case QA will propose a change of calibration parameter. In addition, testing results discussed in Section 8 provide further evidence that despite these calibration weaknesses, the CLV model is capable of matching PV and calibration targets observed in the market at a great accuracy.</p></td>
</tr>
<tr class="row-even"><td><p>Approximations used in calculating swaption volatility and skew are accurate only in normal market conditions. If interest rates in the market exhibit very high volatility / skew the model would produce unstable and inaccurate results (All models developed within the HJM framework are limited in a similar way).</p></td>
<td><p>The impact of this limitation was tested and the results are described in Section 8.3.3.2. It was concluded that the analytical approximation method produces results that to an extent match those obtained using the numerical PDE method. In addition, approximation is validated implicitly by desk’s monitoring of trade’s PnL.</p></td>
</tr>
<tr class="row-odd"><td><p>PDE standard limitations: the numerical settings required for a given level of PV/risk accuracy depend on specific trade economics and market conditions, and will be higher for risk than for PV, and will be higher for high vol and long expiries. In addition, PDE method is susceptible to discretization errors.</p></td>
<td><p>The default value of numbers of points along x and y axis are chosen so that it is accurate enough while not computationally heavy, specific testing results can be found in Section 8.3.4. Additionally, these are inputs parameters which can be adjusted if the user finds it necessary to reach greater accuracy.</p></td>
</tr>
<tr class="row-even"><td><p>Numerical methods provide only an approximation to the true model price or risks.</p></td>
<td><p>Since many equations do not have closed form solutions or cannot be approximated analytically, there is no other way of obtaining more accurate results with non-numerical methods. To compensate for this, the QA team and the Trading Desks evaluate the performance of the model regularly.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<section id="model-monitoring-kpis">
<h2>10. Model Monitoring - KPIs<a class="headerlink" href="#model-monitoring-kpis" title="Link to this heading">#</a></h2>
<section id="monitoring-tests-and-key-performance-indicators-kpi">
<h3>10.1. Monitoring Tests and Key Performance Indicators (KPI)<a class="headerlink" href="#monitoring-tests-and-key-performance-indicators-kpi" title="Link to this heading">#</a></h3>
<p>N.A.</p>
</section>
<section id="performance-exceptions">
<h3>10.2. Performance Exceptions<a class="headerlink" href="#performance-exceptions" title="Link to this heading">#</a></h3>
<p>N.A.</p>
</section>
<section id="exception-mitigation-plan">
<h3>10.3. Exception Mitigation Plan<a class="headerlink" href="#exception-mitigation-plan" title="Link to this heading">#</a></h3>
<p>N.A.</p>
</section>
</section>
<section id="summary-of-feedback-received-during-development">
<h2>11. Summary of Feedback Received During Development<a class="headerlink" href="#summary-of-feedback-received-during-development" title="Link to this heading">#</a></h2>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Business area</p></th>
<th class="head"><p>Feedback details</p></th>
<th class="head"><p>QA actions / response</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>QA/FI</p></td>
<td><p>The main feedback was focused on the incorporation of technical mean reversion in CLV. As explained in previous sections, the presence of skew affects the distribution of forward volatility in the model. The Business felt very strongly that skew and forward volatility should stay as orthogonal as possible, and that the level of forward volatility should be consistent with market. This provided the impetus for the development of technical mean reversion. Additionally, the Business suggested using ATM and Trade strike calibration as an alternative to the Vega peak analysis.</p></td>
<td><p>Incorporated comments into draft</p></td>
</tr>
<tr class="row-odd"><td><p>QA/FI</p></td>
<td><p>There was a discussion during the early stage of model development on whether it was desirable to implement CLV under zero-bond measure (as opposed to the more conventional Risk Neutral measure). The advantage of using zero-bond measure is two-fold. First, the numeraire can be expressed analytically as a function of the state variables. Second, the SR process becomes drift-less, simplifying PDE and Monte Carlo simulation. On the other hand, the maturity of zero-bond becomes trade-dependent. For instance, we would likely equate final maturity of a trade to the maturity of zero-bond numeraire, effectively allowing different trades to have different numeraire. Furthermore, model re-parameterization under zero-bond measure means that volatility curve can no long be piece-wise constant. The outcome of the discussion was in favour of Risk Neutral measure.</p></td>
<td><p>Incorporated comments into draft</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="references">
<h2>12. References<a class="headerlink" href="#references" title="Link to this heading">#</a></h2>
<p>[1] L. Andersen, “Efficient Simulation of the Heston Stochastic Volatility Model”</p>
<p>[2] M. Ansin (2013), “Searching Algorithm and Parameters Involved”. Barclays</p>
<p>[3] M. Ansin (2013), “Underlying Adjustments For CIF Trades”. Barclays</p>
<p>[4] Board of Governors of the Federal Reserve System, “Stress Tests and Capital Planning: Comprehensive Capital Analysis and Review”. Online</p>
<p>[5] S. Cedervall (2013), “DIRExt IRx Model Framework”. Barclays</p>
<p>[6] V. Cerdian, “Interest Rate Models with Discount and Forecasting Curves”. Barclays</p>
<p>[7] P. Dragoul (2011), “Cheyette Local Vol PDE”. Barclays</p>
<p>[8] P. Dragoul (2012), “CLV BCurve Parameterization”. Barclays</p>
<p>[9] P. Dragoul (2012), “CLV Swaption Approx”. Barclays</p>
<p>[10] S. Elkouby (2009), “LMM Model”. Barclays</p>
<p>[11] Fixed Income Quants (2017), “CLV Calibration Parameters”. Barclays</p>
<p>[12] M.Giles, R. Carter (2006), “Convergence analysis of Crank-Nicolson and Rannacher time-marching”. Journal of Computational Finance</p>
<p>[13] G.H. Golub and C.F. Van Loan (1996), “Matrix Computations”. Johns Hopkins University Press</p>
<p>[14] D. Peters (2009) “Schedule Generation Spec”. Barclays</p>
<p>[15] V. Piterbarg (2005), “Time To Smile”. Risk Magazine</p>
<p>[16] V. Piterbarg, L. Andersen (2010), “Interest Rate Modeling, Volume 3” Ch 16.6.2. Atlantic Financial Press</p>
<p>[17] V. Piterbarg, “Quasi-Gaussian Model with Local and Stochastic Volatility”. Barclays</p>
<p>[18] N. Oliver (2006), “Forward Induction Stability”. Barclays</p>
<p>[19] N. Oliver (2007), “Generic PDE Solver - Mathematical Documentation”. Barclays</p>
<p>[20] C. Randall and D. Tavella (2000), “Pricing Financial Instruments: The Finite Difference Method”. Wiley</p>
<p>[21] A. Wang, Y. Zhou (2010), “Understanding Cheyette Local Vol”. Barclays</p>
<p>[22] J. Zysman, J. Perez, R.V. Steenkiste, J.L. Rey (2008), “Internal risks in QGAM”. Barclays</p>
<p>[23] “Numerical Recipes in C”, Ch 15.5 Nonlinear models. Online</p>
</section>
<section id="additional-information">
<h2>14. Additional Information<a class="headerlink" href="#additional-information" title="Link to this heading">#</a></h2>
<p>N.A.</p>
</section>
<section id="a-appendix-peer-reviewer-sign-off">
<h2>A. Appendix: Peer Reviewer Sign off<a class="headerlink" href="#a-appendix-peer-reviewer-sign-off" title="Link to this heading">#</a></h2>
<p>Peer Reviewers are to complete the table below. Insert the relevant section/sub-section relating to each requirement and then include your name and the date. If you are signing off for subsequent versions, please insert a new table and complete your sign off.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Version:</p></th>
<th class="head"><p>1.1</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p></p></td>
<td><p>Section/sub-section number</p></td>
</tr>
<tr class="row-odd"><td><p>Model Developer identified correctly</p></td>
<td><p>N.A.</p></td>
</tr>
<tr class="row-even"><td><p>Statement of intended model use</p></td>
<td><p>3.6</p></td>
</tr>
<tr class="row-odd"><td><p>Evidence that model development was aligned with intended use</p></td>
<td><p>4, 5</p></td>
</tr>
<tr class="row-even"><td><p>Evidence that the model is appropriate for intended use</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>Evidence that the model is mathematically correct</p></td>
<td><p>8</p></td>
</tr>
<tr class="row-even"><td><p>Evidence that the model is accurately implemented</p></td>
<td><p>8</p></td>
</tr>
<tr class="row-odd"><td><p>Evidence that the model is robust</p></td>
<td><p>8</p></td>
</tr>
<tr class="row-even"><td><p>Evidence that strengths and weaknesses are known (and that weaknesses have been assessed))</p></td>
<td><p>5.4, 3.6</p></td>
</tr>
<tr class="row-odd"><td><p>Enough detail such that a party independent of the development process can build an implementation</p></td>
<td><p>4, 5, 6</p></td>
</tr>
<tr class="row-even"><td><p>Evidence that business feedback during development was acted upon</p></td>
<td><p>11</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="b-appendix-regulatory-compliance">
<h2>B. Appendix: Regulatory Compliance<a class="headerlink" href="#b-appendix-regulatory-compliance" title="Link to this heading">#</a></h2>
<p>If relevant, provide explicit evidence of compliance with relevant regulatory requirements</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Regulatory Requirement (e.g. BIPRU provision)</p></th>
<th class="head"><p>Evidence of compliance</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../Curve%20Construction/Curve_Construction.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Curve Construction and Risk Framework (New Curve Framework)</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../index.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Market</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2023, XSIGMA Developers
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Cheyette Local Vol Model</a><ul>
<li><a class="reference internal" href="#table-of-contents">Table of Contents</a></li>
<li><a class="reference internal" href="#executive-summary">1. Executive Summary</a></li>
<li><a class="reference internal" href="#scope">2. Scope</a><ul>
<li><a class="reference internal" href="#model-purpose-and-intended-usage">2.1. Model Purpose and Intended Usage</a></li>
<li><a class="reference internal" href="#conceptual-soundness">2.2. Conceptual Soundness</a></li>
<li><a class="reference internal" href="#literature-review">2.3. Literature Review</a></li>
</ul>
</li>
<li><a class="reference internal" href="#product-payoff-portfolio">3. Product / Payoff / Portfolio</a><ul>
<li><a class="reference internal" href="#description">3.1. Description</a><ul>
<li><a class="reference internal" href="#bermudan-swaption">3.1.1. Bermudan Swaption</a></li>
<li><a class="reference internal" href="#cif-ccf">3.1.2. CIF/CCF</a></li>
</ul>
</li>
<li><a class="reference internal" href="#relationship-to-other-approved-models-payoffs">3.2. Relationship to Other Approved Models / Payoffs</a></li>
<li><a class="reference internal" href="#inputs">3.3. Inputs</a></li>
<li><a class="reference internal" href="#outputs">3.4. Outputs</a></li>
<li><a class="reference internal" href="#payoff-analysis">3.5. Payoff Analysis</a></li>
</ul>
</li>
<li><a class="reference internal" href="#model-methodology">4. Model / Methodology</a><ul>
<li><a class="reference internal" href="#overview-of-model-design">4.1. Overview of Model Design</a><ul>
<li><a class="reference internal" href="#pricing-process">4.1.1. Pricing Process</a></li>
<li><a class="reference internal" href="#calibration">4.1.2. Calibration</a></li>
<li><a class="reference internal" href="#risk-metric-calculation">4.1.3. Risk Metric Calculation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#model-description">4.2. Model Description</a><ul>
<li><a class="reference internal" href="#clv-model-short-rate-dynamics">4.2.1. CLV Model Short Rate Dynamics</a><ul>
<li><a class="reference internal" href="#formulation-1">4.2.1.1. Formulation 1</a></li>
<li><a class="reference internal" href="#formulation-2">4.2.1.2. Formulation 2</a></li>
</ul>
</li>
<li><a class="reference internal" href="#zero-bond-reconstruction">4.2.2. Zero Bond Reconstruction</a></li>
<li><a class="reference internal" href="#finbias">4.2.3. FinBias</a></li>
<li><a class="reference internal" href="#swap-rate-dynamics">4.2.4. Swap Rate Dynamics</a></li>
<li><a class="reference internal" href="#short-rate-versus-swap-rate-skew">4.2.5. Short Rate versus Swap Rate Skew</a></li>
<li><a class="reference internal" href="#underlying-adjustment">4.2.6. Underlying Adjustment</a></li>
</ul>
</li>
<li><a class="reference internal" href="#assumptions-and-limitations">4.3. Assumptions and Limitations</a></li>
<li><a class="reference internal" href="#model-parameters-variables">4.4. Model Parameters / Variables</a><ul>
<li><a class="reference internal" href="#id1">Formulation 1</a></li>
<li><a class="reference internal" href="#id2">Formulation 2</a></li>
</ul>
</li>
<li><a class="reference internal" href="#model-outputs">4.5. Model Outputs</a></li>
<li><a class="reference internal" href="#feeder-models">4.6. Feeder Models</a></li>
<li><a class="reference internal" href="#justification-against-alternative-approaches">4.7. Justification Against Alternative Approaches</a></li>
<li><a class="reference internal" href="#conditions-of-use">4.8. Conditions of Use</a></li>
</ul>
</li>
<li><a class="reference internal" href="#implementation-numerical-schema-description">5. Implementation / Numerical Schema Description</a><ul>
<li><a class="reference internal" href="#id3">5.1. Description</a><ul>
<li><a class="reference internal" href="#pde-solver-construction">5.1.1. PDE Solver Construction</a></li>
<li><a class="reference internal" href="#pde-solver-pricing">5.1.2. PDE Solver Pricing</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id4">5.2. Inputs</a></li>
<li><a class="reference internal" href="#quality-control">5.3. Quality Control</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id5">6. Calibration</a><ul>
<li><a class="reference internal" href="#id6">6.1. Description</a><ul>
<li><a class="reference internal" href="#swaption-volatility-skew-approximation">6.1.1. Swaption Volatility/Skew Approximation</a><ul>
<li><a class="reference internal" href="#approximation-step-1-swap-rate-time-dependent-dynamics">1) Approximation Step 1: Swap Rate Time Dependent Dynamics</a></li>
<li><a class="reference internal" href="#approximation-step-2-averaging-volatility-and-skew">2) Approximation Step 2: Averaging Volatility and Skew</a></li>
<li><a class="reference internal" href="#evaluation-of-e-a-phi-t-and-r-1-t-t-0">6.1.1.1. Evaluation of <span class="math notranslate nohighlight">\(E^A[\Phi(t)]\)</span> and <span class="math notranslate nohighlight">\(r_1(t)|_{t=0}\)</span></a></li>
<li><a class="reference internal" href="#expansion-point-improvement">6.1.1.2. Expansion Point Improvement</a></li>
</ul>
</li>
<li><a class="reference internal" href="#calibration-types">6.1.2. Calibration Types</a></li>
<li><a class="reference internal" href="#advanced-calibration-techniques">6.1.3. Advanced Calibration Techniques</a><ul>
<li><a class="reference internal" href="#technical-mean-reversion-tmr">6.1.3.1. Technical Mean Reversion (TMR)</a></li>
<li><a class="reference internal" href="#shifted-mean-reversion-smr">6.1.3.2. Shifted Mean Reversion (SMR)</a></li>
<li><a class="reference internal" href="#smr-tmr">6.1.3.3. SMR + TMR</a></li>
</ul>
</li>
<li><a class="reference internal" href="#calibration-strike-choice">6.1.4. Calibration Strike Choice</a></li>
<li><a class="reference internal" href="#usage-of-calibration-types">6.1.5. Usage of Calibration Types</a></li>
</ul>
</li>
<li><a class="reference internal" href="#justification">6.4. Justification</a></li>
<li><a class="reference internal" href="#id7">6.5. Quality Control</a></li>
<li><a class="reference internal" href="#limitations-and-risk-assessment">6.6. Limitations and Risk Assessment</a></li>
</ul>
</li>
<li><a class="reference internal" href="#risk-calculated-by-the-model-payoff">7. Risk (Calculated by the model/payoff)</a></li>
<li><a class="reference internal" href="#id8">7.1. Description</a><ul>
<li><a class="reference internal" href="#volatility-sensitivity">7.1.1. Volatility Sensitivity</a></li>
<li><a class="reference internal" href="#curve-sensitivity">7.1.2. Curve Sensitivity</a></li>
<li><a class="reference internal" href="#mean-reversion-sensitivity-co-terminal-calibration-only">7.1.3. Mean Reversion Sensitivity (Co-terminal Calibration Only)</a></li>
<li><a class="reference internal" href="#additional-comments">7.1.4. Additional Comments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id9">7.2. Inputs</a></li>
<li><a class="reference internal" href="#id10">7.3. Limitations and Risk Assessment</a></li>
<li><a class="reference internal" href="#numerical-scheme-summary">7.4. Numerical Scheme Summary</a></li>
<li><a class="reference internal" href="#tests-outcome-analyses-performed-on-payoff-model-portfolio">8. Tests &amp; Outcome Analyses performed on Payoff / Model / Portfolio</a><ul>
<li><a class="reference internal" href="#scenario-and-stress-testing">8.1. Scenario and Stress-Testing</a><ul>
<li><a class="reference internal" href="#ccar-comprehensive-capital-analysis-and-review-testing">8.1.1. CCAR (Comprehensive Capital Analysis and Review) Testing</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#ccap-year-2017-data">CCAP Year 2017 Data</a><ul>
<li><a class="reference internal" href="#sensitivity-testing">8.1.2. Sensitivity Testing</a><ul>
<li><a class="reference internal" href="#curve-bumping">8.1.2.1. Curve Bumping</a></li>
<li><a class="reference internal" href="#volatility-bumping">8.1.2.2. Volatility Bumping</a></li>
</ul>
</li>
<li><a class="reference internal" href="#copfv-data-tables">COPFV Data Tables</a><ul>
<li><a class="reference internal" href="#table-1-copfv">Table 1: COPFV</a></li>
<li><a class="reference internal" href="#table-2-delta">Table 2: Delta</a></li>
<li><a class="reference internal" href="#table-3-vega">Table 3: Vega</a></li>
</ul>
</li>
<li><a class="reference internal" href="#copfv-data-tables-additional-scenarios">COPFV Data Tables - Additional Scenarios</a><ul>
<li><a class="reference internal" href="#id11">Table 1: COPFV</a></li>
<li><a class="reference internal" href="#id12">Table 2: Delta</a></li>
<li><a class="reference internal" href="#id13">Table 3: Vega</a></li>
<li><a class="reference internal" href="#curve-volatility-bumping">8.1.2.3. Curve + Volatility Bumping</a></li>
</ul>
</li>
<li><a class="reference internal" href="#copfv-volatility-scaling-data">COPFV Volatility Scaling Data</a><ul>
<li><a class="reference internal" href="#copfv">COPFV</a></li>
<li><a class="reference internal" href="#eurusd">EURUSD</a></li>
<li><a class="reference internal" href="#usdjpy-eurgbp">USDJPY/EURGBP</a></li>
<li><a class="reference internal" href="#mean-reversion-bumping">8.1.2.4. Mean Reversion Bumping</a></li>
</ul>
</li>
<li><a class="reference internal" href="#ccypv-data-tables">CCYPV Data Tables</a><ul>
<li><a class="reference internal" href="#ccypv">CCYPV</a></li>
<li><a class="reference internal" href="#delta">Delta</a></li>
<li><a class="reference internal" href="#vega">Vega</a></li>
</ul>
</li>
<li><a class="reference internal" href="#impact-of-skew-mean-reversion-on-forward-volatilities">8.2. Impact of Skew/Mean Reversion on Forward Volatilities</a><ul>
<li><a class="reference internal" href="#skew-effects-on-forward-volatility">8.2.1. Skew Effects on Forward Volatility</a></li>
<li><a class="reference internal" href="#mean-reversion-vs-forward-volatility">8.2.2. Mean Reversion vs. Forward Volatility</a></li>
</ul>
</li>
<li><a class="reference internal" href="#accuracy-convergence-stability-and-sensitivity">8.3. Accuracy, Convergence, Stability and Sensitivity</a><ul>
<li><a class="reference internal" href="#risk-stability-of-two-formulations">8.3.1. Risk Stability of Two Formulations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#financial-performance-analysis">Financial Performance Analysis</a><ul>
<li><a class="reference internal" href="#digre-dxgre-delta">DIGRE/DXGRE Delta</a></li>
<li><a class="reference internal" href="#dkrm-dkc-vega">DKRM/DKC Vega</a></li>
<li><a class="reference internal" href="#digre-dxgre-vega">DIGRE/DXGRE Vega</a></li>
<li><a class="reference internal" href="#id14">DKRM/DKC Vega</a></li>
<li><a class="reference internal" href="#comparison-of-internal-and-external-risk-results">8.3.2. Comparison of Internal and External Risk Results</a></li>
</ul>
</li>
<li><a class="reference internal" href="#trader-risk-exposure-data">Trader Risk Exposure Data</a><ul>
<li><a class="reference internal" href="#risk-metrics-by-trader">Risk Metrics by Trader</a></li>
<li><a class="reference internal" href="#summary-statistics">Summary Statistics</a></li>
<li><a class="reference internal" href="#risk-distribution-analysis">Risk Distribution Analysis</a></li>
<li><a class="reference internal" href="#notes">Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#time-structure-risk-analysis">Time Structure Risk Analysis</a><ul>
<li><a class="reference internal" href="#delta-risk-by-tenor">Delta Risk by Tenor</a></li>
<li><a class="reference internal" href="#vega-risk-by-time-structure">Vega Risk by Time Structure</a></li>
<li><a class="reference internal" href="#key-observations">Key Observations</a></li>
<li><a class="reference internal" href="#id15">Notes</a></li>
<li><a class="reference internal" href="#volatility-approximation">8.3.3. Volatility Approximation</a><ul>
<li><a class="reference internal" href="#volatility-approximation-under-normal-conditions">8.3.3.1. Volatility Approximation Under Normal Conditions</a></li>
<li><a class="reference internal" href="#volatility-approximation-under-high-skew">8.3.3.2. Volatility Approximation Under High Skew</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pde-convergence-and-limitations">8.3.4. PDE Convergence and Limitations</a><ul>
<li><a class="reference internal" href="#pde-convergence-and-grid-geometry">8.3.4.1. PDE Convergence and Grid Geometry</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#risk-matrix-analysis">Risk Matrix Analysis</a><ul>
<li><a class="reference internal" href="#top-left-matrix">Top Left Matrix</a></li>
<li><a class="reference internal" href="#top-right-matrix">Top Right Matrix</a></li>
<li><a class="reference internal" href="#middle-left-matrix">Middle Left Matrix</a></li>
<li><a class="reference internal" href="#middle-right-matrix">Middle Right Matrix</a></li>
<li><a class="reference internal" href="#bottom-left-matrix">Bottom Left Matrix</a></li>
<li><a class="reference internal" href="#bottom-right-matrix">Bottom Right Matrix</a></li>
<li><a class="reference internal" href="#id16">Key Observations</a><ul>
<li><a class="reference internal" href="#limitations">8.3.4.2. Limitations</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#table-1-delta-vega-theta-ratios-top-matrix">Table 1: Delta/Vega/Theta Ratios (Top Matrix)</a></li>
<li><a class="reference internal" href="#table-2-delta-vega-phi-ratios-bottom-matrix">Table 2: Delta/Vega/Phi Ratios (Bottom Matrix)</a><ul>
<li><a class="reference internal" href="#calibration-errors">8.3.5. Calibration Errors</a></li>
</ul>
</li>
<li><a class="reference internal" href="#level">50% Level</a></li>
<li><a class="reference internal" href="#id17">100% Level</a></li>
<li><a class="reference internal" href="#lmm">8.4. LMM</a></li>
</ul>
</li>
<li><a class="reference internal" href="#model-assumptions-limitations">9. Model Assumptions/Limitations</a></li>
<li><a class="reference internal" href="#model-assumptions-and-justifications">Model Assumptions and Justifications</a></li>
<li><a class="reference internal" href="#assumptions">9.1. Assumptions</a><ul>
<li><a class="reference internal" href="#id18">9.2. Limitations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#model-monitoring-kpis">10. Model Monitoring - KPIs</a><ul>
<li><a class="reference internal" href="#monitoring-tests-and-key-performance-indicators-kpi">10.1. Monitoring Tests and Key Performance Indicators (KPI)</a></li>
<li><a class="reference internal" href="#performance-exceptions">10.2. Performance Exceptions</a></li>
<li><a class="reference internal" href="#exception-mitigation-plan">10.3. Exception Mitigation Plan</a></li>
</ul>
</li>
<li><a class="reference internal" href="#summary-of-feedback-received-during-development">11. Summary of Feedback Received During Development</a></li>
<li><a class="reference internal" href="#references">12. References</a></li>
<li><a class="reference internal" href="#additional-information">14. Additional Information</a></li>
<li><a class="reference internal" href="#a-appendix-peer-reviewer-sign-off">A. Appendix: Peer Reviewer Sign off</a></li>
<li><a class="reference internal" href="#b-appendix-regulatory-compliance">B. Appendix: Regulatory Compliance</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/scripts/furo.js?v=32e29ea5"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=60a0e41e"></script>
    <script src="../../_static/design-tabs.js?v=36754332"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
    </body>
</html>