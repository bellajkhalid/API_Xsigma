# The Model DBOPT Correlation Skew

## Vue d'Ensemble

Le mod√®le **DBOPT-CorrelationSkew** repr√©sente une impl√©mentation sophistiqu√©e de copula de corr√©lation skew pour le pricing de produits 2D. Ce mod√®le analytique et Monte Carlo √† horizon unique est sp√©cialement con√ßu pour capturer la corr√©lation skew mise en √©vidence par les dual digitals √† diff√©rents strikes.

### Caract√©ristiques Principales

‚úÖ **Copula TERMSKEW** : Approche num√©rique Monte Carlo avec grille 2D de corr√©lations
‚úÖ **Produits 2D** : Dual digitals et options contingentes multi-asset
‚úÖ **Sticky Strike** : Corr√©lation fonction des niveaux d'underlying
‚úÖ **Ajustement Quanto** : Support rigoureux des produits multi-devises
‚úÖ **Validation Compl√®te** : Tests de convergence et stabilit√© extensifs

### √âvaluation des Risques

| Crit√®re | Rating | Justification |
|---------|--------|---------------|
| **Complexit√©** | HIGH | Le mod√®le a plus d'un actif avec skew |
| **Incertitude** | LOW | Le mod√®le n'a pas de trades en production |
| **D√©pendance** | HIGH | Les mod√®les de pricing ont une d√©pendance √©lev√©e |

### Configurations Support√©es

Le mod√®le supporte **3 configurations principales** :

#### 1. DBOPT-RateDeterministic_FXMarket_AssetMarket_CorrelationSkew
- **Configuration** : DBOPT-RatesMarketDeterministic_FXMarket_AssetMarket_CorrelationSkew[TermSkew]
- **Underlyings** : Rates (Deterministic) + FX + Asset

#### 2. DBOPT-RateDeterministic_EquityBlackScholes_AssetMarket_CorrelationSkew
- **Configuration** : DBOPT-RatesMarketDeterministic_Equity[BSANALYTIC]_AssetMarket_CorrelationSkew[TermSkew]
- **Underlyings** : Rates (Deterministic) + Equity + Asset

#### 3. DBOPT-RatesMarketAFSABR_FXMarket_EquityBlackScholes_CorrelationSkew
- **Configuration** : DBOPT-RatesMarketAFSABR_FXMarket[AUTO]_Equity[BSANALYTIC]_CorrelationSkew[TERMSKEW]
- **Underlyings** : Rates (AFSABR) + FX + Equity

### Produits Support√©s

| Produit | Type | Description |
|---------|------|-------------|
| **HybMultiDigital** | Dual Digital | Paie un coupon fixe si 2 conditions digitales sont remplies √† l'expiry |
| **HybContingentOptMultiAssetBasket** | Option Contingente | Paie un payoff d'option europ√©enne conditionnellement √† un digital |

### Portfolio de Production

**Statut actuel :** ‚úÖ **Aucun trade en production** (au 28-02-2022)

Cette absence de trades justifie le **rating d'incertitude LOW**, r√©duisant significativement le risque op√©rationnel du mod√®le.

### Usages Approuv√©s

| Usage | Status | Description |
|-------|--------|-------------|
| **EOD** | ‚úÖ RFU | Valorisation End of Day et gestion des risques |
| **HistSim** | ‚úÖ RFU | Mod√®le servicer pour HistSim VaR |
| **CCAR** | ‚úÖ RFU | Tests de stress r√©glementaires CCAR |
| **IRRRBB** | ‚úÖ RFU | Calcul Delta EVE sous IRRBB |

## Navigation de la Documentation

```{toctree}
:maxdepth: 2
:caption: Documentation Compl√®te

executive_summary
introduction_model_validation
assessment_approach_soundness
independent_validation_testing
```

### Sections Principales

#### [Executive Summary](executive_summary.md)
- √âvaluation globale des risques mod√®le (HIGH/LOW/HIGH)
- R√©sum√© des r√©sultats de validation principaux
- Vue d'ensemble des limitations et contr√¥les
- Statement d'approbation pour tous les usages

#### [Introduction to Model and Validation](introduction_model_validation.md)
- Scope de validation et classification des produits 2D
- Description d√©taill√©e des swaptions contingentes
- Param√®tres de mod√®le et inputs de march√©
- Portfolio composition (aucun trade live)

#### [Assessment of Approach, Conceptual Soundness and Implementation](assessment_approach_soundness.md)
- Copula TERMSKEW avec d√©composition de Cholesky
- Mod√©lisation du skew de corr√©lation sticky strike
- Ajustement quanto rigoureux avec marginales
- √âvaluation de la solidit√© conceptuelle

#### [Independent Validation Testing](independent_validation_testing.md)
- Tests de convergence Monte-Carlo pour prix et Greeks
- Analyse de stabilit√© sous stress de march√©
- Validation de l'approximation Taylor
- Tests sp√©cifiques aux produits HybMultiDigital

## Impl√©mentation Our project

Le mod√®le DBOPT Correlation Skew est enti√®rement int√©gr√© dans Our project avec :

- **Architecture C++ sophistiqu√©e** avec copula TERMSKEW et ajustement quanto
- **Framework de validation automatis√©e** avec tests de convergence complets
- **Simulation Monte-Carlo** avec contr√¥le de variance et stabilit√©
- **Gestion des corr√©lations skew** avec interpolation 2D et lissage
- **Support multi-underlyings** (IR/FX/EQ/Asset) avec configurations flexibles

## Mod√®le Math√©matique

### Copula TERMSKEW

Le mod√®le utilise une **grille 2D de corr√©lations** fonction des niveaux des sous-jacents (L‚ÇÅ, L‚ÇÇ) avec d√©composition de Cholesky pairwise :

$$X_1^{(1)} = \sqrt{\frac{1 + \rho_k}{2}}Z_1 + \sqrt{\frac{1 - \rho_k}{2}}Z_2$$

$$X_2^{(1)} = \sqrt{\frac{1 + \rho_k}{2}}Z_1 - \sqrt{\frac{1 - \rho_k}{2}}Z_2$$

o√π œÅ‚Çñ = œÅ(ATM‚ÇÅ, ATM‚ÇÇ) est la corr√©lation interpol√©e.

### Ajustement Quanto

Pour un produit quanto o√π un taux R d√©nomm√© en devise d est pay√© en devise f :

$$V_0^f = DF^f(0, T) \cdot E^{Q_f}[S^d(T)]$$

L'ajustement utilise une copula gaussienne standard pour g√©n√©rer la marginale quanto.

### Calibration

Le mod√®le se calibre aux **dual digitals** pour d√©terminer la grille de corr√©lation skew :

**Exemple de corr√©lations implicites gaussiennes :**

| Strike\Underlying | 0.60% | 1.20% |
|-------------------|-------|-------|
| **3000** | 9.53% | 23.58% |
| **3600** | 12.43% | 61.30% |

**Grille de corr√©lation skew r√©sultante :**

| Strike\Underlying | 0.60% | 1.20% |
|-------------------|-------|-------|
| **3000** | 6.63% | 20.00% |
| **3600** | -5.92% | 84.81% |

## Param√®tres de Contr√¥le

### Param√®tres DBOPT
- **NumberSims** : 2000 (d√©faut), jusqu'√† 50K pour validation
- **CopulaMethod** : SIMCOPULA (obligatoire)
- **TermSkewMaxIter** : 3 (nombre d'it√©rations)
- **TermSkewSmoothing** : YES (obligatoire pour stabilit√©)

### Param√®tres de Corr√©lation
- **CorrelationInterpolationSpace** : TERMSKEW
- **QuantoCorrelationInterpolationSpace** : TIME
- **InterpType** : LINEAR
- **SkewConvexityType** : STANDARD

## Limitations et Contr√¥les

### Limitation Principale

**Numerical[Monte-Carlo Error](DBOPT-CorrelationSkew[TS])** : Les simulations Monte-Carlo ont une erreur associ√©e fonction du nombre de simulations utilis√©es. **ID-2865**

**Contr√¥le** : Tests de convergence garantissant que l'erreur num√©rique est n√©gligeable avec les param√®tres recommand√©s.

### Validation Findings

‚úÖ **Aucun finding de validation** actuellement identifi√©.

### Conditions for Use

Le mod√®le est soumis √† **80+ r√®gles de param√®tres** surveill√©es via le processus automatis√© de Model Parameter Monitoring, couvrant :

- **CURVE** : AveragingConvexity
- **FUNDINGVOL** : Type, DecayTime, FreqTimeVec, FrontLatticeFreq, PolyOrder, StateMaxFraction
- **CORRELATION** : DIFFUSE FULLDRIVER, SkewConvexityType, TermSkewSmoothing

## R√©sultats de Validation

### Tests de Convergence
‚úÖ **Prix** : Convergence excellente, stabilit√© √† partir de 60K simulations
‚úÖ **Greeks** : Tous les Greeks convergent (Delta, Vega, Gamma)
‚úÖ **Variance de graine** : Contr√¥l√©e et acceptable

### Tests de Stabilit√©
‚úÖ **Stress IR** : Comportement lisse sous shifts de courbes
‚úÖ **Stress FX** : Sensibilit√©s coh√©rentes avec shifts de spot
‚úÖ **Stress Volatilit√©** : Stabilit√© sous stress de vol FX et Asset
‚úÖ **Stress Corr√©lation** : Param√®tres de corr√©lation stables

### Tests Sp√©cifiques
‚úÖ **HybMultiDigital** : Validation compl√®te du produit repr√©sentatif
‚úÖ **Approximation Taylor** : Greeks pr√©cis et coh√©rents
‚úÖ **Ajustement Quanto** : Fonctionnement rigoureux valid√©

## Expert Judgments

Le mod√®le utilise le **jugement expert du trading desk** pour les param√®tres de corr√©lation skew, car les dual digitals ne sont pas suffisamment liquides pour fournir une estimation pr√©cise de la corr√©lation skew. Une corr√©lation plate est g√©n√©ralement utilis√©e en l'absence de donn√©es de march√©.

## Liens Rapides

- üìä [√âvaluation des Risques](executive_summary.md#global-model-risk-assessment)
- üßÆ [Mod√®le Math√©matique](assessment_approach_soundness.md#factor-based-correlation-skew-copula-termskew)
- üß™ [Tests de Validation](independent_validation_testing.md#convergence-testing-results)
- ‚öôÔ∏è [Param√®tres de Contr√¥le](executive_summary.md#control-overview)
- üéØ [Produits Support√©s](introduction_model_validation.md#product-description)
- üìà [Ajustement Quanto](assessment_approach_soundness.md#quanto-adjustment-implementation)

---

**Le mod√®le DBOPT Correlation Skew repr√©sente une solution sophistiqu√©e pour le pricing de produits 2D avec corr√©lation skew dans Our project, offrant une flexibilit√© sup√©rieure aux mod√®les de copula simples tout en maintenant une validation rigoureuse et des contr√¥les appropri√©s.**
