# Building Python Wheels

```{tip}
For complete build instructions see [here](../build_instructions/build.md).
```

XSIGMA also supports creating a Python wheel containing its Python wrappers for
Python3. This is supported by setting the `XSIGMA_WHEEL_BUILD` flag. This changes
the build directory structure around to match that expected by wheels. Once
configured, the build tree may be built as it would be normally and then the
generated `setup.py` file used to create the wheel. Note that the `bdist_wheel`
command requires that the `wheel` package is available (`pip install wheel`).

```sh
cmake -GNinja -DXSIGMA_WHEEL_BUILD=ON -DXSIGMA_WRAP_PYTHON=ON path/to/xsigma/source
ninja
python3 setup.py bdist_wheel
```

Any modules may be turned on or off as in a normal XSIGMA build. Certain modules
add features to the generated wheel to indicate their availability. These flags
are not meant to be comprehensive, but any reasonable feature flags may be
added to `CMake/xsigmaWheelFinalization.cmake` as needed.

Note that the wheel will not include any external third party libraries in its
wheel (e.g., X11, OpenGL, etc.) to avoid conflicts with systems or other wheels
doing the same.

## Modifying Version and/or Distribution Name

When generating a wheel, you can modify the distribution name and/or add a
suffix to the wheel version string.

By default, the distribution name is `xsigma` though you can add a suffix via the
`XSIGMA_DIST_NAME_SUFFIX` CMake variable (e.g., set `XSIGMA_DIST_NAME_SUFFIX`).
An underscore (`_`) character is automatically placed between `xsigma` and the value
of `XSIGMA_DIST_NAME_SUFFIX`. Please use `_` characters for further delimination in
the suffix value. Example setting:

```cmake
set(XSIGMA_DIST_NAME_SUFFIX "foo" CACHE STRING "")
```

By default (outside of a CI release build), `dev0` is appended to the version of
the package (e.g., `9.2.2.dev0`). This suffix can be controlled through the
`XSIGMA_VERSION_SUFFIX` CMake variable and is useful if generating multiple
wheels and wanting to differentiate the build variants by the version string of
the package.

```cmake
set(XSIGMA_VERSION_SUFFIX "dev0" CACHE STRING "")
```
