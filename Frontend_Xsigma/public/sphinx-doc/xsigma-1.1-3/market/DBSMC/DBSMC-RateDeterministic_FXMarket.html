<!doctype html>
<html class="no-js" lang="en" data-content_root="../../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="author" title="About these documents" href="../../about.html" /><link rel="index" title="Index" href="../../genindex.html" /><link rel="search" title="Search" href="../../search.html" /><link rel="next" title="1.4. DBX-Short Rate and FX Skew StochVol Guides" href="../DBX-ShortRate%20and%20FX%20Skew%20Stochastic%20Volatility%20models/index.html" /><link rel="prev" title="1.3. DBSMC Rate terministic FX Market Guides" href="index.html" />

    <link rel="shortcut icon" href="../../_static/xsigma_favicon.png"/><!-- Generated with Sphinx 7.2.6 and Furo 2023.09.10 -->
        <title>1.3.1. FX Market Model Validation Document - PRETORIAN Documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=8c702e86" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?v=36a5483c" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=8c702e86" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --color-brand-primary: #0066cc;
  --color-brand-content: #0066cc;
  --color-admonition-background: #f8f9fa;
  --color-sidebar-background: #f8f9fa;
  --color-sidebar-background-border: #e9ecef;
  --font-stack: system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, sans-serif;
  --font-stack--monospace: SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-brand-primary: #4da6ff;
  --color-brand-content: #4da6ff;
  --color-admonition-background: #1e1e1e;
  --color-sidebar-background: #1e1e1e;
  --color-sidebar-background-border: #404040;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-brand-primary: #4da6ff;
  --color-brand-content: #4da6ff;
  --color-admonition-background: #1e1e1e;
  --color-sidebar-background: #1e1e1e;
  --color-sidebar-background-border: #404040;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">PRETORIAN Documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../../_static/Logo.ico" alt="Logo"/>
  </div>
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../../_static/../../Logo.ico" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="../../_static/../../Logo.ico" alt="Dark Logo"/>
  </div>
  
  <span class="sidebar-brand-text">PRETORIAN Documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../about.html">About</a></li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../index.html">1. Market</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of 1. Market</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="../ASV/index.html">1.1. Analytical Sigma Volatility (ASV)</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of 1.1. Analytical Sigma Volatility (ASV)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../ASV/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/scope.html">2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/implementation.html">5. Implementation and Numerical Schema</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/calibration.html">6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/model_monitoring.html">10. Model Monitoring and KPIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/user_guide.html">11. User Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/references.html">12. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/README.html">13. Analytical Sigma Volatility (ASV) Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/scope.html">2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/implementation.html">5. Implementation and Numerical Schema</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/calibration.html">6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/model_monitoring.html">10. Model Monitoring and KPIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/user_guide.html">11. User Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/references.html">12. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/README.html">13. Analytical Sigma Volatility (ASV) Documentation</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Cheyette/index.html">Cheyette Local Vol Model</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Cheyette Local Vol Model</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/scope.html">2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/products_and_payoffs.html">1.2.1.3. Products and Payoffs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/model_methodology.html">3. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/implementation.html">4. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/calibration.html">5. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/risk_analysis.html">6. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/testing_and_validation.html">7. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/assumptions_and_limitations.html">1.2.1.9. Assumptions and Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/monitoring_and_kpis.html">8. Monitoring and KPIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/appendices.html">1.2.1.11. Appendices</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/README.html">1.2.1.12. Cheyette Local Vol Model Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/scope.html">2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/model_methodology.html">3. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/implementation.html">4. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/calibration.html">5. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/risk_analysis.html">6. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/testing_and_validation.html">7. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/monitoring_and_kpis.html">8. Monitoring and KPIs</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Curve%20Construction/index.html">1.3. Curve Construction and Risk Framework (New Curve Framework)</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of 1.3. Curve Construction and Risk Framework (New Curve Framework)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/scope.html">2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/implementation.html">5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/calibration.html">6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/model_monitoring.html">10. Model Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/development_feedback.html">11. Development Feedback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/references.html">12. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/README.html">1.3.1.13. Curve Construction and Risk Framework Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/scope.html">2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/implementation.html">5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/calibration.html">6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/model_monitoring.html">10. Model Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/development_feedback.html">11. Development Feedback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/references.html">12. References</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../DBOPT-CorrelationSkew/index.html">1.1. DBOPT Correlation Skew Guides</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of 1.1. DBOPT Correlation Skew Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../DBOPT-CorrelationSkew/DBOPT-CorrelationSkew.html">1.1.1. Deutsche Bank Risk Model Validation Document</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../DBOPT/index.html">1.2. RateDeterministic Inflation Deterministic Guides</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of 1.2. RateDeterministic Inflation Deterministic Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../DBOPT/RateDeterministic_InflationDeterministic.html">1.2.1. Interest Rate Volatility Model GSABR</a></li>
<li class="toctree-l3"><a class="reference internal" href="../DBOPT/RateDeterministic_InflationDeterministic.html#independent-validation-testing">1.2.2. 4 Independent Validation Testing</a></li>
</ul>
</li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="index.html">1.3. DBSMC Rate terministic FX Market Guides</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of 1.3. DBSMC Rate terministic FX Market Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">1.3.1. FX Market Model Validation Document</a></li>
<li class="toctree-l3"><a class="reference internal" href="#model-uncertainty-identification-measurement-and-management">1.3.2. 5 Model Uncertainty Identification, Measurement, and Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="#control-assessment">1.3.3. 6 Control Assessment</a></li>
<li class="toctree-l3"><a class="reference internal" href="#conclusion">1.3.4. 7 Conclusion</a></li>
<li class="toctree-l3"><a class="reference internal" href="#document-change-history">1.3.5. 8 Document Change History</a></li>
<li class="toctree-l3"><a class="reference internal" href="#a-fx-sabr3formulapd-interpolation-and-extrapolation-retired">1.3.6. A FX SABR3FORMULAPD interpolation and extrapolation (retired)</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../DBX-ShortRate%20and%20FX%20Skew%20Stochastic%20Volatility%20models/index.html">1.4. DBX-Short Rate and FX Skew StochVol Guides</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of 1.4. DBX-Short Rate and FX Skew StochVol Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../DBX-ShortRate%20and%20FX%20Skew%20Stochastic%20Volatility%20models/DBX-ShortRate_FXSkewStochVol.html">1.4.1. DBX-ShortRate_FXSkewStochVol Document</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Fx/index.html">1.5. fx_volatility_surface Guides</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of 1.5. fx_volatility_surface Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../Fx/fx_volatility_surface.html">1.5.1. FX Analytic Volatility Surfaces</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Implied%20Volatility%20Filter/index.html">1.6. Implied Volatility Filter Guides</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of 1.6. Implied Volatility Filter Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../Implied%20Volatility%20Filter/Implied_Volatility_Filter.html">1.6.1. Implied Volatility Filter</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Ir/index.html">1.7. Linear_Interest_Rate_Swaps Guides</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of 1.7. Linear_Interest_Rate_Swaps Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../Ir/Linear_Interest_Rate_Swaps.html">1.7.1. Linear Interest Rate Swaps</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../LSV/index.html">1.8. LSV Guides</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle navigation of 1.8. LSV Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../LSV/LSV.html">1.8.1. LSV</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle navigation of 1.8.1. LSV</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../LSV/FX%20LSV%20Markov%20Switching%20%20Monte%20Carlo/FX_LSV_Markov_Switching_Monte_Carlo.html">1.8.1.1. FX LSV Markov Switching : Monte Carlo</a></li>
<li class="toctree-l4"><a class="reference internal" href="../LSV/FX%20LSV%20Markov%20Switching%20PDE/FX_LSV_Markov_Switching_PDE.html">1.8.1.2. FX LSV Markov Switching : PDE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../LSV/Local%20Volatility%20PDE%20and%20MC/Local_Volatility_PDE_and_MC.html">1.8.1.3. Local Volatility: PDE and MC</a></li>
<li class="toctree-l4"><a class="reference internal" href="../LSV/LSV%20Markov%20Switching%20%20Monte%20Carlo/LSV_Markov_Switching_Monte_Carlo.html">1.8.1.4. LSV Markov Switching : Monte Carlo</a></li>
<li class="toctree-l4"><a class="reference internal" href="../LSV/LSV%20Markov%20Switching%20%20PDE/LSV_Markov_Switching_PDE.html">1.8.1.5. LSV Markov Switching : PDE</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Local_Volatility_PDE_MC/index.html">1.9. Local Volatility PDE MC Guides</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle navigation of 1.9. Local Volatility PDE MC Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../Local_Volatility_PDE_MC/Local_Volatility_PDE_MC.html">1.9.1. Local Volatility: PDE and MC</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Model%20Rate%20Deterministic_InflationDeterministic/index.html">1.10. Model Rate Deterministic Inflation Deterministic Guides</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle navigation of 1.10. Model Rate Deterministic Inflation Deterministic Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../Model%20Rate%20Deterministic_InflationDeterministic/RateDeterministic_InflationDeterministic.html">1.10.1. Model Rate Deterministic Document (DBOPT/DBX)</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Model%20RateDeterministic/index.html">1.11. Rate Deterministic Guides</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle navigation of 1.11. Rate Deterministic Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../Model%20RateDeterministic/RateDeterministic.html">1.11.1. The model RateDeterministic</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Model%20Short%20Rate%20Normal/index.html">1.12. Short Rate Normal Guides</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle navigation of 1.12. Short Rate Normal Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../Model%20Short%20Rate%20Normal/Short_Rate_Normal.html">1.12.1. Short Rate Normal Model Validation Document</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../SABR/index.html">1.16. Interest Rate Volatility Model GSABR</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle navigation of 1.16. Interest Rate Volatility Model GSABR</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../SABR/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/scope.html">2. Scope and Use</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/implementation.html">5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/calibration.html">6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/model_monitoring.html">10. Model Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/market_data_integration.html">11. Market Data Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/performance_benchmarking.html">12. Performance Benchmarking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/troubleshooting_guide.html">13. Troubleshooting Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/development_feedback.html">14. Development Feedback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/references.html">15. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/scope.html">2. Scope and Use</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/implementation.html">5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/calibration.html">6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/model_monitoring.html">10. Model Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/market_data_integration.html">11. Market Data Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/performance_benchmarking.html">12. Performance Benchmarking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/troubleshooting_guide.html">13. Troubleshooting Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/development_feedback.html">14. Development Feedback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/references.html">15. References</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../getting_started/index.html">Getting Started</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle navigation of Getting Started</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../learning.html">Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../supported_data_formats.html">Supported Data Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../supported_hardware.html">Supported Hardware</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../modules/index.html">Modules</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><div class="visually-hidden">Toggle navigation of Modules</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../modules/xsigma-modules/Wrapping/PythonCore/README.html">Python Wrapper Core Classes</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../build_instructions/index.html">Building</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" role="switch" type="checkbox"/><label for="toctree-checkbox-21"><div class="visually-hidden">Toggle navigation of Building</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../build_instructions/build_settings.html">Build Settings</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../api/index.html">API</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" role="switch" type="checkbox"/><label for="toctree-checkbox-22"><div class="visually-hidden">Toggle navigation of API</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../api/cpp.html">1.1. C++</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../api/python.html">1.2. Python</a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" role="switch" type="checkbox"/><label for="toctree-checkbox-23"><div class="visually-hidden">Toggle navigation of 1.2. Python</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" role="switch" type="checkbox"/><label for="toctree-checkbox-24"><div class="visually-hidden">Toggle navigation of xsigmamodules</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.common.html">1.2.1.1.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.common</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" role="switch" type="checkbox"/><label for="toctree-checkbox-25"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.1. xsigmamodules.common</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.common.helper.html">1.2.1.1.1.1.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.common.helper</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.common.instrument.html">1.2.1.1.1.1.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.common.instrument</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.market.html">1.2.1.1.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.market</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" role="switch" type="checkbox"/><label for="toctree-checkbox-26"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.2. xsigmamodules.market</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.market.market_data.html">1.2.1.1.1.2.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.market.market_data</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.market.object_factory.html">1.2.1.1.1.2.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.market.object_factory</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.simulation.html">1.2.1.1.1.3. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.simulation</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" role="switch" type="checkbox"/><label for="toctree-checkbox-27"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.3. xsigmamodules.simulation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.simulation.simulation.html">1.2.1.1.1.3.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.simulation.simulation</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.test.html">1.2.1.1.1.4. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.test</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" role="switch" type="checkbox"/><label for="toctree-checkbox-28"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.4. xsigmamodules.test</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.test.BlackBox.html">1.2.1.1.1.4.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.test.BlackBox</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.test.Testing.html">1.2.1.1.1.4.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.test.Testing</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.util.html">1.2.1.1.1.5. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-29" name="toctree-checkbox-29" role="switch" type="checkbox"/><label for="toctree-checkbox-29"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.5. xsigmamodules.util</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.util.misc.html">1.2.1.1.1.5.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.misc</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.util.numpy_support.html">1.2.1.1.1.5.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.numpy_support</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.util.object_converter.html">1.2.1.1.1.5.1.3. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.object_converter</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.util.xsigmaConstants.html">1.2.1.1.1.5.1.4. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.xsigmaConstants</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.util.xsigmaMethodParser.html">1.2.1.1.1.5.1.5. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.xsigmaMethodParser</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.xlwing.html">1.2.1.1.1.6. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.xlwing</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-30" name="toctree-checkbox-30" role="switch" type="checkbox"/><label for="toctree-checkbox-30"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.6. xsigmamodules.xlwing</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.xlwing.hartman_watson_template.html">1.2.1.1.1.6.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.xlwing.hartman_watson_template</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.xlwing.sabr_template.html">1.2.1.1.1.6.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.xlwing.sabr_template</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.generate_pyi.html">1.2.1.1.2.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.generate_pyi</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../api/cmake/cmake-modules.html">1.3. CMake</a><input class="toctree-checkbox" id="toctree-checkbox-31" name="toctree-checkbox-31" role="switch" type="checkbox"/><label for="toctree-checkbox-31"><div class="visually-hidden">Toggle navigation of 1.3. CMake</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/cmake/ModuleSystem.html">1.3.1. Module System</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/cmake/xsigmaModule.html">1.3.2. xsigmaModule</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/cmake/xsigmaModuleTesting.html">1.3.3. xsigmaModuleTesting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/cmake/xsigmaModuleWrapPython.html">1.3.4. xsigmaModuleWrapPython</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/cmake/xsigmaModuleWrapJava.html">1.3.5. xsigmaModuleWrapJava</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/cmake/xsigmaModuleJSON.html">1.3.6. xsigmaModuleJSON</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/cmake/xsigmaModuleGraphviz.html">1.3.7. xsigmaModuleGraphviz</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../advanced/index.html">Advanced Topics</a><input class="toctree-checkbox" id="toctree-checkbox-32" name="toctree-checkbox-32" role="switch" type="checkbox"/><label for="toctree-checkbox-32"><div class="visually-hidden">Toggle navigation of Advanced Topics</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/available_python_wheels.html">Additional Python Wheels</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/spdx_and_sbom.html">SPDX &amp; SBOM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/build_python_wheels.html">Building Python Wheels</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/build_wasm_emscripten.html">Building using emscripten for WebAssembly</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/build_for_mobile.html">Cross-compiling for Mobile devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/build_documentation.html">Building documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/marshalling_hints.html">Marshalling Hints</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/object_manager.html">Object manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/object_serialization.html">Auto serialization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/PythonWrappers.html">Python Wrappers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/runtime_settings.html">Runtime settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/WrappingTools.html">Wrapping Tools</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../advanced/migration_guides/index.html">Migration Guides</a><input class="toctree-checkbox" id="toctree-checkbox-33" name="toctree-checkbox-33" role="switch" type="checkbox"/><label for="toctree-checkbox-33"><div class="visually-hidden">Toggle navigation of Migration Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../advanced/migration_guides/ModuleMigration.html">Module Migration from XSIGMA 8.2 to 9+</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../design_documents/index.html">Design Documents</a><input class="toctree-checkbox" id="toctree-checkbox-34" name="toctree-checkbox-34" role="switch" type="checkbox"/><label for="toctree-checkbox-34"><div class="visually-hidden">Toggle navigation of Design Documents</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../design_documents/XSIGMAFileFormats.html">XSIGMA File Formats</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../design_documents/smptools.html">Parallel Processing with XSIGMA’s SMP Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../design_documents/data_assemply.html">Data Assembly</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../developers_guide/index.html">Developer’s Guide</a><input class="toctree-checkbox" id="toctree-checkbox-35" name="toctree-checkbox-35" role="switch" type="checkbox"/><label for="toctree-checkbox-35"><div class="visually-hidden">Toggle navigation of Developer’s Guide</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../developers_guide/git/develop.html">Develop</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developers_guide/testing.html">Regression Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developers_guide/git/test.html">Adding Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developers_guide/git/dashboard.html">Dashboard Scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developers_guide/git/thirdparty.html">Imported Third Party Projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developers_guide/git/thirdparty-projects.html">Imported Third Party Projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developers_guide/git/deprecation.html">Deprecation Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developers_guide/release_process.html">Release Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developers_guide/coding_conventions.html">Coding Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../developers_guide/about_this_documentation.html">About this documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../resources.html">Resources</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../release_details/index.html">Release Details</a><input class="toctree-checkbox" id="toctree-checkbox-36" name="toctree-checkbox-36" role="switch" type="checkbox"/><label for="toctree-checkbox-36"><div class="visually-hidden">Toggle navigation of Release Details</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../getting_started/index.html">Getting Started</a><input class="toctree-checkbox" id="toctree-checkbox-37" name="toctree-checkbox-37" role="switch" type="checkbox"/><label for="toctree-checkbox-37"><div class="visually-hidden">Toggle navigation of Getting Started</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Market Models</span></p>
<ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="../index.html">1. Market Models Overview</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-38" name="toctree-checkbox-38" role="switch" type="checkbox"/><label for="toctree-checkbox-38"><div class="visually-hidden">Toggle navigation of 1. Market Models Overview</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="../ASV/index.html">1.1. Analytical Sigma Volatility (ASV)</a><input class="toctree-checkbox" id="toctree-checkbox-39" name="toctree-checkbox-39" role="switch" type="checkbox"/><label for="toctree-checkbox-39"><div class="visually-hidden">Toggle navigation of 1.1. Analytical Sigma Volatility (ASV)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../ASV/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/scope.html">2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/implementation.html">5. Implementation and Numerical Schema</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/calibration.html">6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/model_monitoring.html">10. Model Monitoring and KPIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/user_guide.html">11. User Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/references.html">12. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/README.html">13. Analytical Sigma Volatility (ASV) Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/scope.html">2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/implementation.html">5. Implementation and Numerical Schema</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/calibration.html">6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/model_monitoring.html">10. Model Monitoring and KPIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/user_guide.html">11. User Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/references.html">12. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ASV/README.html">13. Analytical Sigma Volatility (ASV) Documentation</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Cheyette/index.html">Cheyette Local Vol Model</a><input class="toctree-checkbox" id="toctree-checkbox-40" name="toctree-checkbox-40" role="switch" type="checkbox"/><label for="toctree-checkbox-40"><div class="visually-hidden">Toggle navigation of Cheyette Local Vol Model</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/scope.html">2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/products_and_payoffs.html">1.2.1.3. Products and Payoffs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/model_methodology.html">3. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/implementation.html">4. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/calibration.html">5. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/risk_analysis.html">6. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/testing_and_validation.html">7. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/assumptions_and_limitations.html">1.2.1.9. Assumptions and Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/monitoring_and_kpis.html">8. Monitoring and KPIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/appendices.html">1.2.1.11. Appendices</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/README.html">1.2.1.12. Cheyette Local Vol Model Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/scope.html">2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/model_methodology.html">3. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/implementation.html">4. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/calibration.html">5. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/risk_analysis.html">6. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/testing_and_validation.html">7. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Cheyette/monitoring_and_kpis.html">8. Monitoring and KPIs</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Curve%20Construction/index.html">1.3. Curve Construction and Risk Framework (New Curve Framework)</a><input class="toctree-checkbox" id="toctree-checkbox-41" name="toctree-checkbox-41" role="switch" type="checkbox"/><label for="toctree-checkbox-41"><div class="visually-hidden">Toggle navigation of 1.3. Curve Construction and Risk Framework (New Curve Framework)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/scope.html">2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/implementation.html">5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/calibration.html">6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/model_monitoring.html">10. Model Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/development_feedback.html">11. Development Feedback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/references.html">12. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/README.html">1.3.1.13. Curve Construction and Risk Framework Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/scope.html">2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/implementation.html">5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/calibration.html">6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/model_monitoring.html">10. Model Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/development_feedback.html">11. Development Feedback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Curve%20Construction/references.html">12. References</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../DBOPT-CorrelationSkew/index.html">1.1. DBOPT Correlation Skew Guides</a><input class="toctree-checkbox" id="toctree-checkbox-42" name="toctree-checkbox-42" role="switch" type="checkbox"/><label for="toctree-checkbox-42"><div class="visually-hidden">Toggle navigation of 1.1. DBOPT Correlation Skew Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../DBOPT-CorrelationSkew/DBOPT-CorrelationSkew.html">1.1.1. Deutsche Bank Risk Model Validation Document</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../DBOPT/index.html">1.2. RateDeterministic Inflation Deterministic Guides</a><input class="toctree-checkbox" id="toctree-checkbox-43" name="toctree-checkbox-43" role="switch" type="checkbox"/><label for="toctree-checkbox-43"><div class="visually-hidden">Toggle navigation of 1.2. RateDeterministic Inflation Deterministic Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../DBOPT/RateDeterministic_InflationDeterministic.html">1.2.1. Interest Rate Volatility Model GSABR</a></li>
<li class="toctree-l3"><a class="reference internal" href="../DBOPT/RateDeterministic_InflationDeterministic.html#independent-validation-testing">1.2.2. 4 Independent Validation Testing</a></li>
</ul>
</li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="index.html">1.3. DBSMC Rate terministic FX Market Guides</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-44" name="toctree-checkbox-44" role="switch" type="checkbox"/><label for="toctree-checkbox-44"><div class="visually-hidden">Toggle navigation of 1.3. DBSMC Rate terministic FX Market Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3 current current-page"><a class="current reference internal" href="#">1.3.1. FX Market Model Validation Document</a></li>
<li class="toctree-l3"><a class="reference internal" href="#model-uncertainty-identification-measurement-and-management">1.3.2. 5 Model Uncertainty Identification, Measurement, and Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="#control-assessment">1.3.3. 6 Control Assessment</a></li>
<li class="toctree-l3"><a class="reference internal" href="#conclusion">1.3.4. 7 Conclusion</a></li>
<li class="toctree-l3"><a class="reference internal" href="#document-change-history">1.3.5. 8 Document Change History</a></li>
<li class="toctree-l3"><a class="reference internal" href="#a-fx-sabr3formulapd-interpolation-and-extrapolation-retired">1.3.6. A FX SABR3FORMULAPD interpolation and extrapolation (retired)</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../DBX-ShortRate%20and%20FX%20Skew%20Stochastic%20Volatility%20models/index.html">1.4. DBX-Short Rate and FX Skew StochVol Guides</a><input class="toctree-checkbox" id="toctree-checkbox-45" name="toctree-checkbox-45" role="switch" type="checkbox"/><label for="toctree-checkbox-45"><div class="visually-hidden">Toggle navigation of 1.4. DBX-Short Rate and FX Skew StochVol Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../DBX-ShortRate%20and%20FX%20Skew%20Stochastic%20Volatility%20models/DBX-ShortRate_FXSkewStochVol.html">1.4.1. DBX-ShortRate_FXSkewStochVol Document</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Fx/index.html">1.5. fx_volatility_surface Guides</a><input class="toctree-checkbox" id="toctree-checkbox-46" name="toctree-checkbox-46" role="switch" type="checkbox"/><label for="toctree-checkbox-46"><div class="visually-hidden">Toggle navigation of 1.5. fx_volatility_surface Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../Fx/fx_volatility_surface.html">1.5.1. FX Analytic Volatility Surfaces</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Implied%20Volatility%20Filter/index.html">1.6. Implied Volatility Filter Guides</a><input class="toctree-checkbox" id="toctree-checkbox-47" name="toctree-checkbox-47" role="switch" type="checkbox"/><label for="toctree-checkbox-47"><div class="visually-hidden">Toggle navigation of 1.6. Implied Volatility Filter Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../Implied%20Volatility%20Filter/Implied_Volatility_Filter.html">1.6.1. Implied Volatility Filter</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Ir/index.html">1.7. Linear_Interest_Rate_Swaps Guides</a><input class="toctree-checkbox" id="toctree-checkbox-48" name="toctree-checkbox-48" role="switch" type="checkbox"/><label for="toctree-checkbox-48"><div class="visually-hidden">Toggle navigation of 1.7. Linear_Interest_Rate_Swaps Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../Ir/Linear_Interest_Rate_Swaps.html">1.7.1. Linear Interest Rate Swaps</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../LSV/index.html">1.8. LSV Guides</a><input class="toctree-checkbox" id="toctree-checkbox-49" name="toctree-checkbox-49" role="switch" type="checkbox"/><label for="toctree-checkbox-49"><div class="visually-hidden">Toggle navigation of 1.8. LSV Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../LSV/LSV.html">1.8.1. LSV</a><input class="toctree-checkbox" id="toctree-checkbox-50" name="toctree-checkbox-50" role="switch" type="checkbox"/><label for="toctree-checkbox-50"><div class="visually-hidden">Toggle navigation of 1.8.1. LSV</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../LSV/FX%20LSV%20Markov%20Switching%20%20Monte%20Carlo/FX_LSV_Markov_Switching_Monte_Carlo.html">1.8.1.1. FX LSV Markov Switching : Monte Carlo</a></li>
<li class="toctree-l4"><a class="reference internal" href="../LSV/FX%20LSV%20Markov%20Switching%20PDE/FX_LSV_Markov_Switching_PDE.html">1.8.1.2. FX LSV Markov Switching : PDE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../LSV/Local%20Volatility%20PDE%20and%20MC/Local_Volatility_PDE_and_MC.html">1.8.1.3. Local Volatility: PDE and MC</a></li>
<li class="toctree-l4"><a class="reference internal" href="../LSV/LSV%20Markov%20Switching%20%20Monte%20Carlo/LSV_Markov_Switching_Monte_Carlo.html">1.8.1.4. LSV Markov Switching : Monte Carlo</a></li>
<li class="toctree-l4"><a class="reference internal" href="../LSV/LSV%20Markov%20Switching%20%20PDE/LSV_Markov_Switching_PDE.html">1.8.1.5. LSV Markov Switching : PDE</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Local_Volatility_PDE_MC/index.html">1.9. Local Volatility PDE MC Guides</a><input class="toctree-checkbox" id="toctree-checkbox-51" name="toctree-checkbox-51" role="switch" type="checkbox"/><label for="toctree-checkbox-51"><div class="visually-hidden">Toggle navigation of 1.9. Local Volatility PDE MC Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../Local_Volatility_PDE_MC/Local_Volatility_PDE_MC.html">1.9.1. Local Volatility: PDE and MC</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Model%20Rate%20Deterministic_InflationDeterministic/index.html">1.10. Model Rate Deterministic Inflation Deterministic Guides</a><input class="toctree-checkbox" id="toctree-checkbox-52" name="toctree-checkbox-52" role="switch" type="checkbox"/><label for="toctree-checkbox-52"><div class="visually-hidden">Toggle navigation of 1.10. Model Rate Deterministic Inflation Deterministic Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../Model%20Rate%20Deterministic_InflationDeterministic/RateDeterministic_InflationDeterministic.html">1.10.1. Model Rate Deterministic Document (DBOPT/DBX)</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Model%20RateDeterministic/index.html">1.11. Rate Deterministic Guides</a><input class="toctree-checkbox" id="toctree-checkbox-53" name="toctree-checkbox-53" role="switch" type="checkbox"/><label for="toctree-checkbox-53"><div class="visually-hidden">Toggle navigation of 1.11. Rate Deterministic Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../Model%20RateDeterministic/RateDeterministic.html">1.11.1. The model RateDeterministic</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Model%20Short%20Rate%20Normal/index.html">1.12. Short Rate Normal Guides</a><input class="toctree-checkbox" id="toctree-checkbox-54" name="toctree-checkbox-54" role="switch" type="checkbox"/><label for="toctree-checkbox-54"><div class="visually-hidden">Toggle navigation of 1.12. Short Rate Normal Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../Model%20Short%20Rate%20Normal/Short_Rate_Normal.html">1.12.1. Short Rate Normal Model Validation Document</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../SABR/index.html">1.16. Interest Rate Volatility Model GSABR</a><input class="toctree-checkbox" id="toctree-checkbox-55" name="toctree-checkbox-55" role="switch" type="checkbox"/><label for="toctree-checkbox-55"><div class="visually-hidden">Toggle navigation of 1.16. Interest Rate Volatility Model GSABR</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../SABR/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/scope.html">2. Scope and Use</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/implementation.html">5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/calibration.html">6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/model_monitoring.html">10. Model Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/market_data_integration.html">11. Market Data Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/performance_benchmarking.html">12. Performance Benchmarking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/troubleshooting_guide.html">13. Troubleshooting Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/development_feedback.html">14. Development Feedback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/references.html">15. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/scope.html">2. Scope and Use</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/implementation.html">5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/calibration.html">6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/model_monitoring.html">10. Model Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/market_data_integration.html">11. Market Data Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/performance_benchmarking.html">12. Performance Benchmarking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/troubleshooting_guide.html">13. Troubleshooting Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/development_feedback.html">14. Development Feedback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SABR/references.html">15. References</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../SABR/index.html">1.16. SABR/GSABR Models</a><input class="toctree-checkbox" id="toctree-checkbox-56" name="toctree-checkbox-56" role="switch" type="checkbox"/><label for="toctree-checkbox-56"><div class="visually-hidden">Toggle navigation of 1.16. SABR/GSABR Models</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../SABR/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/scope.html">2. Scope and Use</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/implementation.html">5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/calibration.html">6. Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/model_monitoring.html">10. Model Monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/market_data_integration.html">11. Market Data Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/performance_benchmarking.html">12. Performance Benchmarking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/troubleshooting_guide.html">13. Troubleshooting Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/development_feedback.html">14. Development Feedback</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/references.html">15. References</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/scope.html">2. Scope and Use</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/implementation.html">5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/calibration.html">6. Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/model_monitoring.html">10. Model Monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/market_data_integration.html">11. Market Data Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/performance_benchmarking.html">12. Performance Benchmarking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/troubleshooting_guide.html">13. Troubleshooting Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/development_feedback.html">14. Development Feedback</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SABR/references.html">15. References</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../ASV/index.html">1.1. Analytical Sigma Volatility</a><input class="toctree-checkbox" id="toctree-checkbox-57" name="toctree-checkbox-57" role="switch" type="checkbox"/><label for="toctree-checkbox-57"><div class="visually-hidden">Toggle navigation of 1.1. Analytical Sigma Volatility</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../ASV/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/scope.html">2. Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/implementation.html">5. Implementation and Numerical Schema</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/calibration.html">6. Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/model_monitoring.html">10. Model Monitoring and KPIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/user_guide.html">11. User Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/references.html">12. References</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/README.html">13. Analytical Sigma Volatility (ASV) Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/scope.html">2. Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/implementation.html">5. Implementation and Numerical Schema</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/calibration.html">6. Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/model_monitoring.html">10. Model Monitoring and KPIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/user_guide.html">11. User Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/references.html">12. References</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ASV/README.html">13. Analytical Sigma Volatility (ASV) Documentation</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Cheyette/index.html">Cheyette Interest Rate Model</a><input class="toctree-checkbox" id="toctree-checkbox-58" name="toctree-checkbox-58" role="switch" type="checkbox"/><label for="toctree-checkbox-58"><div class="visually-hidden">Toggle navigation of Cheyette Interest Rate Model</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Cheyette/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Cheyette/scope.html">2. Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Cheyette/products_and_payoffs.html">1.2.1.3. Products and Payoffs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Cheyette/model_methodology.html">3. Model Methodology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Cheyette/implementation.html">4. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Cheyette/calibration.html">5. Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Cheyette/risk_analysis.html">6. Risk Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Cheyette/testing_and_validation.html">7. Testing and Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Cheyette/assumptions_and_limitations.html">1.2.1.9. Assumptions and Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Cheyette/monitoring_and_kpis.html">8. Monitoring and KPIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Cheyette/appendices.html">1.2.1.11. Appendices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Cheyette/README.html">1.2.1.12. Cheyette Local Vol Model Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Cheyette/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Cheyette/scope.html">2. Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Cheyette/model_methodology.html">3. Model Methodology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Cheyette/implementation.html">4. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Cheyette/calibration.html">5. Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Cheyette/risk_analysis.html">6. Risk Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Cheyette/testing_and_validation.html">7. Testing and Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Cheyette/monitoring_and_kpis.html">8. Monitoring and KPIs</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Curve%20Construction/index.html">1.3. Curve Construction Framework</a><input class="toctree-checkbox" id="toctree-checkbox-59" name="toctree-checkbox-59" role="switch" type="checkbox"/><label for="toctree-checkbox-59"><div class="visually-hidden">Toggle navigation of 1.3. Curve Construction Framework</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/scope.html">2. Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/implementation.html">5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/calibration.html">6. Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/model_monitoring.html">10. Model Monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/development_feedback.html">11. Development Feedback</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/references.html">12. References</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/README.html">1.3.1.13. Curve Construction and Risk Framework Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/scope.html">2. Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/product_and_portfolio.html">3. Product and Portfolio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/model_methodology.html">4. Model Methodology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/implementation.html">5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/calibration.html">6. Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/risk_analysis.html">7. Risk Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/testing_and_validation.html">8. Testing and Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/general_limitations.html">9. General Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/model_monitoring.html">10. Model Monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/development_feedback.html">11. Development Feedback</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Curve%20Construction/references.html">12. References</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../api/index.html">API Documentation</a><input class="toctree-checkbox" id="toctree-checkbox-60" name="toctree-checkbox-60" role="switch" type="checkbox"/><label for="toctree-checkbox-60"><div class="visually-hidden">Toggle navigation of API Documentation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../api/cpp.html">1.1. C++</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../api/python.html">1.2. Python</a><input class="toctree-checkbox" id="toctree-checkbox-61" name="toctree-checkbox-61" role="switch" type="checkbox"/><label for="toctree-checkbox-61"><div class="visually-hidden">Toggle navigation of 1.2. Python</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-62" name="toctree-checkbox-62" role="switch" type="checkbox"/><label for="toctree-checkbox-62"><div class="visually-hidden">Toggle navigation of xsigmamodules</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.common.html">1.2.1.1.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.common</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-63" name="toctree-checkbox-63" role="switch" type="checkbox"/><label for="toctree-checkbox-63"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.1. xsigmamodules.common</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.common.helper.html">1.2.1.1.1.1.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.common.helper</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.common.instrument.html">1.2.1.1.1.1.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.common.instrument</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.market.html">1.2.1.1.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.market</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-64" name="toctree-checkbox-64" role="switch" type="checkbox"/><label for="toctree-checkbox-64"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.2. xsigmamodules.market</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.market.market_data.html">1.2.1.1.1.2.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.market.market_data</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.market.object_factory.html">1.2.1.1.1.2.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.market.object_factory</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.simulation.html">1.2.1.1.1.3. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.simulation</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-65" name="toctree-checkbox-65" role="switch" type="checkbox"/><label for="toctree-checkbox-65"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.3. xsigmamodules.simulation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.simulation.simulation.html">1.2.1.1.1.3.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.simulation.simulation</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.test.html">1.2.1.1.1.4. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.test</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-66" name="toctree-checkbox-66" role="switch" type="checkbox"/><label for="toctree-checkbox-66"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.4. xsigmamodules.test</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.test.BlackBox.html">1.2.1.1.1.4.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.test.BlackBox</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.test.Testing.html">1.2.1.1.1.4.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.test.Testing</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.util.html">1.2.1.1.1.5. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-67" name="toctree-checkbox-67" role="switch" type="checkbox"/><label for="toctree-checkbox-67"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.5. xsigmamodules.util</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.util.misc.html">1.2.1.1.1.5.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.misc</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.util.numpy_support.html">1.2.1.1.1.5.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.numpy_support</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.util.object_converter.html">1.2.1.1.1.5.1.3. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.object_converter</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.util.xsigmaConstants.html">1.2.1.1.1.5.1.4. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.xsigmaConstants</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.util.xsigmaMethodParser.html">1.2.1.1.1.5.1.5. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.xsigmaMethodParser</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.xlwing.html">1.2.1.1.1.6. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.xlwing</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-68" name="toctree-checkbox-68" role="switch" type="checkbox"/><label for="toctree-checkbox-68"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.6. xsigmamodules.xlwing</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.xlwing.hartman_watson_template.html">1.2.1.1.1.6.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.xlwing.hartman_watson_template</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.xlwing.sabr_template.html">1.2.1.1.1.6.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.xlwing.sabr_template</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../api/python/xsigmamodules/xsigmamodules.generate_pyi.html">1.2.1.1.2.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.generate_pyi</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../api/cmake/cmake-modules.html">1.3. CMake</a><input class="toctree-checkbox" id="toctree-checkbox-69" name="toctree-checkbox-69" role="switch" type="checkbox"/><label for="toctree-checkbox-69"><div class="visually-hidden">Toggle navigation of 1.3. CMake</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/cmake/ModuleSystem.html">1.3.1. Module System</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/cmake/xsigmaModule.html">1.3.2. xsigmaModule</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/cmake/xsigmaModuleTesting.html">1.3.3. xsigmaModuleTesting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/cmake/xsigmaModuleWrapPython.html">1.3.4. xsigmaModuleWrapPython</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/cmake/xsigmaModuleWrapJava.html">1.3.5. xsigmaModuleWrapJava</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/cmake/xsigmaModuleJSON.html">1.3.6. xsigmaModuleJSON</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/cmake/xsigmaModuleGraphviz.html">1.3.7. xsigmaModuleGraphviz</a></li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section class="tex2jax_ignore mathjax_ignore" id="fx-market-model-validation-document">
<h1><span class="section-number">1.3.1. </span>FX Market Model Validation Document<a class="headerlink" href="#fx-market-model-validation-document" title="Link to this heading">#</a></h1>
<section id="executive-summary">
<h2><span class="section-number">1.3.1.1. </span>1 Executive Summary<a class="headerlink" href="#executive-summary" title="Link to this heading">#</a></h2>
<p>The Global Model Risk Assessment is:</p>
<p>Global Model Risk Assessment</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>Rating</p></th>
<th class="head"><p>Justification</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Complexity</p></td>
<td><p>LOW</p></td>
<td><p>The model is analytic</p></td>
</tr>
<tr class="row-odd"><td><p>Uncertainty</p></td>
<td><p>LOW</p></td>
<td><p>The model does not use any external feeder model or any other source of uncertainty</p></td>
</tr>
<tr class="row-even"><td><p>Reliance</p></td>
<td><p>HIGH</p></td>
<td><p>Pricing models have high reliance</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 2: Model risk assessment</p>
<p>The uncertainty rating has been determined based on consideration of model inputs, relevant model limitations, the risk factor representation required for the products being modelled, the nature of the numerical implementation and calibration approaches employed. The complexity rating has been determined based on consideration of the number and nature of risk factors modelled including their interdependency, the calibration approach employed, the mathematical specification of the model and where relevant, the sophistication of the broader processing environment of which the model is part. The reliance of all pricing models is high as the model outputs define the relevant officially reported metrics rather than merely informing them. Reduction of reliance on pricing model outputs is similarly inappropriate.</p>
<section id="summary-of-main-validation-results">
<h3><span class="section-number">1.3.1.1.1. </span>1.1 Summary of main validation results<a class="headerlink" href="#summary-of-main-validation-results" title="Link to this heading">#</a></h3>
<p>The present report reviews the DBSMC-RateDeterministic_FXMarket model which represents the closed-form analytic implementation of a multi-currency model that assumes that the dynamics of the domestic and foreign interest rates are deterministic and the dynamics of the FX rate are given by a lognormal process whose volatility can have a non-parametric form (i.e. set by interpolating/extrapolating over the input volatility surface) or a parametric form (SA4, LABGD).</p>
<p>The testing performed in this report investigates the correct implementation of the model and its behaviour in normal market conditions (EOD) and in stressed market conditions (IRRBB, CCAR, MultiVar). The tests examine the robustness of the pricer w.r.t. the numerical methods in use and examine the impact of different model inputs and market parameters on the price and main risk sensitivities of the products in scope.</p>
<p>The auto-fitting procedure of the parametric forms SA4 PIV or LABGD PIV volatility to the input market volatility surfaces is well documented and dedicated tests assess the robustness of the auto-fitting. Further tests investigate whether no-arbitrage conditions (e.g. butterfly arbitrage which is equivalent to the probability density function of the underlying taking negative values) are satisfied when using PIV parametrisations of volatilities. Testing reveals that the no-arbitrage conditions are not violated in the cases that are considered in this report, see Section 4.4. Moreover, we provide testing evidence to illustrate that when a PIV vol is used instead of a DELTAVOL or STRIKEVOL, the prices and sensitivities of securities are calculated correctly, see Sections 4.5.1 - ?? and 4.6.1 - 4.6.1.4. Furthermore, the testing results show that within the interpolation region, the prices and the implied volatilities obtained by using an input vol object of type DELTAVOL and obtained by using the auto-fitted PIV object are in good agreement.</p>
<p>Additional tests examine various interpolation methods in strike and time direction and the impact of dayweights parameters. The report approves the natural cubic interpolation to be used in strike direction (InterpolationType = NATURALCUBICTIMESTRIKE, see CFU ID:550), as it is the least susceptible to arbitrage, and the flat volatility interpolation to be used in time direction (VolMode=CONSTANT_LV, see CFU ID:586).</p>
<p>As part of individual product testing, we perform a large spectrum of implementation and stress tests to show that the price and risk sensitivities computed in this model framework are accurate and their behavior is smooth and in line with expectations.</p>
<p>As a conclusion of the validation work, MoRM gives the models covered in this document full approval. The latest re-validation of DBSMC-RateDeterministic_FXMarket was performed using DBAnalytics Version 1110. Tests covering CCAR 2022 stress scenarios have been added in Q2 2022, using DBAnalytics v.1110. Since these tests cover EOD scenarios too for comparison purposes, these tests can be regarded as checking and confirming the correct behavior of the model in the context of DBAnalytics v.1110.</p>
<p>Subsequent material changes to the model must be submitted for validation.</p>
<p>The model DBSMC-RateDeterministic_FXMarketis a pricing models used for the following purposes: Generate asset and liability fair value measurements reported in official books and records and/or generate risk sensitivities (i.e. for End of Day risk management purpose and/or feeding Risk and Capital calculation) and re-price positions under stress scenarios as a servicer model, in the context of regulatory stress tests i.e. CCAR, in the Interest Risk in the Banking Book (“IRRBB”) Delta EVE calculation or in the context of full revaluation (“Full Reval”) of (Stress) Value at Risk (HistSim, SVAR). The model is developed and maintained by DBAnalytics and is provided via dlls for use in Microsoft Excel, Python, Perl, and is made available in Kannon and Risk Engine (amend as required).</p>
<p>The model DBSMC-RateDeterministic_FXMarketwith configurations</p>
<p>DBSMC-RateDeterministic_FXMarket[AUTO]
DBSMC-RateDeterministic_FXMarket</p>
<p>is recommended for use with the following products:</p>
<ul class="simple">
<li><p>FXEuroOpt</p></li>
<li><p>FXDigitalOpt</p></li>
<li><p>FXGeometricBasketOpt</p></li>
<li><p>FXNonDeliverableEuroOpt</p></li>
</ul>
<p>For the following usage(s):</p>
<ul class="simple">
<li><p>End of day valuation and risk management.</p></li>
<li><p>As a servicer model employed in valuation subject to CCAR stress testing scenarios and HistSim Var.</p></li>
<li><p>For the calculation of Delta EVE under Interest Rate Risk in the Banking Book.</p></li>
</ul>
<p>The table below summarizes the valuation assessment per usage.</p>
<p>The review undertaken did not reveal any flaws in the theory or the relevant implementations.</p>
<p>Products labelled with “*” indicate that the approved model is primary.</p>
<p>The model assumptions are detailed in the model description section 2.5.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Usage</p></th>
<th class="head"><p>Recommended for Use (RFU)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>EOD</p></td>
<td><p>YES</p></td>
</tr>
<tr class="row-odd"><td><p>HistSim</p></td>
<td><p>YES</p></td>
</tr>
<tr class="row-even"><td><p>CCAR</p></td>
<td><p>YES</p></td>
</tr>
<tr class="row-odd"><td><p>IRRBB</p></td>
<td><p>YES</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 3: Validation Assessment</p>
</section>
<section id="limitations-and-validation-findings-overview">
<h3><span class="section-number">1.3.1.1.2. </span>1.2 Limitations and Validation Findings Overview<a class="headerlink" href="#limitations-and-validation-findings-overview" title="Link to this heading">#</a></h3>
<section id="findings">
<h4><span class="section-number">1.3.1.1.2.1. </span>1.2.1 Findings<a class="headerlink" href="#findings" title="Link to this heading">#</a></h4>
<p>There are currently no validation findings requiring to be addressed.</p>
</section>
<section id="model-limitations">
<h4><span class="section-number">1.3.1.1.2.2. </span>1.2.2 Model Limitations<a class="headerlink" href="#model-limitations" title="Link to this heading">#</a></h4>
<p>For the model DBSMC-RateDeterministic_FXMarket, the following limitations have been identified, see Section 5.1 for further details:</p>
<p>• Missing Risk Factor[Interest Rate Volatility][ShortRateDeterministic]: The ShortRateDeterministic framework makes the assumption that interest rate uncertainty is not an important factor for pricing. This assumption is reasonable to the extent that cashflows are fixed (ie coupon settable equals valuedate), or linear in a natural rate (paydate equals rate maturity), or where cashflow uncertainty is dominated by volatility in other underlyings. [Lim ID 707].
• Missing Risk Factor[FX Volatility Smile][FXMarket]: The pricing of baskets relies on the construction of an index with lognormal dynamics from the baskets constituents. The model assumes a flat volatility smile for the index. The impact of the limitation can be assessed by benchmarking against alternative DBAnalytics models. We recommend GVG to monitor the uncertainty surrounding the limitation and compute uncertainty reserves, if deemed necessary. [Lim ID 1523]
• Missing Risk Factor[FX CORRELATION SKEW][FXMarket]: When pricing the multi-currency arithmetic basket options the FXMarket framework uses a three-moment matching approximation on the distribution of the basket variable. Therefore, higher order moments are not calibrated in this framework. This assumption is reasonable for markets that can be well approximated using only the first three moments. [Lim ID 2742]
• Calibration[Calibration Uncertainty][FXMarket]: The PIV/Auto calibration of the FXMarket model is sensitive to the choice of calibration targets and parameters of the calibration routine. Such calibration target choice and the calibration quality add uncertainty to the valuation. [Lim ID 4056]</p>
<p>Limitation 2605, previously linked to this model, was only relevant for the product FXBasketOpt, which is currently deactivated. In case the product were reapproved, limitation 2605 would have to be reinstated.</p>
</section>
</section>
<section id="control-overview">
<h3><span class="section-number">1.3.1.1.3. </span>1.3 Control Overview<a class="headerlink" href="#control-overview" title="Link to this heading">#</a></h3>
<p>The table below lists the conditions for use that have been raised to address model weaknesses identified in the course of validation. These are classified as Model Rule and should be monitored though the automated Model Parameter Monitoring process. All conditions for use are logged in MARS. Model parameters approved values and appropriate ranges are detailed in the section 6 and the parameter classification and accurate functioning of model rules is confirmed in section 5.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>CfU ID</p></th>
<th class="head"><p>Monitoring Method</p></th>
<th class="head"><p>Rule Name</p></th>
<th class="head"><p>Status</p></th>
<th class="head"><p>Business</p></th>
<th class="head"><p>Last Change Date</p></th>
<th class="head"><p>Paraminfo Date</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>550</p></td>
<td><p>Model Rule</p></td>
<td><p>FX0006</p></td>
<td><p>Released</p></td>
<td><p>FX</p></td>
<td><p>2017-10-11</p></td>
<td><p>2017-07-05</p></td>
</tr>
<tr class="row-odd"><td><p>588</p></td>
<td><p>Model Rule</p></td>
<td><p>FX0007</p></td>
<td><p>Released</p></td>
<td><p>FX</p></td>
<td><p>2017-10-11</p></td>
<td><p>2017-07-05</p></td>
</tr>
<tr class="row-even"><td><p>589</p></td>
<td><p>Model Rule</p></td>
<td><p>FX0008</p></td>
<td><p>Released</p></td>
<td><p>FX</p></td>
<td><p>2017-10-11</p></td>
<td><p>2017-07-05</p></td>
</tr>
<tr class="row-odd"><td><p>11032</p></td>
<td><p>Model Rule</p></td>
<td><p>CURVE0001</p></td>
<td><p>Released</p></td>
<td><p>CREDIT</p></td>
<td><p>2022-06-15</p></td>
<td><p>2019-06-27</p></td>
</tr>
<tr class="row-even"><td><p>11036</p></td>
<td><p>Model Rule</p></td>
<td><p>CURVE0002</p></td>
<td><p>Released</p></td>
<td><p>CREDIT</p></td>
<td><p>2022-06-15</p></td>
<td><p>2019-07-10</p></td>
</tr>
<tr class="row-odd"><td><p>11038</p></td>
<td><p>Model Rule</p></td>
<td><p>CURVE0009</p></td>
<td><p>Released</p></td>
<td><p>CREDIT</p></td>
<td><p>2022-06-15</p></td>
<td><p>2019-06-27</p></td>
</tr>
<tr class="row-even"><td><p>11041</p></td>
<td><p>Model Rule</p></td>
<td><p>CURVE0026</p></td>
<td><p>Released</p></td>
<td><p>CREDIT</p></td>
<td><p>2022-06-15</p></td>
<td><p>2019-06-27</p></td>
</tr>
<tr class="row-odd"><td><p>11044</p></td>
<td><p>Model Rule</p></td>
<td><p>CURVE0019</p></td>
<td><p>Released</p></td>
<td><p>CREDIT</p></td>
<td><p>2022-06-15</p></td>
<td><p>2019-06-27</p></td>
</tr>
<tr class="row-even"><td><p>11054</p></td>
<td><p>Model Rule</p></td>
<td><p>CURVE0013</p></td>
<td><p>Released</p></td>
<td><p>CREDIT</p></td>
<td><p>2022-06-15</p></td>
<td><p>2019-06-27</p></td>
</tr>
<tr class="row-odd"><td><p>11063</p></td>
<td><p>Model Rule</p></td>
<td><p>CURVE0017</p></td>
<td><p>Released</p></td>
<td><p>RATES</p></td>
<td><p>2022-02-04</p></td>
<td><p>2019-06-27</p></td>
</tr>
<tr class="row-even"><td><p>11085</p></td>
<td><p>Model Rule</p></td>
<td><p>CURVE0023</p></td>
<td><p>Released</p></td>
<td><p>CREDIT</p></td>
<td><p>2022-06-15</p></td>
<td><p>2019-06-27</p></td>
</tr>
<tr class="row-odd"><td><p>11089</p></td>
<td><p>Model Rule</p></td>
<td><p>CURVE0010</p></td>
<td><p>Released</p></td>
<td><p>CREDIT</p></td>
<td><p>2022-06-15</p></td>
<td><p>2019-06-27</p></td>
</tr>
<tr class="row-even"><td><p>11823</p></td>
<td><p>Model Rule</p></td>
<td><p>FX0014</p></td>
<td><p>Released</p></td>
<td><p>FX</p></td>
<td><p>2020-08-28</p></td>
<td><p>2020-07-29</p></td>
</tr>
<tr class="row-odd"><td><p>11824</p></td>
<td><p>Model Rule</p></td>
<td><p>FX0015</p></td>
<td><p>Released</p></td>
<td><p>FX</p></td>
<td><p>2020-08-28</p></td>
<td><p>2019-01-08</p></td>
</tr>
<tr class="row-even"><td><p>11825</p></td>
<td><p>Model Rule</p></td>
<td><p>FX0016</p></td>
<td><p>Released</p></td>
<td><p>FX</p></td>
<td><p>2020-10-15</p></td>
<td><p>2019-05-07</p></td>
</tr>
<tr class="row-odd"><td><p>11826</p></td>
<td><p>Model Rule</p></td>
<td><p>FX0017</p></td>
<td><p>Released</p></td>
<td><p>FX</p></td>
<td><p>2020-10-15</p></td>
<td><p>2019-05-24</p></td>
</tr>
<tr class="row-even"><td><p>11827</p></td>
<td><p>Model Rule</p></td>
<td><p>FX0018</p></td>
<td><p>Released</p></td>
<td><p>FX</p></td>
<td><p>2020-08-03</p></td>
<td><p>2019-01-08</p></td>
</tr>
<tr class="row-odd"><td><p>11828</p></td>
<td><p>Model Rule</p></td>
<td><p>FX0019</p></td>
<td><p>Released</p></td>
<td><p>FX</p></td>
<td><p>2020-08-03</p></td>
<td><p>2018-04-22</p></td>
</tr>
<tr class="row-even"><td><p>11829</p></td>
<td><p>Model Rule</p></td>
<td><p>FX0020</p></td>
<td><p>Released</p></td>
<td><p>FX</p></td>
<td><p>2020-08-28</p></td>
<td><p>2020-07-29</p></td>
</tr>
<tr class="row-odd"><td><p>11830</p></td>
<td><p>Model Rule</p></td>
<td><p>FX0021</p></td>
<td><p>Released</p></td>
<td><p>FX</p></td>
<td><p>2020-10-15</p></td>
<td><p>2019-03-27</p></td>
</tr>
<tr class="row-even"><td><p>11831</p></td>
<td><p>Model Rule</p></td>
<td><p>FX0022</p></td>
<td><p>Released</p></td>
<td><p>FX</p></td>
<td><p>2020-08-28</p></td>
<td><p>2020-07-29</p></td>
</tr>
<tr class="row-odd"><td><p>11832</p></td>
<td><p>Model Rule</p></td>
<td><p>FX0023</p></td>
<td><p>Released</p></td>
<td><p>FX</p></td>
<td><p>2020-08-28</p></td>
<td><p>2020-07-29</p></td>
</tr>
<tr class="row-even"><td><p>11833</p></td>
<td><p>Model Rule</p></td>
<td><p>FX0024</p></td>
<td><p>Released</p></td>
<td><p>FX</p></td>
<td><p>2020-08-03</p></td>
<td><p>2020-07-29</p></td>
</tr>
<tr class="row-odd"><td><p>11834</p></td>
<td><p>Model Rule</p></td>
<td><p>FX0025</p></td>
<td><p>Released</p></td>
<td><p>FX</p></td>
<td><p>2020-10-15</p></td>
<td><p>2017-07-05</p></td>
</tr>
<tr class="row-even"><td><p>11835</p></td>
<td><p>Model Rule</p></td>
<td><p>FX0026</p></td>
<td><p>Released</p></td>
<td><p>FX</p></td>
<td><p>2020-08-03</p></td>
<td><p>2020-07-29</p></td>
</tr>
<tr class="row-odd"><td><p>11836</p></td>
<td><p>Model Rule</p></td>
<td><p>FX0027</p></td>
<td><p>Released</p></td>
<td><p>FX</p></td>
<td><p>2020-08-03</p></td>
<td><p>2017-07-05</p></td>
</tr>
<tr class="row-even"><td><p>11837</p></td>
<td><p>Model Rule</p></td>
<td><p>FX0028</p></td>
<td><p>Released</p></td>
<td><p>FX</p></td>
<td><p>2020-10-15</p></td>
<td><p>2019-05-07</p></td>
</tr>
<tr class="row-odd"><td><p>11838</p></td>
<td><p>Model Rule</p></td>
<td><p>FX0029</p></td>
<td><p>Released</p></td>
<td><p>FX</p></td>
<td><p>2020-12-16</p></td>
<td><p>2018-04-22</p></td>
</tr>
<tr class="row-even"><td><p>11839</p></td>
<td><p>Model Rule</p></td>
<td><p>FX0030</p></td>
<td><p>Released</p></td>
<td><p>FX</p></td>
<td><p>2020-08-03</p></td>
<td><p>2017-10-30</p></td>
</tr>
<tr class="row-odd"><td><p>13071</p></td>
<td><p>Model Rule</p></td>
<td><p>CURVE0024</p></td>
<td><p>Released</p></td>
<td><p>RATES</p></td>
<td><p>2022-02-04</p></td>
<td><p>2020-07-08</p></td>
</tr>
<tr class="row-even"><td><p>13075</p></td>
<td><p>Model Rule</p></td>
<td><p>CURVE0012</p></td>
<td><p>Released</p></td>
<td><p>CREDIT</p></td>
<td><p>2022-06-15</p></td>
<td><p>2019-08-11</p></td>
</tr>
<tr class="row-odd"><td><p>13076</p></td>
<td><p>Model Rule</p></td>
<td><p>CURVE0004A</p></td>
<td><p>Released</p></td>
<td><p>CREDIT</p></td>
<td><p>2021-12-20</p></td>
<td><p>2019-06-27</p></td>
</tr>
<tr class="row-even"><td><p>16560</p></td>
<td><p>Model Rule</p></td>
<td><p>FX0082</p></td>
<td><p>Released</p></td>
<td><p>FX</p></td>
<td><p>2020-12-09</p></td>
<td><p>2017-02-14</p></td>
</tr>
<tr class="row-odd"><td><p>16561</p></td>
<td><p>Model Rule</p></td>
<td><p>FX0083</p></td>
<td><p>Released</p></td>
<td><p>FX</p></td>
<td><p>2020-12-16</p></td>
<td><p>2019-06-27</p></td>
</tr>
<tr class="row-even"><td><p>16562</p></td>
<td><p>Model Rule</p></td>
<td><p>FX0084</p></td>
<td><p>Released</p></td>
<td><p>FX</p></td>
<td><p>2021-12-16</p></td>
<td><p>2019-06-27</p></td>
</tr>
<tr class="row-odd"><td><p>17547</p></td>
<td><p>Model Rule</p></td>
<td><p>FX0085</p></td>
<td><p>Released</p></td>
<td><p>FX</p></td>
<td><p>2021-03-18</p></td>
<td><p>2016-10-10</p></td>
</tr>
<tr class="row-even"><td><p>17773</p></td>
<td><p>Model Rule</p></td>
<td><p>FUNDINGVOL0021</p></td>
<td><p>Released</p></td>
<td><p>RATES</p></td>
<td><p>2022-05-11</p></td>
<td><p>2021-08-24</p></td>
</tr>
<tr class="row-odd"><td><p>17774</p></td>
<td><p>Model Rule</p></td>
<td><p>FUNDINGVOL0023</p></td>
<td><p>Released</p></td>
<td><p>RATES</p></td>
<td><p>2022-05-11</p></td>
<td><p>2021-08-24</p></td>
</tr>
<tr class="row-even"><td><p>17775</p></td>
<td><p>Model Rule</p></td>
<td><p>FUNDINGVOL0001</p></td>
<td><p>Released</p></td>
<td><p>RATES</p></td>
<td><p>2022-05-11</p></td>
<td><p>2021-08-24</p></td>
</tr>
<tr class="row-odd"><td><p>17776</p></td>
<td><p>Model Rule</p></td>
<td><p>FUNDINGVOL0019</p></td>
<td><p>Released</p></td>
<td><p>RATES</p></td>
<td><p>2022-01-18</p></td>
<td><p>2021-08-24</p></td>
</tr>
</tbody>
</table>
</div>
<p>| 17777 | Model Rule | FUNDINGVOL0022 | Released | RATES | 2022-05-11 | 2021-08-24 |
| 17779 | Model Rule | FUNDINGVOL0020 | Released | RATES | 2021-11-11 | 2021-08-11 |
| 17802 | Model Rule | Rates0445 | Released | RATES | 2021-11-11 | 2020-08-15 |
| 17828 | Model Rule | Rates0450 | Released | RATES | 2022-01-18 | 2021-09-24 |
| 17868 | Model Rule | MARKETVOL0020 | Released | FX | 2022-06-23 | 2020-08-25 |
| 18730 | Model Rule | BasketXXX5 | Approved | FX | 2022-06-23 | 2021-09-24 |</p>
<p>Table 4: Conditions for Use, imposed for DBSMC-RateDeterministic_FXMarket model.</p>
</section>
</section>
<section id="introduction-to-model-and-validation">
<h2><span class="section-number">1.3.1.2. </span>2 Introduction to Model and Validation<a class="headerlink" href="#introduction-to-model-and-validation" title="Link to this heading">#</a></h2>
<section id="validation-scope">
<h3><span class="section-number">1.3.1.2.1. </span>2.1 Validation Scope<a class="headerlink" href="#validation-scope" title="Link to this heading">#</a></h3>
<p>The scope of the validation is detailed in section 1.1.</p>
<p>Products with similar features from a valuation perspective are grouped together and tested as a single consistent group wherein testing results for a representative product are deemed applicable and able to confer equivalent inference to the whole product group. The product grouping logic is presented in section 2.2.</p>
</section>
<section id="product-description">
<h3><span class="section-number">1.3.1.2.2. </span>2.2 Product Description<a class="headerlink" href="#product-description" title="Link to this heading">#</a></h3>
<p>The following table gives the description of the products in scope, as provided in RDSProduct:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Product Name (Long Product Name)</p></th>
<th class="head"><p>Product Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>FxEuroOpt (FXEuropeanOption)</p></td>
<td><p>Gives the owner the right but not the obligation to exchange money denominated in one currency into another currency at a pre-agreed exchange rate on a specified date.</p></td>
</tr>
<tr class="row-odd"><td><p>FXNonDeliverableEuroOpt (FXNonDeliverableEuroOpt)</p></td>
<td><p>Same value and risk as an FxEuroOpt except that delivery is a net amount of UnderCurrency converted using a spot fixing published on ExpiryDate.</p></td>
</tr>
<tr class="row-even"><td><p>FXDigitalOpt (FXSimpleExoticDigital)</p></td>
<td><p>A digital option is an option where a fixed payout is made under the conditions specified in the option’s contract. These conditions are defined in terms of a barrier (or triggers. That is, it only matters where the reference rate is in relation to the barrier (above the barrier, below the barrier, or within/outside a defined range) on the option’s expiry date. If the specified conditions are not met, there is no payout.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="product-grouping">
<h3><span class="section-number">1.3.1.2.3. </span>2.3 Product Grouping<a class="headerlink" href="#product-grouping" title="Link to this heading">#</a></h3>
<p>For efficiency purposes, as part of model validation testing, products are grouped according to their payoff features. Table 6 below shows the PRDS products with the corresponding features that are in scope for this model validation report. The test results for FX vanilla options also apply for digital and basket options because digitals can be replicated by plain vanillas, see 4.6.1, and baskets can be priced like vanillas, see 2.6.7. Note that the FxNonDeliverableEuroOpt can be treated the same as the FxEuroOpt and is therefore not tested within this document.</p>
<p>Table 6: DBSMC-RateDeterministic_FXMarket Product Grouping</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Product</p></th>
<th class="head"><p>Underlying</p></th>
<th class="head"><p>CouponStructure</p></th>
<th class="head"><p>BasketFunction</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>FxEuroOpt</p></td>
<td><p>FX</p></td>
<td><p>EuroCpn</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>FXDigitalOpt</p></td>
<td><p>FX</p></td>
<td><p>DigiCpn</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>FXGeometricBasketOpt</p></td>
<td><p>FXMulti</p></td>
<td><p>EuroCpn</p></td>
<td><p>Geometric</p></td>
</tr>
<tr class="row-odd"><td><p>FXNonDeliverableEuroOpt</p></td>
<td><p>FX</p></td>
<td><p>EuroCpn</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="model-inventories">
<h3><span class="section-number">1.3.1.2.4. </span>2.4 Model Inventories<a class="headerlink" href="#model-inventories" title="Link to this heading">#</a></h3>
<p>The table below presents the model inventory for the DBSMC-RateDeterministic_FXMarket model at time of the last revalidation (Q2 2022).</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Product Name</p></th>
<th class="head"><p>Model Configuration</p></th>
<th class="head"><p>Trade Count</p></th>
<th class="head"><p>PV EUR (millions)</p></th>
<th class="head"><p>ABS PV EUR (millions)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>FXDigitalOpt</p></td>
<td><p>DBSMC-ShortRateDeterministic_FXMarket</p></td>
<td><p>19</p></td>
<td><p>-0.612011</p></td>
<td><p>0.612011</p></td>
</tr>
<tr class="row-odd"><td><p>FXDigitalOpt</p></td>
<td><p>DBSMC-ShortRateDeterministic_FXMarket[AUTO]</p></td>
<td><p>1</p></td>
<td><p>-0.549935</p></td>
<td><p>0.549935</p></td>
</tr>
<tr class="row-even"><td><p>FXEuroOpt</p></td>
<td><p>DBSMC-ShortRateDeterministic_FXMarket</p></td>
<td><p>609</p></td>
<td><p>4.045692</p></td>
<td><p>4.045692</p></td>
</tr>
<tr class="row-odd"><td><p>FXEuroOpt</p></td>
<td><p>DBSMC-ShortRateDeterministic_FXMarket[AUTO]</p></td>
<td><p>3150</p></td>
<td><p>-229.933900</p></td>
<td><p>229.933900</p></td>
</tr>
<tr class="row-even"><td><p>FXNonDeliverableEuroOpt</p></td>
<td><p>DBSMC-ShortRateDeterministic_FXMarket</p></td>
<td><p>28</p></td>
<td><p>0.975338</p></td>
<td><p>0.975338</p></td>
</tr>
<tr class="row-odd"><td><p>FXNonDeliverableEuroOpt</p></td>
<td><p>DBSMC-ShortRateDeterministic_FXMarket[AUTO]</p></td>
<td><p>12</p></td>
<td><p>2.444013</p></td>
<td><p>2.444013</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 7: Inventory of the DBSMC-RateDeterministic_FXMarket model as of 23/06/2022.</p>
<p>For the FXBasketOpt, currently deactivated, the BasketFunction takes the form of Arithmetic.</p>
</section>
<section id="model-description">
<h3><span class="section-number">1.3.1.2.5. </span>2.5 Model Description<a class="headerlink" href="#model-description" title="Link to this heading">#</a></h3>
<p>The DBSMC-RateDeterministic_FXMarket model is approved for the products listed in Section 2.2 with the configurations:</p>
<p>DBSMC-RateDeterministic_FXMarket[AUTO]</p>
<p>DBSMC-RateDeterministic_FXMarket</p>
<section id="model-documentation">
<h4><span class="section-number">1.3.1.2.5.1. </span>2.5.1 Model Documentation<a class="headerlink" href="#model-documentation" title="Link to this heading">#</a></h4>
<p>The relevant model developer documentation and testing can be found in [19], [20] and [21]. The use of dayweights parameters in DBAnalytics is documented in [2]. Different DELTA conventions used in DBAnalytics are documented in the online help page for DBAnalytics.</p>
</section>
<section id="model-assumptions">
<h4><span class="section-number">1.3.1.2.5.2. </span>2.5.2 Model Assumptions<a class="headerlink" href="#model-assumptions" title="Link to this heading">#</a></h4>
<p>The DBSMC-RateDeterministic_FXMarket model relies on the following assumptions:</p>
<p>• The domestic and foreign interest rates are assumed to be deterministic.
• FX rate follows a lognormal process whose volatility can have non-parametric form or parametric form (SA4, LABGD).</p>
</section>
<section id="model-inputs">
<h4><span class="section-number">1.3.1.2.5.3. </span>2.5.3 Model Inputs<a class="headerlink" href="#model-inputs" title="Link to this heading">#</a></h4>
<section id="market-inputs">
<h5><span class="section-number">1.3.1.2.5.3.1. </span>2.5.3.1 Market Inputs<a class="headerlink" href="#market-inputs" title="Link to this heading">#</a></h5>
<p>The following market inputs are used by the DBSMC-RateDeterministic_FXMarket model:</p>
<p>• Interest Rate Curve: Constructed from market observables, such as cash rates, future and swap prices. The base curve is typically 3 month Libor, but other curves (e.g., OIS or 6 month Libor) can be constructed from it via spreads (again, from market observables).
• FX Implied volatilities: Constructed from the prices of vanilla options on FX for a set of strikes and maturities. The strikes can be specified directly, but they are more likely specified by the option’s delta.</p>
</section>
<section id="model-parameters">
<h5><span class="section-number">1.3.1.2.5.3.2. </span>2.5.3.2 Model parameters<a class="headerlink" href="#model-parameters" title="Link to this heading">#</a></h5>
<p>The parameters of the model can be grouped in two main categories: model parameters and market parameters. Model parameters deal with the numerical implementation of the model as well as with the way the dynamics of the risk factors are simulated. The market parameters, mainly stored in the DBAnalytics objects CURVE and VOL, are market inputs used to construct the initial yield curve and market inputs representing the FX rate volatility parameters. For the comprehensive list of the model parameters, we refer to Table 4 and Section 4.8. In Section 4.8 the most important model parameters are explained and tested.</p>
<p>A significant difference in model parameters exists between models using a non-parametric FX rate volatility and models using a parametric FX rate volatility.</p>
<p>In the case of non-parametric volatility:</p>
<p>• The DBAnalytics object MARKETVOL can be of InputMode=DELTAVOL (the implied vols are given in terms of deltas) or InputMode=STRIKEVOL (the implied vols are given in terms of strikes). When InputMode=DELTAVOL, the property DeltaType determines how the delta values will be interpreted i.e. how to convert between deltas and strikes for puts and calls.</p>
<p>• The property InterpolationType specifies the interpolation method in strike space and whether the strike interpolation is first done in the time dimension, or in the strike dimension.
• The property InterpolationSpace specifies if the volatilities in the strike dimension are interpolated on the strike itself, on the log of the strike or on delta.
• The property InterpolationStrikes determines the strikes used for time interpolation and vol stripping.
• The property VolMode specifies the interpolation method in the time dimension.</p>
<p>In the case of parametric volatility:</p>
<p>• The MARKETVOL object is of InputMode=PARAMETRICVOL with the parametric form set by SkewType property. SkewType=SA4 or LABGD. Note that in the past, the model allowed for SkewType=SABR3FORMULAPD, configuration currently retired.
• The property SkewConvexityType allows the user to set a non-standard definition of SKEW and SMILE, but it is typically set to STANDARD.</p>
<p>The parameters stored in the CURVE objects are used to construct the domestic and foreign interest rate curves. The VOL object of VolName=DBGVOL and VolType=FXCURVE stores the FX spot rate. The parameters DayWeights stored in the VOL object corresponding to the FX rate volatility are used to increase and decrease the volatility for example to account for weekends or central bank decision days (see subsection 4.3). They are derived from observed implied volatilities of FX calls and puts. The parameters stored in the Offsets table found in the VOL object corresponding to the FX rate volatility are expiry-specific parallel shifts applied to the volatility surface or expiry-specific offsets applied to skew parameters.</p>
</section>
</section>
</section>
<section id="theoretical-overview">
<h3><span class="section-number">1.3.1.2.6. </span>2.6 Theoretical Overview<a class="headerlink" href="#theoretical-overview" title="Link to this heading">#</a></h3>
<p>There are two main mathematical models underlying the DBSMC-RateDeterministic_FXMarket model. The first, which relies on the interpolation and extrapolation of the input market volatility data, we refer to as the non-parametric model. In this version of the model, the implied volatilities $<span class="math notranslate nohighlight">\(\sigma(K_i, T_j)\)</span><span class="math notranslate nohighlight">\( of traded liquid FX vanilla European options, at the discrete maturities \)</span><span class="math notranslate nohighlight">\(T_j\)</span><span class="math notranslate nohighlight">\( and strikes \)</span><span class="math notranslate nohighlight">\(K_i\)</span>$ are interpolated and extrapolated to obtain a continuous volatility surface. Options prices are then calculated from the interpolated volatility surface at any other expiry and strike by means of the Black-Scholes formula. The second version of the model assumes that the FX rate volatility follows a parametric form such as SA4 or LABGD, which is fitted to an input volatility surface of type DELTAVOL or STRIKEVOL.</p>
<p>We begin this section by recalling the definition of implied volatility and state the Black-Scholes formula before discussing the various interpolation methods used by DBAnalytics in the non-parametric volatility case. We present afterwards the parametric forms approved for FX rate volatility in the context of this model. We end the theoretical overview by describing the mathematical consistency and no-arbitrage conditions that must be satisfied by the model before presenting the pricing theory of geometric and arithmetic basket options.</p>
<section id="implied-volatilities-for-fx-derivatives">
<h4><span class="section-number">1.3.1.2.6.1. </span>2.6.1 Implied volatilities for FX Derivatives<a class="headerlink" href="#implied-volatilities-for-fx-derivatives" title="Link to this heading">#</a></h4>
<p>The implied volatility of a vanilla European FX option is defined implicitly using the closed-form formulas of the Black-Scholes model [1].</p>
<p>Recall that in the Black model, the price of a call (put) $<span class="math notranslate nohighlight">\(C(K,T)\)</span><span class="math notranslate nohighlight">\( (\)</span><span class="math notranslate nohighlight">\(P(K,T)\)</span><span class="math notranslate nohighlight">\() with strike \)</span><span class="math notranslate nohighlight">\(K\)</span><span class="math notranslate nohighlight">\( and maturity \)</span><span class="math notranslate nohighlight">\(T\)</span>$ is given by:</p>
<div class="math-wrapper docutils container" id="equation-1">
<div class="math notranslate nohighlight" id="equation-1">
<span class="eqno">(1)<a class="headerlink" href="#equation-1" title="Link to this equation">#</a></span>\[C(K,T) = DF_{dom}(T)[F_T N(d_1) - K N(d_2)]\]</div>
</div>
<div class="math-wrapper docutils container" id="equation-2">
<div class="math notranslate nohighlight" id="equation-2">
<span class="eqno">(2)<a class="headerlink" href="#equation-2" title="Link to this equation">#</a></span>\[P(K,T) = DF_{dom}(T)[K N(-d_2) - F_T N(-d_1)]\]</div>
</div>
<p>where $<span class="math notranslate nohighlight">\(F_T\)</span><span class="math notranslate nohighlight">\( is the forward FX rate, related by no-arbitrage to the spot FX, \)</span><span class="math notranslate nohighlight">\(S\)</span>$, by:</p>
<div class="math-wrapper docutils container" id="equation-4">
<div class="math notranslate nohighlight" id="equation-4">
<span class="eqno">(3)<a class="headerlink" href="#equation-4" title="Link to this equation">#</a></span>\[ \begin{align}\begin{aligned}F_T = S \frac{DF_{for}(T)}{DF_{dom}(T)}$$, (3)\\$$DF_{dom/for}(T)$$ is the domestic/foreign discount factor, $$d_1$$ and $$d_2$$ are defined by:\\$$d_1 = \frac{\ln(F_T/K) + \sigma^2 T/2}{\sigma \sqrt{T}}\end{aligned}\end{align} \]</div>
</div>
<div class="math-wrapper docutils container" id="equation-5">
<div class="math notranslate nohighlight" id="equation-5">
<span class="eqno">(4)<a class="headerlink" href="#equation-5" title="Link to this equation">#</a></span>\[d_2 = \frac{\ln(F_T/K) - \sigma^2 T/2}{\sigma \sqrt{T}} = d_1 - \sigma \sqrt{T},\]</div>
</div>
<p>and the cumulative normal distribution function, $<span class="math notranslate nohighlight">\(N(x)\)</span>$, is defined by:</p>
<div class="math-wrapper docutils container" id="equation-6">
<div class="math notranslate nohighlight" id="equation-6">
<span class="eqno">(5)<a class="headerlink" href="#equation-6" title="Link to this equation">#</a></span>\[N(x) = \frac{1}{\sqrt{2\pi}} \int_{-\infty}^{x} e^{-\frac{t^2}{2}} dt\]</div>
</div>
<p>The implied volatility $<span class="math notranslate nohighlight">\(\sigma(K,T)\)</span><span class="math notranslate nohighlight">\(, of a call (put) option is defined at strike, \)</span><span class="math notranslate nohighlight">\(K\)</span><span class="math notranslate nohighlight">\(, and maturity, \)</span><span class="math notranslate nohighlight">\(T\)</span><span class="math notranslate nohighlight">\(, as the value of \)</span><span class="math notranslate nohighlight">\(\sigma\)</span>$ for which Equation 1 (Equation 2) returns the observed market price.</p>
<p>It is an empirically observed fact that the volatility observed in the market as a function of maturities and strikes is not constant but manifests a smile due to the breakdown of the assumptions of the Black-Scholes model.</p>
</section>
<section id="non-parametric-implied-volatilities-interpolation-and-extrapolation-methods">
<h4><span class="section-number">1.3.1.2.6.2. </span>2.6.2 Non-parametric implied volatilities: Interpolation and Extrapolation methods<a class="headerlink" href="#non-parametric-implied-volatilities-interpolation-and-extrapolation-methods" title="Link to this heading">#</a></h4>
<p>In the present model, the data needed to construct the implied volatility surface is found in a DBAnalytics MARKETVOL object of InputMode=DELTAVOL or STRIKEVOL. The MARKETVOL object supports a variety of interpolation and extrapolation methods in both strike and time dimensions.</p>
<p>By default (unless InterpolationType is set to TIMESTRIKE) the interpolation is first done in the time dimension.</p>
<p>The volatilities can be interpolated at constant strike (InterpolationSpace = STRIKE), constant log of the strike (InterpolationSpace = LOGSTRIKE) or at constant delta (InterpolationSpace = DELTA).</p>
<p>When InterpolationStrikes = NONE, no vol stripping is done, and time interpolation is done at fixed delta.</p>
<section id="interpolation-in-the-time-direction">
<h5><span class="section-number">1.3.1.2.6.2.1. </span>2.6.2.1 Interpolation in the time direction<a class="headerlink" href="#interpolation-in-the-time-direction" title="Link to this heading">#</a></h5>
<p>The various interpolation methods supported by DBAnalytics in time direction are controlled by the VolMode property. These include:</p>
<p>• CONSTANT_LV: flat forward volatility interpolation.
• PWCONST_L: piecewise constant to the left, i.e., for two consecutive maturities $<span class="math notranslate nohighlight">\(T_i\)</span><span class="math notranslate nohighlight">\( and \)</span><span class="math notranslate nohighlight">\(T_{i+1}\)</span><span class="math notranslate nohighlight">\( with given volatilities \)</span><span class="math notranslate nohighlight">\(\sigma_i\)</span><span class="math notranslate nohighlight">\( and \)</span><span class="math notranslate nohighlight">\(\sigma_{i+1}\)</span><span class="math notranslate nohighlight">\( and \)</span><span class="math notranslate nohighlight">\(T_i &lt; t &lt; T_{i+1}\)</span><span class="math notranslate nohighlight">\(, \)</span><span class="math notranslate nohighlight">\(\sigma_{exp}(t) = \sigma_i\)</span><span class="math notranslate nohighlight">\(.
• PWCONST_R: piecewise constant to the right, i.e., for two consecutive maturities \)</span><span class="math notranslate nohighlight">\(T_i\)</span><span class="math notranslate nohighlight">\( and \)</span><span class="math notranslate nohighlight">\(T_{i+1}\)</span><span class="math notranslate nohighlight">\( with given volatilities \)</span><span class="math notranslate nohighlight">\(\sigma_i\)</span><span class="math notranslate nohighlight">\( and \)</span><span class="math notranslate nohighlight">\(\sigma_{i+1}\)</span><span class="math notranslate nohighlight">\( and \)</span><span class="math notranslate nohighlight">\(T_i &lt; t &lt; T_{i+1}\)</span><span class="math notranslate nohighlight">\(, \)</span><span class="math notranslate nohighlight">\(\sigma_{exp}(t) = \sigma_{i+1}\)</span>$.
• CUBIC: cubic interpolation
• EXPONENTIAL: exponential interpolation.</p>
<p>We approve flat forward volatility interpolation VolMode = CONSTANT_LV, i.e. for two consecutive maturities for which the implied volatilities are given, the interpolation ensures that the forward volatility between those maturities is constant. More precisely, suppose the time points <span class="math notranslate nohighlight">\(T_0 = 0, T_1, \ldots, T_N\)</span> are given, with respective implied volatilities (excluding the <span class="math notranslate nohighlight">\(t = T_0\)</span> point) <span class="math notranslate nohighlight">\(\sigma_1, \ldots, \sigma_N\)</span>. Then the flat forward volatility interpolator is given by</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}
\sigma^{\text{flat fwd}}_{\text{imp}}(t) = \begin{cases}
\sigma_1, &amp; t &lt; T_1, \\
\sqrt{\frac{[\sigma^2_i T_i + \sigma^2_{i+1}(t - T_i)]}{t}}, &amp; T_i \leq t &lt; T_{i+1} \text{ for } i &lt; N, \\
\sigma_N, &amp; t \geq T_N,
\end{cases}
\end{split}\]</div>
</div>
<p>where</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\sigma_{i,i+1} = \sqrt{\frac{\sigma^2_{i+1}T_{i+1} - \sigma^2_i T_i}{T_{i+1} - T_i}}
\]</div>
</div>
<p>is the forward volatility between <span class="math notranslate nohighlight">\(T_i\)</span> and <span class="math notranslate nohighlight">\(T_{i+1}\)</span>. Then for any time points <span class="math notranslate nohighlight">\(t_0, t_1\)</span>, such that <span class="math notranslate nohighlight">\(T_i \leq t_0 &lt; t_1 \leq T_{i+1}\)</span>, the forward volatility applicable between the times <span class="math notranslate nohighlight">\(t_0\)</span> and <span class="math notranslate nohighlight">\(t_1\)</span> is <span class="math notranslate nohighlight">\(\sigma_{i,i+1}\)</span>.</p>
<p>The reason to use flat forward volatility interpolation (VolMode = CONSTANT_LV) is that it ensures non-negative forward variance by construction. We provide examples in subsection 4.1 where the other interpolation methods listed above allow for negative forward variance.</p>
</section>
</section>
</section>
<section id="interpolation-in-the-strike-direction">
<h3><span class="section-number">1.3.1.2.7. </span>2.6.2 Interpolation in the strike direction<a class="headerlink" href="#interpolation-in-the-strike-direction" title="Link to this heading">#</a></h3>
<p>DBAnalytics supports different interpolation methods for interpolating the implied volatility surface along the strike direction. The interpolation methods are selected through the property InterpolationType.</p>
<p>For the following interpolation methods, the interpolation is first done in time dimension and then in strike dimension. DBAnalytics supports the following interpolation methods in strike dimension:</p>
<p>• LINEAR: linear interpolation.
• NATURALCUBIC: cubic interpolation.
• COX8SPLINE: 8-Spline interpolation, calculated with the DeBoor-Cox algorithm³
• GVV/GVV5: the Gamma-Vanna-Volga cost framework.</p>
<p>DBAnalytics also supports an interpolation method (TIMESTRIKE) where interpolation in strike direction is done before interpolation in time direction. In that case, cubic interpolation in strike direction is used.</p>
<p>The most common potential interpolation issue is violation of no-arbitrage, which is prevented through CFU ID 17547. In the context of the model DBSMC-RateDeterministic_FXMarket, the only approved strike interpolation methods are NATURALCUBIC and TIMESTRIKE, because they are the methods least likely to produce arbitrage. Note that even NATURALCUBIC/TIMESTRIKE can generate arbitrageable surfaces if the input volatilities used in the interpolation are arbitrageable. In order to flag presence of butterfly arbitrage in the input volatilities, the CFU ID 17547 ArbitrageChecker-BUTTERFLY was set in place⁴.</p>
<p>The NATURALCUBIC method fits a cubic piecewise polynomial through the data points. Consider at time <span class="math notranslate nohighlight">\(T\)</span> the <span class="math notranslate nohighlight">\(n + 1\)</span> strike points <span class="math notranslate nohighlight">\((K_i, \sigma_i)\)</span> with <span class="math notranslate nohighlight">\(i = 0, \cdots n\)</span> and <span class="math notranslate nohighlight">\(\sigma_i = \sigma(K_i, T)\)</span>. Define the line parameter, <span class="math notranslate nohighlight">\(t \in [0, 1]\)</span>, for each of the <span class="math notranslate nohighlight">\(n\)</span> intervals <span class="math notranslate nohighlight">\((K_i, K_{i+1})\)</span> by:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
t = \frac{K - K_i}{K_{i+1} - K_i},
\]</div>
</div>
<p>then a cubic spline can be defined, one for each of the <span class="math notranslate nohighlight">\(n\)</span> intervals, by:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
Y_i(t) = a_t + b_i t + c_i t^2 + d_i t^3,
\]</div>
</div>
<p>³The DeBoor-Cox calculation is explained in <a class="reference external" href="http://www.idav.ucdavis.edu/education/CAGDNotes/Deboor-Cox-Calculation.pdf">http://www.idav.ucdavis.edu/education/CAGDNotes/Deboor-Cox-Calculation.pdf</a><br />
⁴If butterfly arbitrage is present in the input volatilities the pricing dictionary will throw an error message e.g. “The marketvol naively is not arbitrage free. It contains Butterfly Arbitrage at Date: 20230502 and for strike: 0.9782020249.”</p>
<p>for <span class="math notranslate nohighlight">\(i = 0, \cdots n – 1\)</span>. There are therefore <span class="math notranslate nohighlight">\(4n\)</span> unknowns. The constraints are defined such that the splines pass through all data points with continuous first and second order derivatives, and so that the second order derivatives at the end points vanish (“Natural spline”):</p>
<p>Fixing the values at the data points gives:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align}
Y_i(0) &amp;= \sigma_i, \\
Y_i(1) = Y_{i+1}(0) &amp;= \sigma_{i+1}, \text{ for } i = 0, \cdots n - 2, \\
Y_{n-1}(1) &amp;= \sigma_n,
\end{align}
\end{split}\]</div>
</div>
<p>resulting in <span class="math notranslate nohighlight">\(2 + 2(n - 1) = 2n\)</span> conditions. Furthermore, equating the slopes at the interior data points gives:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\frac{dY_i(1)}{dt} = \frac{dY_{i+1}(0)}{dt}, i = 0, \cdots n - 2,
\]</div>
</div>
<p>a further <span class="math notranslate nohighlight">\(n - 1\)</span> conditions. Lastly, equating the second derivatives at the interior data points, and making them zero at the endpoints gives:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align}
\frac{d^2Y_0(0)}{dt^2} &amp;= 0, \\
\frac{d^2Y_i(1)}{dt^2} &amp;= \frac{d^2Y_{i+1}(0)}{dt^2}, i = 0, \cdots n - 2, \\
\frac{d^2Y_{n-1}(1)}{dt^2} &amp;= 0,
\end{align}
\end{split}\]</div>
</div>
<p>a further <span class="math notranslate nohighlight">\(n + 1\)</span> conditions. The total number of conditions <span class="math notranslate nohighlight">\(2n + n - 1 + n + 1 = 4n\)</span> becoming equal to the number of unknowns. The solution to the resulting system of linear equations then uniquely determines the natural cubic piecewise polynomial.</p>
</section>
<section id="extrapolation">
<h3><span class="section-number">1.3.1.2.8. </span>2.6.2.3 Extrapolation<a class="headerlink" href="#extrapolation" title="Link to this heading">#</a></h3>
<p>Two different extrapolation methods are supported in the DBAnalytics implementation of the DBSMC-RateDeterministic_FXMarket model. These extrapolation methods control how the implied volatility surface is continued either side of the smile beyond the outer lying strikes in the MARKETVOL object.</p>
<p>If ExtrapolationInputMode is set to VOL (default), then extrapolation of the spline is performed via the following algorithm. A minimum multiplier and a maximum multiplier are defined by the properties MinimumVol and MaximumVol. If the spline is trending upwards as it approaches the endpoint of the curve, then the last spline vol is multiplied by the maximum multiplier to get an asymptotic volatility, otherwise the last volatility is multiplied by the minimum multiplier. At each end of the spline the unique quadratic that matches the level and the slope of the curve at the endpoint and also attains its maximum value at the calculated extreme level is found.</p>
<p>If ExtrapolationInputMode is set to SPACE, then extrapolation of the spline is slightly different: the distance units are specified by InterpolationSpace (typically LOGSTRIKE). In this case, one specifies how far along the smile to go before the flat extrapolation begins. For any given maturity, the distance between the penultimate and final inputted points on either side of the smile is multiplied on the left (right) by SpaceMultLeft (SpaceMultRight). This defines the distance away from the final inputted point on the respective side of the smile at which we start extrapolating flat. Note that the properties MinimumVol and MaximumVol are ignored in this case.</p>
</section>
<section id="parametric-implied-volatility-piv-and-piv-autofit">
<h3><span class="section-number">1.3.1.2.9. </span>2.6.3 Parametric Implied Volatility (PIV) and PIV AutoFit<a class="headerlink" href="#parametric-implied-volatility-piv-and-piv-autofit" title="Link to this heading">#</a></h3>
<p>The implied volatility surface can be described parametrically using a MARKETVOL object with InputMode PARAMETRICVOL, typically referred to as parametric implied volatility (PIV). The DBSMC-RateDeterministic_FXMarket model provides functionality for pricing with such a PIV object and also provides routines for auto-fitting (i.e. calibration) such a volatility to an input MARKETVOL of type DELTAVOL or STRIKEVOL.</p>
<p>In the case of PIVs, several functional forms are available in DBAnalytics: SA4, VW12, LA6GD, SABR3FORMULAPD and</p>
<p>SABR4. The choice of the functional form is made by the property SkewType, see subsection 4.8.9. The parameters of the volatility function are fitted from an input volatility surface using the MarketVolFunction PIVAutoFit. Testing around the above concepts can be found in Section 4.8.21. In the context of the DBSMC-RateDeterministic_FXMarket model, the only approved approved PIV parametrizations (SkewTypes) are SA4 (4 parameters functional) and LA6GD (6 parameters functional).</p>
<p>PIVs are defined by series of slices at several maturities <span class="math notranslate nohighlight">\(T_1, T_2, \ldots\)</span>. Each slice is described by the parametric form. Each PIV functional is expressed as a function of the normalized strike <span class="math notranslate nohighlight">\(z\)</span> defined as</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
z = \frac{\ln(K/F(0,T))}{\sigma_{ATMF}\sqrt{T}}
\]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(K\)</span> is the strike, <span class="math notranslate nohighlight">\(F(0,T)\)</span> is the forward and <span class="math notranslate nohighlight">\(\sigma_{ATMF}\)</span> represents the volatility corresponding to the ATMF strike. It is known that the scale of the strike axis is increasing with time. Therefore, working directly in the strike space will make difficult to express how far is the strike from the forward give that the distance will depend also on the time and volatility. The introduction of the normalized space has the role of expressing this distance as a number of standard deviations away from the forward (with the forward being at <span class="math notranslate nohighlight">\(z = 0\)</span>).</p>
<p>Three parameters are common to all functional forms: VOL, SKEW and SMILE. If the property SkewConvexityType is set to STANDARD (default setting), the interpolation of these parameters is the following:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align}
VOL &amp;= \sigma_{ATMF} \\
SKEW &amp;= \frac{\partial}{\partial x}\left(\frac{\sigma^2(z)}{\sigma^2_{ATMF}}\right)|_{z=0} \\
SMILE &amp;= \frac{\partial^2}{\partial z^2}\left(\frac{\sigma^2(z)}{\sigma^2_{ATMF}}\right)|_{z=0}
\end{align}
\end{split}\]</div>
</div>
<p>Therefore, for small values of the normalized strike <span class="math notranslate nohighlight">\(z\)</span> i.e. near the forward, the PIV function can be expanded under the form:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\sigma^2(z) = \sigma^2_{ATMF}\left(1 + SKEW \cdot z + \frac{1}{2}SMILE \cdot z^2 + \ldots\right)
\]</div>
</div>
<p>The approved PIV parametrizations are SA4 (4 parameters form) and LA6GD (6 parameters form):</p>
<section id="skewtype-sa4">
<h4><span class="section-number">1.3.1.2.9.1. </span>2.6.3.1 SkewType SA4<a class="headerlink" href="#skewtype-sa4" title="Link to this heading">#</a></h4>
<p>The SA4 parametric form is given by</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\sigma(z) = VOL\left(\frac{1}{2}(1 + Bz) + \sqrt{\frac{1}{4}(1 + Bz)^2 + \frac{1}{2}Cz^2}\right)^{\frac{POWER}{2}}
\]</div>
</div>
<p>where</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
B = \frac{SKEW}{POWER}, \quad C = \frac{1}{POWER}\left(SMILE - \frac{POWER - 1}{POWER}SKEW^2\right)
\]</div>
</div>
<p>and where the four slice parameters (VOL, SMILE, SKEW, POWER) are calibrated to the input volatility surface.</p>
</section>
<section id="skewtype-la6gd">
<h4><span class="section-number">1.3.1.2.9.2. </span>2.6.3.2 SkewType LA6GD<a class="headerlink" href="#skewtype-la6gd" title="Link to this heading">#</a></h4>
<p>The LA6GD parametric form is given by</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\sigma(z) = VOL\left(1 + \ln\left(Be^{Cz} + (1 - B)e^{-Pz}\right)\right)^{\frac{POWER}{2}}
\]</div>
</div>
<p>where</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
A = \frac{B(1 - B)(AC_{wdj} + AP_{wdj})^2}{SMILE + (1 - POWER)(B \cdot AC_{wdj} - (1 - B)AP_{wdj})^2}, \quad B = \frac{SKEW + AP_{wdj}}{POWER + AP_{wdj}}, \quad C = \frac{AC_{wdj}}{A}, \text{ and } P = \frac{AP_{wdj}}{A}
\]</div>
</div>
<p>The parameters <span class="math notranslate nohighlight">\(AC_{wdj}\)</span> and <span class="math notranslate nohighlight">\(AP_{wdj}\)</span> represent the gradient of the implied volatility at larger and smaller strike limits, respectively. They are given by:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\begin{align}
AC_{wdj} = AP_{scale} \cdot AP + \max\left(0, -\frac{SKEW}{POWER}\right) \text{ and } AC_{wdj} = AC_{scale} \cdot AC + \max\left(0, \frac{SKEW}{POWER}\right)
\end{align}
\]</div>
</div>
<p>where</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
AC_{scale} = \sqrt{\frac{1}{4}\left(\frac{SKEW}{POWER}\right)^2 + \frac{1}{2}\left(\frac{SMILE}{POWER} + (1 - POWER)\left(\frac{SKEW}{POWER}\right)^2\right)} + \frac{1}{2}\frac{SKEW}{POWER}
\]</div>
</div>
<p>and</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
AP_{scale} = AC_{scale} - \frac{SKEW}{POWER}
\]</div>
</div>
<p>The LA6GD parametric form depends on six slice parameters: VOL, SKEW, SMILE, POWER, AC and AP.</p>
</section>
<section id="arbitrage-free-piv-surfaces">
<h4><span class="section-number">1.3.1.2.9.3. </span>2.6.3.3 Arbitrage Free PIV Surfaces<a class="headerlink" href="#arbitrage-free-piv-surfaces" title="Link to this heading">#</a></h4>
<p>If badly specified, the PIV surface may contain arbitrage opportunities. In particular, in order to avoid butterfly arbitrage, one requires that</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\frac{\partial^2}{\partial K^2}C(K,T) &gt; 0 \text{ for all } T,
\]</div>
</div>
<p>This is equivalent to requiring that the probability density function of the underlying extracted from the implied volatility surface should be nowhere negative (which is, of course, a requirement of probability density functions). Furthermore, there should be no calendar arbitrage i.e.</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\frac{\partial}{\partial T}\sigma_N(z)^2 T &gt; 0 \text{ for all } z.
\]</div>
</div>
<p>DBA provides extensive functionality for checking that these conditions are satisfied, for example the property ArbitrageChecker, see [25], as well as the DBAnalytics function MarketVolFunctionCheckArb, see [26].</p>
</section>
<section id="piv-autofit">
<h4><span class="section-number">1.3.1.2.9.4. </span>2.6.3.4 PIV AutoFit<a class="headerlink" href="#piv-autofit" title="Link to this heading">#</a></h4>
<p>The auto-fit procedure fits a PIV to an input market volatility of type DELTAVOL or STRIKEVOL by choosing the PIV parameters at each time slice to minimize the least squares error in matching certain targets. Typically, these targets are either the prices / implied volatilities of certain options or a number of conditions that the implied volatility surface must satisfy.</p>
</section>
</section>
<section id="deltatype">
<h3><span class="section-number">1.3.1.2.10. </span>2.6.4 DeltaType<a class="headerlink" href="#deltatype" title="Link to this heading">#</a></h3>
<p>There are several ways in which deltas⁵ are quoted in the market. These conventions include: pips spot delta, pips forward delta and mixtures of these.</p>
<p>The pips spot delta is the derivative of the option price with respect to the spot:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align}
\Delta_{call,SPOTRISK} &amp;= \frac{\partial C}{\partial S}, \\
\Delta_{put,SPOTRISK} &amp;= \frac{\partial P}{\partial S}.
\end{align}
\end{split}\]</div>
</div>
<p>The pips forward delta is the derivative of the option price, with respect to the Forward, divided by the domestic discount factor:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align}
\Delta_{call,FORWARDRISK} &amp;= \frac{1}{DF_{dom}(T)}\frac{\partial C}{\partial F_T}, \\
\Delta_{put,FORWARDRISK} &amp;= \frac{1}{DF_{dom}(T)}\frac{\partial P}{\partial F_T}.
\end{align}
\end{split}\]</div>
</div>
<p>⁵See section 3.2. in [4]. pp. 43-47.</p>
<p>Using Equation 1 and Equation 2 one finds:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align}
\Delta_{call,FORWARDRISK} &amp;= N(d_1), \\
\Delta_{put,FORWARDRISK} &amp;= -N(-d_1),
\end{align}
\end{split}\]</div>
</div>
<p>from which we note the useful identity:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\Delta_{call,FORWARDRISK} - \Delta_{put,FORWARDRISK} = 1.
\]</div>
</div>
<p>Using the no-arbitrage relationship Equation 3 between the forward, <span class="math notranslate nohighlight">\(F_T\)</span>, and the spot FX rate, <span class="math notranslate nohighlight">\(S\)</span>, one obtains the following relationship between the two types of delta risks (for both calls and puts):</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\Delta_{SPOTRISK} = DF_{dom}(T)\frac{F_T}{S}\Delta_{FORWARDRISK}.
\]</div>
</div>
<p>from which it follows that:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\Delta_{call,SPOTRISK} - \Delta_{put,SPOTRISK} = DF_{for}(T).
\]</div>
</div>
<p>Quotes given in the notation: “X”C (“X”P) i.e., 5C, 25C, 25P, 5P, are converted into Deltas using: <span class="math notranslate nohighlight">\(\Delta_{call} = X/100\)</span> (<span class="math notranslate nohighlight">\(\Delta_{put} = -X/100\)</span>). Delta neutral (DN) means a portfolio consisting of positions with offsetting positive and negative deltas so that <span class="math notranslate nohighlight">\(\Delta_{call} + \Delta_{put} = 0\)</span>, or equivalently from Equation 26 and Equation 25, <span class="math notranslate nohighlight">\(\Delta_{call,SPOTRISK}(DN) = DF_{for}/2\)</span> and <span class="math notranslate nohighlight">\(\Delta_{call,FORWARDRISK}(DN) = 1/2\)</span>.</p>
<p>In DBAnalytics, when using a MARKETVOL object of InputMode=DELTAVOL, the DeltaType property of the VOL object is used to specify the delta quote style convention.</p>
<p>For the pricing of vanilla FX options, we consider the following setups: DeltaType= FORWARDRISK and DeltaType= FORWARDRISK- interval. The DeltaType= FORWARDRISK setup uses the pips forward delta quote style convention. The DeltaType = FORWARDRISK-interval setup uses a mixture of quote style conventions. More specifically, for DeltaType= FORWARDRISK- interval, when:</p>
<p>• <span class="math notranslate nohighlight">\(T &lt;\)</span> interval, the quote style is pips spot delta (DeltaType = SPOTRISK);
• <span class="math notranslate nohighlight">\(T \geq\)</span> interval, the quote style is pips forward delta (DeltaType = FORWARDRISK).</p>
<p>The market convention is to use the mixed quote style (DeltaType = FORWARDRISK-2Y) with pips spot delta for maturities less than 2 years and pips forward delta otherwise.</p>
<p>We note that since the difference between pips spot delta (DeltaType = SPOTRISK) and pips forward delta (DeltaType = FORWARDRISK) is just a scaling factor (see Equation 27), the test results for one quote style should carry over easily to the other.</p>
</section>
<section id="sabr3formulapd-retired-configuration">
<h3><span class="section-number">1.3.1.2.11. </span>2.6.5 SABR3FORMULAPD (retired configuration)<a class="headerlink" href="#sabr3formulapd-retired-configuration" title="Link to this heading">#</a></h3>
<p>This section and its subsections are kept only for legacy purposes. The parametric form SABR3FORMULAPD is not used anymore in the pricing the products in scope of the model. The only two parametric configurations used at the moment (Q2 2020) are SA4 and LA6GD. In this section we discuss the mathematical model underlying the parametric version of the DBSMC-RateDeterministic_FXMarket model. This model is triggered when the InputMode = PARAMETRICVOL, SkewType = SABR3FORMULAPD and SkewConvexityType = SABR3 in the MARKETVOL object.</p>
<p>The regular SABR formula for implied volatility has problems on the wings, which sometimes exhibits butterfly arbitrage. This is corrected by the extrapolation formula used in MARKETVOL with SkewType=SABR3FORMULAPD, as we now discuss.</p>
<section id="main-equations">
<h4><span class="section-number">1.3.1.2.11.1. </span>2.6.5.1 Main equations<a class="headerlink" href="#main-equations" title="Link to this heading">#</a></h4>
<p>Let <span class="math notranslate nohighlight">\(S_0\)</span> be the amount of DOMESTIC currency for one unit of FOREIGN currency (e.g., USD/EUR, is the price of 1 EUR in USD). Consider the forward exchange rate <span class="math notranslate nohighlight">\(F_t(T)\)</span> for maturity <span class="math notranslate nohighlight">\(T\)</span>. At time 0 (i.e., today) one has from Equation 3:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
F_0(T) = \frac{D_0^{FOR}(T)}{D_0^{DOM}(T)}S_0,
\]</div>
</div>
<p>Under the measure of numeraire <span class="math notranslate nohighlight">\(D_t^{DOM}\)</span>, the forward exchange rate <span class="math notranslate nohighlight">\(F_t\)</span> should be a martingale. To model its dynamics, we use the SABR model with shift and blend parameters set to zero, which corresponds to the following master equations:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align}
dF_t &amp;= \alpha_t F_t dW_t \\
d\alpha_t &amp;= \alpha_t \nu dZ_t.
\end{align}
\end{split}\]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(W_t\)</span> and <span class="math notranslate nohighlight">\(Z_t\)</span> are two correlated Wiener processes with <span class="math notranslate nohighlight">\(d[W, Z]_t = \rho dt\)</span>, and the FX volatility <span class="math notranslate nohighlight">\(\alpha_t\)</span> is assumed to start from some pre-defined value <span class="math notranslate nohighlight">\(\alpha_0\)</span>.</p>
<p>Note that SABR is mainly devoted to pricing European products, and is not very suitable for other types of securities such as Asian or American options.</p>
</section>
<section id="analytic-approximation">
<h4><span class="section-number">1.3.1.2.11.2. </span>2.6.5.2 Analytic approximation<a class="headerlink" href="#analytic-approximation" title="Link to this heading">#</a></h4>
<p>It is not possible to find exact analytical expressions for the distribution of <span class="math notranslate nohighlight">\(F_T\)</span> or vanilla priors in the model (30) - (31). However, there exists an asymptotic expansion (see [7]) for an implied (lognormal) volatility of the European option with strike <span class="math notranslate nohighlight">\(K\)</span> and maturity <span class="math notranslate nohighlight">\(T\)</span>:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\hat{\theta}(K) = \frac{\alpha_0 z}{x(z)}\left\{1 + \left[\frac{1}{4}\rho\nu\alpha_0 + \frac{2-3\rho^2}{24}\nu^2\right]T\right\} + O(\nu^4 T^2),
\]</div>
</div>
<p>where</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
z = \frac{\nu}{\alpha_0}\log F_0/K, \quad x(z) = \log\left(\frac{\sqrt{1-2\rho z + z^2} + z - \rho}{1-\rho}\right).
\]</div>
</div>
<p>Under typical market conditions, <span class="math notranslate nohighlight">\(\nu^2 T\)</span> is relatively small, so the above approximation tends to be quite accurate. The SABR model has been standard in the industry for over 10 years.</p>
</section>
<section id="sabr-parameters">
<h4><span class="section-number">1.3.1.2.11.3. </span>2.6.5.3 SABR parameters<a class="headerlink" href="#sabr-parameters" title="Link to this heading">#</a></h4>
<p>To use SABR model (30) - (31), we need first to specify its parameters (apart from <span class="math notranslate nohighlight">\(F_0\)</span>, which is given by (29)). In DBAnalytics, this can be done using VOL object with InputMode=PARAMETRICVOL and SkewType=SABR3FORMULAPD. The volatility-of-volatility <span class="math notranslate nohighlight">\(\nu\)</span> and the correlation <span class="math notranslate nohighlight">\(\rho\)</span> can then be specified respectively as the SMILE and SKEW parameter in the subtable VolParameters.</p>
<p>The parameter <span class="math notranslate nohighlight">\(\alpha_0\)</span>, on the other hand, is not explicitly specified. Instead, we specify the ATM implied vol <span class="math notranslate nohighlight">\(\hat{\theta}(F_0)\)</span> (VOL in the VolParameters subtable), from which <span class="math notranslate nohighlight">\(\alpha_0\)</span> is then obtained by inverting the formula (32). Thus, for <span class="math notranslate nohighlight">\(K = F_0\)</span> one has <span class="math notranslate nohighlight">\(z \to 0\)</span> and <span class="math notranslate nohighlight">\(x/x(z) \to 1\)</span> in (32), which therefore reduces to the quadratic equation in <span class="math notranslate nohighlight">\(\alpha_0\)</span>, the (positive) solution of which is given by:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\alpha_0 = \frac{\sqrt{[1 + \frac{2-3\rho^2}{24}\nu^2 T]^2 + \rho\nu T\hat{\theta}(F_0)} - (1 + \frac{2-3\rho^2}{24}\nu^2 T)}{0.5\rho\nu T}.
\]</div>
</div>
</section>
<section id="region-of-applicability">
<h4><span class="section-number">1.3.1.2.11.4. </span>2.6.5.4 Region of applicability<a class="headerlink" href="#region-of-applicability" title="Link to this heading">#</a></h4>
<p>The SABR approximation (32) is well-behaved only for strikes which are reasonably close to the forward. Thus, the call price should be a decreasing and at the same time convex function of strike. However, for extreme values of <span class="math notranslate nohighlight">\(K\)</span> both of these conditions can be violated if using <span class="math notranslate nohighlight">\(\hat{\theta}(K)\)</span> given by (32), which can thus give prices that are not arbitrage-free, a clear demonstration of which is a negative pdf in some region of strike.</p>
<p>Hence, we use the approximated <span class="math notranslate nohighlight">\(\hat{\theta}(K)\)</span> only in the region <span class="math notranslate nohighlight">\(K \in [K_-, K_+]\)</span> where the corresponding formula is applicable. The boundaries <span class="math notranslate nohighlight">\(K_-\)</span> and <span class="math notranslate nohighlight">\(K_+\)</span> are taken as the strikes for which the so-called Pseudo-Delta is equal to a specified <span class="math notranslate nohighlight">\(p\)</span> (given by the property INTERPOLATIONSTART in the VolParameters subtable of the VOL object) and <span class="math notranslate nohighlight">\(1 - p\)</span>, respectively:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
N\left(\frac{\log F_0/K_+}{\hat{\theta}(K_+)\sqrt{T}}\right) = p, \quad N\left(\frac{\log F_0/K_-}{\hat{\theta}(K_-)\sqrt{T}}\right) = 1 - p.
\]</div>
</div>
<p>The standard convention is to take <span class="math notranslate nohighlight">\(p = 0.05\)</span>, which corresponds to 90% of the distribution of <span class="math notranslate nohighlight">\(F_T\)</span> being suitable for pricing using SABR approximation (32).</p>
</section>
<section id="id1">
<h4><span class="section-number">1.3.1.2.11.5. </span>2.6.5.5 Extrapolation<a class="headerlink" href="#id1" title="Link to this heading">#</a></h4>
<p>In the region where SABR approximation is not well-behaved, we need to do some kind of extrapolation to make the prices arbitrage-free. Thus, consider first the case of <span class="math notranslate nohighlight">\(K &gt; K_+\)</span>. There are two possibilities:</p>
<ol class="arabic simple">
<li><p>The slope of the implied vol is negative (<span class="math notranslate nohighlight">\(\hat{\theta}'(K_+) &lt; 0\)</span>): In this case we continue the behavior of implied volatility using the SABR approximation.</p></li>
<li><p>The slope of the implied vol is positive (<span class="math notranslate nohighlight">\(\hat{\theta}'(K_+) &gt; 0\)</span>): In this case we find the implied volatility from the call prices <span class="math notranslate nohighlight">\(C(K)\)</span> which are extrapolated using the formula</p></li>
</ol>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
C(K &gt; K_+) = [C(K_+) - C'(K_+)(K - K_+)]e^{\frac{2C'(K_+)(K-K_+)/C(K_+)}{}}\]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(C(K_+)\)</span> is obtained from the SABR approximation (32). It can easily be checked that the above expression gives arbitrage-free prices (so that <span class="math notranslate nohighlight">\(C'(K) &lt; 0\)</span> and <span class="math notranslate nohighlight">\(C''(K) &gt; 0\)</span>) and at the same time ensures continuity of <span class="math notranslate nohighlight">\(C(K)\)</span> and <span class="math notranslate nohighlight">\(C'(K)\)</span>: <span class="math notranslate nohighlight">\(\lim_{x \to 0}[C(K_+ + \epsilon) - C(K_+)] = \lim_{x \to 0}[C'(K_+ + \epsilon) - C'(K_+)] = 0\)</span>. Note that <span class="math notranslate nohighlight">\(C''(K)\)</span> is not continuous at <span class="math notranslate nohighlight">\(K = K_+\)</span>, but this does not cause any issues and does not lead to arbitrage.</p>
<p>Since changes in the sign of the slope of implied volatility for high strikes are not consistent with the market behavior, if <span class="math notranslate nohighlight">\(\hat{\theta}'(K)\)</span> changes sign at some <span class="math notranslate nohighlight">\(K = K_{max}\)</span> (so that <span class="math notranslate nohighlight">\(\hat{\theta}'(K_{max}) = 0\)</span>), then we extrapolate implied vol as flat beyond that point: <span class="math notranslate nohighlight">\(\hat{\theta}(K &gt; K_{max}) = \hat{\theta}(K_{max})\)</span>.</p>
<p>For <span class="math notranslate nohighlight">\(K &lt; K_-\)</span> we apply the same approach as for <span class="math notranslate nohighlight">\(K &gt; K_+\)</span>, but to the inverted currency pair (so that the region <span class="math notranslate nohighlight">\(K &lt; K_-\)</span> is mapped to <span class="math notranslate nohighlight">\(K &gt; 1/K_-\)</span>), and then invert everything back to get the extrapolated volatilities.</p>
</section>
</section>
<section id="test-methods">
<h3><span class="section-number">1.3.1.2.12. </span>2.6.6 Test methods<a class="headerlink" href="#test-methods" title="Link to this heading">#</a></h3>
<p>In this subsection we develop the testing methods with which we subject the model in order to ensure consistency and no arbitrage.</p>
<section id="forward-variance">
<h4><span class="section-number">1.3.1.2.12.1. </span>2.6.6.1 Forward variance<a class="headerlink" href="#forward-variance" title="Link to this heading">#</a></h4>
<p>Forward variance is the variance implied during a specified time interval in the future. It is calculated from the implied volatilities of options with expires set at the beginning and end of the desired time interval. Let <span class="math notranslate nohighlight">\(\sigma_0 = \sigma(t_0)\)</span> and <span class="math notranslate nohighlight">\(\sigma_1 = \sigma(t_1)\)</span> be the implied volatilities corresponding to expiry dates <span class="math notranslate nohighlight">\(t_0\)</span> and <span class="math notranslate nohighlight">\(t_1\)</span>, respectively, where <span class="math notranslate nohighlight">\(t_1 \geq t_0\)</span>. By additivity of variance, we have:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\sigma^2_1 t_1 = \sigma^2_0 t_0 + \sigma^2_{01}(t_1 - t_0),
\]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(\sigma^2_{01}\)</span> is the forward variance between <span class="math notranslate nohighlight">\(t_0\)</span> and <span class="math notranslate nohighlight">\(t_1\)</span>. By solving Equation 37, we obtain that the forward variance is given by:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\sigma^2_{01} = \frac{\sigma^2_1 t_1 - \sigma^2_0 t_0}{t_1 - t_0}
\]</div>
</div>
<p>Negative forward variance is nonsensical, therefore the r.h.s of Equation 38 must be positive for all times and any interpolation method which violates the positivity of the forward variance should be rejected.</p>
</section>
<section id="put-call-parity">
<h4><span class="section-number">1.3.1.2.12.2. </span>2.6.6.2 Put-Call parity<a class="headerlink" href="#put-call-parity" title="Link to this heading">#</a></h4>
<p>Put-call parity is a no-arbitrage condition given by:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
C(K,T) - P(K,T) = S \cdot DF_{for}(T) - K \cdot DF_{dom}(T),
\]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(C\)</span> and <span class="math notranslate nohighlight">\(P\)</span> are prices of call and put options respectively where both have a strike <span class="math notranslate nohighlight">\(K\)</span> and maturity <span class="math notranslate nohighlight">\(T\)</span>. <span class="math notranslate nohighlight">\(S\)</span> is the FX spot rate at valuation and <span class="math notranslate nohighlight">\(DF_{for}(T)\)</span> and <span class="math notranslate nohighlight">\(DF_{dom}(T)\)</span> are the foreign and domestic discount factors respectively. The FX spot and strike are quoted in terms domestic currency per unit of foreign currency. Relation (39) is easily verified by comparing payoffs of both sides at maturity.</p>
</section>
<section id="breeden-litzenberger-analysis">
<h4><span class="section-number">1.3.1.2.12.3. </span>2.6.6.3 Breeden-Litzenberger analysis<a class="headerlink" href="#breeden-litzenberger-analysis" title="Link to this heading">#</a></h4>
<p>The following classic result shows that one can imply the probability density function of the option’s underlying <span class="math notranslate nohighlight">\(S_T\)</span> from a continuum of prices of vanilla options with different strikes and maturity <span class="math notranslate nohighlight">\(T\)</span>. From a mathematical point of view, these implied probability density functions (PDF) must be non-negative in order to be genuine PDFs. From a financial point of view, if an implied PDF takes negative values, it is equivalent to butterfly arbitrage. That is, any applicable non-negative payoff with support on the set of negative values of the implied risk-neutral function will have negative PV. In other words, the buyer is paid to enter an agreement which has zero risk of any loss.</p>
<p>Let <span class="math notranslate nohighlight">\(h(S_T)\)</span> be the probability density function for underlying <span class="math notranslate nohighlight">\(S_T\)</span> at time <span class="math notranslate nohighlight">\(T\)</span> under the domestic risk-neutral measure. The risk-neutral price of a call option at strike <span class="math notranslate nohighlight">\(K\)</span> and time <span class="math notranslate nohighlight">\(T\)</span> is given by:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
C(K,T) = DF_{dom}(T)\int_{-\infty}^{\infty}(s - K)^+ h(s)ds.
\]</div>
</div>
<p>Taking the partial derivative with respect to the strike, <span class="math notranslate nohighlight">\(K\)</span>, results in:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\frac{\partial C(K,T)}{\partial K} = DF_{dom}(T)\left(-1 + \int_{-\infty}^K h(s)ds\right).
\]</div>
</div>
<p>In other words, the risk-neutral cumulative distribution function (CDF) for underlying <span class="math notranslate nohighlight">\(S_T\)</span> at time <span class="math notranslate nohighlight">\(T\)</span> is given by:</p>
<p><span class="math notranslate nohighlight">\(
CDF(S_T) = P(S_T &lt; K) = \frac{1}{DF_{dom}(T)}\frac{\partial C(K,T)}{\partial K}|_{K=S_T} + 1.
\)</span></p>
<p>Equation (42) is also known as Breeden-Litzenberger formula⁶. Taking the second partial derivative of the call option with respect to the strike we obtain the risk-neutral probability density function:</p>
<p><span class="math notranslate nohighlight">\(
h(S_T) = \frac{1}{DF_{dom}(T)}\frac{\partial^2 C(K,T)}{\partial^2 K}|_{K=S_T}.
\)</span></p>
<p>In order for the above quantities to correspond to a genuine probability distribution, the following no-arbitrage conditions need to be satisfied:</p>
<p><span class="math notranslate nohighlight">\(
-1 \leq \frac{1}{DF_{dom}(T)}\frac{\partial C}{\partial K}|_{K=S_T} \leq 0,
\)</span></p>
<p>from <span class="math notranslate nohighlight">\(0 \leq CDF(S_T) \leq 1\)</span> and</p>
<p><span class="math notranslate nohighlight">\(
\frac{1}{DF_{dom}(T)}\frac{\partial^2 C}{\partial K^2} \geq 0,
\)</span></p>
<p>from <span class="math notranslate nohighlight">\(h(S_T) \geq 0\)</span> respectively.</p>
<p>The equivalent no-arbitrage conditions can be obtained for puts from equations (44) and (45) and the put-call parity (Equation 39):</p>
<p><span class="math notranslate nohighlight">\(
0 \leq \frac{1}{DF_{dom}(T)}\frac{\partial P}{\partial K}|_{K=S_T} \leq 1,
\)</span></p>
<p>and</p>
<p><span class="math notranslate nohighlight">\(
\frac{1}{DF_{dom}(T)}\frac{\partial^2 P}{\partial K^2} \geq 0.
\)</span></p>
<p>⁶The Breeden-Litzenberger analysis is discussed in section 2.11 in [4], pp. 30–31.</p>
</section>
</section>
<section id="product-pricing-theory">
<h3><span class="section-number">1.3.1.2.13. </span>2.6.7 Product pricing theory<a class="headerlink" href="#product-pricing-theory" title="Link to this heading">#</a></h3>
<p>In this section we describe the theory underlying the pricing of basket options in the DBSMC-RateDeterministic_FXMarket model.</p>
<section id="fxgeometricbasketopt">
<h4><span class="section-number">1.3.1.2.13.1. </span>2.6.7.1 FXGeometricBasketOpt<a class="headerlink" href="#fxgeometricbasketopt" title="Link to this heading">#</a></h4>
<p>The geometric basket call option has the payoff:</p>
<p><span class="math notranslate nohighlight">\(
\max\left(\prod_{i=1}^{N} m_i\frac{(100X_i(T))^{\alpha_i}}{100} - K, 0\right),
\)</span></p>
<p>where <span class="math notranslate nohighlight">\(X_1(T), \ldots, X_N(T)\)</span> are the FX spot rates at maturity <span class="math notranslate nohighlight">\(T\)</span> in the format CCY_i/USD (i.e., the amount in foreign currency of one US dollar), <span class="math notranslate nohighlight">\(\alpha_i\)</span> are arbitrary powers, <span class="math notranslate nohighlight">\(m_i\)</span> are arbitrary multipliers, and <span class="math notranslate nohighlight">\(K\)</span> is the strike.</p>
<p>For the purpose of pricing, the spot rates <span class="math notranslate nohighlight">\(X_i(T)\)</span> are assumed to be correlated geometric Brownian motion processes, obeying the stochastic differential equations:</p>
<p><span class="math notranslate nohighlight">\(
dX_j = (r_j - r_0)X_j dt + \sigma_j X_j dW_j^d,
\)</span></p>
<p>where <span class="math notranslate nohighlight">\(r_j\)</span> is the foreign interest rate of the <span class="math notranslate nohighlight">\(j\)</span>th currency, <span class="math notranslate nohighlight">\(r_0\)</span> is the domestic interest rate, <span class="math notranslate nohighlight">\(\sigma_j\)</span> is the volatility of the <span class="math notranslate nohighlight">\(j\)</span>th currency pair and the <span class="math notranslate nohighlight">\(dW_j^d\)</span> are a collection of Brownian motions satisfying:</p>
<p><span class="math notranslate nohighlight">\(
d[W_i^d W_j^d] = \rho_{ij} dt,
\)</span></p>
<p>where <span class="math notranslate nohighlight">\(\rho_{ij}\)</span> are the correlations between the FX rates. The correlations <span class="math notranslate nohighlight">\(\rho_{ij}\)</span> between the FX rates CCY_i/USD can be calculated⁷ from:</p>
<p><span class="math notranslate nohighlight">\(
\rho_{ij} = \frac{\sigma_i^2 + \sigma_j^2 - \sigma_{i,j}^2}{2\sigma_i\sigma_j},
\)</span></p>
<p>where <span class="math notranslate nohighlight">\(\sigma_{i,j}\)</span> denotes the volatility of the cross FX rate CCY_i/CCY_j.</p>
<p>We define a state variable, <span class="math notranslate nohighlight">\(f\)</span>, for the particular product of rates appearing in Equation 49 by:</p>
<p><span class="math notranslate nohighlight">\(
f(X_1, X_2, \ldots, X_N) = \prod_{i=1}^{N} m_i\frac{(100X_i(T))^{\alpha_i}}{100}.
\)</span></p>
<p>Using the multi-dimensional Ito formula, the stochastic differential equation for <span class="math notranslate nohighlight">\(f\)</span> can be written as:</p>
<p><span class="math notranslate nohighlight">\(
\frac{df}{f} = \left\{\sum_{j=1}^{N}\alpha_j(r_j - r_0 - \frac{1}{2}\sigma_j^2) + \frac{1}{2}\sigma^2\right\}dt + \sigma dW_t,
\)</span></p>
<p>where</p>
<p><span class="math notranslate nohighlight">\(
\sigma dW_t = \sum_{j=1}^{N}\alpha_j\sigma_j dW_j^d,
\)</span></p>
<p>and</p>
<p><span class="math notranslate nohighlight">\(
\sigma = \sqrt{\sum_{i,j=1}^{N}\alpha_i\alpha_j\sigma_i\sigma_j\rho_{ij}}.
\)</span></p>
<p>It is clear from Equation 54 that <span class="math notranslate nohighlight">\(f\)</span> itself follows a geometric Brownian motion process, with variance, <span class="math notranslate nohighlight">\(\sigma^2 T\)</span>, and expected value:</p>
<p><span class="math notranslate nohighlight">\(
\mathbb{E}[f] = 100^{\sum_{i=1}^{N}\alpha_i-N}\left[\prod_{i=1}^{N} m_i \hat{F}_i(T)\right]\exp\left\{\left(\sigma^2 - \sum_{i=1}^{N}\alpha_i^2\sigma_i^2\right)\frac{T}{2}\right\},
\)</span></p>
<p>⁷See [4], p. 228, equation (10.3a)</p>
<p>where <span class="math notranslate nohighlight">\(\hat{F}_i\)</span> is calculated as</p>
<p><span class="math notranslate nohighlight">\(
\hat{F}_i(T) = F_i(T)^{\alpha_i}e^{(\alpha_i-\alpha_i^2)\frac{\sigma_i^2 T}{2}},
\)</span></p>
<p>and where</p>
<p><span class="math notranslate nohighlight">\(
F_i(T) = X_i(0)e^{(r_i-r_0)T},
\)</span></p>
<p>is the forward FX rate for the <span class="math notranslate nohighlight">\(i\)</span>th currency at time <span class="math notranslate nohighlight">\(T\)</span>.</p>
<p>Therefore, the basket option can be priced as a simple call option using equation (1), with forward rate given by equation (57) and BS volatility, <span class="math notranslate nohighlight">\(\sigma\)</span>, given by Equation 56.</p>
</section>
<section id="fxbasketopt-retired-product">
<h4><span class="section-number">1.3.1.2.13.2. </span>2.6.7.2 FXBasketOpt (RETIRED PRODUCT)<a class="headerlink" href="#fxbasketopt-retired-product" title="Link to this heading">#</a></h4>
<p>The arithmetic basket call option has the payoff:</p>
<p><span class="math notranslate nohighlight">\(
\max\left(\sum_{i=1}^{N} m_i X_i(T) - K, 0\right),
\)</span></p>
<p>where <span class="math notranslate nohighlight">\(X_1(T), \ldots, X_N(T)\)</span> are the FX spot rates at maturity <span class="math notranslate nohighlight">\(T\)</span> (in the format CCY_i per USD), <span class="math notranslate nohighlight">\(m_i\)</span> are multipliers and <span class="math notranslate nohighlight">\(K\)</span> is the strike.</p>
<p>In general, the weighted sum:</p>
<p><span class="math notranslate nohighlight">\(
Z(X_1, X_2, \ldots, X_N) = \sum_{i=1}^{N} m_i X_i(T),
\)</span></p>
<p>is not lognormally distributed. Nevertheless, we can approximate the distribution of <span class="math notranslate nohighlight">\(Z\)</span> by a blend distribution. A blend distribution has the parameterized form:</p>
<p><span class="math notranslate nohighlight">\(
B = B_0\frac{\exp(\zeta N(0,1) - \zeta^2/2 + \eta) - \beta}{1 - \beta},
\)</span></p>
<p>where <span class="math notranslate nohighlight">\(N(0,1)\)</span> is the standard normal variable and <span class="math notranslate nohighlight">\(B_0\)</span> is a constant parameter, <span class="math notranslate nohighlight">\(\zeta\)</span> is called the volatility parameter, <span class="math notranslate nohighlight">\(\beta\)</span> is called the blend parameter and <span class="math notranslate nohighlight">\(\eta\)</span> is called the drift parameter.</p>
<p>For the three-moment matching method (ThreeMomentBracket = 1 in the model object), the first three central moments of the basket variable, <span class="math notranslate nohighlight">\(Z\)</span>, are matched to the first three central moments of the blend distribution. <span class="math notranslate nohighlight">\(B\)</span>, where the basket variable moments are calculated from the implied volatilities of the market data and the underlying FX rates, <span class="math notranslate nohighlight">\(X_i(T)\)</span>, are assumed to follow geometric Brownian motion processes.</p>
<p>We now briefly outline these steps, see also [6].</p>
<p>Assuming geometric Brownian motion processes (Equation 50) for <span class="math notranslate nohighlight">\(X_i\)</span>, we are able to write the (non-central) moments for the basket variable, <span class="math notranslate nohighlight">\(Z\)</span>, as:</p>
<p><span class="math notranslate nohighlight">\(
\mathbb{E}[Z] = \sum_{i=1}^{N} m_i \hat{F}_i,
\)</span></p>
<p><span class="math notranslate nohighlight">\(
\mathbb{E}[Z^2] = \sum_{i=1}^{N}\sum_{j=1}^{N} m_i m_j F_i F_j \exp{\{\rho_{ij}\sigma_i\sigma_j T\}},
\)</span></p>
<p><span class="math notranslate nohighlight">\(
\mathbb{E}[Z^3] = \sum_{i=1}^{N}\sum_{j=1}^{N}\sum_{k=1}^{N} m_i m_j m_k F_i F_j F_k \exp{(\rho_{ij}\sigma_i\sigma_j + \rho_{ik}\sigma_i\sigma_k + \rho_{jk}\sigma_j\sigma_k)T},
\)</span></p>
<p>where <span class="math notranslate nohighlight">\(F_i = F_i \cdot e^{(\frac{\sigma_i^2 T}{2})}\)</span> and where <span class="math notranslate nohighlight">\(F_i\)</span> are given by Equation 59, <span class="math notranslate nohighlight">\(\rho_{ij}\)</span> are the correlations between <span class="math notranslate nohighlight">\(X_i\)</span> and <span class="math notranslate nohighlight">\(X_j\)</span> defined in Equation 51. When calculating these moments, we have used the multi-variable product rule:</p>
<p><span class="math notranslate nohighlight">\(
d(X_i X_j) = X_i dX_j + dX_i X_j + dX_i dX_j.
\)</span></p>
<p>The moments can then be evaluated by taking <span class="math notranslate nohighlight">\(\sigma_i\)</span> from the implied market vols at time <span class="math notranslate nohighlight">\(T\)</span>, <span class="math notranslate nohighlight">\(\rho_{ij}\)</span> from their correlations using Equation 52, and <span class="math notranslate nohighlight">\(F_i\)</span> from the FX spot rates and discount factors using the no-arbitrage condition (Equation 29).</p>
<p>For any random variable, the central moments are defined by:</p>
<p><span class="math notranslate nohighlight">\(
\overline{m_2} = \mathbb{E}[(Z - \mathbb{E}(Z))^2], \quad \overline{m_3} = \mathbb{E}[(Z - \mathbb{E}(Z))^3],
\)</span></p>
<p>which can also be written in terms of the non-central moments as:</p>
<p><span class="math notranslate nohighlight">\(
\overline{m_3} = \mathbb{E}[Z^3] - \mathbb{E}[Z]^3, \quad \overline{m_3} = \mathbb{E}[Z^3] - 3\mathbb{E}[Z]\mathbb{E}[Z^2] + 2\mathbb{E}[Z]^3.
\)</span></p>
<p>The blend distribution is calibrated to the market data by matching the central moments of the blend distribution (which can be obtained analytically, see [6]) to those obtained from the market data using equations (67) leading to analytic relations between the blend distribution parameters and the market data.</p>
<p>The constant parameter <span class="math notranslate nohighlight">\(B_0\)</span> can be trivially identified with the <span class="math notranslate nohighlight">\(t = 0\)</span> value of the basket variable, <span class="math notranslate nohighlight">\(Z_0\)</span>.</p>
<p>One estimates the volatility parameter from:</p>
<p><span class="math notranslate nohighlight">\(
\zeta = \sqrt{\ln(u + u^{-1} - 1)},
\)</span></p>
<p>where</p>
<p><span class="math notranslate nohighlight">\(
u = \left(1 + \frac{\overline{m_3}^{\frac{1}{3}}}{2\overline{m_2}^{\frac{1}{2}}} + \sqrt{\left(1 + \frac{\overline{m_3}^2}{2\overline{m_2}^3}\right)^2 - 1}\right)^{\frac{1}{3}}.
\)</span></p>
<p>Then using the spot basket value, <span class="math notranslate nohighlight">\(Z_0\)</span>, the volatility parameter, <span class="math notranslate nohighlight">\(\zeta\)</span>, the first (non-central) moment, <span class="math notranslate nohighlight">\(\mathbb{E}[Z]\)</span>, and the central moments, <span class="math notranslate nohighlight">\(\overline{m_2}\)</span> and <span class="math notranslate nohighlight">\(\overline{m_3}\)</span>, the blend parameter can also be estimated:</p>
<p><span class="math notranslate nohighlight">\(
\beta = \frac{\overline{m_3} - \overline{m_3}\mathbb{E}[Z](\exp(\zeta^2) - 1)(\exp(\zeta^2) + 2)}{\overline{m_3} + \overline{m_3}(Z_0 - \mathbb{E}[Z])(\exp(\zeta^2) - 1)(\exp(\zeta^2) + 2)}.
\)</span></p>
<p>Finally, the drift parameter is estimated using:</p>
<p><span class="math notranslate nohighlight">\(
\eta = \ln\left\{\frac{(1 - \beta)\mathbb{E}[Z]}{Z_0} + \beta\right\}.
\)</span></p>
<p>This completes the calibration of the blend distribution to the market data at time <span class="math notranslate nohighlight">\(T\)</span>. It is then assumed that the basket variable follows a blend model stochastic process at intermediate times.</p>
<p>The blend model process is given by:</p>
<p><span class="math notranslate nohighlight">\(
\hat{B}_t = B_0\left\{\frac{\exp\left(\sigma^2 W_t + \mu^2 t - \frac{\sigma^2 t}{2}\right) - \beta}{1 - \beta}\right\},
\)</span></p>
<p>where <span class="math notranslate nohighlight">\(W_t\)</span> is a Brownian motion. At time <span class="math notranslate nohighlight">\(T\)</span>, <span class="math notranslate nohighlight">\(B_T\)</span> has a blend distribution given by Equation 62 with:</p>
<p>$</p>
<div class="math-wrapper amsmath docutils container" id="equation-c7ea7171-b4f2-4cae-ba15-5666317ae3f4">
<div class="amsmath math notranslate nohighlight" id="equation-c7ea7171-b4f2-4cae-ba15-5666317ae3f4">
<span class="eqno">(6)<a class="headerlink" href="#equation-c7ea7171-b4f2-4cae-ba15-5666317ae3f4" title="Permalink to this equation">#</a></span>\[\begin{align}
\zeta &amp;= \sigma^2\sqrt{T}, \\
\eta &amp;= \mu^2 T.
\end{align}\]</div>
</div>
<p>$</p>
<p>Under the assumption that the basket variable <span class="math notranslate nohighlight">\(Z\)</span> follows the blend process (72), the payoff for the call option (60) becomes:</p>
<p><span class="math notranslate nohighlight">\(
\max(B_T - K, 0).
\)</span></p>
<p>The basket can then be priced by noting that the shifted variable:</p>
<p><span class="math notranslate nohighlight">\(
B_t' = B_t + B_0\frac{\beta}{1-\beta}
\)</span>
is a geometric Brownian motion. Thus by simultaneously shifting the strike:</p>
<div class="math-wrapper docutils container" id="equation-77">
<div class="math notranslate nohighlight" id="equation-77">
<span class="eqno">(7)<a class="headerlink" href="#equation-77" title="Link to this equation">#</a></span>\[K' = K + B_0 \frac{\beta}{1 - \beta},\]</div>
</div>
<p>the pricing problem is reduced to that of an ordinary Black-Scholes pricing problem for a call option with payoff:</p>
<div class="math-wrapper docutils container" id="equation-78">
<div class="math notranslate nohighlight" id="equation-78">
<span class="eqno">(8)<a class="headerlink" href="#equation-78" title="Link to this equation">#</a></span>\[\max(B_T' - K', 0).\]</div>
</div>
<p>The price can then be calculated with equation (1), using the shifted strike: $<span class="math notranslate nohighlight">\(K' + Z_0 \frac{\beta}{1-\beta}\)</span><span class="math notranslate nohighlight">\(, the shifted forward: \)</span><span class="math notranslate nohighlight">\(F + Z_0 \frac{\beta}{1-\beta}\)</span><span class="math notranslate nohighlight">\(, and the volatility: \)</span><span class="math notranslate nohighlight">\(\zeta/\sqrt{T}\)</span>$.</p>
<p>For the two-moment matching method (ThreeMomentBracket = 0 in model object), $<span class="math notranslate nohighlight">\(Z\)</span><span class="math notranslate nohighlight">\( will have the same distribution as the individual underlyings – that is, \)</span><span class="math notranslate nohighlight">\(Z\)</span>$ is lognormal.</p>
<p>Note that the lognormal model is a special case of the blend model with $<span class="math notranslate nohighlight">\(\beta = 0\)</span><span class="math notranslate nohighlight">\(. To calibrate we avoid using any equations involving \)</span><span class="math notranslate nohighlight">\(\overline{m_3}\)</span><span class="math notranslate nohighlight">\( (i.e., the third moment is not matched). Instead of 68, we retrieve \)</span><span class="math notranslate nohighlight">\(\zeta\)</span>$ using:</p>
<div class="math-wrapper docutils container" id="equation-79">
<div class="math notranslate nohighlight" id="equation-79">
<span class="eqno">(9)<a class="headerlink" href="#equation-79" title="Link to this equation">#</a></span>\[\zeta = \sqrt{\ln\left(\frac{\mathbb{E}[Z^2]}{\mathbb{E}[Z]^2}\right)}.\]</div>
</div>
</section>
</section>
<section id="feeder-and-servicer-models">
<h3><span class="section-number">1.3.1.2.14. </span>2.7 Feeder and Servicer Models<a class="headerlink" href="#feeder-and-servicer-models" title="Link to this heading">#</a></h3>
<p>The model DBSMC-RateDeterministic_FXMarkethas no direct servicer or feeder models.</p>
</section>
<section id="model-change-description">
<h3><span class="section-number">1.3.1.2.15. </span>2.8 Model Change Description<a class="headerlink" href="#model-change-description" title="Link to this heading">#</a></h3>
<p>DBAnalytics model developers log model changes in release notes, which are available through a dedicated website. In the release note, model developers identify the scope of the change made for the Product-Model combination it is related to and how it can be identified through the library interface. Pricing model changes are categorised into major, minor, technical, non-model and other. The proposed change category is reviewed, and agreed by MoRM on the DBAnalytics website.</p>
<p>The changes not relating to pricing models or risk modes are currently not subject to validation, MoRM review the classification to ensure no pricing model related changes are misclassified. MoRM will only validate major and minor classified model changes.</p>
</section>
<section id="validation-outline">
<h3><span class="section-number">1.3.1.2.16. </span>2.9 Validation Outline<a class="headerlink" href="#validation-outline" title="Link to this heading">#</a></h3>
<p>DBSMC-RateDeterministic_FXMarket model is tested for all the products in scope: european options, digital options and basket options. The testing, performed in normal market conditions (EOD) and stressed market conditions (IRRBB, CCAR, Multivar), examines the behaviour of the product’s price and risk sensitivities under various shocks applied to relevant risk factors (FX spot, FX volatility, domestic and foreign interest rates). The results of the tests show that the behaviour of each product’s price and risk sensitivities are smooth and in line with expectations. Additional tests compare the price of the products computed in DBAnalytics against independent implementation using the closed-form formulas and against alternative DBAnalytics models (DBK, DBX). The results of the tests confirm the correct implementation of the model. In particular, in the case of FXDigitalOpt, the price of computed in the present model matches the price of the equivalent call spread; in the case of FXGeometricBasketOpt, the prices match the prices of corresponding european vanilla options written on the auxiliary index process used in their pricing.</p>
<p>Further tests assess if various interpolation methods available in the DBAnalytics in time and strike dimensions satisfy the no-arbitrage conditions and examine the impact of the dayweights parameters. In terms of interpolation methods in time dimension, see Section 4.1, the flat forward volatility (VolMode = CONSTANT_LV), piecewise constant to the left/right (VolMode = PWCONST_L/PWCONST_R), cubic (VolMode = CUBIC) and exponential (VolMode = EXPONENTIAL) interpolations are tested. Based on the testing, only flat forward volatility interpolation is approved (VolMode = CONSTANT_LV), see CFU ID 588, since it is the least susceptible to arbitrage.</p>
<p>In terms of interpolation methods in strike dimension, see Section 4.2, the cubic (InterpolationType = NATURALCUBIC/TIMESTRIKE), linear (InterpolationType = LINEAR), and DeBoor-Cox B-Spline (InterpolationType = COXBSPLINE) interpolations are tested. The interpolation based on the Gamma-Vanna-Volga framework (InterpolationType = GVV/GVVS) is not tested because it is not approved for use. Based on the testing, only natural cubic interpolation (InterpolationType = NATURALCUBIC/TIMESTRIKE) is approved, see CFU ID 550, because it is the least susceptible to arbitrage.</p>
<p>The correct implementation of the parametric form SA4 has been tested in different sections of the document. The property VolTermStructures that controls the term structure of slice parameters (VOL, SMILE, SKEW, POWER) contained in a PARAMETRICVOL is documented in Section 4.8.10 and its correct implementation is tested in Section 4.8.21.</p>
<p>The auto-fitting procedure i.e. the model’s ability to fit an SA4 PIV volatility to a MARKETVOL object of type DELTAVOL is tested in Section 4.4. The tests are performed in normal market conditions (EOD data) and extremely stressed conditions (when very large shifts are applied to the input data stored in the DN, HR and CVX term structures). The results show that the calibration errors are of extremely small magnitude (&lt; 10e-10) in EOD conditions and remain very small in the majority of stressed scenarios, thus proving the robustness of the auto-fitting procedure. Additional testing checks whether negative probability functions are observed and thus Butterfly arbitrage exists. The test results show that the no-arbitrage condition is satisfied in all considered cases. Further tests, covering the SA4 and LABGD SkewTypes are performed in 4.8.21. The performance of the PIVAUTOFITIT function is tested also in the presence of different conventions for weights used in the fitting algorithm, see Section 4.8.17.</p>
<p>The various time conventions e.g., BusinessDaysPerYear, BusinessTimeVols, DayWeightInterpolation, etc have been documented and their correct implementation has been checked by comparing the values of the implied volatilities calculated in DBAnalytics under different time conventions against their values calculated analytically, see Section 4.3.7.</p>
<p>The property RestrikeType which defines the way in which the volatility surface is behaves when the spot value used in pricing deviates from the original spot value (corresponding to the time point when the original volatility surface is defined) is documented and tested in 4.8.11. This property is relevant in the computation of FXDELTA and FXGAMMAAVE, where assumptions are made regarding the volatility that is used in the calculation of the “bumped” PVs.</p>
<p>Tests covering CCAR 2022 stress scenarios have been added in Q2 2022, using DBAnalytics v.1110. Since these tests cover EOD scenarios too for comparison purposes, these tests can be regarded as checking and confirming the correct behavior of the model in the context of DBAnalytics v.1110.</p>
</section>
<section id="description-of-eod-testing">
<h3><span class="section-number">1.3.1.2.17. </span>2.10 Description of EOD Testing<a class="headerlink" href="#description-of-eod-testing" title="Link to this heading">#</a></h3>
<p>Tests investigate the correct implementation of the model by comparing each product’s price and risk sensitivity computed in DBAnalytics against their values computed via independent implementation or in alternative DBAnalytics pricing models (DBK, DBX). Further tests examine the behaviour of the price and risk sensitivities under shifts applied to the risk factors (domestic and foreign interest rate curves, FX spot, FX vol). A summary of the testing is the following:</p>
<p>FXEuroOpt:</p>
<ol class="arabic simple">
<li><p>The products tested are a vanilla option priced using a non-parametric volatility of type DELTAVOL and a vanilla option priced using a parametric SA4 type volatility in order to ensure that both model configurations behave as expected when shocks are applied to the risk factors.</p></li>
<li><p>Check that the price, implied BS volatility, SpotRiskDelta, FwdRiskDelta, Gamma and Vega are computed correctly by comparing their values computed in DBAnalytics against analytical calculations. This test is intended to check the correct implementation of the model as the listed parameters are computed using closed-form formulas, and thus can be independently replicated.</p></li>
<li><p>Check that FXDELTA and FXVEGA risk sensitivities are computed correctly in EOD and CCAR scenarios by comparing their values calculated in DBAnalytics against analytic computations based on the definitions of the risk sensitivities.</p></li>
<li><p>Test the behaviour of PVs under shifts of FX spot and interest rates and check the correctness of results by comparing DBAnalytics computed values against analytic computations.</p></li>
<li><p>Test the behaviour of PVs under shifts of FX volatility. Test the correct implementation of the SA4 formula.</p></li>
<li><p>Examine the behaviour FXDELTA and FXVEGA under shifts of various risk factors and compare their behaviour with that of SpotRiskDelta, FwdRiskDelta, Gamma and Vega computed in MODE Price.</p></li>
</ol>
<p>FXDigitalOpt:</p>
<ol class="arabic simple">
<li><p>The testing covers a digital option priced using a non-parametric volatility of type DELTAVOL and a digital option priced using a parametric SA4 type volatility to ensure that both model configurations behave as expected when shocks are applied to the risk factors.</p></li>
<li><p>Check that the price, implied BS volatility and risk sensitivities Gamma and Vega are computed correctly by comparing the DBA results against analytical computations. This test is intended to check the correct implementation of the model.</p></li>
<li><p>Test the behaviour of the price under shifts of FX Spot, FX volatility and interest rates and compare the DBAnalytics results against alternative DBAnalytics models (DBX, DBK).</p></li>
<li><p>Check that FXDELTA, FXGAMMA and FXVEGA risk sensitivities are computed correctly in EOD and CCAR scenarios by comparing the DBA results against analytic computations based on the risk sensitivities’ definitions.</p></li>
<li><p>Test the behaviour of the risk sensitivities under shifts of FX Spot, FX volatility and interest rates and check the correctness of the DBAnalytics results by comparing them against alternative DBAnalytics models (DBX, DBK).</p></li>
<li><p>Check the correct computation of the digital option price by comparing the DBAnalytics price against the price of an equivalent call spread.</p></li>
</ol>
<p>FXGeometricBasketOpt:</p>
<ol class="arabic simple">
<li><p>We show that the price and risk sensitivities SpotRiskDelta, FwdRiskDelta, Gamma and Vega are computed correctly by comparing the DBA results against analytical computations. This test is intended to check the correct implementation of the model.</p></li>
<li><p>Show that the put-call parity holds in the case of the Geometric Basket Option.</p></li>
<li><p>Examine the behaviour of the price under shifts of FX Spot, FX volatility and interest rates.</p></li>
<li><p>Show that the risk sensitivities FXDELTA, FXGAMMA and FXVEGA are computed correctly in EOD and CCAR scenarios by comparing the DBA results against analytic computations based on the risk sensitivities’ definitions.</p></li>
</ol>
<p>These listed points have been tested in [28]. The present document contains additional EOD, CCAR and IRRBB testing on 3 dictionaries with recent market data, IR Rates curves and FX Vols as of Q2 2022.</p>
</section>
<section id="description-of-ccar-scenarios-and-testing">
<h3><span class="section-number">1.3.1.2.18. </span>2.11 Description of CCAR Scenarios and Testing<a class="headerlink" href="#description-of-ccar-scenarios-and-testing" title="Link to this heading">#</a></h3>
<p>The CCAR methodology is included in the general stress testing framework as described in Standardized Shock Primer document [14]. This, in particular, includes a construction of CCAR stressed market data objects for adverse and severely adverse scenarios which have been reviewed and validated in [15], [16], [17], [18], [19].</p>
<p>The latest CCAR stress scenario testing was performed in Q2 2022 using the shock objects provided by Market Risk. For the purpose of these tests, CCAR market data objects are treated as given inputs and the main objective is to test the behaviour of a product-model pair in the CCAR stressed pricing contexts. For every product we perform stress tests to examine the stability of the price and sensitivities under the shifts of IR curves, FX spot and FX volatility. The testing covers three scenarios:</p>
<ol class="arabic simple">
<li><p>EOD Scenario: This is the market data used in end of day pricing on the valuation date and its presented in this section for comparison purposes.</p></li>
<li><p>CCAR 1: This is the Asset Bubble Burst - Q2 2022 scenario. In terms of the market data relevant to the testing product, shocks are applied to all relevant objects in the EOD pricing dictionary as given by Market Risk.</p></li>
<li><p>CCAR 2: This is the severe adverse 2022 FRB CCAR scenario. In terms of the market data relevant to the testing product, shocks are applied to all relevant objects in the EOD pricing dictionary as given by Market Risk.</p></li>
</ol>
</section>
<section id="description-of-irrbb-scenarios-and-testing">
<h3><span class="section-number">1.3.1.2.19. </span>2.12 Description of IRRBB scenarios and testing<a class="headerlink" href="#description-of-irrbb-scenarios-and-testing" title="Link to this heading">#</a></h3>
<p>In this section, we describe the Interest Rate Stress Tests according to a range of ten different scenarios defined under the RJBB framework. This framework is part of the Basel capital framework Pillar 2 (Supervisory Review Process), and was described also in [24]. The goal is to approve the behaviour and accuracy of the DBAnalytics implementation for all the components of the model under those scenarios. The BCBS document [23] describes eight Interest Rate shock scenarios that are required to be applied to IRRBB exposures in each currency for which a bank has material positions in the Banking Book. Eight Interest Rate currency dependent shock scenarios are prescribed that reflect currency-specific absolute interest rate shocks. Two of them (Steepener and Flattener) have been extended to take their opposite shift in order to define two additional scenarios: Steepener Negative and Flattener Negative. The IRRBB Interest Rate scenarios are summarized as follows:</p>
<ol class="arabic simple">
<li><p>Parallel shock up,</p></li>
<li><p>Parallel shock down,</p></li>
<li><p>Steepener shock (short rate down and long rates up),</p></li>
<li><p>Steepener negative shock (opposite Steepener shift),</p></li>
<li><p>Flattener shock (short rates up and long rates down),</p></li>
<li><p>Flattener negative shock (opposite Flattener shift),</p></li>
<li><p>Short Rates shock up,</p></li>
<li><p>Short Rates shock down,</p></li>
<li><p>Long Rates shock up,</p></li>
<li><p>Short Rates shock down.</p></li>
</ol>
<p>For every product we perform stress tests to test the stability of the price and sensitivities under the shifts of IR curves, FX spot and FX volatility.</p>
</section>
<section id="description-of-multivar-testing">
<h3><span class="section-number">1.3.1.2.20. </span>2.13 Description of MultiVar testing<a class="headerlink" href="#description-of-multivar-testing" title="Link to this heading">#</a></h3>
<p>The purpose of the test is to examine the robustness of the model in different stress scenarios: SVAR10d, SVAR1d, VAR10d, VAR1d. Typically SVAR1d/10d is the most severe. In each stress scenario, there exist two shock parameters for each risk factor. These shocks, when applied to the relevant market inputs allow to retrieve the highest and the lowest PV of the stress scenario. In order to determine the shocks that need to be applied at market input and model parameter levels such that the highest and lowest PV of the stress scenario are retrieved the following steps are performed:</p>
<p>• We identify the relevant risk factors of the model e.g. SWAP, OISSPREAD, CCYSPREAD, VOL etc.</p>
<p>• For each risk factor we compute the corresponding risk sensitivity e.g. FLATDELTA, FLATOISSPREAPDELTA, FLATCCYSPREADELTA, FLATVEGA etc.</p>
<p>• The sign of the risk sensitivity will determine the type of shock that needs to be applied to each market input and model parameter. This step is conditional on the shock availability (the list of shocks is provided by Market Risk) and shock type (relative or absolute). To exemplify, let $<span class="math notranslate nohighlight">\(VolInput(T_i), i = 1, ...n\)</span><span class="math notranslate nohighlight">\( represent a term structure used to define the interest rate volatility and assume that FLATVEGA &gt; 0. This implies that in order to obtain the \)</span><span class="math notranslate nohighlight">\(PV_{max}^{10d}\)</span>$, we perturb the each input from</p>
<p>above by $<span class="math notranslate nohighlight">\(VolInput(T_i)(1 + X) * ShockVolInput_{max}(T_i)), i = 1, ...n\)</span><span class="math notranslate nohighlight">\( and in order to obtain \)</span><span class="math notranslate nohighlight">\(PV_{10d}^{min}\)</span><span class="math notranslate nohighlight">\(, we perturb each input by \)</span><span class="math notranslate nohighlight">\(VolInput(T_i)(1 + X) * ShockVolInput_{min}(T_i)), i = 1, ... n\)</span>$. We proceed analogously for the remaining risk factors – note that we need to take into account any sign conventions of the risk sensitivities.</p>
<p>The shocks can be applied through relative or absolute shifts. Typically the shocks applied to the curve objects are absolute and the shocks applied to the volatility objects are absolute or relative (The column BLEND decides the type of shocks: BLEND=0 implies relative shocks and BLEND=1 implies absolute shocks).</p>
<p>The lambda parameter is allowed to evolve from 0% to 100%. The resulting PV ladder corresponds to the PV change as a function of a fraction of the stress scenario considered, from 0% to 100%. This aims to show that the model is robust enough to price in extremely stressed scenarios similar to those seen during the 2008 crisis.</p>
</section>
<section id="risk-factor-tables">
<h3><span class="section-number">1.3.1.2.21. </span>2.14 Risk Factor Tables<a class="headerlink" href="#risk-factor-tables" title="Link to this heading">#</a></h3>
<p><img alt="Table 8: Risk factors (shift sizes applied to the risk factors) table for DBSMC-RateDeterministic_FXMarket model." src="market/DBSMC/Fig/table8.png" /></p>
<p>Table 8: Risk factors (shift sizes applied to the risk factors) table for DBSMC-RateDeterministic_FXMarket model.
The shifts of the IR curve are absolute, the shifts of the IR vol, FX spot and FX vol are relative.</p>
</section>
<section id="engagement-process">
<h3><span class="section-number">1.3.1.2.22. </span>2.15 Engagement Process<a class="headerlink" href="#engagement-process" title="Link to this heading">#</a></h3>
<p>The model developer documentation submitted in MARS request ID 16676 has been reviewed for sufficiency and completeness against the model approval request submission standards detailed in the Pricing Model Validation Key Operating Document [27]. The results of the initial review are detailed in Tables 3.5 and 3.5. The requirements which were not addressed fully were raised to DBAnalytics (MARS workflow ID 16676) to enhance and augment the materials submitted. The full requirements were ultimately addressed satisfactorily and are contained in MARS request ID 16676. (Include as appropriate) Outstanding developer</p>
<p>documentation requirements not addressed during or prior to validation are subject to the validation finding raised in section 5.16.</p>
</section>
<section id="list-of-validation-findings">
<h3><span class="section-number">1.3.1.2.23. </span>2.16 List of Validation Findings<a class="headerlink" href="#list-of-validation-findings" title="Link to this heading">#</a></h3>
<p>Table 9: DBSMC-RateDeterministic_FXMarket Closed Findings</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Request ID</p></th>
<th class="head"><p>Start Date</p></th>
<th class="head"><p>Due Date</p></th>
<th class="head"><p>Request Status</p></th>
<th class="head"><p>Originator</p></th>
<th class="head"><p>Action Owner</p></th>
<th class="head"><p>Finding Severity</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>9082</p></td>
<td><p>26/10/2016</p></td>
<td><p>26/01/2018</p></td>
<td><p>Finding Resolved</p></td>
<td><p>Souhail Hannouf</p></td>
<td><p>Pierre-Olivier Rieu</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 10: DBSMC-RateDeterministic_FXMarket Open Findings</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Request ID</p></th>
<th class="head"><p>Start Date</p></th>
<th class="head"><p>Due Date</p></th>
<th class="head"><p>Request Status</p></th>
<th class="head"><p>Originator</p></th>
<th class="head"><p>Action Owner</p></th>
<th class="head"><p>Finding Severity</p></th>
</tr>
</thead>
</table>
</div>
<p>Request ID 9082</p>
<p>• Model Configurations</p>
<p>DBSMC-RateDeterministic_FXMarket</p>
<p>• PRDS Products</p>
<p>• Description</p>
<p>(Non-parametric) The user must ensure that the MARKETVOL vol inputs do not imply negative forward variance between time pegs.(Non-parametric). The interpolated volatility surface is not guaranteed to be arbitrage free. The user must ensure that the implied pdf is non-negative.</p>
<p>• Action</p>
<p>• Resolution</p>
<p>DBA has added the property “ArbitrageChecker” in marketvols (see release note RN_390_15). This property is being controlled by condition for use CfU 17547.</p>
</section>
<section id="list-of-validation-observation">
<h3><span class="section-number">1.3.1.2.24. </span>2.17 List of Validation Observation<a class="headerlink" href="#list-of-validation-observation" title="Link to this heading">#</a></h3>
<p>As part of the validation of pricing models, MoRM may identify problems with the model that require an immediate implementation fix and cause further validation activities to be put on hold. Ownership, compensating controls, remediation actions and timelines will be discussed and monitored as part of the MCWGs. To raise a validation finding MoRM create a validation finding request in MARS, where the finding is described, responsible action owner is assigned and a deadline for remediation of the finding specified. MoRM can revoke the model approval if validation findings are not closed within agreed timelines. MoRM will only raise validation findings and not observations for pricing models. Due to the nature of model usage for valuation and risk management, matters identified must be addressed through concrete remediation.</p>
<p>There are currently no observations relevant to other stakeholders.</p>
</section>
</section>
<section id="assessment-of-approach-conceptual-soundness-and-implementation">
<h2><span class="section-number">1.3.1.3. </span>3 Assessment of Approach, Conceptual Soundness and Implementation<a class="headerlink" href="#assessment-of-approach-conceptual-soundness-and-implementation" title="Link to this heading">#</a></h2>
<section id="assessment-of-development-and-modelling-data">
<h3><span class="section-number">1.3.1.3.1. </span>3.1 Assessment of Development and Modelling Data<a class="headerlink" href="#assessment-of-development-and-modelling-data" title="Link to this heading">#</a></h3>
<p>The interest rates are deterministic and the dynamics for the FX underlying is Black-Scholes. The volatility can either be calibrated PIV to the market data or it can be strike-and-time interpolated from the market data. The instruments used for calibration are vanilla FX options with various maturities. The pricing of baskets uses only the delta neutral market volatility.</p>
</section>
<section id="assessment-of-methodology-and-calibration">
<h3><span class="section-number">1.3.1.3.2. </span>3.2 Assessment of Methodology and Calibration<a class="headerlink" href="#assessment-of-methodology-and-calibration" title="Link to this heading">#</a></h3>
<p>The DBSMC-RateDeterministic_FXMarket model is calibrated to the market through a DBMVOL object. This DBMVOL object contains the implied BS volatilities for a range of strikes and maturities. There are two ways in which the calibration is performed. One way is to perform a polynomial interpolation to the market data of BS implied volatilities in both the strike and maturity direction. The shortcomings of this method is that it can frequently lead to arbitrage. The second way is done by providing a template parametric volatility object as a MODELVOL to the dictionary. This is most frequently done by choosing parameters for the parametric volatility, which minimize the square of the difference in prices at the provided data points. The advantage of this approach is that the parametric volatilities are specially chosen functions, which are less likely to lead to arbitragable prices. It is highly recommended that the latter approach is used in production.</p>
</section>
<section id="assessment-of-model-assumptions-and-limitations">
<h3><span class="section-number">1.3.1.3.3. </span>3.3 Assessment of Model Assumptions and Limitations<a class="headerlink" href="#assessment-of-model-assumptions-and-limitations" title="Link to this heading">#</a></h3>
<p>The model assumptions are listed in Sections 2.5.2 and 1.2.2, respectively. In particular, the list of model assumptions and limitations is deemed complete and there is no relevant missing item that requires to be added to the current version of the documentation.</p>
<section id="assessment-of-model-assumptions">
<h4><span class="section-number">1.3.1.3.3.1. </span>3.3.1 Assessment of Model Assumptions<a class="headerlink" href="#assessment-of-model-assumptions" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Assumption</p></th>
<th class="head"><p>Conceptual Suitability</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Deterministic Interest Rates</p></td>
<td><p>Assuming deterministic interest rates is reasonable for pricing FX products</p></td>
</tr>
<tr class="row-odd"><td><p>Diffusive Dynamics</p></td>
<td><p>The randomness in the evolutions of the FX rate is assumed to be driven by diffusive processes (Brownian motion)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>No arbitrage</p></th>
<th class="head"><p>It is assumed in the models that there are no arbitrages in the market.</p></th>
</tr>
</thead>
</table>
</div>
</section>
</section>
<section id="expert-judgements-in-the-model">
<h3><span class="section-number">1.3.1.3.4. </span>3.4 Expert Judgements in the Model<a class="headerlink" href="#expert-judgements-in-the-model" title="Link to this heading">#</a></h3>
<p>In addition to the model specification detailed in section 2.5, the market inputs specified in section 2.5.3.1 are subject to IPV process and the following model parameters are subject to the following expert judgement:</p>
<p>• InterpolationType
• InterpolationSpace
• InterpolationStrikes
• VolMode</p>
</section>
<section id="assessment-of-model-documentation">
<h3><span class="section-number">1.3.1.3.5. </span>3.5 Assessment of Model Documentation<a class="headerlink" href="#assessment-of-model-documentation" title="Link to this heading">#</a></h3>
<p>Model users are responsible for seeking model validation for all new model and product combinations prior to use, through the submission of Model Approval Requests in line with the documentation standards set out by MoRM. Documentation should be sufficient to permit independent review and to facilitate potential replication and/or upgrade of the model by others, independent of the original developer.</p>
<p>The following steps are carried out in evaluating the Model Approval Request submissions:</p>
<p>• Upon being assigned to the Model Approval Request, the Primary Approver must review the submission to confirm completeness and adequacy against the minimum standards.</p>
<p>• If the Model Approval Request does not comply with submission standards or if additional information is required, the Primary Approver will reject the request and clearly document the reasons for this as well as follow up actions required by model owner/developer submitting the request, prior to resubmission.</p>
<p>MoRM will not commence validation until the Model Approval Request is accepted.</p>
<p>At any time during the validation process, MoRM have the right to request additional information they deem necessary for effective validation, even if outside the submission requirements listed in this document. MoRM may also ask for the model documents to be updated during the course of the validation. Additional supporting information obtained during the validation is also recorded in MARS.</p>
<p>The pricing model developer document requirements to check:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Section</p></th>
<th class="head"><p>Content</p></th>
<th class="head"><p>MoRM check</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Executive summary</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>Model Developer</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>Documentation Info</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>Market characteristic and market data</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>Market characteristic</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>Market considerations</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>Market instruments</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>Market instrument treatment</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>Other market data</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>Model Description</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>Model Dynamics</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>Model assumptions</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>Model parameters</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>Model dynamics</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>Model components</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>Model implementation</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>Model calibration</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>Model parameters calibration</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>Model risk sensitivities</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>Modes which apply to the model</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>Model risk sensitivities</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>Model weaknesses, limitations</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>Weakness and limitation description</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>Model Restrictions (Conditions for Use)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>Conceptual Soundness</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>Product scope</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>Justification for model selection</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>Model controls</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>Analytics Library and Version</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>Compensating controls</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>Model inputs controls</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>Implementation testing and justification of model behaviour</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>Model configuration testing</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>References</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
<p>The pricing product model developer document requirements to check:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Section</p></th>
<th class="head"><p>Content</p></th>
<th class="head"><p>MoRM check</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Executive summary</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>Model Developer</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>Documentation Info</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>Model configuration</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>Product Owner</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>Business Area, Line or Asset Class</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>Risk Management Systems</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>Products description</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>Product Scope</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>PRDS name and definition</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>NPA Reference</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>Mathematical description of the payoff</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>Product contractual parameters</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>Product scripting</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>Product grouping</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>Product main characteristics and features</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>Product model appropriateness</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>Model appropriateness for products it will be used for</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>Product-Model Combination appropriateness</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>Product Risk factor identification</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>Key Risk factors</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>Risk sensitivities</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>Calibration instruments</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>Products calibration instrument choice</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>Product model weakness identification</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>Product Model Combination Limitations</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>Model Configuration Testing and Results</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>Convergence and stability tests</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>Limiting case and alternative model testing</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>Calibration algorithm and risk sensitivities</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>Risk factor tests</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>End of Day condition and VAR</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>CCAR and EBA conditions</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>RIB</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>Testing evidence</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="it-implementation-testing">
<h3><span class="section-number">1.3.1.3.6. </span>3.6 IT Implementation testing<a class="headerlink" href="#it-implementation-testing" title="Link to this heading">#</a></h3>
<p>For Pricing models, implementation refers to DBA releases and deployment refers to integrating them into risk calculators. The deployed model library executable code must be held in a secure and controlled environment or embedded in a system which is held in a secure and controlled environment.</p>
<p>DBAnalytics production system reconciliation: Independent model validation testing is undertaken using DBAnalytics. Since no additional processing of DBAnalytics is undertaken and no further external analytics are being run in strategic production systems, it can be assured that model output produced with a consistent version of DBAnalytics will yield equivalent results whether run locally by individual users or in official production systems.</p>
</section>
</section>
<section id="independent-validation-testing">
<h2><span class="section-number">1.3.1.4. </span>4 Independent Validation Testing<a class="headerlink" href="#independent-validation-testing" title="Link to this heading">#</a></h2>
<p>In accordance with the key operating procedures and model testing standards we have tested the DBA implementation of the DBSMC-RateDeterministic_FXMarket model for accuracy, stability and robustness. These include comparisons of the model to alternative models, independent implementation of the model where possible, product testing and stress testing. The methods and main results of these tests are documented in the following subsections.</p>
<section id="volatility-interpolation-in-the-time-direction">
<h3><span class="section-number">1.3.1.4.1. </span>4.1 Volatility interpolation in the time direction<a class="headerlink" href="#volatility-interpolation-in-the-time-direction" title="Link to this heading">#</a></h3>
<p>In this section we test the interpolation in the time direction, and in particular we check if negative forward variance can occur, see paragraph 2.6.6.1. We consider a European vanilla FX option on the USD/EUR currency pair with valuation date 20-April-2020 and a European vanilla FX option on the USD/AUD currency pair with valuation date 25-Oct-2019. The test results show that the flat forward volatility interpolation method VolMode= CONSTANT_LV produces forward variances that are non-negative even when non-constant dayweights are included.</p>
<section id="flat-forward-volatility-interpolation">
<h4><span class="section-number">1.3.1.4.1.1. </span>4.1.1 Flat forward volatility interpolation<a class="headerlink" href="#flat-forward-volatility-interpolation" title="Link to this heading">#</a></h4>
<p>We test the flat forward volatility interpolation method VolMode = CONSTANT_LV for weekly intervals, which is the approved time-interpolation method for the DBSMC-RateDeterministic_FXMarketmodel. The mathematical description of the method can be found in Equation 7.</p>
<p>Market data containing implied volatilities for options with maturities from one business day up to 10 years is used in the interpolation.</p>
<p>In the below figures, see 1, the forward variances in the intervals [$<span class="math notranslate nohighlight">\(i\)</span><span class="math notranslate nohighlight">\( weeks, \)</span><span class="math notranslate nohighlight">\(i + 1\)</span>$ weeks] are displayed, covering the total 10 year period. In the case of the FXEuroOpt on the USD/AUD FX rate, where the input volatility is given only in terms of DN deltas, the graphs are constant between the benchmark maturities 1W, 2W, 1M, 2M, 3M, 6M,1Y, 2Y,…9Y and 10Y as expected by the flat forward interpolation method. In the case of the FXEuroOpt on the USD/EUR FX rate, the forward-variance is not piecewise constant, because the input volatility is given by a (DN,CVX,RR) structure with non-constant dayweights assigned for the first year.</p>
<p>The results show that, when using the flat forward volatility interpolation method, the forward variances are non-negative even when non-constant day weights are included. In fact, volatility dayweights (see section 4.3) only affect the scaling of the forward volatilities and therefore can not turn them negative.</p>
<p>See subsection 4.3 for a description of dayweights.</p>
<p><img alt="Figure 1: Forward variance for options on the currency pair USD/EUR (left) and on the currency pair USD/AUD (right) in the interval [i weeks, i + 1 weeks]. The data covers a 10Y period beginning from the valuation date. No violation of the positivity of the forward variance is observed." src="market/DBSMC/Fig/1.png" /></p>
<p>Figure 1: Forward variance for options on the currency pair USD/EUR (left) and on the currency pair USD/AUD (right) in the interval [i weeks, i + 1 weeks]. The data covers a 10Y period beginning from the valuation date. No violation of the positivity of the forward variance is observed.</p>
<p>The flat forward volatility interpolation method uses a constant forward volatility between subsequent time points specified in the MARKETVOL object. Therefore the forward volatilities between any two generic time points will be positive so long as the forward volatilities between the time points in the MARKETVOL are also positive.</p>
<p><img alt="Figure 1: Forward variance interpolation" src="market/DBSMC/Fig/1.png" /></p>
<p>Figure 1: Forward variance for options on the currency pair USD/EUR (left) and on the currency pair USD/AUD (right) in the interval [t weeks, t + 1 weeks]. The data covers a 10Y period beginning from the valuation date. No violation of the positivity of the forward variance is observed.</p>
<p>The flat forward volatility interpolation method uses a constant forward volatility between subsequent time points specified in the MARKETVOL object. Therefore the forward volatilities between any two generic time points will be positive so long as the forward volatilities between the time points in the MARKETVOL are also positive.</p>
</section>
<section id="other-interpolation-methods">
<h4><span class="section-number">1.3.1.4.1.2. </span>4.1.2 Other interpolation methods<a class="headerlink" href="#other-interpolation-methods" title="Link to this heading">#</a></h4>
<p>In this section we discuss the inconsistency of the forward variance for non-approved interpolation methods. Consider the following volatility surface without dayweights:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>MaturityDelta</p></th>
<th class="head"><p>10P</p></th>
<th class="head"><p>25P</p></th>
<th class="head"><p>ATM</p></th>
<th class="head"><p>25C</p></th>
<th class="head"><p>10C</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>3M</p></td>
<td><p>11.00%</p></td>
<td><p>11.00%</p></td>
<td><p>11.00%</p></td>
<td><p>11.00%</p></td>
<td><p>11.00%</p></td>
</tr>
<tr class="row-odd"><td><p>6M</p></td>
<td><p>11.00%</p></td>
<td><p>11.00%</p></td>
<td><p>11.00%</p></td>
<td><p>11.00%</p></td>
<td><p>11.00%</p></td>
</tr>
<tr class="row-even"><td><p>1Y</p></td>
<td><p>11.00%</p></td>
<td><p>11.00%</p></td>
<td><p>11.00%</p></td>
<td><p>11.00%</p></td>
<td><p>11.00%</p></td>
</tr>
<tr class="row-odd"><td><p>2Y</p></td>
<td><p>11.00%</p></td>
<td><p>11.00%</p></td>
<td><p>11.00%</p></td>
<td><p>11.00%</p></td>
<td><p>11.00%</p></td>
</tr>
<tr class="row-even"><td><p>3Y</p></td>
<td><p>9.25%</p></td>
<td><p>9.25%</p></td>
<td><p>9.25%</p></td>
<td><p>9.25%</p></td>
<td><p>9.25%</p></td>
</tr>
<tr class="row-odd"><td><p>5Y</p></td>
<td><p>11.00%</p></td>
<td><p>11.00%</p></td>
<td><p>11.00%</p></td>
<td><p>11.00%</p></td>
<td><p>11.00%</p></td>
</tr>
<tr class="row-even"><td><p>7Y</p></td>
<td><p>11.00%</p></td>
<td><p>11.00%</p></td>
<td><p>11.00%</p></td>
<td><p>11.00%</p></td>
<td><p>11.00%</p></td>
</tr>
<tr class="row-odd"><td><p>10Y</p></td>
<td><p>11.00%</p></td>
<td><p>11.00%</p></td>
<td><p>11.00%</p></td>
<td><p>11.00%</p></td>
<td><p>11.00%</p></td>
</tr>
<tr class="row-even"><td><p>15Y</p></td>
<td><p>11.00%</p></td>
<td><p>11.00%</p></td>
<td><p>11.00%</p></td>
<td><p>11.00%</p></td>
<td><p>11.00%</p></td>
</tr>
<tr class="row-odd"><td><p>20Y</p></td>
<td><p>9.25%</p></td>
<td><p>9.25%</p></td>
<td><p>9.25%</p></td>
<td><p>9.25%</p></td>
<td><p>9.25%</p></td>
</tr>
<tr class="row-even"><td><p>30Y</p></td>
<td><p>11.00%</p></td>
<td><p>11.00%</p></td>
<td><p>11.00%</p></td>
<td><p>11.00%</p></td>
<td><p>11.00%</p></td>
</tr>
</tbody>
</table>
</div>
<p>For this volatility surface, we test for negative forward variances for all interpolation types, namely flat forward volatility (VolMode = CONSTANT_LV), piecewise constant to the left/right (VolMode = PWCONST_L/PWCONST_R), cubic (VolMode = CUBIC) and exponential (VolMode = EXPONENTIAL). The results are shown in figure 2, 3 and 4 respectively. It is clear that all methods except the flat forward volatility method suffer from some form of negative forward variance.</p>
<p><img alt="Figure 2: Forward volatility interpolation comparison" src="market/DBSMC/Fig/2.png" /></p>
<p>Figure 2:
LEFT: Flat forward volatility (VolMode = CONSTANT_LV) interpolation. The forward variance is non-negative at all times.
RIGHT: Piecewise constant to the left interpolation (VolMode = PWCONST_L). There is some negative forward variance at about 3 years.</p>
<p><img alt="Figure 3: Cubic and piecewise constant interpolation" src="market/DBSMC/Fig/3.png" /></p>
<p>Figure 3:
LEFT: Cubic interpolation (VolMode = CUBIC). There is some negative forward variance at times close to 3 years.
RIGHT: Piecewise constant to the right interpolation (VolMode = PWCONST_R). There is some negative forward variance at about 2 years.</p>
<p><img alt="Figure 4: Exponential interpolation" src="market/DBSMC/Fig/4.png" /></p>
<p>Figure 4: Exponential interpolation (VolMode = EXPONENTIAL). There is some negative forward variance at times close to 3 years.</p>
<p>The graphs displays the forward variance for option on the currency pair USD/EUR the interval [t weeks, t + t weeks] covering 520 weeks. Dayweights are not taken into account. The valuation date is 20-April-2020 and the currency pair is USD/EUR. The results show that VolMode = CONSTANT_LV is the only interpolation type not generating negative forward variance.</p>
<p>The tests results show that flat forward volatility interpolation (VolMode = CONSTANT_LV) is the least likely to generate negative forward variance, and therefore is the only time interpolation method allowed in this model, see CFU ID 589.</p>
<p>Note that degenerate input volatilities can lead to negative forward variance in the volatility surface constructed through interpolation/extrapolation. For example, it is possible to set the ATM volatility for 6 months to 8.33% and for 1 year to 1%, and this will lead to negative forward variance.</p>
<p>However is it possible to have a no-arbitrage market model in which the forward variance of the FX rate becomes negative due to the combined effect of the stochastic interest rates and correlations. DBAnalytics provides the following example which we replicate here, constructed in the framework of a DBX-ShortRate_FXSkew model. In this model, the dynamics of the domestic and foreign interest rates are given by Hull-White processes with time dependent coefficients, while the FX rate is represented by the lognormal process with parametric volatility of type SKEWPARAMETRIC04. A string of caplets on the JPY/USD FX rate with maturities t_{i+1} = t_i+1 week are priced starting from t_0=30/09/2010 going up to 23/08/2030. The pricer returns for each maturity t_i the corresponding implied BS volatility σ(t_i). The following plot displays the weekly forward variances computed based on the formula:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
σ(t_i, t_{i+1})^2 = \frac{σ^2(t_{i+1})t_{i+1} - σ^2(t_i)t_i}{t_{i+1} - t_i}
\]</div>
</div>
<p>We can see that the weekly forward variance is decreasing and becomes negative around the 5Y tenor point:</p>
<p><img alt="Figure 5: DBX-ShortRate_FXSkew Model" src="market/DBSMC/Fig/5.png" /></p>
<p>Figure 5: Forward variance (weekly frequency) computed in the framework of the DBX_ShortRate_FXSkew model. We can see that although we are in an arbitrage-free model, the forward variance of the FX rate is descreasing and even becomes negative around the 5Y tenor point.</p>
</section>
</section>
<section id="volatility-interpolation-in-the-strike-direction">
<h3><span class="section-number">1.3.1.4.2. </span>4.2 Volatility interpolation in the strike direction<a class="headerlink" href="#volatility-interpolation-in-the-strike-direction" title="Link to this heading">#</a></h3>
<p>We consider actual market data for an FXEuroOpt on the USD/EUR FX rate with valuation date 20-April-2020. The implied volatilities for different strikes and maturities, calculated using cubic interpolation, are shown in Figure 6.</p>
<p><img alt="Figure 6: Implied volatilities" src="market/DBSMC/Fig/6.png" /></p>
<p>Figure 6: Implied volatilities of a call option for different strikes and maturities using cubic interpolation in strike dimension (InterpolationType = NATURALCUBIC). The valuation date is 20-Apr-2020 and the currency pair is USD/EUR. As expected, a skew is observed in the implied volatility curves.</p>
<p>In what follows our objective is to test the interpolation in the strike direction and confirm that the no-arbitrage conditions Equation 44 and Equation 45 hold. The results indicate that the cubic interpolation method turns to be the only interpolation method not violating the no-arbitrage conditions. However, it is possible to construct an extreme data set of inputs such that the no-arbitrage condition is breached. CFU ID 17547 ArbitrageChecker=YES is set in place to flag the presence of butterfly arbitrage in the set of input volatilities used in the construction of the volatility surface.</p>
<section id="cubic-interpolation">
<h4><span class="section-number">1.3.1.4.2.1. </span>4.2.1 Cubic interpolation<a class="headerlink" href="#cubic-interpolation" title="Link to this heading">#</a></h4>
<p>No-arbitrage conditions (44) and (45) were tested for maturities 3M, 6M, 9M, 1Y, 2Y, 3Y, 5Y, 7Y, 10Y and different strikes using cubic interpolation. Figure 7 displays the results of the tests on the implied CDF⁹ with cubic interpolation and Figure 8 displays the results of the tests on the second derivative¹⁰ for the maturities 6M, 1Y, 2Y, 3Y and 5Y. The test for no-arbitrage condition (44) passes as the implied CDF lies between 0 and 1. Likewise, the probability density function (PDF) is always positive so the no-arbitrage condition (45) also passes.</p>
<p>The graphs show a subset of tests on the implied CDF and PDF of the spot rate at maturity, for different strikes and maturities, with cubic interpolation (InterpolationType = NATURALCUBIC). The bump size for approximating the first derivative was chosen to be 0.000001. The valuation date is 20-Apr-2020 and the currency pair is USD/EUR.</p>
<p>⁹For the call price C(K,T), we approximate the first derivative <span class="math notranslate nohighlight">\(\frac{\partial}{\partial K}C(K,T) = \frac{C(K+h,T)-C(K-h,T)}{2h}\)</span> where h is the bump size.
¹⁰For the call price C(K,T), we approximate the second derivative <span class="math notranslate nohighlight">\(\frac{\partial^2}{\partial K^2}C(K,T) = \frac{C(K+h,T)-2C(K,T)+C(K-h,T)}{h^2}\)</span> where h is the bump size.</p>
<p><img alt="Figure 7: Implied CDF with cubic interpolation" src="market/DBSMC/Fig/7.png" /></p>
<p>Figure 7: Implied CDF with cubic interpolation. The CDF lies between 0 and 1, so the test for no-arbitrage condition (44) passes.</p>
<p><img alt="Figure 8: Implied PDF using cubic interpolation" src="market/DBSMC/Fig/8.png" /></p>
<p>Figure 8: Implied PDF using cubic interpolation (InterpolationType = NATURALCUBIC). The PDF is non-negative, therefore the test for no-arbitrage condition (45) passes.</p>
</section>
<section id="impact-of-interpolation-method">
<h4><span class="section-number">1.3.1.4.2.2. </span>4.2.2 Impact of interpolation method<a class="headerlink" href="#impact-of-interpolation-method" title="Link to this heading">#</a></h4>
<p>Cubic interpolation is the recommended interpolation method in the strike dimension (InterpolationType = NATURALCU-BIC/TIMESTRIKE) because the second derivative is ensured to be continuous. If the second derivative is not continuous the no-arbitrage conditions (44) and (45) are more likely to break. In the following we consider two examples:</p>
<ol class="arabic simple">
<li><p>Scenario 1: we use the actual actual market data (in which the input MARKETVOL object is given in terms of a non-parametric (DN, 25RR, 10CVX) volatility structure) for the USD/EUR currency pair to compare the implied cumu-lative distribution function and the implied probability density function for the cubic (InterpolationType = NATURALCU-BIC/TIMESTRIKE) and linear (InterpolationType = LINEAR) interpolations at maturities 6M, 1Y, 2Y, 5Y and 10Y.</p></li>
<li><p>Scenario 2: in the second example, we construct a MARKETVOL object given in terms of a non-parametric (DN, 10P, 10C, 25C, 25P) volatility structure and compare the implied CDF and the implied PDF for the cubic (Interpolation-Type = NATURALCUBIC/TIMESTRIKE), linear (InterpolationType = LINEAR) and DeBoor-Cox 8-Spline (Interpolation-Type=COX8SPLINE) interpolations at maturities 6M, 1Y, 2Y, 5Y and 10Y.</p></li>
</ol>
<p>First scenario shows that, when comparing the cubic interpolation (InterpolationType=NATURALCUBIC/TIMESTRIKE) with other interpolation types, the cubic interpolation turned out to be the only interpolation not violating the no-arbitrage conditions (44) and (45). The second scenario gives an example when even the cubic interpolation violates no-arbitrage. Another example when the cubic interpolation breaks the no-arbitrage condition can be obtained by using the volatility surface given in Table 12 where the points are the same across all maturities:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Delta</p></th>
<th class="head"><p>10P</p></th>
<th class="head"><p>25P</p></th>
<th class="head"><p>ATM</p></th>
<th class="head"><p>25C</p></th>
<th class="head"><p>10C</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Volatility</p></td>
<td><p>7.0%</p></td>
<td><p>6.5%</p></td>
<td><p>5.0%</p></td>
<td><p>6.5%</p></td>
<td><p>7.0%</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 12: Manually constructed volatility surface for natural cubic arbitrage.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Dates</p></th>
<th class="head"><p>DN</p></th>
<th class="head"><p>25RR</p></th>
<th class="head"><p>10CVX</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>3m</p></td>
<td><p>0.0689003284</p></td>
<td><p>-0.0064302325</p></td>
<td><p>0.0125060373</p></td>
</tr>
<tr class="row-odd"><td><p>6m</p></td>
<td><p>0.0697918853</p></td>
<td><p>-0.0077137365</p></td>
<td><p>0.0150328999</p></td>
</tr>
<tr class="row-even"><td><p>1y</p></td>
<td><p>0.0728804591</p></td>
<td><p>-0.0083114852</p></td>
<td><p>0.0160779654</p></td>
</tr>
<tr class="row-odd"><td><p>2y</p></td>
<td><p>0.0772652906</p></td>
<td><p>-0.0084473448</p></td>
<td><p>0.0156570931</p></td>
</tr>
<tr class="row-even"><td><p>3y</p></td>
<td><p>0.0828380069</p></td>
<td><p>-0.0071184892</p></td>
<td><p>0.0182936132</p></td>
</tr>
<tr class="row-odd"><td><p>5y</p></td>
<td><p>0.0879513342</p></td>
<td><p>-0.0053381963</p></td>
<td><p>0.0193449498</p></td>
</tr>
<tr class="row-even"><td><p>7y</p></td>
<td><p>0.0911962957</p></td>
<td><p>-0.0035569087</p></td>
<td><p>0.0188242364</p></td>
</tr>
<tr class="row-odd"><td><p>10y</p></td>
<td><p>0.093840698</p></td>
<td><p>-0.0020132068</p></td>
<td><p>0.0191666544</p></td>
</tr>
<tr class="row-even"><td><p>15y</p></td>
<td><p>0.101840698</p></td>
<td><p>-0.0021632068</p></td>
<td><p>0.0141666544</p></td>
</tr>
<tr class="row-odd"><td><p>20y</p></td>
<td><p>0.112340698</p></td>
<td><p>-0.0019632068</p></td>
<td><p>0.0124866545</p></td>
</tr>
<tr class="row-even"><td><p>30y</p></td>
<td><p>0.122140698</p></td>
<td><p>-0.0022632068</p></td>
<td><p>0.0121866544</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 13: MARKETVOL object used in Scenario 1.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Dates</p></th>
<th class="head"><p>DN</p></th>
<th class="head"><p>10P</p></th>
<th class="head"><p>10C</p></th>
<th class="head"><p>25P</p></th>
<th class="head"><p>25C</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>3m</p></td>
<td><p>0.0883096047</p></td>
<td><p>0.1110618522</p></td>
<td><p>0.0953715228</p></td>
<td><p>0.1210618522</p></td>
<td><p>0.0843715228</p></td>
</tr>
<tr class="row-odd"><td><p>6m</p></td>
<td><p>0.0911626246</p></td>
<td><p>0.1185853705</p></td>
<td><p>0.0987354065</p></td>
<td><p>0.1285853705</p></td>
<td><p>0.0887354065</p></td>
</tr>
<tr class="row-even"><td><p>1y</p></td>
<td><p>0.09522603</p></td>
<td><p>0.1282765475</p></td>
<td><p>0.0936641127</p></td>
<td><p>0.1392765475</p></td>
<td><p>0.0926641127</p></td>
</tr>
<tr class="row-odd"><td><p>2y</p></td>
<td><p>0.0966125968</p></td>
<td><p>0.1307895052</p></td>
<td><p>0.0970046899</p></td>
<td><p>0.1407895052</p></td>
<td><p>0.0940046899</p></td>
</tr>
<tr class="row-even"><td><p>3y</p></td>
<td><p>0.09734198</p></td>
<td><p>0.1335605559</p></td>
<td><p>0.1024637335</p></td>
<td><p>0.1435605559</p></td>
<td><p>0.1004637335</p></td>
</tr>
<tr class="row-odd"><td><p>5y</p></td>
<td><p>0.1000984274</p></td>
<td><p>0.1383229821</p></td>
<td><p>0.1096047476</p></td>
<td><p>0.1483229821</p></td>
<td><p>0.1096047476</p></td>
</tr>
<tr class="row-even"><td><p>7y</p></td>
<td><p>0.1046367286</p></td>
<td><p>0.1443909159</p></td>
<td><p>0.1157611304</p></td>
<td><p>0.1543909159</p></td>
<td><p>0.1107611304</p></td>
</tr>
<tr class="row-odd"><td><p>10y</p></td>
<td><p>0.1143104379</p></td>
<td><p>0.1567494214</p></td>
<td><p>0.125952353</p></td>
<td><p>0.1667494214</p></td>
<td><p>0.120952353</p></td>
</tr>
<tr class="row-even"><td><p>15y</p></td>
<td><p>0.123104666</p></td>
<td><p>0.1635897403</p></td>
<td><p>0.1225483902</p></td>
<td><p>0.1735897403</p></td>
<td><p>0.1205483902</p></td>
</tr>
<tr class="row-odd"><td><p>20y</p></td>
<td><p>0.1227773287</p></td>
<td><p>0.1623142571</p></td>
<td><p>0.1215904577</p></td>
<td><p>0.1723142571</p></td>
<td><p>0.1205604577</p></td>
</tr>
<tr class="row-even"><td><p>30y</p></td>
<td><p>0.1225653863</p></td>
<td><p>0.1608036952</p></td>
<td><p>0.1212340342</p></td>
<td><p>0.1708036952</p></td>
<td><p>0.1202340342</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 14: MARKETVOL object used in Scenario 2.</p>
<p><img alt="Figure 9: Linear interpolation PDF and CDF" src="market/DBSMC/Fig/9.png" /></p>
<p>Figure 9: (LINEAR).
LEFT: The pdf is not always positive, therefore no-arbitrage condition (45) is not satisfied.
RIGHT: The cdf lies between 0 and 1 and is decreasing, therefore no-arbitrage condition (44) is satisfied.</p>
<p><img alt="Figure 10: TIMESTRIKE interpolation" src="market/DBSMC/Fig/10.png" /></p>
<p>Figure 10: (TIMESTRIKE).
LEFT: The pdf is positive, therefore no-arbitrage condition (45) is satisfied.
RIGHT: The cdf lies between 0 and 1 and is decreasing, therefore no-arbitrage condition (44) is satisfied.</p>
<p><img alt="Figure 11: NATURALCUBIC interpolation" src="market/DBSMC/Fig/11.png" /></p>
<p>Figure 11: (NATURALCUBIC).
LEFT: The pdf is positive, therefore no-arbitrage condition (45) is passed.
RIGHT: The cdf lies between 0 and 1 and is non-decreasing, therefore no-arbitrage condition (44) is satisfied.</p>
<p>Arbitrage tests for different strike interpolation methods performed using the MARKETVOL object of Scenario 1. The graphs show the interpolated implied cdf (left) and interpolated implied pdf (right) of the spot at different strikes and maturities. The bump size for approximating the first derivative was 0.000001. Note that if ArbitrageChecker=YES, the above butterfly arbitrage will be flagged by the pricer.</p>
<p><img alt="Figure 12: Arbitrage tests for different strike interpolation methods" src="market/DBSMC/Fig/12.png" /></p>
<p>Figure 12: Arbitrage tests for different strike interpolation methods performed using the MARKETVOL object of Scenario 2. The graphs show the interpolated implied cdf (left) and interpolated implied pdf (right) of the spot at different strikes and maturities.
First Row: Linear Interpolation. The implied cdf (left figure) is not always non-decreasing, violating the no-arbitrage condition (45). The implied pdf (right figure) is negative, therefore the arbitrage condition (45) fails.
Second Row: COX8SPLINE Interpolation. The implied cdf (left figure) is not always non decreasing, violating the no-arbitrage condition (45). The implied pdf (right figure) is negative, therefore the no-arbitrage condition (45) fails.
Third Row: TimeStrike Interpolation. The implied cdf (left figure) is not always non-decreasing, violating the no-arbitrage condition (45). The implied pdf (right figure) is negative, therefore the arbitrage condition (45) fails.
Note that if ArbitrageChecker=YES the above butterfly arbitrages will be flagged by the pricer.</p>
<p><img alt="Figure 13: Arbitrage tests for different strike interpolation methods performed using the MARKETVOL object of Scenario 2. The graphs show the interpolated implied cdf (left) and interpolated implied pdf (right) of the spot at different strikes and maturities. The valuation date is 20-Apr-2020 and the currency pair is USD/EUR. Natural Cubic Interpolation: the implied cdf (left figure) is not always non-decreasing, violating the no-arbitrage condition (45); the implied pdf (right figure) is negative, therefore the arbitrage condition (45) fails. Note that if ArbitrageChecker=YES, the above butterfly arbitrage will be flagged by the pricer." src="market/DBSMC/Fig/1.png" /></p>
</section>
</section>
<section id="order-of-time-and-strike-interpolation">
<h3><span class="section-number">1.3.1.4.3. </span>4.2.3 Order of time and strike interpolation<a class="headerlink" href="#order-of-time-and-strike-interpolation" title="Link to this heading">#</a></h3>
<p>The only difference between the interpolation types TIMESTRIKE and NATURALCUBIC is that in the former setting, the 2-dimensional interpolation is done in time dimension first and then in strike dimension; but in the latter the order is reversed. Both methods use cubic interpolation in the strike dimension. We test the price of a call option for both interpolation types for maturities 6M, 1Y, 3Y, 5Y and 10Y and for strikes ranging from 40% of the original strike value of 1.2208 to 150% of the original strike value. The test results show that we obtain identical prices for TIMESTRIKE and NATURALCUBIC interpolation methods, see Table 15. Therefore, we approve both of these methods.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Mat</p></th>
<th class="head"><p>Strike</p></th>
<th class="head"><p>Price (TIMESTRIKE)</p></th>
<th class="head"><p>Price (NATURALCUBIC)</p></th>
<th class="head"><p>Difference</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>6M</p></td>
<td><p>0.37</p></td>
<td><p>0.730065</p></td>
<td><p>0.730065</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>6M</p></td>
<td><p>0.49</p></td>
<td><p>0.608005</p></td>
<td><p>0.608005</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>6M</p></td>
<td><p>0.61</p></td>
<td><p>0.485944</p></td>
<td><p>0.485944</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>6M</p></td>
<td><p>0.73</p></td>
<td><p>0.363884</p></td>
<td><p>0.363884</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>6M</p></td>
<td><p>0.85</p></td>
<td><p>0.241823</p></td>
<td><p>0.241823</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>6M</p></td>
<td><p>0.98</p></td>
<td><p>0.119941</p></td>
<td><p>0.119941</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>6M</p></td>
<td><p>1.1</p></td>
<td><p>0.018012</p></td>
<td><p>0.018012</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>6M</p></td>
<td><p>1.22</p></td>
<td><p>0.000142</p></td>
<td><p>0.000142</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>6M</p></td>
<td><p>1.34</p></td>
<td><p>0.0</p></td>
<td><p>0.0</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>6M</p></td>
<td><p>1.47</p></td>
<td><p>0.0</p></td>
<td><p>0.0</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>6M</p></td>
<td><p>1.59</p></td>
<td><p>0.0</p></td>
<td><p>0.0</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>6M</p></td>
<td><p>1.71</p></td>
<td><p>0.0</p></td>
<td><p>0.0</p></td>
<td><p>0.0</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 15: The table shows a subset of the tests of interpolation types TIMESTRIKE and NATURALCUBIC. Cubic interpolation is done in the strike dimension for both methods, but in the case of TIMESTRIKE, the interpolation in strike dimension comes before the interpolation in the time dimension while it is reversed for NATURALCUBIC. We see that both methods give equal price outputs. The spot FX rate is 1.0942 USD/EUR and the original strike of the dictionary is 1.2208. The considered strikes range from 40% of the original strike to 150% of the original strike. The valuation date is 20-Apr-2020.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Mat</p></th>
<th class="head"><p>Strike</p></th>
<th class="head"><p>Price (TIMESTRIKE)</p></th>
<th class="head"><p>Price (NATURALCUBIC)</p></th>
<th class="head"><p>Difference</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1Y</p></td>
<td><p>0.37</p></td>
<td><p>0.732323</p></td>
<td><p>0.732323</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>1Y</p></td>
<td><p>0.49</p></td>
<td><p>0.610273</p></td>
<td><p>0.610273</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>1Y</p></td>
<td><p>0.61</p></td>
<td><p>0.488223</p></td>
<td><p>0.488223</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>1Y</p></td>
<td><p>0.73</p></td>
<td><p>0.366173</p></td>
<td><p>0.366173</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>1Y</p></td>
<td><p>0.85</p></td>
<td><p>0.244131</p></td>
<td><p>0.244131</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>1Y</p></td>
<td><p>0.98</p></td>
<td><p>0.124648</p></td>
<td><p>0.124648</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>1Y</p></td>
<td><p>1.1</p></td>
<td><p>0.028556</p></td>
<td><p>0.028556</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>1Y</p></td>
<td><p>1.22</p></td>
<td><p>0.001487</p></td>
<td><p>0.001487</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>1Y</p></td>
<td><p>1.34</p></td>
<td><p>2.9e-05</p></td>
<td><p>2.9e-05</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>1Y</p></td>
<td><p>1.47</p></td>
<td><p>0.0</p></td>
<td><p>0.0</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>1Y</p></td>
<td><p>1.59</p></td>
<td><p>0.0</p></td>
<td><p>0.0</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>1Y</p></td>
<td><p>1.71</p></td>
<td><p>0.0</p></td>
<td><p>0.0</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>3Y</p></td>
<td><p>0.37</p></td>
<td><p>0.737502</p></td>
<td><p>0.737502</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>3Y</p></td>
<td><p>0.49</p></td>
<td><p>0.615486</p></td>
<td><p>0.615486</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>3Y</p></td>
<td><p>0.61</p></td>
<td><p>0.493471</p></td>
<td><p>0.493471</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>3Y</p></td>
<td><p>0.73</p></td>
<td><p>0.37146</p></td>
<td><p>0.37146</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>3Y</p></td>
<td><p>0.85</p></td>
<td><p>0.249945</p></td>
<td><p>0.249945</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>3Y</p></td>
<td><p>0.98</p></td>
<td><p>0.141892</p></td>
<td><p>0.141892</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>3Y</p></td>
<td><p>1.1</p></td>
<td><p>0.045945</p></td>
<td><p>0.045945</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>3Y</p></td>
<td><p>1.22</p></td>
<td><p>0.007786</p></td>
<td><p>0.007786</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>3Y</p></td>
<td><p>1.34</p></td>
<td><p>0.000732</p></td>
<td><p>0.000732</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>3Y</p></td>
<td><p>1.47</p></td>
<td><p>3.9e-05</p></td>
<td><p>3.9e-05</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>3Y</p></td>
<td><p>1.59</p></td>
<td><p>1e-06</p></td>
<td><p>1e-06</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>3Y</p></td>
<td><p>1.71</p></td>
<td><p>0.0</p></td>
<td><p>0.0</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>5Y</p></td>
<td><p>0.37</p></td>
<td><p>0.749753</p></td>
<td><p>0.749753</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>5Y</p></td>
<td><p>0.49</p></td>
<td><p>0.627916</p></td>
<td><p>0.627916</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>5Y</p></td>
<td><p>0.61</p></td>
<td><p>0.506888</p></td>
<td><p>0.506888</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>5Y</p></td>
<td><p>0.73</p></td>
<td><p>0.384336</p></td>
<td><p>0.384336</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>5Y</p></td>
<td><p>0.85</p></td>
<td><p>0.26763</p></td>
<td><p>0.26763</p></td>
<td><p>0.0</p></td>
</tr>
</tbody>
</table>
</div>
<p>derivative of the volatility with respect to delta according to:</p>
<div class="math-wrapper docutils container" id="equation-80">
<div class="math notranslate nohighlight" id="equation-80">
<span class="eqno">(10)<a class="headerlink" href="#equation-80" title="Link to this equation">#</a></span>\[\frac{\partial^2 C}{\partial K^2} = \frac{\partial^2 \sigma}{\partial K^2} \cdot \frac{\partial C}{\partial \sigma} + \left(\frac{\partial \sigma}{\partial K}\right)^2 \cdot \frac{\partial^2 C}{\partial \sigma^2} + \frac{\partial \Delta}{\partial K} \cdot \frac{\partial^2 C}{\partial K \partial \Delta} + \left(\frac{\partial \Delta}{\partial K}\right)^2 \cdot \frac{\partial^2 C}{\partial \Delta^2}\]</div>
</div>
<p>The non-smoothness of <span class="math notranslate nohighlight">\(\frac{\partial^2 \sigma}{\partial K^2}\)</span> results in non-smoothness of <span class="math notranslate nohighlight">\(\frac{\partial^2 C}{\partial K^2}\)</span>.</p>
<p><img alt="Figure 14: Left Column: Implied cdf of the spot rate for different strikes and maturities using logstrike, strike and delta in the strike dimension (InterpolationSpace = LOGSTRIKE, STRIKE, DELTA respectively). The cdf lies between 0 and 1, so the test for no-arbitrage condition (44). Right Column: Implied pdf of the spot rate for different strikes and maturities, using interpolation on logstrike, strike and delta in strike dimension (InterpolationSpace = LOGSTRIKE, STRIKE, DELTA respectively). There is very little difference between interpolation in logstrikes (InterpolationSpace = LOGSTRIKE) and strikes (InterpolationSpace = STRIKE), but some difference for interpolation in delta (InterpolationSpace = DELTA) which does not affect the no-arbitrage condition (45). The valuation date is 20-Apr-2020 and the currency pair is USD/EUR." src="market/DBSMC/Fig/3.png" /></p>
<p><img alt="Figure 15: Left Column: Implied cdf of the spot rate for different strikes and maturities using logstrike, strike and delta in the strike dimension (InterpolationSpace = LOGSTRIKE, STRIKE, DELTA respectively). The cdf lies between 0 and 1, so the test for no-arbitrage condition (44). Right Column: Implied pdf of the spot rate for different strikes and maturities, using interpolation on logstrike, strike and delta in strike dimension (InterpolationSpace = LOGSTRIKE, STRIKE, DELTA respectively). There is very little difference between interpolation in logstrikes (InterpolationSpace = LOGSTRIKE) and strikes (InterpolationSpace = STRIKE), but some difference for interpolation in delta (InterpolationSpace = DELTA) which does not affect the no-arbitrage condition (45). The valuation date is 20-Apr-2020 and the currency pair is USD/EUR." src="market/DBSMC/Fig/4.png" /></p>
<p>Although this pdf is positive and doesn’t violate the no-arbitrage condition (45) we can quantify this model weakness by calculating the expected rate of return that an investor would make if he were to invest in an optimized payoff, assuming that the true distribution is closer to the pdf of the LOGSTRIKE (or STRIKE) interpolation method [8]. Such an investor could theoretically realize an expected rate of return of 2.09% per year. We show in 16 that the implied volatility difference in the region of the cusp is mostly smaller than typical bid-ask spreads.</p>
<p><img alt="Figure 16: Left Column: Comparison of the Implied Volatility for different strikes and maturities using InterpolationSpace = LOGSTRIKE, STRIKE and DELTA respectively. Right Column: Comparison of the Call price for different strikes and maturities using InterpolationSpace = LOGSTRIKE, STRIKE and DELTA respectively." src="market/DBSMC/Fig/5.png" /></p>
<p>Based on the above observations only InterpolationSpace = LOGSTRIKE and InterpolationSpace = STRIKE are approved, see</p>
</section>
<section id="effect-of-volatility-day-weights">
<h3><span class="section-number">1.3.1.4.4. </span>4.3 Effect of volatility day weights<a class="headerlink" href="#effect-of-volatility-day-weights" title="Link to this heading">#</a></h3>
<p>In this subsection we investigate the effect of volatility dayweights.</p>
<p>Volatility dayweights are used to adjust the forward volatility between two arbitrary days, for example, to account for the natural reduction of volatility over weekends or the amplification of volatility before central bank decisions etc[11].</p>
<p>Our aim is to:</p>
<p>A. Explain the volatility dayweight calculations;
B. Verify that the dayweights do not allow negative forward variance;
C. Compare forward variances with and without volatility dayweights.</p>
<p>The results illustrate, that it is possible when using dayweights, negative forward variance to inadvertently occur even when the constant forward volatility interpolation method is used. However, DBAnalytics will produce a warning message in this instance. Moreover, our Dayweight comparison did not reveal any negative forward variance.</p>
<section id="volatility-dayweight-calculations">
<h4><span class="section-number">1.3.1.4.4.1. </span>4.3.1 Volatility dayweight calculations<a class="headerlink" href="#volatility-dayweight-calculations" title="Link to this heading">#</a></h4>
<p>Consider implied volatilities in the vols subtable of the MarketVol object with maturities T₁, T₂,···, T_M, and strikes, K₁, K₂,···, K_N and assume that flat forward volatility (VolMode=CONSTANT_LW) is used to interpolate in the time-direction at constant strike.</p>
<p>In what follows, without loss of generality, we describe the calculation of the volatility dayweights during the period [T_i, T_{i+1}].</p>
<p>Without dayweights, the forward volatility at a given strike, σ(T_i, T_{i+1}), is constant during [T_i, T_{i+1}]. Dayweights can be used to vary the daily forward volatilities during this time interval by either specifying them directly by inputing weights into the DayWeights subtable or indirectly by inputing volatilities in the VolsForDayWeights subtable at times t₀ = T_i &lt; t₁ &lt; ··· &lt; t_m = T_{i+1} where t_i are the daycount-adjusted days during the period.</p>
<p>We define dayweight factors during the period [T_i, T_{i+1}], as any set of non-negative numbers, w₀, w₁,···w_m that satisfy the constraint:</p>
<div class="math-wrapper docutils container" id="equation-81">
<div class="math notranslate nohighlight" id="equation-81">
<span class="eqno">(11)<a class="headerlink" href="#equation-81" title="Link to this equation">#</a></span>\[\sum_{k=0}^{m} w_k(t_{k+1} - t_k) = T_{i+1} - T_i.\]</div>
</div>
<p>Let σ^fwd_{k} be the adjusted daily forward volatility from the kth day until the k+1 day. When dayweights are given, we can take σ^fwd_{k} to be re-weightings of the constant forward variance:</p>
<div class="math-wrapper docutils container" id="equation-82">
<div class="math notranslate nohighlight" id="equation-82">
<span class="eqno">(12)<a class="headerlink" href="#equation-82" title="Link to this equation">#</a></span>\[σ^2_{fwd,k} = w_k σ(T_i, T_{i+1})^2.\]</div>
</div>
<p>Then the sum of forward variances relation:</p>
<div class="math-wrapper docutils container" id="equation-83">
<div class="math notranslate nohighlight" id="equation-83">
<span class="eqno">(13)<a class="headerlink" href="#equation-83" title="Link to this equation">#</a></span>\[\sum_{k=0}^{m} σ^2_{fwd,k}(t_{k+1} - t_k) = σ(T_i, T_{i+1})^2(T_{i+1} - T_i),\]</div>
</div>
<p>will be automatically satisfied. Choosing the weights in this way thereby ensures that the benchmark implied volatilities in the vols subtable are not modified by the dayweights. Note that weightings which do not satisfy Equation 81 can be given in the DayWeights table, but in such case they will be rescaled internally.</p>
<p>[11] A detailed discussion about volatility dayweights can be found in section 4.3 in [4], pp. 70-73.</p>
<p>As already mentioned, the weightings, w_k, can also be given indirectly. In this case, implied volatilities for ATM options are given at times, t₀, t₁,···, t_m, in the VolsForDayWeights subtable. The dayweights are then obtained internally by calculating the forward variances, σ²_{fwd,k}, inverting Equation 82 and rescaling if necessary[12].</p>
<p>In the internal calculation of the weightings, σ(T_i, T_{i+1}) in Equation 82 is equal to the ATM forward volatility, the vols in the VolsForDayWeights subtable are ATM implied volatilities. To find the reweighted daily forward volatilities at other strikes, Equation 82 is again used with the same dayweight factors but now with a different forward variance, σ(T_i, T_{i+1}), calculated at the specified strike.</p>
</section>
<section id="test-for-negative-forward-variance">
<h4><span class="section-number">1.3.1.4.4.2. </span>4.3.2 Test for negative forward variance<a class="headerlink" href="#test-for-negative-forward-variance" title="Link to this heading">#</a></h4>
<p>As discussed in the previous subsection a VolsForDayWeights table can be used to enter the volatility day weights in the MarketVol object. In this case, implied volatilities are entered into the table, and the weights are calculated internally. Because implied volatilities are entered (rather than for example the forward variances), it is possible when using dayweights for negative forward variance to inadvertently occur even when the constant forward volatility interpolation method is used. Fortunately, DBAnalytics will produce a warning message in this instance. In what follows we validate that the warning system is working as expected, and returns warnings when forward variance occurs.</p>
<p>We consider actual market data containing implied volatilities with strikes at 10P, 25P, ATM, 10C, 25C and for maturities 1B, 1W, 2W, 1M, 2M, 3M, 6M, 9M, 1Y, 2Y, 3Y, 5Y, 7Y and 10Y. Furthermore, we use a VolsForDayWeights subtable to input dayweight volatility fluctuation information for each day in the first year. The valuation date is 3-May-2013 and the currency pair is USD/EUR.</p>
<p>The ATM forward variance was tested for any negativity. We modified the volatility on the 13/06/2013, which has the effect of modifying the dayweights. The volatility given in the weights table for the day prior to the test date, 12/06/2013, is 7.3139%, and for the day after test date, 14/06/2013, is 7.886.07%.</p>
<p>To have nonnegative variance, the inequality σ²t₂ ≥ σ²t₁ has to hold for t₂ ≥ t₁. If the volatilities in the weights table were actual implied volatilities the volatility on 13/06/2013 would be constrained by 7.717% below and 7.0821% above. The volatility input for the 13/06/2013 was tested for values from 7.71% to 7.99% in 0.001% increments. The results are shown in Table 17.</p>
<p>For volatilities 7.717% and below, the creation of the market volatility data container (MARKETVOL object) failed, and DBAnalytics output an error message that the variance (i.e., σ_i(t_i)) is not increasing from 12/06/2013 to 13/06/2013, implying a negative forward variance in that interval. For volatilities 7.983% and above, DBAnalytics output the error that the variance is not increasing from 13/06/2013 to 14/06/2013, implying a negative forward variance in that interval.</p>
<p>[12] Note rescaling will not be required so long as the implied volatility in the VolsForDayWeights subtable at the benchmark maturity (indicated by leftarrow=1) is equal to the implied volatility in the vols subtable at this time.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Vol for day weights on 13/06/2013</p></th>
<th class="head"><p>Implied Volatility on 12/06/2013</p></th>
<th class="head"><p>Implied Volatility on 13/06/2013</p></th>
<th class="head"><p>Implied Volatility on 14/06/2013</p></th>
<th class="head"><p>Forward Variance 12/06/2013-13/06/2013</p></th>
<th class="head"><p>Forward Variance 13/06/2013-14/06/2014</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>7.717%</p></td>
<td><p>error</p></td>
<td><p>error</p></td>
<td><p>error</p></td>
<td><p>error</p></td>
<td><p>error</p></td>
</tr>
<tr class="row-odd"><td><p>7.718%</p></td>
<td><p>7.813%</p></td>
<td><p>7.718%</p></td>
<td><p>7.886%</p></td>
<td><p>0.000002</p></td>
<td><p>0.016598</p></td>
</tr>
<tr class="row-even"><td><p>7.719%</p></td>
<td><p>7.813%</p></td>
<td><p>7.719%</p></td>
<td><p>7.886%</p></td>
<td><p>0.000094</p></td>
<td><p>0.016605</p></td>
</tr>
<tr class="row-odd"><td><p>7.720%</p></td>
<td><p>7.813%</p></td>
<td><p>7.720%</p></td>
<td><p>7.886%</p></td>
<td><p>0.000157</p></td>
<td><p>0.016872</p></td>
</tr>
<tr class="row-even"><td><p>7.750%</p></td>
<td><p>7.813%</p></td>
<td><p>7.750%</p></td>
<td><p>7.886%</p></td>
<td><p>0.003060</p></td>
<td><p>0.014968</p></td>
</tr>
<tr class="row-odd"><td><p>7.800%</p></td>
<td><p>7.813%</p></td>
<td><p>7.800%</p></td>
<td><p>7.886%</p></td>
<td><p>0.005248</p></td>
<td><p>0.011781</p></td>
</tr>
<tr class="row-even"><td><p>7.850%</p></td>
<td><p>7.813%</p></td>
<td><p>7.850%</p></td>
<td><p>7.886%</p></td>
<td><p>0.008446</p></td>
<td><p>0.008573</p></td>
</tr>
<tr class="row-odd"><td><p>7.900%</p></td>
<td><p>7.813%</p></td>
<td><p>7.900%</p></td>
<td><p>7.886%</p></td>
<td><p>0.011685</p></td>
<td><p>0.005344</p></td>
</tr>
<tr class="row-even"><td><p>7.950%</p></td>
<td><p>7.813%</p></td>
<td><p>7.950%</p></td>
<td><p>7.886%</p></td>
<td><p>0.014934</p></td>
<td><p>0.002094</p></td>
</tr>
<tr class="row-odd"><td><p>7.980%</p></td>
<td><p>7.813%</p></td>
<td><p>7.980%</p></td>
<td><p>7.886%</p></td>
<td><p>0.016894</p></td>
<td><p>0.000135</p></td>
</tr>
<tr class="row-even"><td><p>7.981%</p></td>
<td><p>7.813%</p></td>
<td><p>7.981%</p></td>
<td><p>7.886%</p></td>
<td><p>0.016959</p></td>
<td><p>0.000087</p></td>
</tr>
<tr class="row-odd"><td><p>7.982%</p></td>
<td><p>7.813%</p></td>
<td><p>7.982%</p></td>
<td><p>7.886%</p></td>
<td><p>0.017024</p></td>
<td><p>0.000038</p></td>
</tr>
<tr class="row-even"><td><p>7.983%</p></td>
<td><p>error</p></td>
<td><p>error</p></td>
<td><p>error</p></td>
<td><p>error</p></td>
<td><p>error</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 17: The table shows a subset of the results. Each row shows a different scenario, in which the volatility on the 13/06/2013 is changed in the VolsForDayWeights table to the value shown in the first column. The next two columns show the implied volatilities that result from this modification one day prior to and one day after this date respectively. The final two columns show the daily forward variances over the two day period. As expected, an error occurs when the volatility is chosen too high or too low, implying a negative forward variance. The valuation date is 03-May-2013 and the currency pair is USD/EUR.</p>
</section>
<section id="dayweight-comparison">
<h4><span class="section-number">1.3.1.4.4.3. </span>4.3.3 Dayweight comparison<a class="headerlink" href="#dayweight-comparison" title="Link to this heading">#</a></h4>
<p>We also investigated the effect of switching on/off the dayweights. The results are shown in Figure 17. Since the dayweights are only provided for up to 1 year the forward variances match for maturities greater than 1 year. Without dayweights, the graph is constant (because we use flat forward volatility interpolation), but with dayweights, the graph is piecewise constant only for maturities greater than 1 year.</p>
<p><img alt="Figure 17: The graphs display the forward variances for ATM (delta-neutral) strikes in the interval [i weeks, i + 1 weeks], with and without dayweights (which are given for up to 1 year). The valuation date is 03-May-2013 and the currency pair is USD/EUR. (Inset) Expanded plot of the ATM forward variances during the first year." src="market/DBSMC/Fig/8.png" /></p>
</section>
</section>
</section>
<section id="piv-autofit-testing">
<h2><span class="section-number">1.3.1.5. </span>4.4 PIV AutoFit Testing<a class="headerlink" href="#piv-autofit-testing" title="Link to this heading">#</a></h2>
<p>We test the auto-fitting procedure’s ability to fit an SA4 PIV volatility to a MARKETVOL object of InputType=DELTAVOL. The volatility object used as the input and basis for calibration is defined at each time slice by three conditions / market instruments, with values C₁, C₂ and C₃. Recall that, in the nCi convention, an nC option has a delta of n/100. Further note that in this convention the delta of a put is taken to be positive (i.e. set to the negative value of the classical put delta). Bearing this in mind, the conditions are:</p>
<ol class="arabic">
<li><p>A delta-neutral condition, DN = C₁, where this means that:</p>
<p>ImpliedVol(C(K*)) = C₁,</p>
<p>where K* is such that Delta(C(K*)) = Delta(P(K*)).</p>
</li>
<li><p>A risk reversal condition, 25RR = C₂, where this means that:</p>
<p>ImpliedVol(25C) - ImpliedVol(25P) = C₂.</p>
</li>
<li><p>A convexity condition, 10CVX = DN = C₃, where this means that:</p>
<p><span class="math notranslate nohighlight">\(\frac{ImpliedVol(10C) + ImpliedVol(10P)}{2} - C₁ = C₃,\)</span></p>
<p>where C₁ is the delta-neutral implied volatility as described above.</p>
</li>
</ol>
<p>Note that the risk-reversal condition is roughly akin to a skewness condition and the convexity condition roughly describes the convexity of the surface. The SA4 parametric form depends on 4 parameters: Vol, Skew, Smile and Power. However, a restriction is placed on the SA4-PIV, that Power = 1 for all time slices, so only three parameters need to be fitted at each time period : Vol, Skew and Smile. The testing further checks if negative PDFs are observed and thus Butterfly arbitrage exists. The test results show that the no-arbitrage condition is satisfied in all considered cases.</p>
<section id="eod-implied-volatility-surface">
<h3><span class="section-number">1.3.1.5.1. </span>4.4.1 EOD Implied Volatility Surface<a class="headerlink" href="#eod-implied-volatility-surface" title="Link to this heading">#</a></h3>
<p>We first test the ability to fit a PIV to standard (EOD) market data.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Maturity</p></th>
<th class="head"><p>Condition</p></th>
<th class="head"><p>Target Value</p></th>
<th class="head"><p>Fitted Value</p></th>
<th class="head"><p>Error</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>20220310</p></td>
<td><p>DN</p></td>
<td><p>0.062925</p></td>
<td><p>0.062925</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20220310</p></td>
<td><p>25RR</p></td>
<td><p>-0.002112</p></td>
<td><p>-0.002112</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-even"><td><p>20220310</p></td>
<td><p>10CVX-DN</p></td>
<td><p>0.006086</p></td>
<td><p>0.006086</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20220609</p></td>
<td><p>DN</p></td>
<td><p>0.0637</p></td>
<td><p>0.0637</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20220609</p></td>
<td><p>25RR</p></td>
<td><p>-0.0052</p></td>
<td><p>-0.0052</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20220609</p></td>
<td><p>10CVX-DN</p></td>
<td><p>0.007866</p></td>
<td><p>0.007866</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-even"><td><p>20221209</p></td>
<td><p>DN</p></td>
<td><p>0.062851</p></td>
<td><p>0.062851</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20221209</p></td>
<td><p>25RR</p></td>
<td><p>-0.005249</p></td>
<td><p>-0.005249</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20221209</p></td>
<td><p>10CVX-DN</p></td>
<td><p>0.009732</p></td>
<td><p>0.009732</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20231211</p></td>
<td><p>DN</p></td>
<td><p>0.06563</p></td>
<td><p>0.06563</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20231211</p></td>
<td><p>25RR</p></td>
<td><p>-0.005664</p></td>
<td><p>-0.005664</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20231211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>0.011497</p></td>
<td><p>0.011497</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20241211</p></td>
<td><p>DN</p></td>
<td><p>0.068425</p></td>
<td><p>0.068425</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20241211</p></td>
<td><p>25RR</p></td>
<td><p>-0.00231</p></td>
<td><p>-0.00231</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20241211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>0.010186</p></td>
<td><p>0.010186</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20261210</p></td>
<td><p>DN</p></td>
<td><p>0.073925</p></td>
<td><p>0.073925</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20261210</p></td>
<td><p>25RR</p></td>
<td><p>-0.000965</p></td>
<td><p>-0.000965</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20261210</p></td>
<td><p>10CVX-DN</p></td>
<td><p>0.010156</p></td>
<td><p>0.010156</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-even"><td><p>20281211</p></td>
<td><p>DN</p></td>
<td><p>0.075724</p></td>
<td><p>0.075724</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20281211</p></td>
<td><p>25RR</p></td>
<td><p>-0.000444</p></td>
<td><p>-0.000444</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20281211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>0.010157</p></td>
<td><p>0.010157</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20311211</p></td>
<td><p>DN</p></td>
<td><p>0.078425</p></td>
<td><p>0.078425</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20311211</p></td>
<td><p>25RR</p></td>
<td><p>-0.000425</p></td>
<td><p>-0.000425</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20311211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>0.010084</p></td>
<td><p>0.010084</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-even"><td><p>20361211</p></td>
<td><p>DN</p></td>
<td><p>0.081425</p></td>
<td><p>0.081425</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20361211</p></td>
<td><p>25RR</p></td>
<td><p>0.000025</p></td>
<td><p>0.000025</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20361211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>0.004064</p></td>
<td><p>0.004064</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20411211</p></td>
<td><p>DN</p></td>
<td><p>0.091425</p></td>
<td><p>0.091425</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-even"><td><p>20411211</p></td>
<td><p>25RR</p></td>
<td><p>0.000025</p></td>
<td><p>0.000025</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20411211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>0.002364</p></td>
<td><p>0.002364</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20511211</p></td>
<td><p>DN</p></td>
<td><p>0.101225</p></td>
<td><p>0.101225</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20511211</p></td>
<td><p>25RR</p></td>
<td><p>0.000025</p></td>
<td><p>0.000025</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-even"><td><p>20511211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>0.002064</p></td>
<td><p>0.002064</p></td>
<td><p>0.0</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 18: Some of the conditions defining the DELTAVOL, together with the target values, the fitted values, and the error in the fitting. Observe that the errors are of extremely small magnitude, below 10^{-10} in the majority of cases.</p>
<p>The following figures display the agreement existing between the volatility surface obtained from the DELTAVOL input and the volatility surface generated by PIV fitting at different time slices:</p>
<p><img alt="Figure 18: Slices of the implied volatility surface obtained from the DELTAVOL used for calibration and from the PIV fitted to this volatility. Observe that, although the 3 conditions defining each slice are satisfied by both volatility surfaces, the different ways in which the surfaces are interpolated (parametrically in the PIV vols and using cubic splines in the DELTAVOLS) mean that the implied volatility surfaces do not agree completely. Further note that the two volatility objects deal with the tails differently, leading to larger disagreements for options far in or out of the money." src="market/DBSMC/Fig/62.png" /></p>
<p>In the following figures we examine for the existence of the butterfly arbitrage:</p>
<p><img alt="Figure 19: Checking for butterfly arbitrage. Butterfly arbitrage exists if the probability density function (PDF) for the underlying that is implied by the volatility surface has regions where it is negative. One can see that this condition is not violated in the considered slices." src="market/DBSMC/Fig/63.png" /></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Maturity</p></th>
<th class="head"><p>Condition</p></th>
<th class="head"><p>Target Value</p></th>
<th class="head"><p>Fitted Value</p></th>
<th class="head"><p>Error</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>20220310</p></td>
<td><p>DN</p></td>
<td><p>3.146e-03</p></td>
<td><p>3.146e-03</p></td>
<td><p>1.743e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20220310</p></td>
<td><p>25RR</p></td>
<td><p>-2.112e-03</p></td>
<td><p>-2.112e-03</p></td>
<td><p>1.761e-11</p></td>
</tr>
<tr class="row-even"><td><p>20220310</p></td>
<td><p>10CVX-DN</p></td>
<td><p>6.086e-03</p></td>
<td><p>6.086e-03</p></td>
<td><p>-7.431e-12</p></td>
</tr>
<tr class="row-odd"><td><p>20220609</p></td>
<td><p>DN</p></td>
<td><p>3.185e-03</p></td>
<td><p>3.263e-03</p></td>
<td><p>7.812e-05</p></td>
</tr>
<tr class="row-even"><td><p>20220609</p></td>
<td><p>25RR</p></td>
<td><p>-5.200e-03</p></td>
<td><p>-5.200e-03</p></td>
<td><p>-1.918e-05</p></td>
</tr>
<tr class="row-odd"><td><p>20220609</p></td>
<td><p>10CVX-DN</p></td>
<td><p>7.866e-03</p></td>
<td><p>7.820e-03</p></td>
<td><p>-4.540e-05</p></td>
</tr>
<tr class="row-even"><td><p>20221209</p></td>
<td><p>DN</p></td>
<td><p>3.133e-03</p></td>
<td><p>4.017e-03</p></td>
<td><p>8.844e-04</p></td>
</tr>
<tr class="row-odd"><td><p>20221209</p></td>
<td><p>25RR</p></td>
<td><p>-5.249e-03</p></td>
<td><p>-5.426e-03</p></td>
<td><p>-1.787e-04</p></td>
</tr>
<tr class="row-even"><td><p>20221209</p></td>
<td><p>10CVX-DN</p></td>
<td><p>9.732e-03</p></td>
<td><p>9.242e-03</p></td>
<td><p>-4.893e-04</p></td>
</tr>
<tr class="row-odd"><td><p>20231211</p></td>
<td><p>DN</p></td>
<td><p>3.281e-03</p></td>
<td><p>4.978e-03</p></td>
<td><p>1.697e-03</p></td>
</tr>
<tr class="row-even"><td><p>20231211</p></td>
<td><p>25RR</p></td>
<td><p>-3.864e-03</p></td>
<td><p>-4.091e-03</p></td>
<td><p>-2.068e-04</p></td>
</tr>
<tr class="row-odd"><td><p>20231211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.150e-02</p></td>
<td><p>1.062e-02</p></td>
<td><p>-8.747e-04</p></td>
</tr>
<tr class="row-even"><td><p>20241211</p></td>
<td><p>DN</p></td>
<td><p>3.421e-03</p></td>
<td><p>4.620e-03</p></td>
<td><p>1.199e-03</p></td>
</tr>
<tr class="row-odd"><td><p>20241211</p></td>
<td><p>25RR</p></td>
<td><p>-2.310e-03</p></td>
<td><p>-2.400e-03</p></td>
<td><p>-9.056e-05</p></td>
</tr>
<tr class="row-even"><td><p>20241211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.019e-02</p></td>
<td><p>9.586e-03</p></td>
<td><p>-6.002e-04</p></td>
</tr>
<tr class="row-odd"><td><p>20261210</p></td>
<td><p>DN</p></td>
<td><p>3.696e-03</p></td>
<td><p>4.725e-03</p></td>
<td><p>1.028e-03</p></td>
</tr>
<tr class="row-even"><td><p>20261210</p></td>
<td><p>25RR</p></td>
<td><p>-9.645e-04</p></td>
<td><p>-1.017e-03</p></td>
<td><p>-3.219e-05</p></td>
</tr>
<tr class="row-odd"><td><p>20261210</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.016e-02</p></td>
<td><p>9.643e-03</p></td>
<td><p>-5.074e-04</p></td>
</tr>
<tr class="row-even"><td><p>20281211</p></td>
<td><p>DN</p></td>
<td><p>3.786e-03</p></td>
<td><p>4.754e-03</p></td>
<td><p>9.675e-04</p></td>
</tr>
<tr class="row-odd"><td><p>20281211</p></td>
<td><p>25RR</p></td>
<td><p>-4.441e-04</p></td>
<td><p>-4.577e-04</p></td>
<td><p>-1.355e-05</p></td>
</tr>
<tr class="row-even"><td><p>20281211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.016e-02</p></td>
<td><p>9.681e-03</p></td>
<td><p>-4.758e-04</p></td>
</tr>
<tr class="row-odd"><td><p>20311211</p></td>
<td><p>DN</p></td>
<td><p>3.921e-03</p></td>
<td><p>4.744e-03</p></td>
<td><p>8.225e-04</p></td>
</tr>
<tr class="row-even"><td><p>20311211</p></td>
<td><p>25RR</p></td>
<td><p>-4.249e-04</p></td>
<td><p>-4.359e-04</p></td>
<td><p>-1.101e-05</p></td>
</tr>
<tr class="row-odd"><td><p>20311211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.009e-02</p></td>
<td><p>9.660e-03</p></td>
<td><p>-4.044e-04</p></td>
</tr>
<tr class="row-even"><td><p>20361211</p></td>
<td><p>DN</p></td>
<td><p>4.071e-03</p></td>
<td><p>4.071e-03</p></td>
<td><p>2.850e-15</p></td>
</tr>
<tr class="row-odd"><td><p>20361211</p></td>
<td><p>25RR</p></td>
<td><p>2.507e-05</p></td>
<td><p>2.507e-05</p></td>
<td><p>1.420e-13</p></td>
</tr>
<tr class="row-even"><td><p>20361211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>4.064e-03</p></td>
<td><p>4.064e-03</p></td>
<td><p>1.819e-14</p></td>
</tr>
<tr class="row-odd"><td><p>20411211</p></td>
<td><p>DN</p></td>
<td><p>4.571e-03</p></td>
<td><p>4.571e-03</p></td>
<td><p>3.298e-13</p></td>
</tr>
<tr class="row-even"><td><p>20411211</p></td>
<td><p>25RR</p></td>
<td><p>2.507e-05</p></td>
<td><p>2.507e-05</p></td>
<td><p>1.809e-12</p></td>
</tr>
<tr class="row-odd"><td><p>20411211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>2.364e-03</p></td>
<td><p>2.364e-03</p></td>
<td><p>-1.933e-13</p></td>
</tr>
<tr class="row-even"><td><p>20511211</p></td>
<td><p>DN</p></td>
<td><p>5.061e-03</p></td>
<td><p>5.061e-03</p></td>
<td><p>3.339e-14</p></td>
</tr>
<tr class="row-odd"><td><p>20511211</p></td>
<td><p>25RR</p></td>
<td><p>2.507e-05</p></td>
<td><p>2.507e-05</p></td>
<td><p>-3.159e-13</p></td>
</tr>
<tr class="row-even"><td><p>20511211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>2.064e-03</p></td>
<td><p>2.064e-03</p></td>
<td><p>-4.783e-15</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 20: Scenario 1: a relative shift of size -99.5% is applied to the DN term structure. Average fitting error for each maturity. Observe that the errors remain quite small in this extreme scenario.</p>
<p>The following figures display the agreement existing between the volatility surface obtained from the DELTAVOL input and the volatility surface generated by PIV fitting at different time slices:</p>
<p><img alt="Figure 20: Scenario 1: relative shift of size -99.5% is applied to the DN term structure. Slices of the implied volatility surface obtained from the DELTAVOL used for calibration and from the PIV fitted to this volatility. Observe that, although the 3 conditions defining each slice are satisfied by both volatility surfaces, the different ways in which the surfaces are interpolated (parametrically in the PIV vols and using cubic splines in the DELTAVOLS) mean that the implied volatility surfaces do not agree completely. Further note that the two volatility objects deal with the tails differently, leading to larger disagreements for options far in or out of the money." src="market/DBSMC/Fig/66.png" /></p>
<p>In the following figures we examine for the existence of the butterfly arbitrage:</p>
<p><img alt="Figure 21: Scenario 1: Relative shift of size -99.5% is applied to the DN term structure. Butterfly arbitrage exists if the probability density function for the underlying that is implied by the volatility surface has regions where it is negative. Note that in this case, due to the extreme shift which basically sets the vols contained in the DN term structure to 0, the butterfly arbitrage condition is breached at the 5Y and 7Y time point by the input DELTAVOL and consequently, by the calibrated PIV. Note the violation of the butterfly arbitrage will be flagged by the pricer due to the CFU ID 17547, ArbitrageChecker=YES." src="market/DBSMC/Fig/66.png" /></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Maturity</p></th>
<th class="head"><p>Condition</p></th>
<th class="head"><p>Target Value</p></th>
<th class="head"><p>Fitted Value</p></th>
<th class="head"><p>Error</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>20220310</p></td>
<td><p>DN</p></td>
<td><p>1.259e-02</p></td>
<td><p>1.259e-02</p></td>
<td><p>3.695e-12</p></td>
</tr>
<tr class="row-odd"><td><p>20220310</p></td>
<td><p>25RR</p></td>
<td><p>-2.112e-03</p></td>
<td><p>-2.112e-03</p></td>
<td><p>4.914e-13</p></td>
</tr>
<tr class="row-even"><td><p>20220310</p></td>
<td><p>10CVX-DN</p></td>
<td><p>6.086e-03</p></td>
<td><p>6.086e-03</p></td>
<td><p>-6.173e-12</p></td>
</tr>
<tr class="row-odd"><td><p>20220609</p></td>
<td><p>DN</p></td>
<td><p>1.274e-02</p></td>
<td><p>1.274e-02</p></td>
<td><p>1.059e-11</p></td>
</tr>
<tr class="row-even"><td><p>20220609</p></td>
<td><p>25RR</p></td>
<td><p>-5.200e-03</p></td>
<td><p>-5.200e-03</p></td>
<td><p>9.117e-13</p></td>
</tr>
<tr class="row-odd"><td><p>20220609</p></td>
<td><p>10CVX-DN</p></td>
<td><p>7.866e-03</p></td>
<td><p>7.866e-03</p></td>
<td><p>-1.552e-11</p></td>
</tr>
<tr class="row-even"><td><p>20221209</p></td>
<td><p>DN</p></td>
<td><p>1.253e-02</p></td>
<td><p>1.253e-02</p></td>
<td><p>6.615e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20221209</p></td>
<td><p>25RR</p></td>
<td><p>-5.249e-03</p></td>
<td><p>-5.249e-03</p></td>
<td><p>1.783e-11</p></td>
</tr>
<tr class="row-even"><td><p>20221209</p></td>
<td><p>10CVX-DN</p></td>
<td><p>9.732e-03</p></td>
<td><p>9.732e-03</p></td>
<td><p>-1.007e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20231211</p></td>
<td><p>DN</p></td>
<td><p>1.313e-02</p></td>
<td><p>1.313e-02</p></td>
<td><p>-3.407e-15</p></td>
</tr>
<tr class="row-even"><td><p>20231211</p></td>
<td><p>25RR</p></td>
<td><p>-3.864e-03</p></td>
<td><p>-3.864e-03</p></td>
<td><p>7.905e-14</p></td>
</tr>
<tr class="row-odd"><td><p>20231211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.150e-02</p></td>
<td><p>1.150e-02</p></td>
<td><p>-1.534e-15</p></td>
</tr>
<tr class="row-even"><td><p>20241211</p></td>
<td><p>DN</p></td>
<td><p>1.369e-02</p></td>
<td><p>1.369e-02</p></td>
<td><p>4.354e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20241211</p></td>
<td><p>25RR</p></td>
<td><p>-2.310e-03</p></td>
<td><p>-2.310e-03</p></td>
<td><p>4.236e-11</p></td>
</tr>
<tr class="row-even"><td><p>20241211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.019e-02</p></td>
<td><p>1.019e-02</p></td>
<td><p>-5.366e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20261210</p></td>
<td><p>DN</p></td>
<td><p>1.479e-02</p></td>
<td><p>1.479e-02</p></td>
<td><p>1.621e-11</p></td>
</tr>
<tr class="row-even"><td><p>20261210</p></td>
<td><p>25RR</p></td>
<td><p>-9.645e-04</p></td>
<td><p>-9.645e-04</p></td>
<td><p>2.785e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20261210</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.016e-02</p></td>
<td><p>1.016e-02</p></td>
<td><p>-1.627e-11</p></td>
</tr>
<tr class="row-even"><td><p>20281211</p></td>
<td><p>DN</p></td>
<td><p>1.514e-02</p></td>
<td><p>1.514e-02</p></td>
<td><p>1.214e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20281211</p></td>
<td><p>25RR</p></td>
<td><p>-4.441e-04</p></td>
<td><p>-4.441e-04</p></td>
<td><p>2.650e-11</p></td>
</tr>
<tr class="row-even"><td><p>20281211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.016e-02</p></td>
<td><p>1.016e-02</p></td>
<td><p>-1.082e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20311211</p></td>
<td><p>DN</p></td>
<td><p>1.569e-02</p></td>
<td><p>1.569e-02</p></td>
<td><p>2.134e-11</p></td>
</tr>
<tr class="row-even"><td><p>20311211</p></td>
<td><p>25RR</p></td>
<td><p>-4.249e-04</p></td>
<td><p>-4.249e-04</p></td>
<td><p>-1.483e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20311211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.009e-02</p></td>
<td><p>1.009e-02</p></td>
<td><p>-2.634e-11</p></td>
</tr>
<tr class="row-even"><td><p>20361211</p></td>
<td><p>DN</p></td>
<td><p>1.629e-02</p></td>
<td><p>1.629e-02</p></td>
<td><p>-5.035e-13</p></td>
</tr>
<tr class="row-odd"><td><p>20361211</p></td>
<td><p>25RR</p></td>
<td><p>2.507e-05</p></td>
<td><p>2.507e-05</p></td>
<td><p>-2.223e-11</p></td>
</tr>
<tr class="row-even"><td><p>20361211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>4.064e-03</p></td>
<td><p>4.064e-03</p></td>
<td><p>1.535e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20411211</p></td>
<td><p>DN</p></td>
<td><p>1.829e-02</p></td>
<td><p>1.829e-02</p></td>
<td><p>-5.251e-12</p></td>
</tr>
<tr class="row-even"><td><p>20411211</p></td>
<td><p>25RR</p></td>
<td><p>2.507e-05</p></td>
<td><p>2.507e-05</p></td>
<td><p>-6.064e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20411211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>2.364e-03</p></td>
<td><p>2.364e-03</p></td>
<td><p>5.259e-10</p></td>
</tr>
<tr class="row-even"><td><p>20511211</p></td>
<td><p>DN</p></td>
<td><p>2.024e-02</p></td>
<td><p>2.024e-02</p></td>
<td><p>-6.967e-15</p></td>
</tr>
<tr class="row-odd"><td><p>20511211</p></td>
<td><p>25RR</p></td>
<td><p>2.507e-05</p></td>
<td><p>2.507e-05</p></td>
<td><p>-8.185e-12</p></td>
</tr>
<tr class="row-even"><td><p>20511211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>2.064e-03</p></td>
<td><p>2.064e-03</p></td>
<td><p>-2.247e-12</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 21: Scenario 2: a relative shift of size -80% is applied to the DN term structure. Average fitting error for each maturity. Observe that the errors are very small, below 10^{-9} in the majority of cases.</p>
<p>The following figures display the agreement existing between the volatility surface obtained from the DELTAVOL input and the volatility surface generated by PIV fitting at different time slices:</p>
<p><img alt="Figure 22: Scenario 2: relative shift of size -80% is applied to the DN term structure. Slices of the implied volatility surface obtained from the DELTAVOL used for calibration and from the PIV fitted to this volatility. Observe that, although the 3 conditions defining each slice are satisfied by both volatility surfaces, the different ways in which the surfaces are interpolated (parametrically in the PIV vols and using cubic splines in the DELTAVOLS) mean that the implied volatility surfaces do not agree completely. Further note that the two volatility objects deal with the tails differently, leading to larger disagreements for options far in or out of the money." src="market/DBSMC/Fig/68.png" /></p>
<p>In the following figures we examine for the existence of the butterfly arbitrage:</p>
<p><img alt="Figure 23: Scenario 2: Relative shift of size -80% is applied to the DN term structure. Butterfly arbitrage exists if the probability density function for the underlying that is implied by the volatility surface has regions where it is negative. One can see that this condition is not violated in the considered slices - the PDFs of input DELTAVOL and calibrated PIV configurations are non-negative." src="market/DBSMC/Fig/68.png" /></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Maturity</p></th>
<th class="head"><p>Condition</p></th>
<th class="head"><p>Target Value</p></th>
<th class="head"><p>Fitted Value</p></th>
<th class="head"><p>Error</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Maturity</p></td>
<td><p>Delta</p></td>
<td><p>TargetVol</p></td>
<td><p>FittedVol</p></td>
<td><p>FitError</p></td>
</tr>
<tr class="row-odd"><td><p>20220310</p></td>
<td><p>DN</p></td>
<td><p>1.259e-01</p></td>
<td><p>1.259e-01</p></td>
<td><p>2.041e-13</p></td>
</tr>
<tr class="row-even"><td><p>20220310</p></td>
<td><p>25RR</p></td>
<td><p>-2.112e-03</p></td>
<td><p>-2.112e-03</p></td>
<td><p>1.725e-13</p></td>
</tr>
<tr class="row-odd"><td><p>20220310</p></td>
<td><p>10CVX-DN</p></td>
<td><p>6.086e-03</p></td>
<td><p>6.086e-03</p></td>
<td><p>-2.833e-12</p></td>
</tr>
<tr class="row-even"><td><p>20220609</p></td>
<td><p>DN</p></td>
<td><p>1.274e-01</p></td>
<td><p>1.274e-01</p></td>
<td><p>7.500e-13</p></td>
</tr>
<tr class="row-odd"><td><p>20220609</p></td>
<td><p>25RR</p></td>
<td><p>-5.200e-03</p></td>
<td><p>-5.200e-03</p></td>
<td><p>2.861e-13</p></td>
</tr>
<tr class="row-even"><td><p>20220609</p></td>
<td><p>10CVX-DN</p></td>
<td><p>7.866e-03</p></td>
<td><p>7.866e-03</p></td>
<td><p>-8.474e-12</p></td>
</tr>
<tr class="row-odd"><td><p>20221209</p></td>
<td><p>DN</p></td>
<td><p>1.253e-01</p></td>
<td><p>1.253e-01</p></td>
<td><p>1.994e-12</p></td>
</tr>
<tr class="row-even"><td><p>20221209</p></td>
<td><p>25RR</p></td>
<td><p>-5.249e-03</p></td>
<td><p>-5.249e-03</p></td>
<td><p>8.675e-13</p></td>
</tr>
<tr class="row-odd"><td><p>20221209</p></td>
<td><p>10CVX-DN</p></td>
<td><p>9.732e-03</p></td>
<td><p>9.732e-03</p></td>
<td><p>-1.839e-11</p></td>
</tr>
<tr class="row-even"><td><p>20231211</p></td>
<td><p>DN</p></td>
<td><p>1.313e-01</p></td>
<td><p>1.313e-01</p></td>
<td><p>-3.845e-12</p></td>
</tr>
<tr class="row-odd"><td><p>20231211</p></td>
<td><p>25RR</p></td>
<td><p>-3.864e-03</p></td>
<td><p>-3.864e-03</p></td>
<td><p>3.424e-12</p></td>
</tr>
<tr class="row-even"><td><p>20231211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.150e-02</p></td>
<td><p>1.150e-02</p></td>
<td><p>2.904e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20241211</p></td>
<td><p>DN</p></td>
<td><p>1.369e-01</p></td>
<td><p>1.369e-01</p></td>
<td><p>2.195e-12</p></td>
</tr>
<tr class="row-even"><td><p>20241211</p></td>
<td><p>25RR</p></td>
<td><p>-2.310e-03</p></td>
<td><p>-2.310e-03</p></td>
<td><p>3.886e-12</p></td>
</tr>
<tr class="row-odd"><td><p>20241211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.019e-02</p></td>
<td><p>1.019e-02</p></td>
<td><p>-1.897e-11</p></td>
</tr>
<tr class="row-even"><td><p>20261210</p></td>
<td><p>DN</p></td>
<td><p>1.479e-01</p></td>
<td><p>1.479e-01</p></td>
<td><p>2.265e-12</p></td>
</tr>
<tr class="row-odd"><td><p>20261210</p></td>
<td><p>25RR</p></td>
<td><p>-9.645e-04</p></td>
<td><p>-9.645e-04</p></td>
<td><p>6.545e-12</p></td>
</tr>
<tr class="row-even"><td><p>20261210</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.016e-02</p></td>
<td><p>1.016e-02</p></td>
<td><p>-1.939e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20281211</p></td>
<td><p>DN</p></td>
<td><p>1.514e-01</p></td>
<td><p>1.514e-01</p></td>
<td><p>2.613e-12</p></td>
</tr>
<tr class="row-even"><td><p>20281211</p></td>
<td><p>25RR</p></td>
<td><p>-4.441e-04</p></td>
<td><p>-4.441e-04</p></td>
<td><p>9.459e-12</p></td>
</tr>
<tr class="row-odd"><td><p>20281211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.016e-02</p></td>
<td><p>1.016e-02</p></td>
<td><p>-2.134e-11</p></td>
</tr>
<tr class="row-even"><td><p>20311211</p></td>
<td><p>DN</p></td>
<td><p>1.569e-01</p></td>
<td><p>1.569e-01</p></td>
<td><p>3.449e-12</p></td>
</tr>
<tr class="row-odd"><td><p>20311211</p></td>
<td><p>25RR</p></td>
<td><p>-4.249e-04</p></td>
<td><p>-4.249e-04</p></td>
<td><p>1.483e-11</p></td>
</tr>
<tr class="row-even"><td><p>20311211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.009e-02</p></td>
<td><p>1.009e-02</p></td>
<td><p>-2.634e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20361211</p></td>
<td><p>DN</p></td>
<td><p>1.629e-01</p></td>
<td><p>1.629e-01</p></td>
<td><p>-5.035e-13</p></td>
</tr>
<tr class="row-even"><td><p>20361211</p></td>
<td><p>25RR</p></td>
<td><p>2.507e-05</p></td>
<td><p>2.507e-05</p></td>
<td><p>-2.223e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20361211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>4.064e-03</p></td>
<td><p>4.064e-03</p></td>
<td><p>1.535e-11</p></td>
</tr>
<tr class="row-even"><td><p>20411211</p></td>
<td><p>DN</p></td>
<td><p>1.829e-01</p></td>
<td><p>1.829e-01</p></td>
<td><p>-5.251e-12</p></td>
</tr>
<tr class="row-odd"><td><p>20411211</p></td>
<td><p>25RR</p></td>
<td><p>2.507e-05</p></td>
<td><p>2.507e-05</p></td>
<td><p>-6.064e-10</p></td>
</tr>
<tr class="row-even"><td><p>20411211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>2.364e-03</p></td>
<td><p>2.364e-03</p></td>
<td><p>5.259e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20511211</p></td>
<td><p>DN</p></td>
<td><p>2.024e-01</p></td>
<td><p>2.024e-01</p></td>
<td><p>-6.967e-15</p></td>
</tr>
<tr class="row-even"><td><p>20511211</p></td>
<td><p>25RR</p></td>
<td><p>2.507e-05</p></td>
<td><p>2.507e-05</p></td>
<td><p>-8.185e-12</p></td>
</tr>
<tr class="row-odd"><td><p>20511211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>2.064e-03</p></td>
<td><p>2.064e-03</p></td>
<td><p>-2.247e-12</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 22: Scenario 3: a relative shift of size +100% is applied to the DN term structure. Average fitting error for each maturity. Observe that the errors are very small, below 10^{-9} in the majority of cases.</p>
<p>The following figures display the agreement existing between the volatility surface obtained from the DELTAVOL input and the volatility surface generated by PIV fitting at different time slices:</p>
<p><img alt="Figure 24: Scenario 3: relative shift of size 100% is applied to the DN term structure. Slices of the implied volatility surface obtained from the DELTAVOL used for calibration and from the PIV fitted to this volatility. Observe that, although the 3 conditions defining each slice are satisfied by both volatility surfaces, the different ways in which the surfaces are interpolated (parametrically in the PIV vols and using cubic splines in the DELTAVOLS) mean that the implied volatility surfaces do not agree completely. Further note that the two volatility objects deal with the tails differently, leading to larger disagreements for options far in or out of the money." src="market/DBSMC/Fig/70.png" /></p>
<p>In the following figures we examine for the existence of the butterfly arbitrage:</p>
<p><img alt="Figure 25: Scenario 3: Relative shift of size 100% is applied to the DN term structure. Butterfly arbitrage exists if the probability density function for the underlying that is implied by the volatility surface has regions where it is negative. One can see that this condition is not violated in the considered slices - the PDFs of input DELTAVOL and calibrated PIV configurations are non-negative." src="market/DBSMC/Fig/70.png" /></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Maturity</p></th>
<th class="head"><p>Condition</p></th>
<th class="head"><p>Target Value</p></th>
<th class="head"><p>Fitted Value</p></th>
<th class="head"><p>Error</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>20220310</p></td>
<td><p>DN</p></td>
<td><p>2.517e-01</p></td>
<td><p>2.517e-01</p></td>
<td><p>-6.370e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20220310</p></td>
<td><p>25RR</p></td>
<td><p>-2.112e-03</p></td>
<td><p>-2.112e-03</p></td>
<td><p>-7.225e-11</p></td>
</tr>
<tr class="row-even"><td><p>20220310</p></td>
<td><p>10CVX-DN</p></td>
<td><p>6.086e-03</p></td>
<td><p>6.086e-03</p></td>
<td><p>2.373e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20220609</p></td>
<td><p>DN</p></td>
<td><p>2.548e-01</p></td>
<td><p>2.548e-01</p></td>
<td><p>-3.536e-11</p></td>
</tr>
<tr class="row-even"><td><p>20220609</p></td>
<td><p>25RR</p></td>
<td><p>-5.200e-03</p></td>
<td><p>-5.200e-03</p></td>
<td><p>2.173e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20220609</p></td>
<td><p>10CVX-DN</p></td>
<td><p>7.866e-03</p></td>
<td><p>7.866e-03</p></td>
<td><p>1.065e-09</p></td>
</tr>
<tr class="row-even"><td><p>20221209</p></td>
<td><p>DN</p></td>
<td><p>2.506e-01</p></td>
<td><p>2.506e-01</p></td>
<td><p>5.414e-12</p></td>
</tr>
<tr class="row-odd"><td><p>20221209</p></td>
<td><p>25RR</p></td>
<td><p>-5.249e-03</p></td>
<td><p>-5.249e-03</p></td>
<td><p>1.621e-10</p></td>
</tr>
<tr class="row-even"><td><p>20221209</p></td>
<td><p>10CVX-DN</p></td>
<td><p>9.732e-03</p></td>
<td><p>9.732e-03</p></td>
<td><p>-2.498e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20231211</p></td>
<td><p>DN</p></td>
<td><p>2.625e-01</p></td>
<td><p>2.625e-01</p></td>
<td><p>3.197e-11</p></td>
</tr>
<tr class="row-even"><td><p>20231211</p></td>
<td><p>25RR</p></td>
<td><p>-3.864e-03</p></td>
<td><p>-3.864e-03</p></td>
<td><p>1.866e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20231211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.150e-02</p></td>
<td><p>1.150e-02</p></td>
<td><p>-5.613e-10</p></td>
</tr>
<tr class="row-even"><td><p>20241211</p></td>
<td><p>DN</p></td>
<td><p>2.737e-01</p></td>
<td><p>2.737e-01</p></td>
<td><p>2.433e-12</p></td>
</tr>
<tr class="row-odd"><td><p>20241211</p></td>
<td><p>25RR</p></td>
<td><p>-2.310e-03</p></td>
<td><p>-2.310e-03</p></td>
<td><p>3.052e-11</p></td>
</tr>
<tr class="row-even"><td><p>20241211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.019e-02</p></td>
<td><p>1.019e-02</p></td>
<td><p>-2.845e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20261210</p></td>
<td><p>DN</p></td>
<td><p>2.957e-01</p></td>
<td><p>2.957e-01</p></td>
<td><p>-7.739e-10</p></td>
</tr>
<tr class="row-even"><td><p>20261210</p></td>
<td><p>25RR</p></td>
<td><p>-9.645e-04</p></td>
<td><p>-9.645e-04</p></td>
<td><p>2.003e-08</p></td>
</tr>
<tr class="row-odd"><td><p>20261210</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.016e-02</p></td>
<td><p>1.016e-02</p></td>
<td><p>1.246e-08</p></td>
</tr>
<tr class="row-even"><td><p>20281211</p></td>
<td><p>DN</p></td>
<td><p>3.028e-01</p></td>
<td><p>3.028e-01</p></td>
<td><p>2.700e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20281211</p></td>
<td><p>25RR</p></td>
<td><p>-4.441e-04</p></td>
<td><p>-4.441e-04</p></td>
<td><p>1.905e-09</p></td>
</tr>
<tr class="row-even"><td><p>20281211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.016e-02</p></td>
<td><p>1.016e-02</p></td>
<td><p>-8.659e-09</p></td>
</tr>
<tr class="row-odd"><td><p>20311211</p></td>
<td><p>DN</p></td>
<td><p>3.137e-01</p></td>
<td><p>3.137e-01</p></td>
<td><p>8.455e-10</p></td>
</tr>
<tr class="row-even"><td><p>20311211</p></td>
<td><p>25RR</p></td>
<td><p>-4.249e-04</p></td>
<td><p>-4.249e-04</p></td>
<td><p>2.150e-08</p></td>
</tr>
<tr class="row-odd"><td><p>20311211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.009e-02</p></td>
<td><p>1.009e-02</p></td>
<td><p>-3.223e-08</p></td>
</tr>
<tr class="row-even"><td><p>20361211</p></td>
<td><p>DN</p></td>
<td><p>3.257e-01</p></td>
<td><p>3.257e-01</p></td>
<td><p>7.165e-14</p></td>
</tr>
<tr class="row-odd"><td><p>20361211</p></td>
<td><p>25RR</p></td>
<td><p>2.507e-05</p></td>
<td><p>2.507e-05</p></td>
<td><p>-9.542e-10</p></td>
</tr>
<tr class="row-even"><td><p>20361211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>4.064e-03</p></td>
<td><p>4.064e-03</p></td>
<td><p>4.419e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20411211</p></td>
<td><p>DN</p></td>
<td><p>3.657e-01</p></td>
<td><p>3.657e-01</p></td>
<td><p>9.005e-12</p></td>
</tr>
<tr class="row-even"><td><p>20411211</p></td>
<td><p>25RR</p></td>
<td><p>2.507e-05</p></td>
<td><p>2.507e-05</p></td>
<td><p>2.492e-09</p></td>
</tr>
<tr class="row-odd"><td><p>20411211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>2.364e-03</p></td>
<td><p>2.364e-03</p></td>
<td><p>7.217e-10</p></td>
</tr>
<tr class="row-even"><td><p>20511211</p></td>
<td><p>DN</p></td>
<td><p>4.049e-01</p></td>
<td><p>4.049e-01</p></td>
<td><p>-8.626e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20511211</p></td>
<td><p>25RR</p></td>
<td><p>2.507e-05</p></td>
<td><p>2.508e-05</p></td>
<td><p>3.890e-09</p></td>
</tr>
<tr class="row-even"><td><p>20511211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>2.064e-03</p></td>
<td><p>2.064e-03</p></td>
<td><p>-2.146e-09</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 23: Scenario 4: a relative shift of size 300% is applied to the DN term structure. Average fitting error for each maturity. Observe that the errors are very small, below 10^{-9} in the majority of cases.</p>
<p>The following figures display the agreement existing between the volatility surface obtained from the DELTAVOL input and the volatility surface generated by PIV fitting at different time slices:</p>
<p><img alt="Figure 26: Scenario 4: relative shift of size 300% is applied to the DN term structure. Slices of the implied volatility surface obtained from the DELTAVOL used for calibration and from the PIV fitted to this volatility. Observe that, although the 3 conditions defining each slice are satisfied by both volatility surfaces, the different ways in which the surfaces are interpolated (parametrically in the PIV vols and using cubic splines in the DELTAVOLS) mean that the implied volatility surfaces do not agree completely. Further note that the two volatility objects deal with the tails differently, leading to larger disagreements for options far in or out of the money." src="market/DBSMC/Fig/72.png" /></p>
<p>In the following figures we examine for the existence of the butterfly arbitrage:</p>
<p><img alt="Figure 27: Scenario 4: Relative shift of size 300% is applied to the DN term structure. Butterfly arbitrage exists if the probability density function (PDF) for the underlying that is implied by the volatility surface has regions where it is negative. One can see that this condition is not violated in the considered slices - the probability density functions of input DELTAVOL and calibrated PIV configurations are non-negative." src="market/DBSMC/Fig/72.png" /></p>
</section>
<section id="robustness-of-piv-autofitting-under-stressed-market-scenarios-cvx-shifts">
<h3><span class="section-number">1.3.1.5.2. </span>4.4.3 Robustness of PIV Autofitting under stressed Market scenarios - CVX shifts<a class="headerlink" href="#robustness-of-piv-autofitting-under-stressed-market-scenarios-cvx-shifts" title="Link to this heading">#</a></h3>
<p>We examine the robustness of the PIV Autofitting engine under stressed market regimes. To this purpose, we consider a series of scenarios where we apply a series of extreme relative shifts to the input parameters of the CVX term structure contained in the input DELTAVOL object.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Maturity</p></th>
<th class="head"><p>Condition</p></th>
<th class="head"><p>Target Value</p></th>
<th class="head"><p>Fitted Value</p></th>
<th class="head"><p>Error</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>20220310</p></td>
<td><p>DN</p></td>
<td><p>6.292e-02</p></td>
<td><p>6.292e-02</p></td>
<td><p>3.186e-13</p></td>
</tr>
<tr class="row-odd"><td><p>20220310</p></td>
<td><p>25RR</p></td>
<td><p>-2.112e-03</p></td>
<td><p>-2.112e-03</p></td>
<td><p>5.651e-12</p></td>
</tr>
<tr class="row-even"><td><p>20220310</p></td>
<td><p>10CVX-DN</p></td>
<td><p>3.043e-04</p></td>
<td><p>3.043e-04</p></td>
<td><p>9.092e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20220609</p></td>
<td><p>DN</p></td>
<td><p>6.370e-02</p></td>
<td><p>6.370e-02</p></td>
<td><p>5.671e-13</p></td>
</tr>
<tr class="row-even"><td><p>20220609</p></td>
<td><p>25RR</p></td>
<td><p>-5.200e-03</p></td>
<td><p>-5.200e-03</p></td>
<td><p>1.626e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20220609</p></td>
<td><p>10CVX-DN</p></td>
<td><p>3.933e-04</p></td>
<td><p>3.933e-04</p></td>
<td><p>1.038e-10</p></td>
</tr>
<tr class="row-even"><td><p>20221209</p></td>
<td><p>DN</p></td>
<td><p>6.285e-02</p></td>
<td><p>6.285e-02</p></td>
<td><p>3.965e-13</p></td>
</tr>
<tr class="row-odd"><td><p>20221209</p></td>
<td><p>25RR</p></td>
<td><p>-5.249e-03</p></td>
<td><p>-5.249e-03</p></td>
<td><p>1.645e-11</p></td>
</tr>
<tr class="row-even"><td><p>20221209</p></td>
<td><p>10CVX-DN</p></td>
<td><p>4.866e-04</p></td>
<td><p>4.866e-04</p></td>
<td><p>1.085e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20231211</p></td>
<td><p>DN</p></td>
<td><p>6.563e-02</p></td>
<td><p>6.563e-02</p></td>
<td><p>-3.633e-13</p></td>
</tr>
<tr class="row-even"><td><p>20231211</p></td>
<td><p>25RR</p></td>
<td><p>-3.864e-03</p></td>
<td><p>-3.864e-03</p></td>
<td><p>6.961e-12</p></td>
</tr>
<tr class="row-odd"><td><p>20231211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>5.749e-04</p></td>
<td><p>5.749e-04</p></td>
<td><p>7.365e-11</p></td>
</tr>
<tr class="row-even"><td><p>20241211</p></td>
<td><p>DN</p></td>
<td><p>6.843e-02</p></td>
<td><p>6.843e-02</p></td>
<td><p>-4.626e-13</p></td>
</tr>
<tr class="row-odd"><td><p>20241211</p></td>
<td><p>25RR</p></td>
<td><p>-2.310e-03</p></td>
<td><p>-2.310e-03</p></td>
<td><p>8.243e-13</p></td>
</tr>
<tr class="row-even"><td><p>20241211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>5.093e-04</p></td>
<td><p>5.093e-04</p></td>
<td><p>5.542e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20261210</p></td>
<td><p>DN</p></td>
<td><p>7.392e-02</p></td>
<td><p>7.392e-02</p></td>
<td><p>-3.884e-13</p></td>
</tr>
<tr class="row-even"><td><p>20261210</p></td>
<td><p>25RR</p></td>
<td><p>-9.645e-04</p></td>
<td><p>-9.645e-04</p></td>
<td><p>-3.024e-12</p></td>
</tr>
<tr class="row-odd"><td><p>20261210</p></td>
<td><p>10CVX-DN</p></td>
<td><p>5.078e-04</p></td>
<td><p>5.078e-04</p></td>
<td><p>3.743e-11</p></td>
</tr>
<tr class="row-even"><td><p>20281211</p></td>
<td><p>DN</p></td>
<td><p>7.572e-02</p></td>
<td><p>7.572e-02</p></td>
<td><p>3.712e-13</p></td>
</tr>
<tr class="row-odd"><td><p>20281211</p></td>
<td><p>25RR</p></td>
<td><p>-4.441e-04</p></td>
<td><p>-4.441e-04</p></td>
<td><p>-4.590e-12</p></td>
</tr>
<tr class="row-even"><td><p>20281211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>5.078e-04</p></td>
<td><p>5.078e-04</p></td>
<td><p>3.837e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20311211</p></td>
<td><p>DN</p></td>
<td><p>7.842e-02</p></td>
<td><p>7.842e-02</p></td>
<td><p>-3.687e-13</p></td>
</tr>
<tr class="row-even"><td><p>20311211</p></td>
<td><p>25RR</p></td>
<td><p>-4.249e-04</p></td>
<td><p>-4.249e-04</p></td>
<td><p>-5.471e-12</p></td>
</tr>
<tr class="row-odd"><td><p>20311211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>5.032e-04</p></td>
<td><p>5.032e-04</p></td>
<td><p>3.239e-11</p></td>
</tr>
<tr class="row-even"><td><p>20361211</p></td>
<td><p>DN</p></td>
<td><p>8.142e-02</p></td>
<td><p>8.142e-02</p></td>
<td><p>-1.043e-13</p></td>
</tr>
<tr class="row-odd"><td><p>20361211</p></td>
<td><p>25RR</p></td>
<td><p>2.507e-05</p></td>
<td><p>2.507e-05</p></td>
<td><p>-1.865e-11</p></td>
</tr>
<tr class="row-even"><td><p>20361211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>2.032e-04</p></td>
<td><p>2.032e-04</p></td>
<td><p>2.981e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20411211</p></td>
<td><p>DN</p></td>
<td><p>9.142e-02</p></td>
<td><p>9.142e-02</p></td>
<td><p>-3.980e-14</p></td>
</tr>
<tr class="row-even"><td><p>20411211</p></td>
<td><p>25RR</p></td>
<td><p>2.507e-05</p></td>
<td><p>2.507e-05</p></td>
<td><p>-2.032e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20411211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.182e-04</p></td>
<td><p>1.182e-04</p></td>
<td><p>2.089e-11</p></td>
</tr>
<tr class="row-even"><td><p>20511211</p></td>
<td><p>DN</p></td>
<td><p>1.012e-01</p></td>
<td><p>1.012e-01</p></td>
<td><p>2.917e-14</p></td>
</tr>
<tr class="row-odd"><td><p>20511211</p></td>
<td><p>25RR</p></td>
<td><p>2.507e-05</p></td>
<td><p>2.507e-05</p></td>
<td><p>-2.997e-11</p></td>
</tr>
<tr class="row-even"><td><p>20511211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.032e-04</p></td>
<td><p>1.032e-04</p></td>
<td><p>1.938e-11</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 25: Scenario 1: a relative shift of size -99.5% is applied to the CVX term structure. Observe that the error sizes remain relatively small in this extreme scenario.</p>
<p>The following figures display the agreement existing between the volatility surface obtained from the DELTAVOL input and the volatility surface generated by PIV fitting at different time slices:</p>
<p><img alt="Figure 28: Scenario 1: relative shift of size -99.5% is applied to the CVX term structure. Slices of the implied volatility surface obtained from the DELTAVOL used for calibration and from the PIV fitted to this volatility. Observe that, although the 3 conditions defining each slice are satisfied by both volatility surfaces, the different ways in which the surfaces are interpolated (parametrically in the PIV vols and using cubic splines in the DELTAVOLS) mean that the implied volatility surfaces do not agree completely. Further note that the two volatility objects deal with the tails differently, leading to larger disagreements for options far in or out of the money." src="market/DBSMC/Fig/75.png" /></p>
<p>In the following figures we examine for the existence of the butterfly arbitrage:</p>
<p><img alt="Figure 29: Scenario 1: Relative shift of size -99.5% is applied to the CVX term structure contained in the input DELTAVOL. Butterfly arbitrage exists if the probability density function for the underlying that is implied by the volatility surface has regions where it is negative. One can see that this condition is not violated in the considered slices - the probability density functions of input DELTAVOL and calibrated PIV are non-negative." src="market/DBSMC/Fig/75.png" /></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Maturity</p></th>
<th class="head"><p>Condition</p></th>
<th class="head"><p>Target Value</p></th>
<th class="head"><p>Fitted Value</p></th>
<th class="head"><p>Error</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Maturity</p></td>
<td><p>Delta</p></td>
<td><p>TargetVol</p></td>
<td><p>FittedVol</p></td>
<td><p>FitError</p></td>
</tr>
<tr class="row-odd"><td><p>20220310</p></td>
<td><p>DN</p></td>
<td><p>6.292e-02</p></td>
<td><p>6.292e-02</p></td>
<td><p>1.279e-12</p></td>
</tr>
<tr class="row-even"><td><p>20220310</p></td>
<td><p>25RR</p></td>
<td><p>-2.112e-03</p></td>
<td><p>-2.112e-03</p></td>
<td><p>4.625e-12</p></td>
</tr>
<tr class="row-odd"><td><p>20220310</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.217e-03</p></td>
<td><p>1.217e-03</p></td>
<td><p>6.519e-11</p></td>
</tr>
<tr class="row-even"><td><p>20220609</p></td>
<td><p>DN</p></td>
<td><p>6.370e-02</p></td>
<td><p>6.370e-02</p></td>
<td><p>9.647e-13</p></td>
</tr>
<tr class="row-odd"><td><p>20220609</p></td>
<td><p>25RR</p></td>
<td><p>-5.200e-03</p></td>
<td><p>-5.200e-03</p></td>
<td><p>1.252e-11</p></td>
</tr>
<tr class="row-even"><td><p>20220609</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.573e-03</p></td>
<td><p>1.573e-03</p></td>
<td><p>7.238e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20221209</p></td>
<td><p>DN</p></td>
<td><p>6.285e-02</p></td>
<td><p>6.285e-02</p></td>
<td><p>-1.074e-12</p></td>
</tr>
<tr class="row-even"><td><p>20221209</p></td>
<td><p>25RR</p></td>
<td><p>-5.249e-03</p></td>
<td><p>-5.249e-03</p></td>
<td><p>1.149e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20221209</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.946e-03</p></td>
<td><p>1.946e-03</p></td>
<td><p>5.981e-11</p></td>
</tr>
<tr class="row-even"><td><p>20231211</p></td>
<td><p>DN</p></td>
<td><p>6.563e-02</p></td>
<td><p>6.563e-02</p></td>
<td><p>-6.279e-13</p></td>
</tr>
<tr class="row-odd"><td><p>20231211</p></td>
<td><p>25RR</p></td>
<td><p>-3.864e-03</p></td>
<td><p>-3.864e-03</p></td>
<td><p>4.209e-12</p></td>
</tr>
<tr class="row-even"><td><p>20231211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>2.299e-03</p></td>
<td><p>2.299e-03</p></td>
<td><p>2.443e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20241211</p></td>
<td><p>DN</p></td>
<td><p>6.843e-02</p></td>
<td><p>6.843e-02</p></td>
<td><p>-7.399e-13</p></td>
</tr>
<tr class="row-even"><td><p>20241211</p></td>
<td><p>25RR</p></td>
<td><p>-2.310e-03</p></td>
<td><p>-2.310e-03</p></td>
<td><p>1.563e-12</p></td>
</tr>
<tr class="row-odd"><td><p>20241211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>2.037e-03</p></td>
<td><p>2.037e-03</p></td>
<td><p>2.346e-11</p></td>
</tr>
<tr class="row-even"><td><p>20261210</p></td>
<td><p>DN</p></td>
<td><p>7.392e-02</p></td>
<td><p>7.392e-02</p></td>
<td><p>-6.150e-13</p></td>
</tr>
<tr class="row-odd"><td><p>20261210</p></td>
<td><p>25RR</p></td>
<td><p>-9.645e-04</p></td>
<td><p>-9.645e-04</p></td>
<td><p>9.095e-13</p></td>
</tr>
<tr class="row-even"><td><p>20261210</p></td>
<td><p>10CVX-DN</p></td>
<td><p>2.031e-03</p></td>
<td><p>2.031e-03</p></td>
<td><p>1.772e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20281211</p></td>
<td><p>DN</p></td>
<td><p>7.572e-02</p></td>
<td><p>7.572e-02</p></td>
<td><p>-5.957e-13</p></td>
</tr>
<tr class="row-even"><td><p>20281211</p></td>
<td><p>25RR</p></td>
<td><p>-4.441e-04</p></td>
<td><p>-4.441e-04</p></td>
<td><p>-1.857e-12</p></td>
</tr>
<tr class="row-odd"><td><p>20281211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>2.031e-03</p></td>
<td><p>2.031e-03</p></td>
<td><p>1.665e-11</p></td>
</tr>
<tr class="row-even"><td><p>20311211</p></td>
<td><p>DN</p></td>
<td><p>7.842e-02</p></td>
<td><p>7.842e-02</p></td>
<td><p>-5.566e-13</p></td>
</tr>
<tr class="row-odd"><td><p>20311211</p></td>
<td><p>25RR</p></td>
<td><p>-4.249e-04</p></td>
<td><p>-4.249e-04</p></td>
<td><p>-2.423e-12</p></td>
</tr>
<tr class="row-even"><td><p>20311211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>2.013e-03</p></td>
<td><p>2.013e-03</p></td>
<td><p>1.516e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20361211</p></td>
<td><p>DN</p></td>
<td><p>8.142e-02</p></td>
<td><p>8.142e-02</p></td>
<td><p>-3.657e-13</p></td>
</tr>
<tr class="row-even"><td><p>20361211</p></td>
<td><p>25RR</p></td>
<td><p>2.507e-05</p></td>
<td><p>2.507e-05</p></td>
<td><p>-1.579e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20361211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>8.129e-04</p></td>
<td><p>8.129e-04</p></td>
<td><p>2.619e-11</p></td>
</tr>
<tr class="row-even"><td><p>20411211</p></td>
<td><p>DN</p></td>
<td><p>9.142e-02</p></td>
<td><p>9.142e-02</p></td>
<td><p>-1.550e-13</p></td>
</tr>
<tr class="row-odd"><td><p>20411211</p></td>
<td><p>25RR</p></td>
<td><p>2.507e-05</p></td>
<td><p>2.507e-05</p></td>
<td><p>-1.882e-11</p></td>
</tr>
<tr class="row-even"><td><p>20411211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>4.729e-04</p></td>
<td><p>4.729e-04</p></td>
<td><p>1.979e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20511211</p></td>
<td><p>DN</p></td>
<td><p>1.012e-01</p></td>
<td><p>1.012e-01</p></td>
<td><p>-1.168e-13</p></td>
</tr>
<tr class="row-even"><td><p>20511211</p></td>
<td><p>25RR</p></td>
<td><p>2.507e-05</p></td>
<td><p>2.507e-05</p></td>
<td><p>-2.813e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20511211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>4.129e-04</p></td>
<td><p>4.129e-04</p></td>
<td><p>1.856e-11</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 26: Scenario 2: a relative shift of size -80% is applied to the CVX term structure. Observe that the error sizes remain relatively small in this extreme scenario.</p>
<p>The following figures display the agreement existing between the volatility surface obtained from the DELTAVOL input and the volatility surface generated by PIV fitting at different time slices:</p>
<p><img alt="Figure 30: Scenario 2: relative shift of size -80% is applied to the CVX term structure. Slices of the implied volatility surface obtained from the DELTAVOL used for calibration and from the PIV fitted to this volatility. Observe that, although the 3 conditions defining each slice are satisfied by both volatility surfaces, the different ways in which the surfaces are interpolated (parametrically in the PIV vols and using cubic splines in the DELTAVOLS) mean that the implied volatility surfaces do not agree completely. Further note that the two volatility objects deal with the tails differently, leading to larger disagreements for options far in or out of the money." src="market/DBSMC/Fig/77.png" /></p>
<p>In the following figures we examine for the existence of the butterfly arbitrage:</p>
<p><img alt="Figure 31: Scenario 2: Relative shift of size -80% is applied to the CVX term structure contained in the input DELTAVOL. Butterfly arbitrage exists if the probability density function for the underlying that is implied by the volatility surface has regions where it is negative. One can see that this condition is not violated in the considered slices - the probability density functions of input DELTAVOL and calibrated PIV are non-negative." src="market/DBSMC/Fig/77.png" /></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Maturity</p></th>
<th class="head"><p>Condition</p></th>
<th class="head"><p>Target Value</p></th>
<th class="head"><p>Fitted Value</p></th>
<th class="head"><p>Error</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>20220310</p></td>
<td><p>DN</p></td>
<td><p>6.292e-02</p></td>
<td><p>6.292e-02</p></td>
<td><p>2.745e-14</p></td>
</tr>
<tr class="row-odd"><td><p>20220310</p></td>
<td><p>25RR</p></td>
<td><p>-2.112e-03</p></td>
<td><p>-2.112e-03</p></td>
<td><p>1.213e-14</p></td>
</tr>
<tr class="row-even"><td><p>20220310</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.217e-02</p></td>
<td><p>1.217e-02</p></td>
<td><p>-1.386e-14</p></td>
</tr>
<tr class="row-odd"><td><p>20220609</p></td>
<td><p>DN</p></td>
<td><p>6.370e-02</p></td>
<td><p>6.370e-02</p></td>
<td><p>7.079e-14</p></td>
</tr>
<tr class="row-even"><td><p>20220609</p></td>
<td><p>25RR</p></td>
<td><p>-5.200e-03</p></td>
<td><p>-5.200e-03</p></td>
<td><p>4.945e-14</p></td>
</tr>
<tr class="row-odd"><td><p>20220609</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.573e-02</p></td>
<td><p>1.573e-02</p></td>
<td><p>-7.814e-14</p></td>
</tr>
<tr class="row-even"><td><p>20221209</p></td>
<td><p>DN</p></td>
<td><p>6.285e-02</p></td>
<td><p>6.285e-02</p></td>
<td><p>2.480e-13</p></td>
</tr>
<tr class="row-odd"><td><p>20221209</p></td>
<td><p>25RR</p></td>
<td><p>-5.249e-03</p></td>
<td><p>-5.249e-03</p></td>
<td><p>3.059e-13</p></td>
</tr>
<tr class="row-even"><td><p>20221209</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.946e-02</p></td>
<td><p>1.946e-02</p></td>
<td><p>3.338e-13</p></td>
</tr>
<tr class="row-odd"><td><p>20231211</p></td>
<td><p>DN</p></td>
<td><p>6.563e-02</p></td>
<td><p>6.563e-02</p></td>
<td><p>4.166e-13</p></td>
</tr>
<tr class="row-even"><td><p>20231211</p></td>
<td><p>25RR</p></td>
<td><p>-3.864e-03</p></td>
<td><p>-3.864e-03</p></td>
<td><p>6.440e-13</p></td>
</tr>
<tr class="row-odd"><td><p>20231211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>2.299e-02</p></td>
<td><p>2.299e-02</p></td>
<td><p>-4.622e-13</p></td>
</tr>
<tr class="row-even"><td><p>20241211</p></td>
<td><p>DN</p></td>
<td><p>6.843e-02</p></td>
<td><p>6.843e-02</p></td>
<td><p>1.419e-13</p></td>
</tr>
<tr class="row-odd"><td><p>20241211</p></td>
<td><p>25RR</p></td>
<td><p>-2.310e-03</p></td>
<td><p>-2.310e-03</p></td>
<td><p>3.845e-13</p></td>
</tr>
<tr class="row-even"><td><p>20241211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>2.037e-02</p></td>
<td><p>2.037e-02</p></td>
<td><p>-5.969e-14</p></td>
</tr>
<tr class="row-odd"><td><p>20261210</p></td>
<td><p>DN</p></td>
<td><p>7.392e-02</p></td>
<td><p>7.392e-02</p></td>
<td><p>6.847e-14</p></td>
</tr>
<tr class="row-even"><td><p>20261210</p></td>
<td><p>25RR</p></td>
<td><p>-9.645e-04</p></td>
<td><p>-9.645e-04</p></td>
<td><p>2.591e-13</p></td>
</tr>
<tr class="row-odd"><td><p>20261210</p></td>
<td><p>10CVX-DN</p></td>
<td><p>2.031e-02</p></td>
<td><p>2.031e-02</p></td>
<td><p>4.492e-14</p></td>
</tr>
<tr class="row-even"><td><p>20281211</p></td>
<td><p>DN</p></td>
<td><p>7.572e-02</p></td>
<td><p>7.572e-02</p></td>
<td><p>5.863e-14</p></td>
</tr>
<tr class="row-odd"><td><p>20281211</p></td>
<td><p>25RR</p></td>
<td><p>-4.441e-04</p></td>
<td><p>-4.441e-04</p></td>
<td><p>2.565e-13</p></td>
</tr>
<tr class="row-even"><td><p>20281211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>2.031e-02</p></td>
<td><p>2.031e-02</p></td>
<td><p>6.611e-14</p></td>
</tr>
<tr class="row-odd"><td><p>20311211</p></td>
<td><p>DN</p></td>
<td><p>7.842e-02</p></td>
<td><p>7.842e-02</p></td>
<td><p>4.369e-14</p></td>
</tr>
<tr class="row-even"><td><p>20311211</p></td>
<td><p>25RR</p></td>
<td><p>-4.249e-04</p></td>
<td><p>-4.249e-04</p></td>
<td><p>2.241e-13</p></td>
</tr>
<tr class="row-odd"><td><p>20311211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>2.013e-02</p></td>
<td><p>2.013e-02</p></td>
<td><p>7.701e-14</p></td>
</tr>
<tr class="row-even"><td><p>20361211</p></td>
<td><p>DN</p></td>
<td><p>8.142e-02</p></td>
<td><p>8.142e-02</p></td>
<td><p>2.247e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20361211</p></td>
<td><p>25RR</p></td>
<td><p>2.507e-05</p></td>
<td><p>2.507e-05</p></td>
<td><p>8.962e-11</p></td>
</tr>
<tr class="row-even"><td><p>20361211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>8.129e-03</p></td>
<td><p>8.129e-03</p></td>
<td><p>-1.867e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20411211</p></td>
<td><p>DN</p></td>
<td><p>9.142e-02</p></td>
<td><p>9.142e-02</p></td>
<td><p>1.350e-12</p></td>
</tr>
<tr class="row-even"><td><p>20411211</p></td>
<td><p>25RR</p></td>
<td><p>2.507e-05</p></td>
<td><p>2.507e-05</p></td>
<td><p>1.553e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20411211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>4.723e-03</p></td>
<td><p>4.723e-03</p></td>
<td><p>-1.914e-11</p></td>
</tr>
<tr class="row-even"><td><p>20511211</p></td>
<td><p>DN</p></td>
<td><p>1.012e-01</p></td>
<td><p>1.012e-01</p></td>
<td><p>4.542e-13</p></td>
</tr>
<tr class="row-odd"><td><p>20511211</p></td>
<td><p>25RR</p></td>
<td><p>2.507e-05</p></td>
<td><p>2.507e-05</p></td>
<td><p>-1.049e-11</p></td>
</tr>
<tr class="row-even"><td><p>20511211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>4.129e-03</p></td>
<td><p>4.129e-03</p></td>
<td><p>-8.030e-12</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 27: Scenario 3: a relative shift of size 100% is applied to the CVX term structure. Observe that the errors are very small, below 10^{-9} in the majority of cases.</p>
<p>The following figures display the agreement existing between the volatility surface obtained from the DELTAVOL input and the volatility surface generated by PIV fitting at different time slices:</p>
<p><img alt="Figure 32: Scenario 3: relative shift of size 100% is applied to the CVX term structure. Slices of the implied volatility surface obtained from the DELTAVOL used for calibration and from the PIV fitted to this volatility. Observe that, although the 3 conditions defining each slice are satisfied by both volatility surfaces, the different ways in which the surfaces are interpolated (parametrically in the PIV vols and using cubic splines in the DELTAVOLS) mean that the implied volatility surfaces do not agree completely. Further note that the two volatility objects deal with the tails differently, leading to larger disagreements for options far in or out of the money." src="market/DBSMC/Fig/79.png" /></p>
<p>In the following figures we examine for the existence of the butterfly arbitrage:</p>
<p><img alt="Figure 33: Scenario 3: Relative shift of size 100% is applied to the CVX term structure contained in the input DELTAVOL. Checking for butterfly arbitrage. Butterfly arbitrage exists if the probability density function for the underlying that is implied by the volatility surface has regions where it is negative. One can see that this condition is not violated in the considered slices - the probability density functions of input DELTAVOL and calibrated PIV are non-negative." src="market/DBSMC/Fig/79.png" /></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Maturity</p></th>
<th class="head"><p>Condition</p></th>
<th class="head"><p>Target Value</p></th>
<th class="head"><p>Fitted Value</p></th>
<th class="head"><p>Error</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>20220310</p></td>
<td><p>DN</p></td>
<td><p>6.292e-02</p></td>
<td><p>6.292e-02</p></td>
<td><p>9.902e-13</p></td>
</tr>
<tr class="row-odd"><td><p>20220310</p></td>
<td><p>25RR</p></td>
<td><p>-2.112e-03</p></td>
<td><p>-2.112e-03</p></td>
<td><p>5.733e-13</p></td>
</tr>
<tr class="row-even"><td><p>20220310</p></td>
<td><p>10CVX-DN</p></td>
<td><p>2.434e-02</p></td>
<td><p>2.434e-02</p></td>
<td><p>-1.150e-12</p></td>
</tr>
<tr class="row-odd"><td><p>20220609</p></td>
<td><p>DN</p></td>
<td><p>6.370e-02</p></td>
<td><p>6.370e-02</p></td>
<td><p>4.005e-12</p></td>
</tr>
<tr class="row-even"><td><p>20220609</p></td>
<td><p>25RR</p></td>
<td><p>-5.200e-03</p></td>
<td><p>-5.200e-03</p></td>
<td><p>3.098e-12</p></td>
</tr>
<tr class="row-odd"><td><p>20220609</p></td>
<td><p>10CVX-DN</p></td>
<td><p>3.146e-02</p></td>
<td><p>3.146e-02</p></td>
<td><p>-3.941e-12</p></td>
</tr>
<tr class="row-even"><td><p>20221209</p></td>
<td><p>DN</p></td>
<td><p>6.285e-02</p></td>
<td><p>6.285e-02</p></td>
<td><p>2.110e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20221209</p></td>
<td><p>25RR</p></td>
<td><p>-5.249e-03</p></td>
<td><p>-5.249e-03</p></td>
<td><p>1.992e-11</p></td>
</tr>
<tr class="row-even"><td><p>20221209</p></td>
<td><p>10CVX-DN</p></td>
<td><p>3.893e-02</p></td>
<td><p>3.893e-02</p></td>
<td><p>-1.851e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20231211</p></td>
<td><p>DN</p></td>
<td><p>6.563e-02</p></td>
<td><p>6.563e-02</p></td>
<td><p>4.417e-11</p></td>
</tr>
<tr class="row-even"><td><p>20231211</p></td>
<td><p>25RR</p></td>
<td><p>-3.864e-03</p></td>
<td><p>-3.864e-03</p></td>
<td><p>5.760e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20231211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>4.599e-02</p></td>
<td><p>4.599e-02</p></td>
<td><p>-3.279e-11</p></td>
</tr>
<tr class="row-even"><td><p>20241211</p></td>
<td><p>DN</p></td>
<td><p>6.843e-02</p></td>
<td><p>6.843e-02</p></td>
<td><p>1.111e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20241211</p></td>
<td><p>25RR</p></td>
<td><p>-2.310e-03</p></td>
<td><p>-2.310e-03</p></td>
<td><p>2.251e-11</p></td>
</tr>
<tr class="row-even"><td><p>20241211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>4.074e-02</p></td>
<td><p>4.074e-02</p></td>
<td><p>-6.655e-12</p></td>
</tr>
<tr class="row-odd"><td><p>20261210</p></td>
<td><p>DN</p></td>
<td><p>7.392e-02</p></td>
<td><p>7.392e-02</p></td>
<td><p>4.607e-12</p></td>
</tr>
<tr class="row-even"><td><p>20261210</p></td>
<td><p>25RR</p></td>
<td><p>-9.645e-04</p></td>
<td><p>-9.645e-04</p></td>
<td><p>1.409e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20261210</p></td>
<td><p>10CVX-DN</p></td>
<td><p>4.063e-02</p></td>
<td><p>4.063e-02</p></td>
<td><p>1.207e-12</p></td>
</tr>
<tr class="row-even"><td><p>20281211</p></td>
<td><p>DN</p></td>
<td><p>7.572e-02</p></td>
<td><p>7.572e-02</p></td>
<td><p>3.712e-12</p></td>
</tr>
<tr class="row-odd"><td><p>20281211</p></td>
<td><p>25RR</p></td>
<td><p>-4.441e-04</p></td>
<td><p>-4.441e-04</p></td>
<td><p>1.348e-11</p></td>
</tr>
<tr class="row-even"><td><p>20281211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>4.063e-02</p></td>
<td><p>4.063e-02</p></td>
<td><p>-2.792e-13</p></td>
</tr>
<tr class="row-odd"><td><p>20311211</p></td>
<td><p>DN</p></td>
<td><p>7.842e-02</p></td>
<td><p>7.842e-02</p></td>
<td><p>2.545e-12</p></td>
</tr>
<tr class="row-even"><td><p>20311211</p></td>
<td><p>25RR</p></td>
<td><p>-4.249e-04</p></td>
<td><p>-4.249e-04</p></td>
<td><p>1.111e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20311211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>4.026e-02</p></td>
<td><p>4.026e-02</p></td>
<td><p>4.159e-13</p></td>
</tr>
<tr class="row-even"><td><p>20361211</p></td>
<td><p>DN</p></td>
<td><p>8.142e-02</p></td>
<td><p>8.142e-02</p></td>
<td><p>1.235e-14</p></td>
</tr>
<tr class="row-odd"><td><p>20361211</p></td>
<td><p>25RR</p></td>
<td><p>2.507e-05</p></td>
<td><p>2.507e-05</p></td>
<td><p>1.453e-13</p></td>
</tr>
<tr class="row-even"><td><p>20361211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.626e-02</p></td>
<td><p>1.626e-02</p></td>
<td><p>1.004e-13</p></td>
</tr>
<tr class="row-odd"><td><p>20411211</p></td>
<td><p>DN</p></td>
<td><p>9.142e-02</p></td>
<td><p>9.142e-02</p></td>
<td><p>2.141e-11</p></td>
</tr>
<tr class="row-even"><td><p>20411211</p></td>
<td><p>25RR</p></td>
<td><p>2.507e-05</p></td>
<td><p>2.507e-05</p></td>
<td><p>1.158e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20411211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>9.458e-03</p></td>
<td><p>9.458e-03</p></td>
<td><p>-1.692e-10</p></td>
</tr>
<tr class="row-even"><td><p>20511211</p></td>
<td><p>DN</p></td>
<td><p>1.012e-01</p></td>
<td><p>1.012e-01</p></td>
<td><p>1.033e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20511211</p></td>
<td><p>25RR</p></td>
<td><p>2.507e-05</p></td>
<td><p>2.507e-05</p></td>
<td><p>1.112e-10</p></td>
</tr>
<tr class="row-even"><td><p>20511211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>8.258e-03</p></td>
<td><p>8.258e-03</p></td>
<td><p>-1.033e-10</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 28: Scenario 4: a relative shift of size 300% is applied to the CVX term structure. Observe that the errors are very small, below 10^{-10} in the majority of cases.</p>
<p>The following figures display the agreement existing between the volatility surface obtained from the DELTAVOL input and the volatility surface generated by PIV fitting at different time slices:</p>
<p><img alt="Figure 34: Scenario 4: relative shift of size 300% is applied to the CVX term structure. Slices of the implied volatility surface obtained from the DELTAVOL used for calibration and from the PIV fitted to this volatility. Observe that, although the 3 conditions defining each slice are satisfied by both volatility surfaces, the different ways in which the surfaces are interpolated (parametrically in the PIV vols and using cubic splines in the DELTAVOLS) mean that the implied volatility surfaces do not agree completely. Further note that the two volatility objects deal with the tails differently, leading to larger disagreements for options far in or out of the money." src="market/DBSMC/Fig/81.png" /></p>
<p>In the following figures we examine for the existence of the butterfly arbitrage:</p>
<p><img alt="Figure 35: Relative shift of size 300% is applied to the CVX term structure contained in the input DELTAVOL. Checking for butterfly arbitrage. Butterfly arbitrage exists if the pdf of the underlying, implied from volatility surface, has regions where it is negative. One can see that this condition is not violated in the considered slices - the pdf of the calibrated PIV remains non-negative. However, the implied pdf of the DELTAVOL becomes in this example negative due to the extreme shifts. The butterfly arbitrage will be flagged by the pricer due to CFU ID 17547, ArbitrageChecker=YES." src="market/DBSMC/Fig/81.png" /></p>
</section>
<section id="robustness-of-piv-autofitting-under-stressed-market-scenarios-rr-shifts">
<h3><span class="section-number">1.3.1.5.3. </span>4.4.4 Robustness of PIV Autofitting under stressed Market scenarios - RR shifts<a class="headerlink" href="#robustness-of-piv-autofitting-under-stressed-market-scenarios-rr-shifts" title="Link to this heading">#</a></h3>
<p>We examine the robustness of the PIV Autofitting engine under stressed market regimes. To this purpose, we consider a series of scenarios where we apply a series of extreme relative shifts to the input parameters of the RR term structure contained in the</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Maturity</p></th>
<th class="head"><p>Condition</p></th>
<th class="head"><p>Target Value</p></th>
<th class="head"><p>Fitted Value</p></th>
<th class="head"><p>Error</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>20220310</p></td>
<td><p>DN</p></td>
<td><p>6.292e-02</p></td>
<td><p>6.292e-02</p></td>
<td><p>4.100e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20220310</p></td>
<td><p>25RR</p></td>
<td><p>-1.056e-04</p></td>
<td><p>-1.056e-04</p></td>
<td><p>5.504e-12</p></td>
</tr>
<tr class="row-even"><td><p>20220310</p></td>
<td><p>10CVX-DN</p></td>
<td><p>6.086e-03</p></td>
<td><p>6.086e-03</p></td>
<td><p>-3.832e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20220609</p></td>
<td><p>DN</p></td>
<td><p>6.370e-02</p></td>
<td><p>6.370e-02</p></td>
<td><p>9.362e-11</p></td>
</tr>
<tr class="row-even"><td><p>20220609</p></td>
<td><p>25RR</p></td>
<td><p>-2.600e-04</p></td>
<td><p>-2.600e-04</p></td>
<td><p>1.305e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20220609</p></td>
<td><p>10CVX-DN</p></td>
<td><p>7.866e-03</p></td>
<td><p>7.866e-03</p></td>
<td><p>-6.966e-10</p></td>
</tr>
<tr class="row-even"><td><p>20221209</p></td>
<td><p>DN</p></td>
<td><p>6.285e-02</p></td>
<td><p>6.285e-02</p></td>
<td><p>1.089e-14</p></td>
</tr>
<tr class="row-odd"><td><p>20221209</p></td>
<td><p>25RR</p></td>
<td><p>-2.624e-04</p></td>
<td><p>-2.624e-04</p></td>
<td><p>1.265e-14</p></td>
</tr>
<tr class="row-even"><td><p>20221209</p></td>
<td><p>10CVX-DN</p></td>
<td><p>9.732e-03</p></td>
<td><p>9.732e-03</p></td>
<td><p>1.013e-14</p></td>
</tr>
<tr class="row-odd"><td><p>20231211</p></td>
<td><p>DN</p></td>
<td><p>6.563e-02</p></td>
<td><p>6.563e-02</p></td>
<td><p>1.500e-14</p></td>
</tr>
<tr class="row-even"><td><p>20231211</p></td>
<td><p>25RR</p></td>
<td><p>-1.943e-04</p></td>
<td><p>-1.943e-04</p></td>
<td><p>2.778e-14</p></td>
</tr>
<tr class="row-odd"><td><p>20231211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.150e-02</p></td>
<td><p>1.150e-02</p></td>
<td><p>1.685e-14</p></td>
</tr>
<tr class="row-even"><td><p>20241211</p></td>
<td><p>DN</p></td>
<td><p>6.843e-02</p></td>
<td><p>6.843e-02</p></td>
<td><p>1.436e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20241211</p></td>
<td><p>25RR</p></td>
<td><p>-1.155e-04</p></td>
<td><p>-1.155e-04</p></td>
<td><p>5.554e-11</p></td>
</tr>
<tr class="row-even"><td><p>20241211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.019e-02</p></td>
<td><p>1.019e-02</p></td>
<td><p>-6.801e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20261210</p></td>
<td><p>DN</p></td>
<td><p>7.392e-02</p></td>
<td><p>7.392e-02</p></td>
<td><p>7.884e-11</p></td>
</tr>
<tr class="row-even"><td><p>20261210</p></td>
<td><p>25RR</p></td>
<td><p>-4.924e-05</p></td>
<td><p>-4.924e-05</p></td>
<td><p>4.904e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20261210</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.016e-02</p></td>
<td><p>1.016e-02</p></td>
<td><p>-5.026e-10</p></td>
</tr>
<tr class="row-even"><td><p>20281211</p></td>
<td><p>DN</p></td>
<td><p>7.572e-02</p></td>
<td><p>7.572e-02</p></td>
<td><p>8.670e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20281211</p></td>
<td><p>25RR</p></td>
<td><p>-2.221e-05</p></td>
<td><p>-2.221e-05</p></td>
<td><p>5.293e-11</p></td>
</tr>
<tr class="row-even"><td><p>20281211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.016e-02</p></td>
<td><p>1.016e-02</p></td>
<td><p>-4.279e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20311211</p></td>
<td><p>DN</p></td>
<td><p>7.842e-02</p></td>
<td><p>7.842e-02</p></td>
<td><p>5.099e-11</p></td>
</tr>
<tr class="row-even"><td><p>20311211</p></td>
<td><p>25RR</p></td>
<td><p>-2.125e-05</p></td>
<td><p>-2.125e-05</p></td>
<td><p>5.384e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20311211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.009e-02</p></td>
<td><p>1.009e-02</p></td>
<td><p>-3.319e-10</p></td>
</tr>
<tr class="row-even"><td><p>20361211</p></td>
<td><p>DN</p></td>
<td><p>8.142e-02</p></td>
<td><p>8.142e-02</p></td>
<td><p>1.267e-12</p></td>
</tr>
<tr class="row-odd"><td><p>20361211</p></td>
<td><p>25RR</p></td>
<td><p>1.254e-06</p></td>
<td><p>1.254e-06</p></td>
<td><p>1.074e-11</p></td>
</tr>
<tr class="row-even"><td><p>20361211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>4.064e-03</p></td>
<td><p>4.064e-03</p></td>
<td><p>-1.933e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20411211</p></td>
<td><p>DN</p></td>
<td><p>9.142e-02</p></td>
<td><p>9.142e-02</p></td>
<td><p>-3.388e-13</p></td>
</tr>
<tr class="row-even"><td><p>20411211</p></td>
<td><p>25RR</p></td>
<td><p>1.254e-06</p></td>
<td><p>1.254e-06</p></td>
<td><p>-7.673e-12</p></td>
</tr>
<tr class="row-odd"><td><p>20411211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>2.364e-03</p></td>
<td><p>2.364e-03</p></td>
<td><p>9.142e-12</p></td>
</tr>
<tr class="row-even"><td><p>20511211</p></td>
<td><p>DN</p></td>
<td><p>1.012e-01</p></td>
<td><p>1.012e-01</p></td>
<td><p>3.293e-13</p></td>
</tr>
<tr class="row-odd"><td><p>20511211</p></td>
<td><p>25RR</p></td>
<td><p>1.254e-06</p></td>
<td><p>1.254e-06</p></td>
<td><p>-1.505e-11</p></td>
</tr>
<tr class="row-even"><td><p>20511211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>2.064e-03</p></td>
<td><p>2.064e-03</p></td>
<td><p>1.103e-11</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 30: Scenario 1: a relative shift of size -95% is applied to the RR term structure. Observe that the errors are very small, below 10^{-10} in the majority of cases.</p>
<p>The following figures display the agreement existing between the volatility surface obtained from the DELTAVOL input and the volatility surface generated by PIV fitting at different time slices:</p>
<p><img alt="Figure 36: Scenario 1: relative shift of size -95% is applied to the RR term structure. Slices of the implied volatility surface obtained from the DELTAVOL used for calibration and from the PIV fitted to this volatility. Observe that, although the 3 conditions defining each slice are satisfied by both volatility surfaces, the different ways in which the surfaces are interpolated (parametrically in the PIV vols and using cubic splines in the DELTAVOLS) mean that the implied volatility surfaces do not agree completely. Further note that the two volatility objects deal with the tails differently, leading to larger disagreements for options far in or out of the money." src="market/DBSMC/Fig/84.png" /></p>
<p>In the following figures we examine for the existence of the butterfly arbitrage:</p>
<p><img alt="Figure 37: Scenario 1: Relative shift of size -95% is applied to the RR term structure contained in the input DELTAVOL. Checking for butterfly arbitrage. Butterfly arbitrage exists if the probability density function for the underlying that is implied by the volatility surface has regions where it is negative. One can see that this condition is not violated in the considered slices - the probability density functions of input DELTAVOL and calibrated PIV are non-negative." src="market/DBSMC/Fig/84.png" /></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Maturity</p></th>
<th class="head"><p>Condition</p></th>
<th class="head"><p>Target Value</p></th>
<th class="head"><p>Fitted Value</p></th>
<th class="head"><p>Error</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>20220310</p></td>
<td><p>DN</p></td>
<td><p>6.292e-02</p></td>
<td><p>6.292e-02</p></td>
<td><p>4.099e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20220310</p></td>
<td><p>25RR</p></td>
<td><p>-4.224e-04</p></td>
<td><p>-4.224e-04</p></td>
<td><p>3.615e-12</p></td>
</tr>
<tr class="row-even"><td><p>20220310</p></td>
<td><p>10CVX-DN</p></td>
<td><p>6.086e-03</p></td>
<td><p>6.086e-03</p></td>
<td><p>-3.833e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20220609</p></td>
<td><p>DN</p></td>
<td><p>6.370e-02</p></td>
<td><p>6.370e-02</p></td>
<td><p>9.334e-11</p></td>
</tr>
<tr class="row-even"><td><p>20220609</p></td>
<td><p>25RR</p></td>
<td><p>-1.040e-03</p></td>
<td><p>-1.040e-03</p></td>
<td><p>4.848e-12</p></td>
</tr>
<tr class="row-odd"><td><p>20220609</p></td>
<td><p>10CVX-DN</p></td>
<td><p>7.866e-03</p></td>
<td><p>7.866e-03</p></td>
<td><p>-6.962e-10</p></td>
</tr>
<tr class="row-even"><td><p>20221209</p></td>
<td><p>DN</p></td>
<td><p>6.285e-02</p></td>
<td><p>6.285e-02</p></td>
<td><p>1.055e-14</p></td>
</tr>
<tr class="row-odd"><td><p>20221209</p></td>
<td><p>25RR</p></td>
<td><p>-1.050e-03</p></td>
<td><p>-1.050e-03</p></td>
<td><p>1.162e-14</p></td>
</tr>
<tr class="row-even"><td><p>20221209</p></td>
<td><p>10CVX-DN</p></td>
<td><p>9.732e-03</p></td>
<td><p>9.732e-03</p></td>
<td><p>8.788e-15</p></td>
</tr>
<tr class="row-odd"><td><p>20231211</p></td>
<td><p>DN</p></td>
<td><p>6.563e-02</p></td>
<td><p>6.563e-02</p></td>
<td><p>1.457e-14</p></td>
</tr>
<tr class="row-even"><td><p>20231211</p></td>
<td><p>25RR</p></td>
<td><p>-7.769e-04</p></td>
<td><p>-7.769e-04</p></td>
<td><p>2.697e-14</p></td>
</tr>
<tr class="row-odd"><td><p>20231211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.150e-02</p></td>
<td><p>1.150e-02</p></td>
<td><p>1.565e-14</p></td>
</tr>
<tr class="row-even"><td><p>20241211</p></td>
<td><p>DN</p></td>
<td><p>6.843e-02</p></td>
<td><p>6.843e-02</p></td>
<td><p>1.437e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20241211</p></td>
<td><p>25RR</p></td>
<td><p>-4.619e-04</p></td>
<td><p>-4.619e-04</p></td>
<td><p>5.121e-11</p></td>
</tr>
<tr class="row-even"><td><p>20241211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.019e-02</p></td>
<td><p>1.019e-02</p></td>
<td><p>-6.819e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20261210</p></td>
<td><p>DN</p></td>
<td><p>7.392e-02</p></td>
<td><p>7.392e-02</p></td>
<td><p>7.891e-11</p></td>
</tr>
<tr class="row-even"><td><p>20261210</p></td>
<td><p>25RR</p></td>
<td><p>-1.970e-04</p></td>
<td><p>-1.970e-04</p></td>
<td><p>4.804e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20261210</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.016e-02</p></td>
<td><p>1.016e-02</p></td>
<td><p>-5.033e-10</p></td>
</tr>
<tr class="row-even"><td><p>20281211</p></td>
<td><p>DN</p></td>
<td><p>7.572e-02</p></td>
<td><p>7.572e-02</p></td>
<td><p>8.674e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20281211</p></td>
<td><p>25RR</p></td>
<td><p>-8.882e-05</p></td>
<td><p>-8.882e-05</p></td>
<td><p>5.257e-11</p></td>
</tr>
<tr class="row-even"><td><p>20281211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.016e-02</p></td>
<td><p>1.016e-02</p></td>
<td><p>-4.281e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20311211</p></td>
<td><p>DN</p></td>
<td><p>7.842e-02</p></td>
<td><p>7.842e-02</p></td>
<td><p>5.103e-11</p></td>
</tr>
<tr class="row-even"><td><p>20311211</p></td>
<td><p>25RR</p></td>
<td><p>-8.499e-05</p></td>
<td><p>-8.499e-05</p></td>
<td><p>5.359e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20311211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.009e-02</p></td>
<td><p>1.009e-02</p></td>
<td><p>-3.322e-10</p></td>
</tr>
<tr class="row-even"><td><p>20361211</p></td>
<td><p>DN</p></td>
<td><p>8.142e-02</p></td>
<td><p>8.142e-02</p></td>
<td><p>1.266e-12</p></td>
</tr>
<tr class="row-odd"><td><p>20361211</p></td>
<td><p>25RR</p></td>
<td><p>5.015e-06</p></td>
<td><p>5.015e-06</p></td>
<td><p>1.072e-11</p></td>
</tr>
<tr class="row-even"><td><p>20361211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>4.064e-03</p></td>
<td><p>4.064e-03</p></td>
<td><p>-1.931e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20411211</p></td>
<td><p>DN</p></td>
<td><p>9.142e-02</p></td>
<td><p>9.142e-02</p></td>
<td><p>-3.392e-13</p></td>
</tr>
<tr class="row-even"><td><p>20411211</p></td>
<td><p>25RR</p></td>
<td><p>5.015e-06</p></td>
<td><p>5.015e-06</p></td>
<td><p>-7.685e-12</p></td>
</tr>
<tr class="row-odd"><td><p>20411211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>2.364e-03</p></td>
<td><p>2.364e-03</p></td>
<td><p>9.153e-12</p></td>
</tr>
<tr class="row-even"><td><p>20511211</p></td>
<td><p>DN</p></td>
<td><p>1.012e-01</p></td>
<td><p>1.012e-01</p></td>
<td><p>3.295e-13</p></td>
</tr>
<tr class="row-odd"><td><p>20511211</p></td>
<td><p>25RR</p></td>
<td><p>5.015e-06</p></td>
<td><p>5.015e-06</p></td>
<td><p>-1.507e-11</p></td>
</tr>
<tr class="row-even"><td><p>20511211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>2.064e-03</p></td>
<td><p>2.064e-03</p></td>
<td><p>1.104e-11</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 31: Scenario 2: a relative shift of size -80% is applied to the RR term structure. Observe that the errors are very small, below 10^{-10} in the majority of cases.</p>
<p>The following figures display the agreement existing between the volatility surface obtained from the DELTAVOL input and the volatility surface generated by PIV fitting at different time slices:</p>
<p><img alt="Figure 38: Scenario 2: relative shift of size -80% is applied to the RR term structure. Slices of the implied volatility surface obtained from the DELTAVOL used for calibration and from the PIV fitted to this volatility. Observe that, although the 3 conditions defining each slice are satisfied by both volatility surfaces, the different ways in which the surfaces are interpolated (parametrically in the PIV vols and using cubic splines in the DELTAVOLS) mean that the implied volatility surfaces do not agree completely. Further note that the two volatility objects deal with the tails differently, leading to larger disagreements for options far in or out of the money." src="market/DBSMC/Fig/86.png" /></p>
<p>In the following figures we examine for the existence of the butterfly arbitrage:</p>
<p><img alt="Figure 39: Scenario 2: Relative shift of size -80% is applied to the RR term structure contained in the input DELTAVOL. Checking for butterfly arbitrage. Butterfly arbitrage exists if the probability density function for the underlying that is implied by the volatility surface has regions where it is negative. One can see that this condition is not violated in the considered slices - the probability density functions of input DELTAVOL and calibrated PIV are non-negative." src="market/DBSMC/Fig/86.png" /></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Maturity</p></th>
<th class="head"><p>Condition</p></th>
<th class="head"><p>Target Value</p></th>
<th class="head"><p>Fitted Value</p></th>
<th class="head"><p>Error</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>20220310</p></td>
<td><p>DN</p></td>
<td><p>6.292e-02</p></td>
<td><p>6.292e-02</p></td>
<td><p>4.099e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20220310</p></td>
<td><p>25RR</p></td>
<td><p>-4.224e-04</p></td>
<td><p>-4.224e-04</p></td>
<td><p>3.615e-12</p></td>
</tr>
<tr class="row-even"><td><p>20220310</p></td>
<td><p>10CVX-DN</p></td>
<td><p>6.086e-03</p></td>
<td><p>6.086e-03</p></td>
<td><p>-3.833e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20220609</p></td>
<td><p>DN</p></td>
<td><p>6.370e-02</p></td>
<td><p>6.370e-02</p></td>
<td><p>9.334e-11</p></td>
</tr>
<tr class="row-even"><td><p>20220609</p></td>
<td><p>25RR</p></td>
<td><p>-1.040e-03</p></td>
<td><p>-1.040e-03</p></td>
<td><p>4.848e-12</p></td>
</tr>
<tr class="row-odd"><td><p>20220609</p></td>
<td><p>10CVX-DN</p></td>
<td><p>7.866e-03</p></td>
<td><p>7.866e-03</p></td>
<td><p>-6.962e-10</p></td>
</tr>
<tr class="row-even"><td><p>20221209</p></td>
<td><p>DN</p></td>
<td><p>6.285e-02</p></td>
<td><p>6.285e-02</p></td>
<td><p>1.055e-14</p></td>
</tr>
<tr class="row-odd"><td><p>20221209</p></td>
<td><p>25RR</p></td>
<td><p>-1.050e-03</p></td>
<td><p>-1.050e-03</p></td>
<td><p>1.162e-14</p></td>
</tr>
<tr class="row-even"><td><p>20221209</p></td>
<td><p>10CVX-DN</p></td>
<td><p>9.732e-03</p></td>
<td><p>9.732e-03</p></td>
<td><p>8.788e-15</p></td>
</tr>
<tr class="row-odd"><td><p>20231211</p></td>
<td><p>DN</p></td>
<td><p>6.563e-02</p></td>
<td><p>6.563e-02</p></td>
<td><p>1.457e-14</p></td>
</tr>
<tr class="row-even"><td><p>20231211</p></td>
<td><p>25RR</p></td>
<td><p>-7.769e-04</p></td>
<td><p>-7.769e-04</p></td>
<td><p>2.697e-14</p></td>
</tr>
<tr class="row-odd"><td><p>20231211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.150e-02</p></td>
<td><p>1.150e-02</p></td>
<td><p>1.565e-14</p></td>
</tr>
<tr class="row-even"><td><p>20241211</p></td>
<td><p>DN</p></td>
<td><p>6.843e-02</p></td>
<td><p>6.843e-02</p></td>
<td><p>1.437e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20241211</p></td>
<td><p>25RR</p></td>
<td><p>-4.619e-04</p></td>
<td><p>-4.619e-04</p></td>
<td><p>5.121e-11</p></td>
</tr>
<tr class="row-even"><td><p>20241211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.019e-02</p></td>
<td><p>1.019e-02</p></td>
<td><p>-6.819e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20261210</p></td>
<td><p>DN</p></td>
<td><p>7.392e-02</p></td>
<td><p>7.392e-02</p></td>
<td><p>7.891e-11</p></td>
</tr>
<tr class="row-even"><td><p>20261210</p></td>
<td><p>25RR</p></td>
<td><p>-1.970e-04</p></td>
<td><p>-1.970e-04</p></td>
<td><p>4.804e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20261210</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.016e-02</p></td>
<td><p>1.016e-02</p></td>
<td><p>-5.033e-10</p></td>
</tr>
<tr class="row-even"><td><p>20281211</p></td>
<td><p>DN</p></td>
<td><p>7.572e-02</p></td>
<td><p>7.572e-02</p></td>
<td><p>8.674e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20281211</p></td>
<td><p>25RR</p></td>
<td><p>-8.882e-05</p></td>
<td><p>-8.882e-05</p></td>
<td><p>5.257e-11</p></td>
</tr>
<tr class="row-even"><td><p>20281211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.016e-02</p></td>
<td><p>1.016e-02</p></td>
<td><p>-4.281e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20311211</p></td>
<td><p>DN</p></td>
<td><p>7.842e-02</p></td>
<td><p>7.842e-02</p></td>
<td><p>5.103e-11</p></td>
</tr>
<tr class="row-even"><td><p>20311211</p></td>
<td><p>25RR</p></td>
<td><p>-8.499e-05</p></td>
<td><p>-8.499e-05</p></td>
<td><p>5.359e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20311211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.009e-02</p></td>
<td><p>1.009e-02</p></td>
<td><p>-3.322e-10</p></td>
</tr>
<tr class="row-even"><td><p>20361211</p></td>
<td><p>DN</p></td>
<td><p>8.142e-02</p></td>
<td><p>8.142e-02</p></td>
<td><p>1.266e-12</p></td>
</tr>
<tr class="row-odd"><td><p>20361211</p></td>
<td><p>25RR</p></td>
<td><p>5.015e-06</p></td>
<td><p>5.015e-06</p></td>
<td><p>1.072e-11</p></td>
</tr>
<tr class="row-even"><td><p>20361211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>4.064e-03</p></td>
<td><p>4.064e-03</p></td>
<td><p>-1.931e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20411211</p></td>
<td><p>DN</p></td>
<td><p>9.142e-02</p></td>
<td><p>9.142e-02</p></td>
<td><p>-3.392e-13</p></td>
</tr>
<tr class="row-even"><td><p>20411211</p></td>
<td><p>25RR</p></td>
<td><p>5.015e-06</p></td>
<td><p>5.015e-06</p></td>
<td><p>-7.685e-12</p></td>
</tr>
<tr class="row-odd"><td><p>20411211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>2.364e-03</p></td>
<td><p>2.364e-03</p></td>
<td><p>9.153e-12</p></td>
</tr>
<tr class="row-even"><td><p>20511211</p></td>
<td><p>DN</p></td>
<td><p>1.012e-01</p></td>
<td><p>1.012e-01</p></td>
<td><p>3.295e-13</p></td>
</tr>
<tr class="row-odd"><td><p>20511211</p></td>
<td><p>25RR</p></td>
<td><p>5.015e-06</p></td>
<td><p>5.015e-06</p></td>
<td><p>-1.507e-11</p></td>
</tr>
<tr class="row-even"><td><p>20511211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>2.064e-03</p></td>
<td><p>2.064e-03</p></td>
<td><p>1.104e-11</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 32: Scenario 3: a relative shift of size 100% is applied to the RR term structure.Observe that the errors are very small, below 10^{-10} in the majority of cases.</p>
<p>The following figures display the agreement existing between the volatility surface obtained from the DELTAVOL input and the volatility surface generated by PIV fitting at different time slices:</p>
<p><img alt="Figure 40: Scenario 3: relative shift of size 100% is applied to the RR term structure. Slices of the implied volatility surface obtained from the DELTAVOL used for calibration and from the PIV fitted to this volatility. Observe that, although the 3 conditions defining each slice are satisfied by both volatility surfaces, the different ways in which the surfaces are interpolated (parametrically in the PIV vols and using cubic splines in the DELTAVOLS) mean that the implied volatility surfaces do not agree completely. Further note that the two volatility objects deal with the tails differently, leading to larger disagreements for options far in or out of the money." src="market/DBSMC/Fig/88.png" /></p>
<p>In the following figures we examine for the existence of the butterfly arbitrage:</p>
<p><img alt="Figure 41: Scenario 3: Relative shift of size 100% is applied to the RR term structure contained in the input DELTAVOL. Checking for butterfly arbitrage. Butterfly arbitrage exists if the probability density function for the underlying that is implied by the volatility surface has regions where it is negative. One can see that this condition is not violated in the considered slices - the probability density functions of input DELTAVOL and calibrated PIV are non-negative." src="market/DBSMC/Fig/88.png" /></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Maturity</p></th>
<th class="head"><p>Condition</p></th>
<th class="head"><p>Target Value</p></th>
<th class="head"><p>Fitted Value</p></th>
<th class="head"><p>Error</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>20220310</p></td>
<td><p>DN</p></td>
<td><p>6.292e-02</p></td>
<td><p>6.292e-02</p></td>
<td><p>4.099e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20220310</p></td>
<td><p>25RR</p></td>
<td><p>-4.224e-04</p></td>
<td><p>-4.224e-04</p></td>
<td><p>3.615e-12</p></td>
</tr>
<tr class="row-even"><td><p>20220310</p></td>
<td><p>10CVX-DN</p></td>
<td><p>6.086e-03</p></td>
<td><p>6.086e-03</p></td>
<td><p>-3.833e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20220609</p></td>
<td><p>DN</p></td>
<td><p>6.370e-02</p></td>
<td><p>6.370e-02</p></td>
<td><p>9.334e-11</p></td>
</tr>
<tr class="row-even"><td><p>20220609</p></td>
<td><p>25RR</p></td>
<td><p>-1.040e-03</p></td>
<td><p>-1.040e-03</p></td>
<td><p>4.848e-12</p></td>
</tr>
<tr class="row-odd"><td><p>20220609</p></td>
<td><p>10CVX-DN</p></td>
<td><p>7.866e-03</p></td>
<td><p>7.866e-03</p></td>
<td><p>-6.962e-10</p></td>
</tr>
<tr class="row-even"><td><p>20221209</p></td>
<td><p>DN</p></td>
<td><p>6.285e-02</p></td>
<td><p>6.285e-02</p></td>
<td><p>1.055e-14</p></td>
</tr>
<tr class="row-odd"><td><p>20221209</p></td>
<td><p>25RR</p></td>
<td><p>-1.050e-03</p></td>
<td><p>-1.050e-03</p></td>
<td><p>1.162e-14</p></td>
</tr>
<tr class="row-even"><td><p>20221209</p></td>
<td><p>10CVX-DN</p></td>
<td><p>9.732e-03</p></td>
<td><p>9.732e-03</p></td>
<td><p>8.788e-15</p></td>
</tr>
<tr class="row-odd"><td><p>20231211</p></td>
<td><p>DN</p></td>
<td><p>6.563e-02</p></td>
<td><p>6.563e-02</p></td>
<td><p>1.457e-14</p></td>
</tr>
<tr class="row-even"><td><p>20231211</p></td>
<td><p>25RR</p></td>
<td><p>-7.769e-04</p></td>
<td><p>-7.769e-04</p></td>
<td><p>2.697e-14</p></td>
</tr>
<tr class="row-odd"><td><p>20231211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.150e-02</p></td>
<td><p>1.150e-02</p></td>
<td><p>1.565e-14</p></td>
</tr>
<tr class="row-even"><td><p>20241211</p></td>
<td><p>DN</p></td>
<td><p>6.843e-02</p></td>
<td><p>6.843e-02</p></td>
<td><p>1.437e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20241211</p></td>
<td><p>25RR</p></td>
<td><p>-4.619e-04</p></td>
<td><p>-4.619e-04</p></td>
<td><p>5.121e-11</p></td>
</tr>
<tr class="row-even"><td><p>20241211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.019e-02</p></td>
<td><p>1.019e-02</p></td>
<td><p>-6.819e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20261210</p></td>
<td><p>DN</p></td>
<td><p>7.392e-02</p></td>
<td><p>7.392e-02</p></td>
<td><p>7.891e-11</p></td>
</tr>
<tr class="row-even"><td><p>20261210</p></td>
<td><p>25RR</p></td>
<td><p>-1.970e-04</p></td>
<td><p>-1.970e-04</p></td>
<td><p>4.804e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20261210</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.016e-02</p></td>
<td><p>1.016e-02</p></td>
<td><p>-5.033e-10</p></td>
</tr>
<tr class="row-even"><td><p>20281211</p></td>
<td><p>DN</p></td>
<td><p>7.572e-02</p></td>
<td><p>7.572e-02</p></td>
<td><p>8.674e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20281211</p></td>
<td><p>25RR</p></td>
<td><p>-8.882e-05</p></td>
<td><p>-8.882e-05</p></td>
<td><p>5.257e-11</p></td>
</tr>
<tr class="row-even"><td><p>20281211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.016e-02</p></td>
<td><p>1.016e-02</p></td>
<td><p>-4.281e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20311211</p></td>
<td><p>DN</p></td>
<td><p>7.842e-02</p></td>
<td><p>7.842e-02</p></td>
<td><p>5.103e-11</p></td>
</tr>
<tr class="row-even"><td><p>20311211</p></td>
<td><p>25RR</p></td>
<td><p>-8.499e-05</p></td>
<td><p>-8.499e-05</p></td>
<td><p>5.359e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20311211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>1.009e-02</p></td>
<td><p>1.009e-02</p></td>
<td><p>-3.322e-10</p></td>
</tr>
<tr class="row-even"><td><p>20361211</p></td>
<td><p>DN</p></td>
<td><p>8.142e-02</p></td>
<td><p>8.142e-02</p></td>
<td><p>1.266e-12</p></td>
</tr>
<tr class="row-odd"><td><p>20361211</p></td>
<td><p>25RR</p></td>
<td><p>5.015e-06</p></td>
<td><p>5.015e-06</p></td>
<td><p>1.072e-11</p></td>
</tr>
<tr class="row-even"><td><p>20361211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>4.064e-03</p></td>
<td><p>4.064e-03</p></td>
<td><p>-1.931e-11</p></td>
</tr>
<tr class="row-odd"><td><p>20411211</p></td>
<td><p>DN</p></td>
<td><p>9.142e-02</p></td>
<td><p>9.142e-02</p></td>
<td><p>-3.392e-13</p></td>
</tr>
<tr class="row-even"><td><p>20411211</p></td>
<td><p>25RR</p></td>
<td><p>5.015e-06</p></td>
<td><p>5.015e-06</p></td>
<td><p>-7.685e-12</p></td>
</tr>
<tr class="row-odd"><td><p>20411211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>2.364e-03</p></td>
<td><p>2.364e-03</p></td>
<td><p>9.153e-12</p></td>
</tr>
<tr class="row-even"><td><p>20511211</p></td>
<td><p>DN</p></td>
<td><p>1.012e-01</p></td>
<td><p>1.012e-01</p></td>
<td><p>3.295e-13</p></td>
</tr>
<tr class="row-odd"><td><p>20511211</p></td>
<td><p>25RR</p></td>
<td><p>5.015e-06</p></td>
<td><p>5.015e-06</p></td>
<td><p>-1.507e-11</p></td>
</tr>
<tr class="row-even"><td><p>20511211</p></td>
<td><p>10CVX-DN</p></td>
<td><p>2.064e-03</p></td>
<td><p>2.064e-03</p></td>
<td><p>1.104e-11</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 33: Scenario 4: a relative shift of size 300% is applied to the RR term structure. Observe that the errors are greater in this extreme case, but still quite small.</p>
<p>The following figures display the agreement existing between the volatility surface obtained from the DELTAVOL input and the volatility surface generated by PIV fitting at different time slices:</p>
<p><img alt="Figure 42: Scenario 4: relative shift of size 300% is applied to the RR term structure. Slices of the implied volatility surface obtained from the DELTAVOL used for calibration and from the PIV fitted to this volatility. Observe that, although the 3 conditions defining each slice are satisfied by both volatility surfaces, the different ways in which the surfaces are interpolated (parametrically in the PIV vols and using cubic splines in the DELTAVOLS) mean that the implied volatility surfaces do not agree completely. Further note that the two volatility objects deal with the tails differently, leading to larger disagreements for options far in or out of the money." src="market/DBSMC/Fig/90.png" /></p>
<p>In the following figures we examine for the existence of the butterfly arbitrage:</p>
<p><img alt="Figure 43: Scenario 4: Relative shift of size 300% is applied to the RR term structure contained in the input DELTAVOL. Checking for butterfly arbitrage. Butterfly arbitrage exists if the probability density function for the underlying that is implied by the volatility surface has regions where it is negative. One can see that this condition is not violated in the considered slices, as the probability density function of the calibrated PIV remains non-negative - although the input DELTAVOL surface is in this case arbitrageable, since the pdf of the input DELTAVOL surface becomes negative in this extreme scenario." src="market/DBSMC/Fig/90.png" /></p>
</section>
</section>
<section id="product-testing-fxeuroopt">
<h2><span class="section-number">1.3.1.6. </span>4.5 Product testing: FXEuroOpt<a class="headerlink" href="#product-testing-fxeuroopt" title="Link to this heading">#</a></h2>
<p>In this section we test an FXEuroOpt product in two model configurations ([PIV] (default) and [AJTQ]). FXEuroOpt represents a European put option with maturity date T= 18/03/2025:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[V(T) = (K - S_T)^+\]</div>
</div>
<p>where S represents the USD/EUR exchange rate and the strike is K = 1.2005. The valuation date of FXEuroOpt is 09/12/2021. The notional of FXEuroOpt is -25 (ReportingUnit=M) and the option’s pay currency is USD.
The option is booked in DBAnalytics as SECURITY object of type EGOPT. The pricing dictionary contains a DBAnalytics VOL object of type VolName=DBOVOL storing the spot FX information: S₀ = 1.1301000648[13], a DBAnalytics VOL object of type VolName=MARKETVOL storing the FX volatility information with InputMode=DELTAVOL as well as a MODELVOL object with InputMode “PARAMETRICVOL”. The testing is performed in DBAnalytics version 1110.</p>
<section id="eod-testing-price-and-risk-sensitivities">
<h3><span class="section-number">1.3.1.6.1. </span>4.5.1 EOD testing: Price and Risk Sensitivities<a class="headerlink" href="#eod-testing-price-and-risk-sensitivities" title="Link to this heading">#</a></h3>
<p>We examine the behaviour of the price and risk sensitivities (FX delta, IR delta and vega) when relative or absolute shifts are applied to the market data of various model parameters representing the FX spot, FX rate volatility and interest rate curves.</p>
<p>Additional testing can be found in reference [28], Sorin Nedescu and Emiliano Papa doc [2021; 2021March19-Nedersor-18936], which in particular includes model configuration comparison testing.</p>
<section id="stress-test-fx-spot-shifts-the-pv-and-risk-sensitivity-profiles-under-fx-spot-shifts-as-shown-in-figure-44-are-well-behaved-and-as-expected">
<h4><span class="section-number">1.3.1.6.1.1. </span>4.5.1.1 Stress test: FX Spot Shifts The PV and risk sensitivity profiles under FX spot shifts (as shown in Figure 44) are well behaved and as expected.<a class="headerlink" href="#stress-test-fx-spot-shifts-the-pv-and-risk-sensitivity-profiles-under-fx-spot-shifts-as-shown-in-figure-44-are-well-behaved-and-as-expected" title="Link to this heading">#</a></h4>
<p>[13] i.e. 1 EUR = 1.13 USD</p>
<p><img alt="Figure 44: PV, FXVEGA, FLATDELTA, FXDELTA and FXGAMMA as a function of relative FX spot shifts. The PV and risk sensitivities are well behaved and as expected." src="market/DBSMC/Fig/92.png" /></p>
</section>
<section id="stress-test-fx-volatility-shifts-the-pv-and-risk-sensitivity-profiles-under-fx-volatility-shifts-as-shown-in-figures-45-are-well-behaved-and-as-expected">
<h4><span class="section-number">1.3.1.6.1.2. </span>4.5.1.2 Stress test: FX Volatility Shifts The PV and risk sensitivity profiles under FX volatility shifts (as shown in Figures 45) are well behaved and as expected.<a class="headerlink" href="#stress-test-fx-volatility-shifts-the-pv-and-risk-sensitivity-profiles-under-fx-volatility-shifts-as-shown-in-figures-45-are-well-behaved-and-as-expected" title="Link to this heading">#</a></h4>
<p><img alt="Figure 45: PV, FXVEGA, FLATDELTA, FXDELTA and FXGAMMA as a function of relative FX volatility shifts. The PV and risk sensitivities are well behaved and as expected." src="market/DBSMC/Fig/93.png" /></p>
</section>
<section id="stress-test-domestic-ir-curve-shifts-the-pv-and-risk-sensitivity-profiles-under-domestic-curve-shifts-as-shown-in-figures-46-are-well-behaved-and-as-expected">
<h4><span class="section-number">1.3.1.6.1.3. </span>4.5.1.3 Stress test: Domestic IR Curve Shifts The PV and risk sensitivity profiles under domestic curve shifts (as shown in Figures 46) are well behaved and as expected.<a class="headerlink" href="#stress-test-domestic-ir-curve-shifts-the-pv-and-risk-sensitivity-profiles-under-domestic-curve-shifts-as-shown-in-figures-46-are-well-behaved-and-as-expected" title="Link to this heading">#</a></h4>
<p><img alt="Figure 46: PV, FXVEGA, FLATDELTA, FXDELTA and FXGAMMA as a function of parallel shift of domestic (USD) curve. The PV and risk sensitivities are well behaved and as expected." src="market/DBSMC/Fig/94.png" /></p>
</section>
<section id="stress-test-foreign-ir-curve-shifts-the-pv-and-risk-sensitivity-profiles-under-foreign-curve-shifts-as-shown-in-figures-47-are-well-behaved-and-as-expected">
<h4><span class="section-number">1.3.1.6.1.4. </span>4.5.1.4 Stress test: Foreign IR Curve Shifts The PV and risk sensitivity profiles under foreign curve shifts (as shown in Figures 47) are well behaved and as expected.<a class="headerlink" href="#stress-test-foreign-ir-curve-shifts-the-pv-and-risk-sensitivity-profiles-under-foreign-curve-shifts-as-shown-in-figures-47-are-well-behaved-and-as-expected" title="Link to this heading">#</a></h4>
<p><img alt="Figure 47: PV, FXVEGA, FLATDELTA, FXDELTA and FXGAMMA as a function of parallel shift of foreign (EUR) curve. The PV and risk sensitivities are well behaved and as expected." src="market/DBSMC/Fig/95.png" /></p>
</section>
</section>
<section id="irrbb-testing">
<h3><span class="section-number">1.3.1.6.2. </span>4.5.2 IRRBB Testing<a class="headerlink" href="#irrbb-testing" title="Link to this heading">#</a></h3>
<p>In this section, we test the stability of the trade under the IRRBB scenarios in comparison to the Base scenario.</p>
<section id="scenario-curves">
<h4><span class="section-number">1.3.1.6.2.1. </span>4.5.2.1 Scenario Curves<a class="headerlink" href="#scenario-curves" title="Link to this heading">#</a></h4>
<p>The scenario curves for the rates affecting this product are shown in Figure 48. The effects of each scenario are as expected by their names, for example the parallel up is a parallel shift of the base curve.</p>
<p><img alt="Figure 48: (Left) USD zero rate under Base and IRRBB scenarios (Right) EUR zero rate under Base and IRRBB scenarios." src="market/DBSMC/Fig/96.png" /></p>
</section>
<section id="stress-testing">
<h4><span class="section-number">1.3.1.6.2.2. </span>4.5.2.2 Stress Testing<a class="headerlink" href="#stress-testing" title="Link to this heading">#</a></h4>
<p>USD/EUR FX Spot Shifts The PV and main risk sensitivity profiles (as shown in Figure 49) are well behaved and as expected under FX spot shifts for each scenario.</p>
<p><img alt="Figure 49: PV and FXDELTA as a function of relative FX spot shifts for the Base and all IRRBB scenarios. As there are shocks only for the curves, the behavior for shifting the FX Spot rate is not much impacted by the IRRBB scenarios. The PV and FXDELTA are well behaved and as expected." src="market/DBSMC/Fig/96.png" /></p>
<p>USD/EUR FX volatility Shifts The PV and main risk sensitivity profiles (as shown in Figure 50) are well behaved and as expected under FX spot shifts for each scenario.</p>
<p><img alt="Figure 50: PV and FXVEGA as a function of relative FX volatility shifts for the Base and all IRRBB scenarios. The PV and FXVEGA are well behaved and as expected." src="market/DBSMC/Fig/97.png" /></p>
<p>Domestic (USD) IR Curve Shifts The PV and main risk sensitivity profiles (as shown in Figures 51) are well behaved and as expected under domestic curve shifts for each scenario.</p>
<p><img alt="Figure 51: PV and FLATDELTA as a function of parallel shift of the domestic (USD) curve for the Base and all IRRBB scenarios. The PV and FLATDELTA are well behaved and as expected." src="market/DBSMC/Fig/97.png" /></p>
<p>Foreign (EUR) IR Curve Shifts The PV and main risk sensitivity profiles (as shown in Figures 52) are well behaved and as expected under foreign curve shifts for each scenario.</p>
<p><img alt="Figure 52: PV and FLATDELTA as a function of parallel shift of the foreign (EUR) curve for the Base and all IRRBB scenarios. The PV and FLATDELTA are well behaved and as expected." src="market/DBSMC/Fig/98.png" /></p>
</section>
</section>
<section id="ccar-testing">
<h3><span class="section-number">1.3.1.6.3. </span>4.5.3 CCAR Testing<a class="headerlink" href="#ccar-testing" title="Link to this heading">#</a></h3>
<p>The stability of the PV and main risk sensitivities of the FXEuroOpt trade under relevant curve, FX spot and volatility shifts for the Base and CCAR 2022 scenarios are tested.</p>
<section id="id2">
<h4><span class="section-number">1.3.1.6.3.1. </span>4.5.3.1 Scenario Curves<a class="headerlink" href="#id2" title="Link to this heading">#</a></h4>
<p>The zero rate curves for each scenario are shown in Figure 53.</p>
<p><img alt="Figure 53: (Left) USD zero rate under Base and CCAR scenarios (Right) EUR zero rate under Base and CCAR scenarios." src="market/DBSMC/Fig/98.png" /></p>
</section>
<section id="id3">
<h4><span class="section-number">1.3.1.6.3.2. </span>4.5.3.2 Stress Testing<a class="headerlink" href="#id3" title="Link to this heading">#</a></h4>
<p>USD/EUR FX Spot Shifts The PV and risk sensitivity profiles (as shown in Figure 54) are well behaved and as expected under FX spot shifts for each scenario.</p>
<p><img alt="Figure 54: PV, FXVEGA, FLATDELTA, FXDELTA and FXGAMMA as a function of relative FX spot shifts for the Base and CCAR scenarios. The PV and risk sensitivities are well behaved and as expected." src="market/DBSMC/Fig/99.png" /></p>
<p>USD/EUR FX Volatility Shifts The PV and risk sensitivity profiles (as shown in Figure 55) are well behaved and as expected under FX volatility shifts for each scenario.</p>
<p><img alt="Figure 55: PV and FXVEGA as a function of relative FX volatility shifts for the Base and CCAR scenarios. The PV and FXVEGA are well behaved and as expected." src="market/DBSMC/Fig/100.png" /></p>
<p>Domestic (USD) IR Curve Shifts The PV and risk sensitivity profiles (as shown in Figures 56) are well behaved and as expected under domestic curve shifts for each scenario.</p>
<p><img alt="Figure 56: PV, FXVEGA, FLATDELTA, FXDELTA and FXGAMMA as a function of parallel shift of the domestic (USD) curve for the Base and CCAR scenarios. The PV and risk sensitivities are well behaved and as expected." src="market/DBSMC/Fig/101.png" /></p>
<p>Foreign (EUR) IR Curve Shifts The PV and risk sensitivity profiles (as shown in Figures 57) are well behaved and as expected under foreign curve shifts for each scenario.</p>
<p><img alt="Figure 57: PV, FXVEGA, FLATDELTA, FXDELTA and FXGAMMA as a function of parallel shift of the foreign (EUR) curve for the Base and CCAR scenarios. The PV and risk sensitivities are well behaved and as expected." src="market/DBSMC/Fig/102.png" /></p>
</section>
</section>
<section id="multivar-testing">
<h3><span class="section-number">1.3.1.6.4. </span>4.5.4 MultiVaR Testing<a class="headerlink" href="#multivar-testing" title="Link to this heading">#</a></h3>
<p>We take the maximum and minimum bumps for the risk factors used by the product and apply the maximum and minimum price movements observed for the historical simulation (SIVAR model). We test that as we move towards these simultaneously (i.e. moving all risk factor at once) the present value is stable and well-behaved. The test is passed.</p>
<p><img alt="Figure 58: Behaviour of FXEuroOpt in MultiVar test." src="market/DBSMC/Fig/103.png" /></p>
</section>
</section>
<section id="product-testing-fxdigitalopt">
<h2><span class="section-number">1.3.1.7. </span>4.6 Product testing: FXDigitalOpt<a class="headerlink" href="#product-testing-fxdigitalopt" title="Link to this heading">#</a></h2>
<p>A digital option is an option where a fixed payout is made under the conditions specified in the option’s contract. For FXDigitalOpt with OptionType=”BINARYPUT”, if the FX spot rate is smaller than the strike value, the payoff is fixed at the notional value. However, if the FX spot rate is larger than the strike, the payoff is 0. The payoff for this product can be described as below:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[Notional \cdot 1_{\{S_T&lt;K\}}\]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(S_T\)</span> is the FX rate, K is the strike.</p>
<p>The trade has the following features:</p>
<p>• The ValuationDate is on 2021-12-09. The ExerciseStart and ExerciseEnd dates are both on 2024-01-17.
• The PayCurrency is EUR, which is foreign ccy. The Notional is 15 M.
• The underlying rate is USD/EUR FX rate. The SpotFX value is 1.1291999646. The strike value is 1.25.</p>
<p>To better understand the product, firstly, the PayCurrency is set to “DOMESTIC” (i.e. USD) to show a standard digital put option. Then, the impact of volatility on PV, FXDELTA and FXVEGA while relatively shifting the SpotFX value is investigated as shown in Figure 59. As volatility decreases from 150% to 50% the market volatility, the PV transition at strike becomes sharper and therefore FXDELTA becomes more dramatic in value. FXVEGA should be negative when SpotFX is smaller than strike and positive when SpotFX is larger than strike. This is what is exactly observed in Figure 59.</p>
<p><img alt="Figure 59: PV, FXDELTA and FXVEGA as a function of relative FX spot shift under 50%, 150% and original market volatility. PayCurrency is set to domestic - USD." src="market/DBSMC/Fig/104.png" /></p>
<p>Now, the PayCurrency is changed back to the original - EUR. Figure 60 shows the PV is a function of FX spot rate.</p>
<p><img alt="Figure 60: PV, FXVEGA, FLATDELTA, FXDELTA and FXGAMMA as a function of relative FX spot shifts. The PV and risk sensitivities are well behaved and as expected." src="market/DBSMC/Fig/106.png" /></p>
<section id="stress-test-fx-volatility-shifts">
<h3><span class="section-number">1.3.1.7.1. </span>4.6.1.2 Stress test: FX Volatility Shifts<a class="headerlink" href="#stress-test-fx-volatility-shifts" title="Link to this heading">#</a></h3>
<p>The PV and risk sensitivity profiles under FX volatility shifts (as shown in Figures 62) are well behaved and as expected.</p>
<p><img alt="Figure 62: PV, FXVEGA, FLATDELTA, FXDELTA and FXGAMMA as a function of relative FX volatility shifts. The PV and risk sensitivities are well behaved and as expected." src="market/DBSMC/Fig/107.png" /></p>
</section>
<section id="stress-test-domestic-ir-curve-shifts">
<h3><span class="section-number">1.3.1.7.2. </span>4.6.1.3 Stress test: Domestic IR Curve Shifts<a class="headerlink" href="#stress-test-domestic-ir-curve-shifts" title="Link to this heading">#</a></h3>
<p>The PV and risk sensitivity profiles under domestic curve shifts (as shown in Figures 63) are well behaved and as expected.</p>
<p><img alt="Figure 63: PV, FXVEGA, FLATDELTA, FXDELTA and FXGAMMA as a function of parallel shift of domestic (USD) curve. The PV and risk sensitivities are well behaved and as expected." src="market/DBSMC/Fig/108.png" /></p>
</section>
<section id="stress-test-foreign-ir-curve-shifts">
<h3><span class="section-number">1.3.1.7.3. </span>4.6.1.4 Stress test: Foreign IR Curve Shifts<a class="headerlink" href="#stress-test-foreign-ir-curve-shifts" title="Link to this heading">#</a></h3>
<p>The PV and risk sensitivity profiles under foreign curve shifts (as shown in Figures 64) are well behaved and as expected.</p>
<p><img alt="Figure 64: PV, FXVEGA, FLATDELTA, FXDELTA and FXGAMMA as a function of parallel shift of foreign (EUR) curve. The PV and risk sensitivities are well behaved and as expected." src="market/DBSMC/Fig/109.png" /></p>
</section>
<section id="id4">
<h3><span class="section-number">1.3.1.7.4. </span>4.6.2 IRRBB Testing<a class="headerlink" href="#id4" title="Link to this heading">#</a></h3>
<p>In this section we perform the IRRBB stress testing for FXDigitalOpt product.The ten IRRBB scenarios are intended to reflect currency-specific interest rate shocks and are the following:</p>
<ol class="arabic simple">
<li><p>Parallel shock up,</p></li>
<li><p>Parallel shock down,</p></li>
<li><p>Steepener shock (short rate down and long rates up),</p></li>
<li><p>Steepener negative shock (opposite Steepener shift),</p></li>
<li><p>Flattener shock (short rates up and long rates down),</p></li>
<li><p>Flattener negative shock (opposite Flattener shift),</p></li>
<li><p>Short Rates shock up,</p></li>
<li><p>Short Rates shock down,</p></li>
<li><p>Long Rates shock up,</p></li>
<li><p>Short Rates shock down.</p></li>
</ol>
<section id="id5">
<h4><span class="section-number">1.3.1.7.4.1. </span>4.6.2.1 Scenario Curves<a class="headerlink" href="#id5" title="Link to this heading">#</a></h4>
<p>The scenario curves for the rates affecting this product are shown in Figure 65. The effects of each scenario are as expected by their names, for example the parallel up is a parallel shift of the base curve.</p>
<p><img alt="Figure 65: (Left) USD zero rate under Base and IRRBB scenarios (Right) EUR zero rate under Base and IRRBB scenarios." src="market/DBSMC/Fig/110.png" /></p>
</section>
<section id="id6">
<h4><span class="section-number">1.3.1.7.4.2. </span>4.6.2.2 Stress Testing<a class="headerlink" href="#id6" title="Link to this heading">#</a></h4>
<p>USD/EUR FX Spot Shifts The PV and main risk sensitivity profiles (as shown in Figure 66) are well behaved and as expected under FX spot shifts for each scenario.</p>
<p><img alt="Figure 66: PV and FXDELTA as a function of relative FX spot shifts for the Base and all IRRBB scenarios. As there are shocks only for the curves, the behavior for shifting the FX Spot rate is not much impacted by the IRRBB scenarios. The PV and FXDELTA are well behaved and as expected." src="market/DBSMC/Fig/111.png" /></p>
<p>USD/EUR FX volatility Shifts The PV and main risk sensitivity profiles (as shown in Figure 67) are well behaved and as expected under FX spot shifts for each scenario.</p>
<p><img alt="Figure 67: PV and FXVEGA as a function of relative FX volatility shifts for the Base and all IRRBB scenarios. The PV and FXVEGA are well behaved and as expected." src="market/DBSMC/Fig/111.png" /></p>
<p>Domestic (USD) IR Curve Shifts The PV and main risk sensitivity profiles (as shown in Figures 68) are well behaved and as expected under domestic curve shifts for each scenario.</p>
<p><img alt="Figure 68: PV and FLATDELTA as a function of parallel shift of the domestic (USD) curve for the Base and all IRRBB scenarios. The PV and FLATDELTA are well behaved and as expected." src="market/DBSMC/Fig/112.png" /></p>
<p>Foreign (EUR) IR Curve Shifts The PV and main risk sensitivity profiles (as shown in Figures 69) are well behaved and as expected under foreign curve shifts for each scenario.</p>
<p><img alt="Figure 69: PV and FLATDELTA as a function of parallel shift of the foreign (EUR) curve for the Base and all IRRBB scenarios. The PV and FLATDELTA are well behaved and as expected." src="market/DBSMC/Fig/112.png" /></p>
</section>
</section>
<section id="id7">
<h3><span class="section-number">1.3.1.7.5. </span>4.6.3 CCAR Testing<a class="headerlink" href="#id7" title="Link to this heading">#</a></h3>
<p>For the purpose of this validation, CCAR market data objects are treated as given inputs and the main objective is to test the behaviour of a product-model pair in the CCAR stressed pricing contexts.
The latest CCAR stress scenario testing was performed in Q3 2022 using the CCAR2022 shock objects provided by Market Risk and using DBAnalytics version 1110. For the purpose of this validation, CCAR market data objects are treated as given inputs and the main objective is to test the behaviour of a product-model pair in the CCAR stressed pricing contexts including convergence and stability of the returned PV and risk sensitivities. We consider three separate scenarios in testing:</p>
<ol class="arabic simple">
<li><p>Base Scenario: This is the market data used in end of day pricing on the valuation date and it is presented in this section only for comparison purposes.</p></li>
<li><p>CCAR 1: This is the Asset Bubble Burst - 2022 scenario. In terms of the market data relevant to the testing product, shocks are applied to all relevant objects in the EOD pricing dictionary as given by Market Risk.</p></li>
<li><p>CCAR 2: This is the severe adverse 2022 FRB CCAR scenario. In terms of the market data relevant to the testing product, shocks are applied to all relevant objects in the EOD pricing dictionary as given by Market Risk.</p></li>
</ol>
<p>The tests examine the stability of the PV profile and of the risk sensitivity profiles under shifts of the main risk factors: domestic and foreign interest rate curves, FX spot rate and FX rate volatility.</p>
<section id="id8">
<h4><span class="section-number">1.3.1.7.5.1. </span>4.6.3.1 Scenario Curves<a class="headerlink" href="#id8" title="Link to this heading">#</a></h4>
<p>The zero rate curves for each scenario are shown in Figure 70.</p>
<p><img alt="Figure 70: (Left) USD zero rate under Base and CCAR scenarios (Right) EUR zero rate under Base and CCAR scenarios." src="market/DBSMC/Fig/113.png" /></p>
</section>
<section id="id9">
<h4><span class="section-number">1.3.1.7.5.2. </span>4.6.3.2 Stress Testing<a class="headerlink" href="#id9" title="Link to this heading">#</a></h4>
<p>USD/EUR FX Spot Shifts The PV and risk sensitivity profiles (as shown in Figure 71) are well behaved and as expected under FX spot shifts for each scenario.</p>
<p><img alt="Figure 71: PV, FXVEGA, FLATDELTA, FXDELTA and FXGAMMA as a function of relative FX spot shifts for the Base and CCAR scenarios. The PV and risk sensitivities are well behaved and as expected." src="market/DBSMC/Fig/114.png" /></p>
<p>USD/EUR FX Volatility Shifts The PV and risk sensitivity profiles (as shown in Figure 72) are well behaved and as expected under FX volatility shifts for each scenario.</p>
<p><img alt="Figure 72: PV, FXVEGA, FLATDELTA, FXDELTA and FXGAMMA as a function of relative FX volatility shifts for the Base and CCAR scenarios. The PV and risk sensitivities are well behaved and as expected." src="market/DBSMC/Fig/115.png" /></p>
<p>Domestic (USD) IR Curve Shifts The PV and risk sensitivity profiles (as shown in Figures 73) are well behaved and as expected under domestic curve shifts for each scenario.</p>
<p><img alt="Figure 73: PV, FXVEGA, FLATDELTA, FXDELTA and FXGAMMA as a function of parallel shift of the domestic (USD) curve for the Base and CCAR scenarios. The PV and risk sensitivities are well behaved and as expected." src="market/DBSMC/Fig/116.png" /></p>
<p>Foreign (EUR) IR Curve Shifts The PV and risk sensitivity profiles (as shown in Figures 74) are well behaved and as expected under foreign curve shifts for each scenario.</p>
<p>The following figures display the behaviour of the PV and risk sensitivities of FXGeometricBasketOpt in EOD and CCAR scenarios under shifts applied to the EUR/GBP FX spot:</p>
<p><img alt="Figure 122: Behaviour of FXGeometricBasketOpt PV and risk sensitivities (FX delta, IR delta and vega) in the Base (EOD) scenario vs CCAR scenarios when relative spot shifts are applied to the EUR/GBP FX spot - shift sizes ranging from -90% to 200% applied in increments of 10%" src="market/DBSMC/Fig/49.png" /></p>
<p>The following figures display the behaviour of the PV and risk sensitivities of FXGeometricBasketOpt in EOD and CCAR scenarios under shifts applied to the EUR/USD FX spot:</p>
<p><img alt="Figure 123: Behaviour of FXGeometricBasketOpt PV and risk sensitivities (FX delta, IR delta and vega) in the Base (EOD) scenario vs CCAR scenarios when relative spot shifts are applied to the EUR/USD FX spot - shift sizes ranging from -90% to 200% applied in increments of 10%" src="market/DBSMC/Fig/50.png" /></p>
<p><img alt="Figure 124: Behaviour of FXGeometricBasketOpt PV and risk sensitivities (FX delta, IR delta and vega) in the Base (EOD) scenario vs CCAR scenarios when relative vol shifts are applied to the EUR/GBP FX spot - shift sizes ranging from -90% to 200% applied in increments of 10%" src="market/DBSMC/Fig/51.png" /></p>
<p>The following figures display the behaviour of the PV and risk sensitivities of FXGeometricBasketOpt in EOD and CCAR scenarios under shifts applied to the EUR/USD FX vol:</p>
<p><img alt="Figure 125: Behaviour of FXGeometricBasketOpt PV and risk sensitivities (FX delta, IR delta and vega) in the Base (EOD) scenario vs CCAR scenarios when relative vol shifts are applied to the EUR/USD FX spot - shift sizes ranging from -90% to 200% applied in increments of 10%" src="market/DBSMC/Fig/52.png" /></p>
</section>
</section>
<section id="id10">
<h3><span class="section-number">1.3.1.7.6. </span>4.7.4 MultiVar Testing<a class="headerlink" href="#id10" title="Link to this heading">#</a></h3>
<p>We take the maximum and minimum bumps for the risk factors used by the product FXGeometricBasketOpt and apply the maximum and minimum price movements observed for the historical simulation S-VAR model. We test that as we move towards these simultaneously (i.e., moving all risk factor at once) the present value is stable and well behaved. The test is passed. Note that care must be taken when applying simultaneous shocks to the input volatilities. Even if the shift size does not make the volatility negative, they might affect the correlations between risk factors (computed based on the input volatilities) making them exit the interval [-1, 1], thus, making the scenario nonsensical.</p>
<p><img alt="Figure 126: Behaviour of FXGeometricBasketOpt in MultiVar test. The EOD (starting) price is 7.08" src="market/DBSMC/Fig/53.png" /></p>
</section>
</section>
<section id="model-parameter-testing">
<h2><span class="section-number">1.3.1.8. </span>4.8 Model Parameter Testing<a class="headerlink" href="#model-parameter-testing" title="Link to this heading">#</a></h2>
<p>In this section, we document and test some of the parameters deemed as relevant for the present model, as provided in MARS request 2020Jun12-RIEUPIE-14633 as part of Model Parameter Monitoring(MPM) rules validation. The detailed list of the parameter rules can be found in the file “20200612_dbsmc_mktvol.xlsx” attached to the MARS request. An overview of the model parameters, their rule and the validation of these parameters is given in the following tables. Note that for reasons of brevity, we have shortened the rules.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Rule</p></th>
<th class="head"><p>MinCondition</p></th>
<th class="head"><p>ParameterLabel</p></th>
<th class="head"><p>Operator</p></th>
<th class="head"><p>Value</p></th>
<th class="head"><p>Section</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0001</p></td>
<td><p>NO</p></td>
<td><p>ResultType</p></td>
<td><p>IN</p></td>
<td><p>LIST*</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>0002</p></td>
<td><p>YES</p></td>
<td><p>ResultType</p></td>
<td><p>EQUAL_TO</p></td>
<td><p>P/VAUTOFIT</p></td>
<td><p>4.8.20</p></td>
</tr>
<tr class="row-even"><td><p>0002</p></td>
<td><p>NO</p></td>
<td><p>JUMPINTENSITY</p></td>
<td><p>IN</p></td>
<td><p>JUMPINTENSITY.VOL</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>0002</p></td>
<td><p>NO</p></td>
<td><p>SKEW</p></td>
<td><p>EQUAL_TO</p></td>
<td><p>SKEW</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>0002</p></td>
<td><p>NO</p></td>
<td><p>SMILE</p></td>
<td><p>EQUAL_TO</p></td>
<td><p>SMILE</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>0002</p></td>
<td><p>NO</p></td>
<td><p>:power</p></td>
<td><p>EQUAL_TO</p></td>
<td><p>:power</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>0002</p></td>
<td><p>NO</p></td>
<td><p>UpperBound::JUMPINTENSITY</p></td>
<td><p>PASS</p></td>
<td><p>nan</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>0002</p></td>
<td><p>NO</p></td>
<td><p>UpperBound::SKEW</p></td>
<td><p>PASS</p></td>
<td><p>nan</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>0002</p></td>
<td><p>NO</p></td>
<td><p>Constraints::UpperBound::SMILE</p></td>
<td><p>PASS</p></td>
<td><p>nan</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>0002</p></td>
<td><p>NO</p></td>
<td><p>Constraints::UpperBound::power</p></td>
<td><p>PASS</p></td>
<td><p>nan</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>0002</p></td>
<td><p>NO</p></td>
<td><p>Constraints::LowerBound::JUMPINTENSITY</p></td>
<td><p>PASS</p></td>
<td><p>nan</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>0002</p></td>
<td><p>NO</p></td>
<td><p>Constraints::LowerBound::SKEW</p></td>
<td><p>PASS</p></td>
<td><p>nan</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>0002</p></td>
<td><p>NO</p></td>
<td><p>Constraints::LowerBound::SMILE</p></td>
<td><p>PASS</p></td>
<td><p>nan</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>0002</p></td>
<td><p>NO</p></td>
<td><p>Constraints::LowerBound::power</p></td>
<td><p>PASS</p></td>
<td><p>nan</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>0002</p></td>
<td><p>NO</p></td>
<td><p>Constraints::Frozen::JUMPINTENSITY</p></td>
<td><p>IN</p></td>
<td><p>YES,NO</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>0002</p></td>
<td><p>NO</p></td>
<td><p>Constraints::Frozen::SKEW</p></td>
<td><p>IN</p></td>
<td><p>YES,NO</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>0002</p></td>
<td><p>NO</p></td>
<td><p>Constraints::Frozen::SMILE</p></td>
<td><p>IN</p></td>
<td><p>YES,NO</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>0002</p></td>
<td><p>NO</p></td>
<td><p>Constraints::Frozen::power</p></td>
<td><p>IN</p></td>
<td><p>YES,NO</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>0002</p></td>
<td><p>NO</p></td>
<td><p>ParameterName::MaxFilterations</p></td>
<td><p>EQUAL_TO</p></td>
<td><p>MaxFilterations</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>0002</p></td>
<td><p>NO</p></td>
<td><p>ParameterName::StepTolerance</p></td>
<td><p>EQUAL_TO</p></td>
<td><p>StepTolerance</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>0002</p></td>
<td><p>NO</p></td>
<td><p>ParameterName::GradTolerance</p></td>
<td><p>EQUAL_TO</p></td>
<td><p>GradTolerance</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>0002</p></td>
<td><p>NO</p></td>
<td><p>ParameterName::GradCalcDigits</p></td>
<td><p>EQUAL_TO</p></td>
<td><p>GradCalcDigits</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>0002</p></td>
<td><p>NO</p></td>
<td><p>ParameterName::IVTolerance</p></td>
<td><p>EQUAL_TO</p></td>
<td><p>IVTolerance</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>0002</p></td>
<td><p>NO</p></td>
<td><p>ParameterName::IVNumIterations</p></td>
<td><p>EQUAL_TO</p></td>
<td><p>IVNumIterations</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>0002</p></td>
<td><p>NO</p></td>
<td><p>GradCalcDigits</p></td>
<td><p>PASS</p></td>
<td><p>nan</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>0002</p></td>
<td><p>NO</p></td>
<td><p>GradTolerance</p></td>
<td><p>LESS_THAN_OR_EQUAL_TO</p></td>
<td><p>0.01</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>0002</p></td>
<td><p>NO</p></td>
<td><p>IVNumIterations</p></td>
<td><p>GREATER_THAN_OR_EQUAL_TO</p></td>
<td><p>50</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>0002</p></td>
<td><p>NO</p></td>
<td><p>IVTolerance</p></td>
<td><p>LESS_THAN_OR_EQUAL_TO</p></td>
<td><p>0.01</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>0002</p></td>
<td><p>NO</p></td>
<td><p>MaxFilterations</p></td>
<td><p>GREATER_THAN_OR_EQUAL_TO</p></td>
<td><p>500</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>0002</p></td>
<td><p>NO</p></td>
<td><p>StepTolerance</p></td>
<td><p>LESS_THAN_OR_EQUAL_TO</p></td>
<td><p>0.01</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 35: List of Model Rules as provided by DBAnalytics and link to the relevant section of this document where the properties mentioned in the rule are described and tested. Only Model Rules categorized as “Used” are listed.</p>
<p>where LIST={RISKMULTIPLIER, DEFAULTRISK, ACCRUAL, AutoCalibration, BermTax, RateTerm, P/VAUTOFIT, CALIBRATE, accounts, lapsebeta, CorrelatedRandomNumbers, CplyPVs, MatrixSlates}</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Rule</p></th>
<th class="head"><p>MinCondition</p></th>
<th class="head"><p>ParameterLabel</p></th>
<th class="head"><p>Operator</p></th>
<th class="head"><p>Value</p></th>
<th class="head"><p>Section</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0052</p></td>
<td><p>YES</p></td>
<td><p>EXTRAINFO::ResultsType</p></td>
<td><p>EQUAL_TO</p></td>
<td><p>P/VAUTOFIT</p></td>
<td><p>4.8.14</p></td>
</tr>
<tr class="row-odd"><td><p>0052</p></td>
<td><p>NO</p></td>
<td><p>EXTRAINFO::FitType</p></td>
<td><p>EQUAL_TO</p></td>
<td><p>SLICE</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Rule</p></th>
<th class="head"><p>MinCondition</p></th>
<th class="head"><p>ParameterLabel</p></th>
<th class="head"><p>Operator</p></th>
<th class="head"><p>Value</p></th>
<th class="head"><p>Section</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0053</p></td>
<td><p>YES</p></td>
<td><p>EXTRAINFO::ResultsType</p></td>
<td><p>EQUAL_TO</p></td>
<td><p>P/VAUTOFIT</p></td>
<td><p>4.8.15</p></td>
</tr>
<tr class="row-odd"><td><p>0053</p></td>
<td><p>NO</p></td>
<td><p>EXTRAINFO::TargetType</p></td>
<td><p>EQUAL_TO</p></td>
<td><p>VOL</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>0054</p></td>
<td><p>YES</p></td>
<td><p>EXTRAINFO::ResultsType</p></td>
<td><p>EQUAL_TO</p></td>
<td><p>P/VAUTOFIT</p></td>
<td><p>4.8.16</p></td>
</tr>
<tr class="row-odd"><td><p>0054</p></td>
<td><p>NO</p></td>
<td><p>EXTRAINFO::UseSyntheticForwards</p></td>
<td><p>EQUAL_TO</p></td>
<td><p>NO</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>0055</p></td>
<td><p>YES</p></td>
<td><p>EXTRAINFO::ResultsType</p></td>
<td><p>EQUAL_TO</p></td>
<td><p>P/VAUTOFIT</p></td>
<td><p>4.8.17</p></td>
</tr>
<tr class="row-odd"><td><p>0055</p></td>
<td><p>NO</p></td>
<td><p>EXTRAINFO::Weighting</p></td>
<td><p>IN</p></td>
<td><p>NOTIONAL,VEGANOTIONAL</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>0003D</p></td>
<td><p>NO</p></td>
<td><p>MODEL::SurfaceTimeFloorMaxTime</p></td>
<td><p>NOT_EQUAL_TO</p></td>
<td><p>NO</p></td>
<td><p>4.8.12</p></td>
</tr>
<tr class="row-odd"><td><p>0004</p></td>
<td><p>NO</p></td>
<td><p>MODEL::ModelMode</p></td>
<td><p>IN</p></td>
<td><p>PRICE</p></td>
<td><p>4.8.2</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p>PRICEVALUETODAY</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>0006</p></td>
<td><p>NO</p></td>
<td><p>MODEL::UseNewSVD</p></td>
<td><p>IN</p></td>
<td><p>NO,ALGLIB</p></td>
<td><p>4.8.3</p></td>
</tr>
<tr class="row-even"><td><p>0008</p></td>
<td><p>NO</p></td>
<td><p>MODEL::RecalibCurves</p></td>
<td><p>IN</p></td>
<td><p>NO,YES</p></td>
<td><p>4.8.4</p></td>
</tr>
<tr class="row-odd"><td><p>0020</p></td>
<td><p>NO</p></td>
<td><p>MODEL::CalibType</p></td>
<td><p>PASS</p></td>
<td><p></p></td>
<td><p>4.8.5</p></td>
</tr>
<tr class="row-even"><td><p>0021</p></td>
<td><p>NO</p></td>
<td><p>MODEL::MaxIter</p></td>
<td><p>PASS</p></td>
<td><p></p></td>
<td><p>4.8.6</p></td>
</tr>
<tr class="row-odd"><td><p>0013A</p></td>
<td><p>YES</p></td>
<td><p>VOL::VolName</p></td>
<td><p>EQUAL_TO</p></td>
<td><p>MARKETVOL</p></td>
<td><p>4.8.9</p></td>
</tr>
<tr class="row-even"><td><p>0013A</p></td>
<td><p>NO</p></td>
<td><p>VOL::InputMode</p></td>
<td><p>IN</p></td>
<td><p>STRIKEVOL,DELTAVOL</p></td>
<td><p>4.8.21</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p>PARAMETRICVOL</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>0040</p></td>
<td><p>NO</p></td>
<td><p>VOL::WeekendWeight</p></td>
<td><p>PASS</p></td>
<td><p></p></td>
<td><p>4.8.7</p></td>
</tr>
<tr class="row-odd"><td><p>0041</p></td>
<td><p>NO</p></td>
<td><p>VOL::HolidayWeight</p></td>
<td><p>PASS</p></td>
<td><p></p></td>
<td><p>4.8.7</p></td>
</tr>
<tr class="row-even"><td><p>0049</p></td>
<td><p>NO</p></td>
<td><p>VOL::DayWeightsInterpolation</p></td>
<td><p>PASS</p></td>
<td><p></p></td>
<td><p>4.8.7</p></td>
</tr>
<tr class="row-odd"><td><p>0050</p></td>
<td><p>NO</p></td>
<td><p>VOL::WeightsReference</p></td>
<td><p>PASS</p></td>
<td><p></p></td>
<td><p>4.8.7</p></td>
</tr>
<tr class="row-even"><td><p>0021B</p></td>
<td><p>YES</p></td>
<td><p>VOL::VolName</p></td>
<td><p>EQUAL_TO</p></td>
<td><p>MARKETVOL</p></td>
<td><p>4.8.11</p></td>
</tr>
<tr class="row-odd"><td><p>0021B</p></td>
<td><p>YES</p></td>
<td><p>VOL::InputMode</p></td>
<td><p>EQUAL_TO</p></td>
<td><p>PARAMETRICVOL</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>0021B</p></td>
<td><p>YES</p></td>
<td><p>VOL::RestrikeType</p></td>
<td><p>NOT_IN</p></td>
<td><p>STICKYSTRIKE,</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p>ATMVOLALONGSMILE</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>0021B</p></td>
<td><p>NO</p></td>
<td><p>VOL::ReferenceForwardsMode</p></td>
<td><p>PASS</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>0023A</p></td>
<td><p>YES</p></td>
<td><p>VOL::VolName</p></td>
<td><p>EQUAL_TO</p></td>
<td><p>MARKETVOL</p></td>
<td><p>4.8.9</p></td>
</tr>
<tr class="row-even"><td><p>0023A</p></td>
<td><p>YES</p></td>
<td><p>VOL::InputMode</p></td>
<td><p>EQUAL_TO</p></td>
<td><p>PARAMETRICVOL</p></td>
<td><p>4.8.21</p></td>
</tr>
<tr class="row-odd"><td><p>0023A</p></td>
<td><p>NO</p></td>
<td><p>VOL::SkewType</p></td>
<td><p>IN</p></td>
<td><p>SA4,LABGD,VW12</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>0025A</p></td>
<td><p>YES</p></td>
<td><p>VOL::VolName</p></td>
<td><p>EQUAL_TO</p></td>
<td><p>MARKETVOL</p></td>
<td><p>4.8.12</p></td>
</tr>
<tr class="row-odd"><td><p>0025A</p></td>
<td><p>NO</p></td>
<td><p>VOL::SurfaceTimeFloor</p></td>
<td><p>PASS</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>0032B</p></td>
<td><p>YES</p></td>
<td><p>VOL::VolName</p></td>
<td><p>EQUAL_TO</p></td>
<td><p>MARKETVOL</p></td>
<td><p>4.8.13</p></td>
</tr>
<tr class="row-odd"><td><p>0032B</p></td>
<td><p>YES</p></td>
<td><p>VOL::InputMode</p></td>
<td><p>EQUAL_TO</p></td>
<td><p>PARAMETRICVOL</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Rule</p></th>
<th class="head"><p>MinCondition</p></th>
<th class="head"><p>ParameterLabel</p></th>
<th class="head"><p>Operator</p></th>
<th class="head"><p>Value</p></th>
<th class="head"><p>Section</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0032B</p></td>
<td><p>YES</p></td>
<td><p>VOL::SkewType</p></td>
<td><p>NOT_EQUAL_TO</p></td>
<td><p>VW12</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>0032B</p></td>
<td><p>NO</p></td>
<td><p>VOL::VW12SkewCutoff</p></td>
<td><p>PASS</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>0047</p></td>
<td><p>YES</p></td>
<td><p>VOL::VolName</p></td>
<td><p>EQUAL_TO</p></td>
<td><p>MARKETVOL</p></td>
<td><p>4.8.10</p></td>
</tr>
<tr class="row-odd"><td><p>0047</p></td>
<td><p>NO</p></td>
<td><p>VOL::VolTermStructures::Name</p></td>
<td><p>PASS</p></td>
<td><p></p></td>
<td><p>4.8.21</p></td>
</tr>
<tr class="row-even"><td><p>0048</p></td>
<td><p>YES</p></td>
<td><p>VOL::VolName</p></td>
<td><p>EQUAL_TO</p></td>
<td><p>MARKETVOL</p></td>
<td><p>4.8.10</p></td>
</tr>
<tr class="row-odd"><td><p>0048</p></td>
<td><p>NO</p></td>
<td><p>VOL::VolTermStructures::Type</p></td>
<td><p>PASS</p></td>
<td><p></p></td>
<td><p>4.8.21</p></td>
</tr>
<tr class="row-even"><td><p>0049</p></td>
<td><p>YES</p></td>
<td><p>VOL::VolName</p></td>
<td><p>EQUAL_TO</p></td>
<td><p>MARKETVOL</p></td>
<td><p>4.8.10</p></td>
</tr>
<tr class="row-odd"><td><p>0049</p></td>
<td><p>NO</p></td>
<td><p>VOL::VolParameters::Name</p></td>
<td><p>PASS</p></td>
<td><p></p></td>
<td><p>4.8.21</p></td>
</tr>
<tr class="row-even"><td><p>0055</p></td>
<td><p>YES</p></td>
<td><p>VOL::VolName</p></td>
<td><p>EQUAL_TO</p></td>
<td><p>MARKETVOL</p></td>
<td><p>4.8.7</p></td>
</tr>
<tr class="row-odd"><td><p>0055</p></td>
<td><p>NO</p></td>
<td><p>VOL::BusinessTimeVols</p></td>
<td><p>IN</p></td>
<td><p>YES,NO</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>0057</p></td>
<td><p>YES</p></td>
<td><p>VOL::VolName</p></td>
<td><p>EQUAL_TO</p></td>
<td><p>MARKETVOL</p></td>
<td><p>4.8.18</p></td>
</tr>
<tr class="row-odd"><td><p>0057</p></td>
<td><p>NO</p></td>
<td><p>VOL::PIVVolShiftType</p></td>
<td><p>EQUAL_TO</p></td>
<td><p>ABSOLUTE</p></td>
<td><p>4.8.21</p></td>
</tr>
<tr class="row-even"><td><p>0018</p></td>
<td><p>NO</p></td>
<td><p>PRICINGINFO::PricingInfoType</p></td>
<td><p>IN</p></td>
<td><p>AUTOCALIBRATION, AUTOBASIS,</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p>BARRIER, BARRIERINFO</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p>REPORT, SETTLEDCASH, MOD-</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p>ELVOL</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 36: List of Model Rules as provided by DBAnalytics and link to the relevant section of this document where the properties mentioned in the rule are described and tested. Only Model Rules categorized as “Used” are listed.</p>
<p>The following model rules are related to the CURVE component of the model. These rules have been reviewed in other models and therefore will not be discussed in this section:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Rule</p></th>
<th class="head"><p>MinCondition</p></th>
<th class="head"><p>ParameterLabel</p></th>
<th class="head"><p>Operator</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>CURVE_0001</p></td>
<td><p>NO</p></td>
<td><p>CURVE::AddPar</p></td>
<td><p>IN</p></td>
<td><p>NONE,LINEAR</p></td>
</tr>
<tr class="row-odd"><td><p>CURVE_0002</p></td>
<td><p>NO</p></td>
<td><p>CURVE::BuildMethod</p></td>
<td><p>IN</p></td>
<td><p>CONSTANT_FORWARD,</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p>HYBRID_CONSTANT_FOR</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p>HYBRID_FORWARD,LINE</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p>QUADRATIC_FORWARD</p></td>
</tr>
<tr class="row-odd"><td><p>CURVE_0003</p></td>
<td><p>NO</p></td>
<td><p>CURVE::CashToFuture</p></td>
<td><p>IN</p></td>
<td><p>EXACT,EXACTCASH,</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p>EXACTCASH-</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p>1,</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p>CASHPRIORITY,LINEAR,</p></td>
</tr>
<tr class="row-odd"><td><p>CURVE_0004A</p></td>
<td><p>YES</p></td>
<td><p>CURVE::UseType</p></td>
<td><p>NOT_EQUAL_TO</p></td>
<td><p>INFLATION</p></td>
</tr>
<tr class="row-even"><td><p>CURVE_0004A</p></td>
<td><p>NO</p></td>
<td><p>CURVE::CurveType</p></td>
<td><p>IN</p></td>
<td><p>LI-</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p>BOR,CCYBASIS</p></td>
</tr>
</tbody>
</table>
</div>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Rule</p></th>
<th class="head"><p>MinCondition</p></th>
<th class="head"><p>ParameterLabel</p></th>
<th class="head"><p>Operator</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>CURVE_0005</p></td>
<td><p>NO</p></td>
<td><p>CURVE::ExtrapMethod</p></td>
<td><p>IN</p></td>
<td><p>CONSTANT_FORWARD,</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>CURVE_0007</p></td>
<td><p>NO</p></td>
<td><p>CURVE::OISUseBaseCurve</p></td>
<td><p>IN</p></td>
<td><p>NO,YES</p></td>
</tr>
<tr class="row-even"><td><p>CURVE_0009</p></td>
<td><p>NO</p></td>
<td><p>CURVE::SmoothFutures</p></td>
<td><p>IN</p></td>
<td><p>NO,YES,BACKWARD,</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>CURVE_0010</p></td>
<td><p>NO</p></td>
<td><p>CURVE::SpotLiberUseBaseCurve</p></td>
<td><p>IN</p></td>
<td><p>NO,YES</p></td>
</tr>
<tr class="row-odd"><td><p>CURVE_0011B</p></td>
<td><p>YES</p></td>
<td><p>CURVE::SpreadBuildMethod</p></td>
<td><p>NOT_LIKE</p></td>
<td><p>“<em>,</em>”</p></td>
</tr>
<tr class="row-even"><td><p>CURVE_0011B</p></td>
<td><p>NO</p></td>
<td><p>CURVE::SpreadBuildMethod</p></td>
<td><p>IN</p></td>
<td><p>LINEAR_ZERO,</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>CURVE_0012</p></td>
<td><p>NO</p></td>
<td><p>CURVE::TreasuryUseBaseCurve</p></td>
<td><p>IN</p></td>
<td><p>NO,YES</p></td>
</tr>
<tr class="row-even"><td><p>CURVE_0013</p></td>
<td><p>NO</p></td>
<td><p>CURVE::TurnMethod</p></td>
<td><p>IN</p></td>
<td><p>CONSTANT_CASH,</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>CURVE_0015</p></td>
<td><p>NO</p></td>
<td><p>CURVE::UseType</p></td>
<td><p>IN</p></td>
<td><p>CROSSCCYSWAPDISCOU</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>CURVE_0016</p></td>
<td><p>NO</p></td>
<td><p>CURVE::ExtrapTime</p></td>
<td><p>PASS</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>CURVE_0017</p></td>
<td><p>NO</p></td>
<td><p>CURVE::NaturalTolerance</p></td>
<td><p>LIKE</p></td>
<td><p>*d</p></td>
</tr>
<tr class="row-odd"><td><p>CURVE_0017</p></td>
<td><p>NO</p></td>
<td><p>CURVE::NaturalTolerance (*)d</p></td>
<td><p>≤ 10.0000</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>CURVE_0019</p></td>
<td><p>NO</p></td>
<td><p>CURVE::CCYUseBaseCurve</p></td>
<td><p>IN</p></td>
<td><p>NO,YES</p></td>
</tr>
<tr class="row-odd"><td><p>CURVE_0024</p></td>
<td><p>YES</p></td>
<td><p>CURVE::UseType</p></td>
<td><p>IN</p></td>
<td><p>DISCOUNTBASIS,LIBOR</p></td>
</tr>
<tr class="row-even"><td><p>CURVE_0024</p></td>
<td><p>NO</p></td>
<td><p>CURVE::BaseRateType</p></td>
<td><p>IN</p></td>
<td><p>LIBOR,LIBOR-</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>CURVE_0033</p></td>
<td><p>NO</p></td>
<td><p>CURVE::BaseRateIndexSubType</p></td>
<td><p>PASS</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>CURVE_0034</p></td>
<td><p>NO</p></td>
<td><p>CURVE::OISBaseRateIndexSubType</p></td>
<td><p>PASS</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 37: List of Model Rules related to CURVE component as provided by DBAnalytics.</p>
<section id="issues-identified-during-the-model-parameters-review">
<h3><span class="section-number">1.3.1.8.1. </span>4.8.1 Issues identified during the model parameters review<a class="headerlink" href="#issues-identified-during-the-model-parameters-review" title="Link to this heading">#</a></h3>
<p>The following items have been identified during the MPM validation and have been highlighted to DBAnalytics:</p>
<ol class="arabic simple">
<li><p>In the DBAnalytics file “20200612_dbsmc_mktvol.xlsx”, in model rule MARKETVOL_0013A, MARGINALVOL is listed among the allowed InputModes (together with STRIKEVOL, DELTAVOL and PARAMETRICVOL). However, this mode is not used in the context of DBSMC-RateDeterministic_FXMarket.</p></li>
</ol>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Rule</p></th>
<th class="head"><p>MinCondition</p></th>
<th class="head"><p>ParameterLabel</p></th>
<th class="head"><p>Operator</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0013A</p></td>
<td><p>YES</p></td>
<td><p>VOL::VolName</p></td>
<td><p>EQUAL_TO</p></td>
<td><p>MARKETVOL</p></td>
</tr>
<tr class="row-odd"><td><p>0013A</p></td>
<td><p>NO</p></td>
<td><p>VOL::InputMode</p></td>
<td><p>IN</p></td>
<td><p>STRIKEVOL, DELTAVOL, PARAMETRIC, MARGINALVOL</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 38: Original form of model parameter rule MARKETVOL_0013A, as submitted in “20200612_dbsmc_mktvol.xlsx” file by DBAnalytics.</p>
<p>This issue was highlighted to DBAnalytics and the model rule was updated to the following:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Rule</p></th>
<th class="head"><p>MinCondition</p></th>
<th class="head"><p>ParameterLabel</p></th>
<th class="head"><p>Operator</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0013A</p></td>
<td><p>YES</p></td>
<td><p>VOL::VolName</p></td>
<td><p>EQUAL_TO</p></td>
<td><p>MARKETVOL</p></td>
</tr>
<tr class="row-odd"><td><p>0013A</p></td>
<td><p>YES</p></td>
<td><p>VOL::DiffusionType</p></td>
<td><p>NOT_IN</p></td>
<td><p>FXRATE, CROSSFXRATE</p></td>
</tr>
<tr class="row-even"><td><p>0013A</p></td>
<td><p>NO</p></td>
<td><p>VOL::InputMode</p></td>
<td><p>IN</p></td>
<td><p>STRIKEVOL, DELTAVOL, PARAMETRIC, MARGINALVOL</p></td>
</tr>
<tr class="row-odd"><td><p>0013B</p></td>
<td><p>YES</p></td>
<td><p>VOL::VolName</p></td>
<td><p>EQUAL_TO</p></td>
<td><p>MARKETVOL</p></td>
</tr>
<tr class="row-even"><td><p>0013B</p></td>
<td><p>YES</p></td>
<td><p>VOL::DiffusionType</p></td>
<td><p>IN</p></td>
<td><p>FXRATE, CROSSFXRATE</p></td>
</tr>
<tr class="row-odd"><td><p>0013B</p></td>
<td><p>NO</p></td>
<td><p>VOL::InputMode</p></td>
<td><p>IN</p></td>
<td><p>STRIKEVOL, DELTAVOL, PARAMETRICVOL</p></td>
</tr>
<tr class="row-even"><td><p>0013C</p></td>
<td><p>YES</p></td>
<td><p>VOL::VolName</p></td>
<td><p>EQUAL_TO</p></td>
<td><p>MARKETVOL</p></td>
</tr>
<tr class="row-odd"><td><p>0013C</p></td>
<td><p>NO</p></td>
<td><p>VOL::InputMode</p></td>
<td><p>EQUAL_TO</p></td>
<td><p>PARAMETRICVOL</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 39: Updated form of model parameter rule MARKETVOL_0013A, as submitted by DBAnalytics on 27.07.2020</p>
<ol class="arabic simple" start="2">
<li><p>The only parametric forms allowed for the DBSMC-RateDeterministic_FXMarket model are SA4 and LABGD. The original form of model parameter rule MARKETVOL_0023A, as stated in “20200612_dbsmc_mktvol.xlsx” did not reflect this fact:</p></li>
</ol>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Rule</p></th>
<th class="head"><p>MinCondition</p></th>
<th class="head"><p>ParameterLabel</p></th>
<th class="head"><p>Operator</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0023A</p></td>
<td><p>YES</p></td>
<td><p>VOL::VolName</p></td>
<td><p>EQUAL_TO</p></td>
<td><p>MARKETVOL</p></td>
</tr>
<tr class="row-odd"><td><p>0023A</p></td>
<td><p>YES</p></td>
<td><p>VOL::InputMode</p></td>
<td><p>EQUAL_TO</p></td>
<td><p>PARAMETRICVOL</p></td>
</tr>
<tr class="row-even"><td><p>0023A</p></td>
<td><p>NO</p></td>
<td><p>VOL::SkewType</p></td>
<td><p>IN</p></td>
<td><p>SA4, LABGD, VW12</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 40: Original form of model parameter rule MARKETVOL_0023A, as submitted in “20200612_dbsmc_mktvol.xlsx” file by DBAnalytics.</p>
<p>This issue was highlighted to DBAnalytics, and the model rule was modified to the following form:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Rule</p></th>
<th class="head"><p>MinCondition</p></th>
<th class="head"><p>ParameterLabel</p></th>
<th class="head"><p>Operator</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0023A</p></td>
<td><p>YES</p></td>
<td><p>VOL::VolName</p></td>
<td><p>EQUAL_TO</p></td>
<td><p>MARKETVOL</p></td>
</tr>
<tr class="row-odd"><td><p>0023A</p></td>
<td><p>YES</p></td>
<td><p>VOL::InputMode</p></td>
<td><p>EQUAL_TO</p></td>
<td><p>PARAMETRICVOL</p></td>
</tr>
<tr class="row-even"><td><p>0023A</p></td>
<td><p>YES</p></td>
<td><p>VOL::DiffusionType</p></td>
<td><p>NOT_IN</p></td>
<td><p>FXRATE, CROSSFXRATE</p></td>
</tr>
<tr class="row-odd"><td><p>0023A</p></td>
<td><p>NO</p></td>
<td><p>VOL::SkewType</p></td>
<td><p>IN</p></td>
<td><p>SA4, LABGD, VW12</p></td>
</tr>
<tr class="row-even"><td><p>0023B</p></td>
<td><p>YES</p></td>
<td><p>VOL::VolName</p></td>
<td><p>EQUAL_TO</p></td>
<td><p>MARKETVOL</p></td>
</tr>
<tr class="row-odd"><td><p>0023B</p></td>
<td><p>YES</p></td>
<td><p>VOL::InputMode</p></td>
<td><p>EQUAL_TO</p></td>
<td><p>PARAMETRICVOL</p></td>
</tr>
<tr class="row-even"><td><p>0023B</p></td>
<td><p>YES</p></td>
<td><p>VOL::DiffusionType</p></td>
<td><p>IN</p></td>
<td><p>FXRATE, CROSSFXRATE</p></td>
</tr>
<tr class="row-odd"><td><p>0023B</p></td>
<td><p>NO</p></td>
<td><p>VOL::SkewType</p></td>
<td><p>IN</p></td>
<td><p>SA4, LABGD</p></td>
</tr>
<tr class="row-even"><td><p>0023C</p></td>
<td><p>YES</p></td>
<td><p>VOL::VolName</p></td>
<td><p>EQUAL_TO</p></td>
<td><p>MARKETVOL</p></td>
</tr>
<tr class="row-odd"><td><p>0023C</p></td>
<td><p>YES</p></td>
<td><p>VOL::InputMode</p></td>
<td><p>NOT_EQUAL_TO</p></td>
<td><p>PARAMETRICVOL</p></td>
</tr>
<tr class="row-even"><td><p>0023C</p></td>
<td><p>NO</p></td>
<td><p>VOL::SkewType</p></td>
<td><p>PASS</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 41: Updated form of model parameter rule MARKETVOL_0023A, as submitted by DBAnalytics on 27.07.2020</p>
<ol class="arabic simple" start="3">
<li><p>The only RestrikeType used in the context of DBSMC-RateDeterministic_FXMarket is STICKYPARAMETERS. In model rule MARKETVOL_0021B the ReferenceForwardsMode property is mentioned as part of the RestrikeType=STICKYPARAMETERS mode. This is parameter doesn’t play any role in the context of this RestrikeType mode. However, its value is set to PASS and therefore is not expected to have an impact on the model.</p></li>
<li><p>In model rule MARKETVOL_0047, all VolTermStructures are approved. When comparing the implied volatility values computed by DBAnalytics against the manually computed implied volatility values, we found that the definition of term structure VOLDOUBLEMEANREVADJUSTED6 as stated in [10] and [9] i.e.</p></li>
</ol>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\text{VOLDOUBLEMEANREVADJUSTED6}(T) = \text{VOLDOUBLEMEANREV3}(T)\left(1+\frac{A}{T}\right)\]</div>
</div>
<p>is incorrect and it should be</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\text{VOLDOUBLEMEANREVADJUSTED6}(T) = \text{VOLDOUBLEMEANREV3}(T)\sqrt{1+\frac{A}{T}}\]</div>
</div>
<p>This issue was highlighted to DBAnalytics, in order to have the relevant developer documents corrected.</p>
</section>
<section id="modelmode">
<h3><span class="section-number">1.3.1.8.2. </span>4.8.2 ModelMode<a class="headerlink" href="#modelmode" title="Link to this heading">#</a></h3>
<p>The property ModelMode present in the DBAnalytics DBSMC MODEL object is used in relation to the pricing conventions. Setting ModelMode=PRICE means the price is computed at the valuation date (stated in the CURVE object), while setting ModelMode=PRICEVALUETWODAY subtracts two days from the option expiry and the settle day of the curve to derive the number of volatility days and returns price to valuation date. We examine in the correct implementation of this property we consider a dictionary (Dictionary_1) containing a call option on the USD/EUR FX rate, with strike 1.49 and USD/EUR spot value 1.0942. The dictionary contains a MARKETVOL object of InputType DELTAVOL with input delta volatilities given under the form of a (DN, RR, CVX) term structure. A MODELVOL object and an EXTRAINFO object used to fit an SA4 functional form. The pay currency of the trade is USD and the funding curve (i.e. the curve under which discounting is done) is the OIS USD discount curve. We consider the following two scenarios:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Scenario</p></th>
<th class="head"><p>ModelMode</p></th>
<th class="head"><p>ValuationDate</p></th>
<th class="head"><p>SettlementDate</p></th>
<th class="head"><p>CCYSwapSettlementDate</p></th>
<th class="head"><p>FXSettlementDate</p></th>
<th class="head"><p>Exercise Date</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Scenario 1</p></td>
<td><p>PRICE</p></td>
<td><p>30/04/2020</p></td>
<td><p>05/05/2020</p></td>
<td><p>05/05/2020</p></td>
<td><p>05/05/2020</p></td>
<td><p>07/09/2030</p></td>
</tr>
<tr class="row-odd"><td><p>Scenario 2</p></td>
<td><p>PRICEVALUETWODAY</p></td>
<td><p>30/04/2020</p></td>
<td><p>07/05/2020</p></td>
<td><p>07/05/2020</p></td>
<td><p>07/05/2020</p></td>
<td><p>09/09/2030</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 42: Scenarios considered.</p>
<p>We show that the price and implied volatility values computed in the two scenarios corresponding to ModelMode=PRICE and ModelMode=PRICEVALUETWODAY are equal. The results of the test are presented in the following table:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>ModelMode</p></th>
<th class="head"><p>Scenario 1</p></th>
<th class="head"><p>Scenario 2</p></th>
<th class="head"><p>Abs.Diff.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Price</p></td>
<td><p>61316.6278</p></td>
<td><p>61316.6278</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>Implied Vol.</p></td>
<td><p>0.0969328468</p></td>
<td><p>0.0969328468</p></td>
<td><p>0</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 43: Price and implied BS volatility for call option. The results are in line with expectations and show that there are no differences between implied volatilities and prices computed in Scenario 1 under mode ModelMode=PRICE and the implied vols and prices computed in Scenario 2 under ModelMode=PRICEVALUETWODAY; since ModelMode=PRICEVALUETWODAY of Scenario 2 will subtract two days from the SettlementDate=07/05/2020 and ExerciseDate=09/09/2030, making these dates coincide with the corresponding dates of Scenario 1.</p>
</section>
<section id="usenewsvd">
<h3><span class="section-number">1.3.1.8.3. </span>4.8.3 UseNewSVD<a class="headerlink" href="#usenewsvd" title="Link to this heading">#</a></h3>
<p>The UseNewSVD parameters can be set to NO or ALGLIB, where the latter option points to ALGLIB, a numerical analysis and data processing library described at <a class="reference external" href="https://www.alglib.net/docs.php">https://www.alglib.net/docs.php</a>. We compare the price and implied volatilities of the products in scope of the model (FXEuroOpt, FXDigitalOpt, FXGeometricBasketOpt ) computed in modes UseNewSVD=NO and UseNewSVD=ALGLIB. The results are summarized in the following table:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Option Type</p></th>
<th class="head"><p>FXEuroOpt</p></th>
<th class="head"><p>FXDigital Opt</p></th>
<th class="head"><p>FXGeometricBasketOpt</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Price (NO)</p></td>
<td><p>61371.3057</p></td>
<td><p>10540.8996</p></td>
<td><p>10565.3359</p></td>
</tr>
<tr class="row-odd"><td><p>Price (ALGLIB)</p></td>
<td><p>61371.3057</p></td>
<td><p>10540.8996</p></td>
<td><p>10565.3359</p></td>
</tr>
<tr class="row-even"><td><p>Abs.Diff.</p></td>
<td><p>0.0</p></td>
<td><p>0.0</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>Implied BS vol (NO)</p></td>
<td><p>0.096941</p></td>
<td><p>0.07468461</p></td>
<td><p>0.0828893901</p></td>
</tr>
<tr class="row-even"><td><p>Implied BS vol (ALGLIB)</p></td>
<td><p>0.096941</p></td>
<td><p>0.07468461</p></td>
<td><p>0.0828893901</p></td>
</tr>
<tr class="row-odd"><td><p>Abs. Diff.</p></td>
<td><p>0.0</p></td>
<td><p>0.0</p></td>
<td><p>0.0</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 44: Price and implied BS volatility for products in scope of DBSMC-RateDeterministic_FXMarket. The results show that there are no differences between the modes UseNewSVD=NO and UseNewSVD=ALGLIB.</p>
</section>
<section id="recalibcurves">
<h3><span class="section-number">1.3.1.8.4. </span>4.8.4 RecalibCurves<a class="headerlink" href="#recalibcurves" title="Link to this heading">#</a></h3>
<p>The property can be set to YES or NO and determines whether the curve re-calibration is performed or not. We examine this property in the context of the following dictionaries:</p>
<ol class="arabic simple">
<li><p>Dictionary_1 contains a call option on the USD/EUR FX rate, with valuation date 29/04/2020, maturity date 09/08/2030 and strike 1.49. The USD/EUR spot value is 1.0942. The dictionary contains a MARKETVOL object of InputType DELTAVOL with input delta volatilities given under the form of a (DN, RR, CVX) term structure. A MODELVOL object and an EXTRAINFO object are used to fit an SA4 functional form. The pay currency of the trade is USD and the funding curve (i.e. the curve under which discounting is done) is the OIS USD discount curve.</p></li>
<li><p>Dictionary_2 contains a call option on the USD/GBP rate with valuation date 29/10/2019, maturity date 09/11/2029 and strike 1.25. The USD/GBP spot value is 1.293. The dictionary contains a MARKETVOL object of InputType DELTAVOL with input delta volatilities given under the form of a (DN, RR, CVX) term structure. A MODELVOL object and an EXTRAINFO object are used to fit an SA4 functional form.The pay currency of the trade is USD and the funding curve (i.e. the curve under which discounting is done) is the OIS HUF discount curve.</p></li>
</ol>
<p>Note that the above securities use different funding curves. In the case of the first security, which is a call option on the the USD/EUR FX rate with pay currency USD, the domestic interest rate curve is USD and the foreign interest rate curve is EUR. The funding curve is the OIS USD rate. In the case of the second security, which is a call option on the USD/GBP rate, the domestic interest rate curve is USD, the foreign interest rate curve is EUR and the funding curve is the OIS HUF rate. The impact of the RecalibCurves property is relevant when computing the risk sensitivities as the following table shows:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Dictionary</p></th>
<th class="head"><p></p></th>
<th class="head"><p>RecalibCurves=YES</p></th>
<th class="head"><p>RecalibCurves=NO</p></th>
<th class="head"><p>Abs. Diff.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Dictionary_1</p></td>
<td><p>Option Price</p></td>
<td><p>61371.30579</p></td>
<td><p>61371.3044</p></td>
<td><p>0.0013</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>Implied BS vol.</p></td>
<td><p>0.09694105</p></td>
<td><p>0.09694105</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>DELTA (USD)</p></td>
<td><p>-264.763543</p></td>
<td><p>-265.40175</p></td>
<td><p>0.63</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>DELTA (EUR)</p></td>
<td><p>329.86017</p></td>
<td><p>330.18850</p></td>
<td><p>0.31</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>OISSPREADDELTA (USD)</p></td>
<td><p>-1.766689</p></td>
<td><p>-333.308</p></td>
<td><p>331.54</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>OISSPREADDELTA (EUR)</p></td>
<td><p>2.38972</p></td>
<td><p>2.39165</p></td>
<td><p>0.0019</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>CCYSPREADDELTA (EUR)</p></td>
<td><p>331.77531</p></td>
<td><p>332.09518</p></td>
<td><p>0.319</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>DISCOUNTEDSPREADDELTA (USD)</p></td>
<td><p>63.942150</p></td>
<td><p>63.942148</p></td>
<td><p>0.000002</p></td>
</tr>
<tr class="row-even"><td><p>Dictionary_2</p></td>
<td><p>Option Price</p></td>
<td><p>217721.3912</p></td>
<td><p>217719.32799</p></td>
<td><p>2.062</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>Implied BS vol.</p></td>
<td><p>0.10991</p></td>
<td><p>0.10991</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>DELTA (USD)</p></td>
<td><p>-641.258</p></td>
<td><p>-645.268</p></td>
<td><p>4.01</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>DELTA (GBP)</p></td>
<td><p>862.8669</p></td>
<td><p>863.52073</p></td>
<td><p>0.833</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>DELTA (HUF)</p></td>
<td><p>-0.03</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>OISSPREADDELTA (USD)</p></td>
<td><p>0.0453265</p></td>
<td><p>-876.473</p></td>
<td><p>876.42</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>OISSPREADDELTA (GBP)</p></td>
<td><p>1.00797</p></td>
<td><p>1.008538</p></td>
<td><p>0.00056</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>OISSPREADDELTA (HUF)</p></td>
<td><p>0.00028</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>CCYSPREADDELTA (GBP)</p></td>
<td><p>862.327</p></td>
<td><p>863.1617</p></td>
<td><p>0.83</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>CCYSPREADDELTA (HUF)</p></td>
<td><p>-221.030</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
</tr>
<tr class="row-even"><td><p></p></td>
<td><p>DISCOUNTEDSPREADDELTA (USD)</p></td>
<td><p>-</p></td>
<td><p>220.615</p></td>
<td><p>-</p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p>DISCOUNTEDSPREADDELTA (HUF)</p></td>
<td><p>220.999</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 45: Impact of RecalibCurves property on the option’s price,implied BS volatility and risk sensitivities OIS-SPREADDELTA, CCYSPREADDELTA and DISCOUNTEDSPREADDELTA .</p>
<p>We can see that in the case of EOD pricing the impact of RecalibCurves on the option’s price and implied BS volatility is negligible. However, the property RecalibCurves is relevant when computing the risk sensitivities OISSPREADDELTA, CCYSPREADDELTA and DISCOUNTEDSPREADDELTA. Remember that these risk sensitivities are computed by applying parallel up and down shifts to default spreads as follows (e.g. for average):</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[xDELTA = \frac{PV(s_x - e) - PV(s_x + e)}{2}$$ $$x \in \{OIS,CCY,DISCOUNT\},\]</div>
</div>
<p>Note that when shifting for example OIS spreads several others spreads such as CCY spreads and discount spreads need to be adjusted. This re-calibration is done by setting the property RECALIBCURVES to YES, which is the recommended option when computing risk sensitivities such as OISSPREADDELTA, CCYSPREADDELTA and DISCOUNTEDSPREADDELTA . The re-calibration ensures that changes applied to one spread are propagated accordingly to interconnected spreads corresponding to the same or different curves.</p>
</section>
<section id="calibtype">
<h3><span class="section-number">1.3.1.8.5. </span>4.8.5 CalibType<a class="headerlink" href="#calibtype" title="Link to this heading">#</a></h3>
<p>The CalibType property typically can be chosen among the options: CALVOL, CALVOLROBUST, CALPRICE, CALPRICEWEIGHTED and CALTILEVOL. However, in the case of the DBSMC model configuration the property is not used i.e. has no impact on the pricing. We confirm this by pricing Dictionary_1 (described above) using different CalibType options.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>CalibType</p></th>
<th class="head"><p>Option Price</p></th>
<th class="head"><p>Implied BS Vol.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>CALVOL</p></td>
<td><p>61371.3057999</p></td>
<td><p>0.0969410562</p></td>
</tr>
<tr class="row-odd"><td><p>CALVOLROBUST</p></td>
<td><p>61371.30579999</p></td>
<td><p>0.0969410562</p></td>
</tr>
<tr class="row-even"><td><p>CALPRICE</p></td>
<td><p>61371.30579999</p></td>
<td><p>0.0969410562</p></td>
</tr>
<tr class="row-odd"><td><p>CALPRICEWEIGHTED</p></td>
<td><p>61371.3057999</p></td>
<td><p>0.0969410562</p></td>
</tr>
<tr class="row-even"><td><p>CALTILEVOL</p></td>
<td><p>61371.30579999</p></td>
<td><p>0.0969410562</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 46: Price and implied BS volatility for call option on USD/EUR FX rate when using different CalibType options. The results show that CalibType property does not affect the pricing performed in the DBSMC model configuration, which is in line with expectations.</p>
</section>
<section id="maxiter">
<h3><span class="section-number">1.3.1.8.6. </span>4.8.6 MaxIter<a class="headerlink" href="#maxiter" title="Link to this heading">#</a></h3>
<p>According to [11], MaxIter property is used in the INFECTIOUS BET model when the parameters of this model needs to be calibrated, since it defines the number of iterations that can be performed in the calibration. Therefore, the property has no impact on the present model configuration. We confirm this by pricing Dictionary_1 (described above) using different MaxIter values.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>MaxIter</p></th>
<th class="head"><p>Option Price</p></th>
<th class="head"><p>Implied BS Vol.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>61371.3057999</p></td>
<td><p>0.0969410562</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>61371.30579999</p></td>
<td><p>0.0969410562</p></td>
</tr>
<tr class="row-even"><td><p>10</p></td>
<td><p>61371.30579999</p></td>
<td><p>0.0969410562</p></td>
</tr>
<tr class="row-odd"><td><p>20</p></td>
<td><p>61371.3057999</p></td>
<td><p>0.0969410562</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 47: Price and implied BS volatility for call option on USD/EUR FX rate when using different MaxIter values. The results show that MaxIter property does not affect the pricing performed in the DBSMC model configuration, which is in line with expectations.</p>
</section>
<section id="time-conventions-properties">
<h3><span class="section-number">1.3.1.8.7. </span>4.8.7 Time conventions properties<a class="headerlink" href="#time-conventions-properties" title="Link to this heading">#</a></h3>
<p>In this section we examine the impact and correct implementation of the properties: BusinessTimeVols, WeekendWeight, HolidayWeight, DayWeightsInterpolation, WeightsReference. For our testing we consider the following dictionary ( which we denote Dictionary_1) that contains a call option on the USD/AUD FX rate with maturity date 31/10/2029, strike value 0.68315 and valuation date 25/10/2019. The USD/AUD FX spot rate is 0.68315 and the FX volatility is given under the form of MARKETVOL of InputType DELTAVOL containing a term structure of DN volatilities.
The parameter BusinessTimeVols determines whether the volatilities relate to business time or actual time. When set to YES, the time corresponding to a given expiry is then calculated as the number of business days between valuation date and expiry (using the calendar specified in HolidayCities) divided by BusinessDaysPerYear. If BusinessTimeVols is set to YES, then the BusinessDaysPerYear parameter must also be set (e.g. 252) and the parameters WeekendWeight and HolidayWeight must be</p>
<p>set to 0 for consistency. When BusinessTimeVols = NO the default value of the parameter BusinessDaysPerYear is NONE. BusinessTimeVols can be used in conjunction with BusinessTimeNormalize = YES and DayWeights. BusinessTimeNormalize will renormalize weighted time between input dates (offsets or vol dates) to business time while still taking into account weights for each date.
The properties DayWeightsInterpolation and WeightsReference play a role in the calculation of the volatility dayweights between two points specified in the original volatility structure.
We exemplify the above notions using Dictionary_1, which has the following input DN term structure:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Dates</p></th>
<th class="head"><p>C=P</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>20191101 (1W)</p></td>
<td><p>0.0717000801</p></td>
</tr>
<tr class="row-odd"><td><p>20191108 (2W)</p></td>
<td><p>0.0700481575</p></td>
</tr>
<tr class="row-even"><td><p>20191125 (1M)</p></td>
<td><p>0.0683174443</p></td>
</tr>
<tr class="row-odd"><td><p>20191227 (2M)</p></td>
<td><p>0.0666254793</p></td>
</tr>
<tr class="row-even"><td><p>20200128 (3M)</p></td>
<td><p>0.0670218553</p></td>
</tr>
<tr class="row-odd"><td><p>20200427 (6M)</p></td>
<td><p>0.071451527</p></td>
</tr>
<tr class="row-even"><td><p>20200727 (9M)</p></td>
<td><p>0.0742359618</p></td>
</tr>
<tr class="row-odd"><td><p>20201026 (1Y)</p></td>
<td><p>0.0763699081</p></td>
</tr>
<tr class="row-even"><td><p>20211026 (2Y)</p></td>
<td><p>0.0820209313</p></td>
</tr>
<tr class="row-odd"><td><p>20221025 (3Y)</p></td>
<td><p>0.0850251215</p></td>
</tr>
<tr class="row-even"><td><p>20231025 (4Y)</p></td>
<td><p>0.0877812677</p></td>
</tr>
<tr class="row-odd"><td><p>20241025 (5Y)</p></td>
<td><p>0.0902226245</p></td>
</tr>
<tr class="row-even"><td><p>20251027 (6Y)</p></td>
<td><p>0.0952045785</p></td>
</tr>
<tr class="row-odd"><td><p>20261026 (7Y)</p></td>
<td><p>0.0945893403</p></td>
</tr>
<tr class="row-even"><td><p>20271025 (8Y)</p></td>
<td><p>0.1014176569</p></td>
</tr>
<tr class="row-odd"><td><p>20281025 (9Y)</p></td>
<td><p>0.1035646096</p></td>
</tr>
<tr class="row-even"><td><p>20291025 (10Y)</p></td>
<td><p>0.1052473291</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 48: Input DN volatility term-structure.</p>
<p>We set the time conventions properties as follows: BusinessTimeVols is set to NO and BusinessDaysPerYear is set to NONE. The dictionary relies on the flat forward volatility interpolation method (VolMode = CONSTANT_LV) for weekly intervals, which is the approved time-interpolation method for the DBSM-RateDeterministic_FXMarket model. We plot the forward variances for the intervals [i weeks, i + 1 weeks], covering the total 10 year period. Since in the case of Dictionary_1 the input volatility is given only in terms of DN volatility deltas, the plot will be constant between maturities 1W, 2W, 1M, 2M, 3M, 6M, 1Y, 2Y,…9Y and 10Y, in accordance with the flat forward interpolation method.
Without dayweights the forwards volatilities are constant on the intervals [Ti, Ti+1], with Ti ∈ {1W, 2W, 1M, 2M, 3M, 6M, 1Y, 2Y,…9Y, 10Y}. Dayweights can be used to vary the the implied forward volatilities on the intervals [Ti, Ti+1]. DayWeights can be added directly, by adding a DayWeights subtable to the MARKETVOL object or indirectly, by adding volatilities via the VolsForDayWeights subtable.
We add to the MARKETVOL object of Dictionary_1 a DayWeights subtable containing daily weights {w1,…w365} corresponding to the time points T0 = t0 &lt; t1 &lt; … &lt; t365 = T1 where T0 is the valuation date and T1 = 1Y . We check that the dayweights satisfy the required constraint:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\sum_{k=1}^{365} w_k(t_{k+1} - t_k) = T_1 - T_0 = 1\]</div>
</div>
<p><img alt="Figure 127: Upper Row: Forward variance for Dictionary_1 corresponding to the FX rate USD/EUR (left)for the intervals [i weeks, i + 1 weeks]. The data covers a 1Y period beginning from the valuation date (upper left) and 10Y period starting from the valuation date (upper right).Lower Row: Forward variance for Dictionary_1 corresponding to the FX rate USD/EUR (left) for the intervals [i weeks, i + 1 weeks] after adding a DayWeights subtable to the MARKETVOL object. The data covers a 1Y period beginning from the valuation date (lower left) and 10Y period starting from the valuation date (lower right). We cleary see the impact of the DayWeigths on the forward variance during the first year." src="market/DBSMC/Fig/56.png" /></p>
<p>In the absence of dayweights, the implied volatility σ(t) at timepoint t ∈ [Ti, Ti+1] where Ti, Ti+1 is from the set of Dates listed in the Vols subtable of the MARKETVOL object is defined according to the CONSTANT_LV interpolation rule:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\sigma(t)^2t = \sigma(T_i)^2T_i + \frac{t - T_i}{T_{i+1} - T_i}\{\sigma(T_{i+1})^2T_{i+1} - \sigma(T_i)^2T_i\}\]</div>
</div>
<p>In the presence of dayweights, the implied volatility sigma σ(t) at timepoint t ∈ [Ti, Ti+1] will be computed according to the weights-adjusted CONSTANT_LV interpolation rule:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\sigma(t)^2t = \sigma(T_i)^2T_i + e\{\sigma(T_{i+1})^2T_{i+1} - \sigma(T_i)^2T_i\}\]</div>
</div>
<p>where</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[e = \frac{\sum_{j:T_i&lt;t_j\leq t} w(t_j)}{\sum_{j:T_i&lt;t_j\leq T_{i+1}} w(t_j)}\]</div>
</div>
<p>where tj are daily points between Ti and Ti+1 and w(tj) represent the weights corresponding to each point. We examine the correctness of the implementation by comparing the DBAnalytics computed implied BS volatilities against their analytically computed values, using the above formulas. We focus on the time period 01/11/2019 - 08/11/2019:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Dates</p></th>
<th class="head"><p>Weights</p></th>
<th class="head"><p>Input Vol</p></th>
<th class="head"><p>DBA_Vols (DayWeights)</p></th>
<th class="head"><p>An_Vols (DayWeights)</p></th>
<th class="head"><p>Abs.Diff</p></th>
<th class="head"><p>DBA_Vols</p></th>
<th class="head"><p>An_Vols</p></th>
<th class="head"><p>Abs.D</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>20191101</p></td>
<td><p>1.4</p></td>
<td><p>0.0717000801</p></td>
<td><p>0.0717000801</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>0.0717000801</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
</tr>
<tr class="row-odd"><td><p>20191102</p></td>
<td><p>1.4</p></td>
<td><p>-</p></td>
<td><p>0.0729101742</p></td>
<td><p>0.0729101742</p></td>
<td><p>≤ 1e-12</p></td>
<td><p>0.0712961966</p></td>
<td><p>0.0712961966</p></td>
<td><p>≤1e-3</p></td>
</tr>
<tr class="row-even"><td><p>20191103</p></td>
<td><p>1.4</p></td>
<td><p>-</p></td>
<td><p>0.0738376449</p></td>
<td><p>0.0738376449</p></td>
<td><p>≤1e1-0</p></td>
<td><p>0.0708997831</p></td>
<td><p>0.0708978206</p></td>
<td><p>≤1e-6</p></td>
</tr>
<tr class="row-odd"><td><p>20191104</p></td>
<td><p>1.4</p></td>
<td><p>-</p></td>
<td><p>0.0745713226</p></td>
<td><p>0.0745713226</p></td>
<td><p>≤1e-08</p></td>
<td><p>0.0707129958</p></td>
<td><p>0.0707123888</p></td>
<td><p>≤1e-5</p></td>
</tr>
<tr class="row-even"><td><p>20191105</p></td>
<td><p>0</p></td>
<td><p>-</p></td>
<td><p>0.0751668755</p></td>
<td><p>0.0711009743</p></td>
<td><p>0.0040</p></td>
<td><p>0.0705910790</p></td>
<td><p>0.0705107536</p></td>
<td><p>≤1e-3</p></td>
</tr>
<tr class="row-odd"><td><p>20191106</p></td>
<td><p>0</p></td>
<td><p>-</p></td>
<td><p>0.0719662307</p></td>
<td><p>0.0680739993</p></td>
<td><p>0.0038</p></td>
<td><p>0.0703245119</p></td>
<td><p>0.0703245125</p></td>
<td><p>≤1e-7</p></td>
</tr>
<tr class="row-even"><td><p>20191107</p></td>
<td><p>1.4</p></td>
<td><p>-</p></td>
<td><p>0.0691423178</p></td>
<td><p>0.0691423918</p></td>
<td><p>≤1e-6</p></td>
<td><p>0.0701774766</p></td>
<td><p>0.0701747466</p></td>
<td><p>≤1e-3</p></td>
</tr>
<tr class="row-odd"><td><p>20191108</p></td>
<td><p>1.4</p></td>
<td><p>0.0700481574</p></td>
<td><p>0.0700481574</p></td>
<td><p>0.0700481574</p></td>
<td><p>≤1e-10</p></td>
<td><p>0.0700481574</p></td>
<td><p>0.0700481575</p></td>
<td><p>≤1e-3</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 49: Input DN volatility term-structure.</p>
<p>The above table shows that under the time conventions BusinessTimeVols=NO and BusinessDaysPerYear=NONE, and in the presence and absence of DayWeights, the implied BS volatilities computed by DBAnalytics are in line with the analytically computed values, confirming the correct implementation of the properties BusinessTimeVols and BusinessDaysPerYear. Note that in the above computations, the parameter DayWeightsInterpolation is set to PWCONST_L. The interpretation of the parameter is the following: for a daily time interval [ti, ti+1] where w(ti) represents the weight at timepoint ti, setting DayWeightsInterpolation=PWCONST_R will associate the weight w(tj) to the interval [ti, ti+1], while setting DayWeightsInterpolation=PWCONST_R will associate the weight w(ti+1) to the interval [ti, ti+1]. The impact of the DayWeightsInterpolation type is negligible.</p>
<p>We extend now the testing to the following four scenarios:</p>
<ol class="arabic simple">
<li><p>BusinessTimeVols=NO and BusinessDaysPerYear=NONE without DayWeights subtable,</p></li>
<li><p>BusinessTimeVols=NO and BusinessDaysPerYear=NONE with DayWeights subtable present in the MARKETVOL object,</p></li>
<li><p>BusinessTimeVols=YES and BusinessDaysPerYear=252 without DayWeights subtable,</p></li>
<li><p>BusinessTimeVols=YES and BusinessDaysPerYear=252 with DayWeights subtable present in the MARKETVOL object.</p></li>
</ol>
<p>As recommended in [9] and [12], when setting the properties BusinessTimeVols=YES and BusinessDaysPerYear=252, we set the properties HolidayWeights=0 and WeekendWeights=0. The following figure shows that, under different time conventions and in the presence and absence of DayWeights, the forward volatilities remain non-negative:</p>
<p><img alt="Figure 128: Different Time conventions." src="market/DBSMC/Fig/57.png" /></p>
<p>The following figures compare the price of the call option as function of maturity under the two time conventions, in the presence and absence of DayWeights.</p>
<p><img alt="Figure 129: Upper left: Option prices as function of maturity computed under standard time and business time. Upper right: relative difference between option price computed under standard time and option price computed under business time for different maturities. Lower left: Option prices as function of maturity computed under standard time and business time and in the presence of DayWeights. Lower right: relative difference between option price computed under standard time and option price computed under business time for different maturities, and in the presence of DayWeights" src="market/DBSMC/Fig/58.png" /></p>
<p>As expected, the call option’s price computed under the standard time is always greater than the price computed under the business time. The relative differences between the option’s implied BS volatilities corresponding to different maturities ranging from 3M to 10Y, computed under standard time and business time conventions, and in the presence and absence of DayWeights are presented in the following figures:</p>
<p><img alt="Figure 130: Left: Relative difference between the implied BS volatilities corresponding to options with maturities ranging from 3M to 10Y, computed under standard time convention and business time conventions. Right: Relative difference between the implied BS volatilities corresponding to options with maturities ranging from 3M to 10Y, computed under standard time convention and business time conventions and in the presence of DayWeights." src="market/DBSMC/Fig/59.png" /></p>
</section>
<section id="inputmode">
<h3><span class="section-number">1.3.1.8.8. </span>4.8.8 InputMode<a class="headerlink" href="#inputmode" title="Link to this heading">#</a></h3>
<p>DBAnalytics VOL objects of VolName=MARKETVOL store static information about the implied volatility surface of the underlying. In the case of DBSMC-RateDeterministic_FXMarket, the MARKETVOL object can be of the following input modes: STRIKEVOL, DELTAVOL and PARAMETRICVOL. The input type is set in DBAnalytics by the property InputMode.</p>
<p>If InputMode is STRIKEVOL or DELTAVOL, the volatilities are defined by interpolation/extrapolation off the input volatility surface. If InputMode is STRIKEVOL, the input information is specified in two subtables of equal length, Vols and Strikes. The first column of each subtable stores the time data to which the data applies to. The values in the Strike’s subtable can be actual strikes (if StrikeType is ABSOLUTE) or distances to the forward (if StrikeType is FORWADDIFF)^14.</p>
<p>If InputMode is DELTAVOL, the input information is specified in a single subtable called Vols. The first subcolumn of this subtable is called Dates and stores the time points to which the input information applies to. The remaining columns have headers such as ATMF (which corresponds to strike equal to forward), DN (equivalent to C=P, corresponds to the delta-neutral straddle strike, i.e. a strike K_DN chosen such that ∆^call(T, K_DN, σ_DN) + ∆^put(T, K_DN, σ_DN) = 0 i.e. the strike at which is possible to buy a straddle that will have 0 delta and a long vega position) or individual deltas (e.g. 10C,10P, 25C, 25P). Each delta is a function of forward, strike, volatility, maturity and discount factor. The exact definition that is used for delta is controlled by the property DeltaType, and can be SPOTRISK, FORWARDRISK, etc. For a complete list of delta types available in DBAnalytics, we refer to Section 4.2. in [10].</p>
<p>^14For example, if the forward value is 100, the implied volatility for strike 110 will be stored as an input with StrikeType ABSOLUTE and corresponding strike value of 110 or can be stored as an input with StrikeType FORWADDIFF and corresponding strike value of 10</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Dates</p></th>
<th class="head"><p>10P</p></th>
<th class="head"><p>DN</p></th>
<th class="head"><p>10C</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>20170913</p></td>
<td><p>0.12368</p></td>
<td><p>0.09462</p></td>
<td><p>0.08863</p></td>
</tr>
<tr class="row-odd"><td><p>20171213</p></td>
<td><p>0.14512</p></td>
<td><p>0.10324</p></td>
<td><p>0.09453</p></td>
</tr>
<tr class="row-even"><td><p>20180613</p></td>
<td><p>0.17044</p></td>
<td><p>0.11107</p></td>
<td><p>0.09752</p></td>
</tr>
<tr class="row-odd"><td><p>20190613</p></td>
<td><p>0.18412</p></td>
<td><p>0.11673</p></td>
<td><p>0.10111</p></td>
</tr>
<tr class="row-even"><td><p>20200613</p></td>
<td><p>0.19908</p></td>
<td><p>0.12258</p></td>
<td><p>0.10473</p></td>
</tr>
<tr class="row-odd"><td><p>20220613</p></td>
<td><p>0.22552</p></td>
<td><p>0.13547</p></td>
<td><p>0.11225</p></td>
</tr>
<tr class="row-even"><td><p>20240613</p></td>
<td><p>0.23356</p></td>
<td><p>0.14483</p></td>
<td><p>0.11749</p></td>
</tr>
<tr class="row-odd"><td><p>20270611</p></td>
<td><p>0.24475</p></td>
<td><p>0.15809</p></td>
<td><p>0.1241</p></td>
</tr>
<tr class="row-even"><td><p>20320613</p></td>
<td><p>0.2513</p></td>
<td><p>0.15209</p></td>
<td><p>0.1171</p></td>
</tr>
<tr class="row-odd"><td><p>20370613</p></td>
<td><p>0.24961</p></td>
<td><p>0.15209</p></td>
<td><p>0.11487</p></td>
</tr>
<tr class="row-even"><td><p>20470613</p></td>
<td><p>0.24752</p></td>
<td><p>0.15209</p></td>
<td><p>0.11708</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 50: Example of input volatility surface for AUD/JPY FX rate of type DELTAVOL expressed as a combination of (10P, DN, 10C).</p>
<p>In the case of FX volatilities, an alternative way to input volatilities under InputType DELTAVOL is indirectly, using quantities such as DN, Risk Reversal (RR), FLY and CVX. In a typical Vols subtable of this type, the column DN will store a term structure of DN implied vols σ_DN . The information stored under column 10RR is derived as:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[10RR = σ_{10C} - σ_{10P}\]</div>
</div>
<p>The information stored under column FLY is defined as the number f that satisfies the equation:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[C_{BS}(K_{10C},σ_{DN} + f) + P_{BS}(K_{10P}, σ_{DN} + f) = C_{BS}(K_{10C}, σ_{10C}) + P_{BS}(K_{10P}, σ_{10P})\]</div>
</div>
<p>where K_{10C} represents the strike for which the call delta is 10%. The information stored under column CVX is defined as:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[10CVX = \frac{σ_{10C} + σ_{10P}}{2} - σ_{DN}\]</div>
</div>
<p>When DELTAVOL is expressed as a combination of (DN, RR, CVX) or (DN, RR, FLY), DBAnalytics converts internally this information into individual delta vols and these are used as model inputs. If the input is given in a combination (DN, RR, FLY) a numerical search is needed to determine the individual vols. If the input is given as a combination (DN, RR, CVX) a numerical search can be avoided if for every delta RR the corresponding delta CVX is available, i.e. the inputs are of the form:10RR and 10CVX, 25RR and 25CVX, etc.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Dates</p></th>
<th class="head"><p>DN</p></th>
<th class="head"><p>25 RR</p></th>
<th class="head"><p>10CVX</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>3m</p></td>
<td><p>0.0689</p></td>
<td><p>-0.00643</p></td>
<td><p>0.01251</p></td>
</tr>
<tr class="row-odd"><td><p>6m</p></td>
<td><p>0.06979</p></td>
<td><p>-0.00771</p></td>
<td><p>0.01503</p></td>
</tr>
<tr class="row-even"><td><p>1y</p></td>
<td><p>0.07258</p></td>
<td><p>-0.00931</p></td>
<td><p>0.01808</p></td>
</tr>
<tr class="row-odd"><td><p>2y</p></td>
<td><p>0.07727</p></td>
<td><p>-0.00948</p></td>
<td><p>0.01588</p></td>
</tr>
<tr class="row-even"><td><p>3y</p></td>
<td><p>0.08284</p></td>
<td><p>-0.00712</p></td>
<td><p>0.01829</p></td>
</tr>
<tr class="row-odd"><td><p>5y</p></td>
<td><p>0.08795</p></td>
<td><p>-0.00534</p></td>
<td><p>0.01834</p></td>
</tr>
<tr class="row-even"><td><p>7y</p></td>
<td><p>0.0912</p></td>
<td><p>-0.00356</p></td>
<td><p>0.01882</p></td>
</tr>
<tr class="row-odd"><td><p>10y</p></td>
<td><p>0.09384</p></td>
<td><p>-0.00201</p></td>
<td><p>0.01917</p></td>
</tr>
<tr class="row-even"><td><p>15y</p></td>
<td><p>0.10184</p></td>
<td><p>-0.00218</p></td>
<td><p>0.01417</p></td>
</tr>
<tr class="row-odd"><td><p>20y</p></td>
<td><p>0.11234</p></td>
<td><p>-0.00196</p></td>
<td><p>0.01247</p></td>
</tr>
<tr class="row-even"><td><p>30y</p></td>
<td><p>0.12214</p></td>
<td><p>-0.00226</p></td>
<td><p>0.01217</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 51: Example of input volatility surface for USD/EUR FX rate of type DELTAVOL expressed as a combination of (DN, RR, CVX).</p>
<p>If InputMode is PARAMETRICVOL, the volatilities are constructed with the help of parametric functions calibrated to the input volatility surfaces. Several functional forms are available in DBAnalytics: SA4, VW12, LABGD, SABR3FORMULAPD and SABR4. The choice of the functional form is made by the property SkewType, see subsection 4.8.9. At the time of MPM rules review (Q3 2020), only SkewTypes SA4 and LABGD are approved for the present model. The parameters of the volatility function are fitted against an input volatility surface using the MarketVolFunction P/VAUTOFIT.</p>
<p>Note that in the original DBAnalytics submission, MARGINALVOL is listed among the allowed InputModes for the model DBSMC-RateDeterministic_FXMarket. However, this was an error that has been corrected, see Section 4.8.1. Testing around the above concepts can be found in Section 4.8.21.</p>
</section>
<section id="skewtype">
<h3><span class="section-number">1.3.1.8.9. </span>4.8.9 SkewType<a class="headerlink" href="#skewtype" title="Link to this heading">#</a></h3>
<p>If the InputMode is set to PARAMETRICVOL, the volatilities are defined with the help of parametric functions calibrated to the input volatility surface. For the model DBSMC-RateDeterministic_FXMarket only the functional forms SA4 and LABGD are allowed. The parameters of each functional form are fitted against an input volatility surface using the MarketVolFunction P/VAUTOFIT.</p>
<p>Each P/V function is expressed as a function of the normalized strike z defined as:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[z = \frac{\ln(K/F(0,T))}{σ_{ATMF}\sqrt{T}}\]</div>
</div>
<p>where K is the strike, F(0,T) is the forward and σ_{ATMF} represents the volatility corresponding to the ATMF strike. It is known that the scale of the strike axis is increasing with time, therefore working directly in the strike space will make difficult to express how far is the strike from the forward give that the distance will depend also on the time and volatility. The introduction of the normalized space has the role of expressing this distance as a number of standard deviations away from the forward (with the forward being at z = 0).</p>
<p>Three parameters are common to all functional forms: VOL, SKEW and SMILE. If the property SkewConvexityType is set to STANDARD, the interpretation of these parameters is the following:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[VOL = σ_{ATMF}\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[SKEW = \frac{\partial}{\partial z}\left(\frac{σ^2(z)}{σ^2_{ATMF}}\right)|_{z=0}\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[SMILE = \frac{\partial^2}{\partial z^2}\left(\frac{σ^2(z)}{σ^2_{ATMF}}\right)|_{z=0}\]</div>
</div>
<p>Therefore, for small values of the normalized strike z i.e. near the forward, the P/V function can be expressed under the form:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[σ^2(z) = σ^2_{ATMF}\left(1 + SKEW\cdot z + \frac{1}{2}SMILE\cdot z^2 + ...\right)\]</div>
</div>
<section id="id11">
<h4><span class="section-number">1.3.1.8.9.1. </span>4.8.9.1 SkewType SA4<a class="headerlink" href="#id11" title="Link to this heading">#</a></h4>
<p>The SA4 parametric form is given by:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[σ(z) = VOL\left(\frac{1}{2}(1 + Bz) + \sqrt{\frac{1}{4}(1 + Bz)^2 + \frac{1}{2}Cz^2}\right)^{\frac{POWER}{2}}\]</div>
</div>
<p>where:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[B = \frac{SKEW}{POWER}, \quad C = \frac{1}{POWER}\left(SMILE - \frac{POWER - 1}{POWER}SKEW^2\right)\]</div>
</div>
<p>and where the four slice parameters {VOL, SMILE, SKEW, POWER} are calibrated to the input volatility surface.</p>
</section>
<section id="skewtype-labgd">
<h4><span class="section-number">1.3.1.8.9.2. </span>4.8.9.2 SkewType LABGD<a class="headerlink" href="#skewtype-labgd" title="Link to this heading">#</a></h4>
<p>The LABGD parametric form is given by:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[σ(z) = VOL\left(1 + \ln\left(Be^{Cz} + (1-B)e^{-Pz}\right)\right)^{\frac{POWER}{2}}\]</div>
</div>
<p>where:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[A = \frac{SMILE}{POWER} + \frac{B(1-B)(AC_{adj} + AP_{adj})^2}{(1-POWER)(B\cdot AC_{adj} - (1-B)AP_{adj})^2}\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[B = \frac{SKEW}{POWER} + \frac{AP_{adj}}{AC_{adj} + AP_{adj}}\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[C = \frac{AC_{adj}}{A}\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[P = \frac{AP_{adj}}{A}\]</div>
</div>
<p>The parameters AC_{adj} and AP_{adj} represent the gradient of the implied volatility at larger and smaller strike limits, respectively. They are given by:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[AC_{adj} = AP_{xmax} \cdot AP + \max\left(0, -\frac{SKEW}{POWER}\right) \text{ and } AC_{udj} = AC_{xmax} \cdot AC + \max\left(0, \frac{SKEW}{POWER}\right)\]</div>
</div>
<p>where:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[AC_{xmax} = \sqrt{\frac{1}{4}\left(\frac{SKEW}{POWER}\right)^2 + \frac{1}{2}\left(\frac{SMILE}{POWER} + (1-POWER)\left(\frac{SKEW}{POWER}\right)^2\right)} - \frac{1}{2}\frac{SKEW}{POWER}\]</div>
</div>
<p>and:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[AP_{xmax} = AC_{xmax} - \frac{SKEW}{POWER}\]</div>
</div>
<p>The LABGD parametric form depends on six slice parameters: VOL, SKEW, SMILE, POWER, AC and AP.
Note that other functional form exist in DBAnalytics, such as VW12, SABR3FORMULAPD and SABR4. Since parametric form VW12 is mentioned several times in the model rules, we describe it below for the sake of completeness. However, note that VW12 is not used in the DBSMC-RateDeterministic_FXMarket model.</p>
</section>
<section id="skewtype-vw12">
<h4><span class="section-number">1.3.1.8.9.3. </span>4.8.9.3 SkewType VW12<a class="headerlink" href="#skewtype-vw12" title="Link to this heading">#</a></h4>
<p>The VW12 parametric form depends on twelve slice parameters: VOL, SKEW, SMILE, PUTWING, PUTDEPTH, PUTFLATTEN, CALLWING, CALLDEPTH, CALLFLATTEN, ASYMPTOTICTHRESHOLD, ASYMPTICSLOPE and MINVOL and is given by:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\sigma(z) = MINVOL\left(1 + \left(\frac{\sigma_{raw}(z)}{MINVOL}\right)^4\right)^{\frac{1}{4}}\]</div>
</div>
<p>if <span class="math notranslate nohighlight">\(\sigma_{raw}(z) &gt; 0\)</span> or <span class="math notranslate nohighlight">\(\sigma(z) = MINVOL\)</span> if <span class="math notranslate nohighlight">\(\sigma_{raw}(z) &lt; 0\)</span>. The parameter <span class="math notranslate nohighlight">\(\sigma_{raw}(z)\)</span> is given by:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\sigma_{raw}(z) = VOL\left(1 + s_pz + (SKEW - s_p)i_{low}f_z\left(\frac{z}{s_{low}}\right) + SMILE i^2_{low}f_1\left(\frac{z}{s_{low}}\right)\right)^{\frac{1}{2}}\]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(f_n(x) = n - (n + x)e^{-x}\)</span>, <span class="math notranslate nohighlight">\(n = 1,2\)</span> and:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[i = \frac{1}{FL}\tanh(FL\cdot z)\]</div>
</div>
<p>with <span class="math notranslate nohighlight">\(FL=\text{PUTFLATTEN}\)</span> if <span class="math notranslate nohighlight">\(z &lt; 0\)</span> and <span class="math notranslate nohighlight">\(FL=\text{CALLFLATTEN}\)</span> if <span class="math notranslate nohighlight">\(z &gt; 0\)</span>. The definitions of the parameters <span class="math notranslate nohighlight">\(s_p\)</span>, <span class="math notranslate nohighlight">\(s_{low}\)</span> and <span class="math notranslate nohighlight">\(s_{max}\)</span> depend on the sign of <span class="math notranslate nohighlight">\(z\)</span>:</p>
<p>• If <span class="math notranslate nohighlight">\(z &gt; 0\)</span>, then:
$<span class="math notranslate nohighlight">\(s_p = \min(\max(CALLWING - ASYMPTOTICTHRESHOLD,0), ASYMPTOTICSLOPE), \quad s_{max} = -\alpha_c\)</span>$</p>
<p>and:
$<span class="math notranslate nohighlight">\(s_{low} = \begin{cases}
\beta_c &amp; \text{if } SKEW &lt; 0 \\
-\alpha_c &amp; \text{if } SKEW &gt; 0
\end{cases}\)</span>$</p>
<p>where:
$<span class="math notranslate nohighlight">\(\alpha_c = \ln(1 - \min(CALLWING, ASYMPTOTICTHRESHOLD))\)</span><span class="math notranslate nohighlight">\(
\)</span><span class="math notranslate nohighlight">\(\beta_c = -\frac{CALLDEPTH}{2SKEW}\)</span>$</p>
<p>• If <span class="math notranslate nohighlight">\(z &lt; 0\)</span>, then:
$<span class="math notranslate nohighlight">\(s_p = -\min(\max(PUTWING - ASYMPTOTICTHRESHOLD,0), ASYMPTOTICSLOPE), \quad s_{max} = \alpha_p\)</span>$</p>
<p>and:
$<span class="math notranslate nohighlight">\(s_{low} = \begin{cases}
\alpha_p &amp; \text{if } SKEW &lt; 0 \\
\beta_p &amp; \text{if } SKEW &gt; 0
\end{cases}\)</span>$</p>
<p>where:
$<span class="math notranslate nohighlight">\(\alpha_p = \ln(1 - \min(PUTWING, ASYMPTOTICTHRESHOLD))\)</span><span class="math notranslate nohighlight">\(
\)</span><span class="math notranslate nohighlight">\(\beta_p = -\frac{PUTDEPTH}{2SKEW}\)</span>$</p>
<p>The interpretation and effect of each of the above parameters can be found in Section 4.5.1. of [10]. Testing around the above concepts can be found in Section 4.8.21.</p>
<p>Note that SkewType VW12 is not in for the present model, being incorrectly listed in the submitted model rules, see Section 4.8.1. This issue has been highlighted to DBAnalytics and the relevant model rule has been corrected.</p>
</section>
</section>
<section id="voltermstructures-and-volparameters">
<h3><span class="section-number">1.3.1.8.10. </span>4.8.10 VolTermStructures and VolParameters<a class="headerlink" href="#voltermstructures-and-volparameters" title="Link to this heading">#</a></h3>
<p>In the case of DBAnalytics MARKETVOL objects of InputMode PARAMETRICVOL, the volatilities are defined with the help of a parametric function (SA4 or LABGD) whose parameters are fitted to the input volatility surface using the MarketVolFunction P/VAUTOFIT. In this case, the typical DBAnalytics dictionary will contain a MARKETVOL object of type DELTAVOL or STRIKEVOL, a MODELVOL object containing information related to the parametric function and an EXTRAINFO object containing information related to the P/VAUTOFIT method. An example of properties contained in a MODELVOL object is the following:</p>
<p>The VolTermStructures subtable describes the term structure of each of the slice parameters VOL, SMILE, SKEW and POWER. Each slice parameter can be described as a function of time-to-expiry. If the BusinessTimeVols is set to YES, the time-to-expiry is computed as business time i.e. the number of business days to expiry divided by the number of business days in a year (value stored in the fieldBusinessDaysPerYear). We give below two examples of possible term structures. In the first example we assume that VolTermStructures and VolParameters subtables are the following:</p>
<p>[THIS IS TABLE: VolTermStructures table showing Name, Type, Shift, Bump, BumpType, and Use columns with CONSTANT values for VOL, SMILE, SKEW, and POWER parameters]</p>
<p>[THIS IS TABLE: VolParameters table showing Name, Value, Bump, BumpType, and Use columns with specific values for VOL (0.2), SMILE (0.1), SKEW (0), and POWER (1)]</p>
<p>Table 53: Example (from a dictionary corresponding to a call option on the USD/EUR FX rate) of VolTermStructures and VolParameters subtables where the term structure of the slice parameters is CONSTANT.</p>
<p>Here the term structure of all slice parameters is CONSTANT, therefore the slice parameter values are given by:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[f(p,t) = p, \text{ for all } t \leq T \text{ and } p \in \{VOL, SMILE, SKEW, POWER\}\]</div>
</div>
<p>i.e. in this case we have VOL=0.2, SMILE=0.1, SKEW=0 and POWER=1 for all t ≤ T where T represents the maturity.
In the second example, the term structure of the slice parameter VOL is VOLMEANREV3, the term structure of the slice parameter SKEW is VARMEANREV3 and the term structure of the slice parameters SMILE and POWER is constant. An example of VolTermStructures and VolParameters subtables in this case is the following:</p>
<p>[THIS IS TABLE: VolTermStructures table showing complex term structures including VOLMEANREV3 for VOL and VARMEANREV3 for SKEW]</p>
<p>[THIS IS TABLE: VolParameters table with multiple parameters including VOL_SHORT, VOL_LONG, VOL_K, SKEW_SHORT, SKEW_LONG, SKEW_K, SMILE, and POWER]</p>
<p>Table 54: Example (from a dictionary corresponding to a call option on the USD/EUR FX rate) of VolTermStructures and VolParameters subtables where the term structure of the slice parameters is VARMEANREV3.</p>
<p>The term structure of the VOL slice parameter is VOLMEANREV3 which means that it is given by:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[VOL(t) = f(LONG, SHORT, K; t) = \sqrt{LONG^2 + (SHORT^2 - LONG^2)\frac{1-e^{-Kt}}{Kt}}\]</div>
</div>
<p>where LONG=VOL_LONG=0.15, SHORT=VOL_SHORT=0.2 and K=VOL_K=0.4. The term structure of the SKEW slice parameter is VARMEANREV3 which means that it is given by:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[SKEW(t) = f(LONG, SHORT, K; t) = LONG + (SHORT - LONG)\frac{1-e^{-Kt}}{Kt}\]</div>
</div>
<p>where LONG=SKEW_LONG=0.3, SHORT=SKEW_SHORT=0.5 and K=SKEW_K=2.
The following table contains the complete set of term structures available in DBAnalytics. For more details we refer to [9] and [10].</p>
<p>[THIS IS TABLE: Complete list of term structures for the slice parameters VOL, SKEW, SMILE, POWER, showing TermStructure, Parameters, and Definition for various models including CONSTANT, LINEARTIMEREF, VARMEANREV3, VOLMEANREV3, LINEXP4, POWERTIMEREF, VOLDOUBLEMEANREV5, VOLDOUBLEMEANREVADJUSTED6, VARDOUBLEMEANREV5, and POWERMEANTIMEREF]</p>
<p>Table 55: Complete list of term structures for the slice parameters VOL, SKEW, SMILE, POWER.</p>
<p>Note that at the time of the present MPM validation, the definition of VOLDOUBLEMEANREVADJUSTED6, as stated in the DBAnalytics documents, was incorrect. We raised this issue with DBAnalytics, see Section 4.8.1 for more details.
Additionally, it is possible to define offsets (i.e. shifts) for the slice parameters on a maturity-by-maturity basis in the Offsets subtable. The Offsets subtable must also contain a VolShifts column, containing absolute volatility offsets that are applied at each maturity.</p>
<p>[THIS IS TABLE: Offsets table showing columns for ExpiryDate, VolShift, VOL, SKEW, SMILE, and POWER, with various dates from 3D to 3654D and their corresponding values]</p>
<p>Table 56: Example (from a dictionary corresponding to a call option on the KRW/USD FX rate) of an Offsets subtable. In this table we can see that a series of non-negative shifts (offsets) are applied to all SLICE parameters (VOL, SKEW, SMILE and POWER) but no absolute shifts are applied at the volatility level (VolShift column contains only 0s).</p>
<p>Testing around the above concepts can be found in Section 4.8.21.</p>
</section>
<section id="restriketype">
<h3><span class="section-number">1.3.1.8.11. </span>4.8.11 RestrikeType<a class="headerlink" href="#restriketype" title="Link to this heading">#</a></h3>
<p>The RestrikeType property defines the way in which the volatility surface is defined when the spot value used in pricing deviates from the spot value corresponding to the time point when the original volatility surface is defined. This property is particularly relevant in the computation of risk sensitivities FXDELTA and FXGAMMAAVE:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[FXDELTA = PV(S_0(1+d)) - PV(S_0)\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[FXGAMMAAVE = PV(S_0(1+d)) + PV(S_0(1-d)) - 2PV(S_0)\]</div>
</div>
<p>where assumptions need to be made regarding the volatility that will be used in the calculation of the “bumped” PVs. Let’s denote <span class="math notranslate nohighlight">\(\tilde{S}_0\)</span> the new spot value (for the bumped spot) and <span class="math notranslate nohighlight">\(S_0\)</span> the original spot value or sometimes called the reference spot value, that can be found in the ReferenceSpot subtable. We define by <span class="math notranslate nohighlight">\(\tilde{F}_t\)</span> the forward corresponding to spot value <span class="math notranslate nohighlight">\(\tilde{S}_0\)</span> and by <span class="math notranslate nohighlight">\(F_t\)</span> the forward corresponding to spot value <span class="math notranslate nohighlight">\(S_0\)</span>. Remember that the normalized strike is defined as:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\tilde{z} = \frac{\log(K/\tilde{F}_t)}{σ_{ATMF}\sqrt{t}}\]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(σ_{ATMF}\)</span> represents the volatility corresponding to the ATMF strike. This value is stored by the VOL slice parameter of the P/V. The SKEW and SMILE parameters (stored in the slice parameters with the same names) are defined as:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[SKEW = \frac{\partial}{\partial z}\left(\frac{σ^2(z)}{σ^2_{ATMF}}\right)|_{z=0}\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[SMILE = \frac{\partial^2}{\partial z^2}\left(\frac{σ^2(z)}{σ^2_{ATMF}}\right)|_{z=0}\]</div>
</div>
<p>The RestrikeType property can be set to:</p>
<p>• StickyParameters. This is the simplest restrike type and usually the default setting. Under RestrikeType equal to StickyParameters, when the spot moves from <span class="math notranslate nohighlight">\(S_0\)</span> to <span class="math notranslate nohighlight">\(\tilde{S}_0\)</span>, the forward used in the definition of the normalized strike <span class="math notranslate nohighlight">\(z\)</span> will be <span class="math notranslate nohighlight">\(\tilde{F}_t\)</span> (instead of the original <span class="math notranslate nohighlight">\(F_t\)</span>). The ATMF volatility stays unchanged i.e. equal to the original VOL slice parameter. Therefore the interpretation of the SMILE and SKEW parameters stays unchanged i.e. the first and second derivatives of the variance near the forward.</p>
<p>• StickyStrike. Under this option, the forward used in the definition of the normalized strike <span class="math notranslate nohighlight">\(z\)</span> will be the “reference forward” <span class="math notranslate nohighlight">\(\tilde{F}_t\)</span> defined by:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\tilde{F}_t = \hat{F}_t\left(\frac{\tilde{S}_0}{S_0}\right)^{\text{RestrikeFactor}}\]</div>
</div>
<p>The RestrikeFactor value can be found in the property with the same name, or can be found in the RestrikeFactorTermStructure in the case of a time dependent RestrikeFactor parameter. The RestrikeFactor is used to determine how much the ATMF volatility “follows the skew”. Setting RestrikeFactor=0 will imply <span class="math notranslate nohighlight">\(\tilde{F}_t = \hat{F}_t\)</span> which coincides with the setting from coincide with RestrikeType=STICKYPARAMETERS. The default value of RestrikeFactor is 1. Another property relevant for StickyStrike mode is ReferenceForwardsMode (usually set to LINEAR) which determines the way the ReferenceForwards are interpolated between the given points.</p>
<p>• ATMFVolAlongSmile. We distinguish between two cases depending on the property LinearizedRestrike set to YES or NO. If LinearizedRestrike=NO, the volatility surface is recalculated with the forward used in the definition of the normalized strike <span class="math notranslate nohighlight">\(z\)</span> being <span class="math notranslate nohighlight">\(\tilde{F}_t\)</span> (as in the case of StickyParameters). We denote by <span class="math notranslate nohighlight">\(\tilde{σ}_{ATMF}\)</span> the volatility corresponding to strike <span class="math notranslate nohighlight">\(K = \tilde{F}_t\)</span> selected from the original volatility surface. For RestrikeType=ATMFVolAlongSmile a new VOL slice parameter is defined as follows:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[VOL(new) = σ_{ATMF} + \text{RestrikeFactor} \cdot (\tilde{σ}_{ATMF} - σ_{ATMF})\]</div>
</div>
<p>We can see that setting RestrikeFactor=0 coincides with the setting from RestrikeType=StickyParameters. The parameter RestrikeFactor controls how much or how little of ATMF volatility follows the smile. The default value is RestrikeFactor property is 0. The new SKEW parameter is defined as:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[SKEW(new) = SKEW\left(1 + \text{RestrikeValue}\left(\frac{\tilde{S}_0}{S_0} - 1\right)\right)\]</div>
</div>
<p>where the RestrikeValue can its value can be found in the property with the same name of the PARAMETRICVOL. If LinearizedRestrike = YES the definition of VOL(new) becomes:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[VOL(new) = σ_{ATMF} + \text{RestrikeFactor} \cdot (σ_1 - σ_{ATMF})\]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(σ_1 = σ_{ATMF}\sqrt{1 + SKEW\tilde{z}}\)</span> where SKEW represents the original SKEW parameter from the original volatility surface and <span class="math notranslate nohighlight">\(\tilde{z}\)</span> is defined as:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\tilde{z} = \frac{\log(\tilde{F}_t/F_t)}{σ_{ATMF}\sqrt{t}}\]</div>
</div>
<p>However, note that only mode RestrikeType=STICKYPARAMETERS is currently used in the model DBSMC-RateDeterministic_FXMarket. Since this was communicated by DBAnalytics after the start of the present model parameter review, our testing was not restricted only to STICKYPARAMETERS, but covered all existing modes.</p>
<p>We will test the correct implementation of the above properties and the impact of each RestrikeType mode on the risk sensitivities using a dictionary containing a call option on the USD/EUR FX rate, with valuation date 29/04/2020, maturity date 02/05/2030 and strike 1.2986. The USD/EUR spot value is 1.0942. The dictionary contains a MARKETVOL object of InputType DELTAVOL with input delta volatilities given under the form of a term structure of (DN, RR, CVX). A MODELVOL object and an EXTRAINFO object used to fit an SA4 functional form. The pay currency of the trade is USD and the funding curve (i.e. the curve under which discounting is done) is the OIS USD discount curve. The fitted PARAMETRICVOL has the following VolParameters, VolTermStructures and Offsets subtables:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>VolTermStructures</p></th>
<th class="head"><p></p></th>
<th class="head"><p></p></th>
<th class="head"><p></p></th>
<th class="head"><p></p></th>
<th class="head"><p></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Name</p></td>
<td><p>Type</p></td>
<td><p>Shift</p></td>
<td><p>Bump</p></td>
<td><p>BumpType</p></td>
<td><p>Use</p></td>
</tr>
<tr class="row-odd"><td><p>VOL</p></td>
<td><p>CONSTANT</p></td>
<td><p>0</p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>SKEW</p></td>
<td><p>CONSTANT</p></td>
<td><p>0</p></td>
<td><p>0.01</p></td>
<td><p>ABS</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>SMILE</p></td>
<td><p>CONSTANT</p></td>
<td><p>0</p></td>
<td><p>0.01</p></td>
<td><p>ABS</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>POWER</p></td>
<td><p>CONSTANT</p></td>
<td><p>0</p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
<td><p>1</p></td>
</tr>
</tbody>
</table>
</div>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>VolParameters</p></th>
<th class="head"><p></p></th>
<th class="head"><p></p></th>
<th class="head"><p></p></th>
<th class="head"><p></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Name</p></td>
<td><p>Value</p></td>
<td><p>Bump</p></td>
<td><p>BumpType</p></td>
<td><p>Use</p></td>
</tr>
<tr class="row-odd"><td><p>VOL</p></td>
<td><p>0</p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>SKEW</p></td>
<td><p>0</p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>SMILE</p></td>
<td><p>0</p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>POWER</p></td>
<td><p>0</p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
<td><p>1</p></td>
</tr>
</tbody>
</table>
</div>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>OffSets</p></th>
<th class="head"><p></p></th>
<th class="head"><p></p></th>
<th class="head"><p></p></th>
<th class="head"><p></p></th>
<th class="head"><p></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ExpiryDate</p></td>
<td><p>VolShift</p></td>
<td><p>VOL</p></td>
<td><p>SKEW</p></td>
<td><p>SMILE</p></td>
<td><p>POWER</p></td>
</tr>
<tr class="row-odd"><td><p>20200803</p></td>
<td><p>0</p></td>
<td><p>0.08896777</p></td>
<td><p>-0.14685579</p></td>
<td><p>0.4725701218</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>20201103</p></td>
<td><p>0</p></td>
<td><p>0.0699413739</p></td>
<td><p>-0.1784246972</p></td>
<td><p>0.5675688292</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>20210503</p></td>
<td><p>0</p></td>
<td><p>0.0731213338</p></td>
<td><p>-0.1910137112</p></td>
<td><p>0.5822590644</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>20220503</p></td>
<td><p>0</p></td>
<td><p>0.077641556</p></td>
<td><p>-0.1920600594</p></td>
<td><p>0.5303987315</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>20230503</p></td>
<td><p>0</p></td>
<td><p>0.0832836251</p></td>
<td><p>-0.1706361757</p></td>
<td><p>0.5891172901</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>20250430</p></td>
<td><p>0</p></td>
<td><p>0.08946347</p></td>
<td><p>-0.1456075319</p></td>
<td><p>0.5569282779</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>20270503</p></td>
<td><p>0</p></td>
<td><p>0.0917046102</p></td>
<td><p>-0.1252748653</p></td>
<td><p>0.5529214951</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>20300502</p></td>
<td><p>0</p></td>
<td><p>0.0943495682</p></td>
<td><p>-0.113735474</p></td>
<td><p>0.5477371896</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>20350503</p></td>
<td><p>0</p></td>
<td><p>0.1028228278</p></td>
<td><p>-0.103564144</p></td>
<td><p>0.381860641</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>20400503</p></td>
<td><p>0</p></td>
<td><p>0.1132222689</p></td>
<td><p>-0.0982891137</p></td>
<td><p>0.2849023667</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>20500503</p></td>
<td><p>0</p></td>
<td><p>0.1235974434</p></td>
<td><p>-0.1139191362</p></td>
<td><p>0.2543101323</p></td>
<td><p>1</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 57: VolTermStructures, VolParameters and Offsets subtables of the fitted SA4 PARAMETRIC VOL.</p>
<p>We begin by computing the FXDELTA and FXGAMMAAVE risk sensitivities.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Risk Sensitivities</p></th>
<th class="head"><p>DBA value</p></th>
<th class="head"><p>Analytic value</p></th>
<th class="head"><p>Abs. diff</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>FXDELTA</p></td>
<td><p>5629.07265</p></td>
<td><p>5629.07259</p></td>
<td><p>0.00006</p></td>
</tr>
<tr class="row-odd"><td><p>FXGAMMAAVE</p></td>
<td><p>199.89582</p></td>
<td><p>199.89579</p></td>
<td><p>0.00003</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 58: FXDELTA and FXGAMMAAVE risk sensitivities computed using DBAnalytics and analytically computed using (86). The original FX spot value S₀=1.2986 by applying a relative shift of size d = 0.01 in order to compute the quantities PV(S₀(1 + d)) and PV(S₀(1 - d)).</p>
<p>We prove the correct implementation of RestrikeType modes STICKYPARAMETERS, STICKYSTRIKE and ATMFVolAlongSmile by focusing on the shifted spot <span class="math notranslate nohighlight">\(\tilde{S}_0 = S_0(1 + d)\)</span> used in the computation of the bumped PV PV(<span class="math notranslate nohighlight">\(\tilde{S}_0(1 + d)\)</span>) and we show that the implied volatility corresponding to the shifted spot is correctly computed in DBAnalytics. To this purpose we will compare the implied BS volatility computed using DBAnalytics MODE=PRICE against the analytically computed value computed using the</p>
<p>SA4 parametric formula</p>
<div class="math-wrapper docutils container" id="equation-92">
<div class="math notranslate nohighlight" id="equation-92">
<span class="eqno">(14)<a class="headerlink" href="#equation-92" title="Link to this equation">#</a></span>\[\sigma(z) = VOL\left(\frac{1}{2}(1 + Bz) + \sqrt{\frac{1}{4}(1 + Bz)^2 + \frac{1}{2}Cz^2}\right)^{\frac{POWER}{2}}\]</div>
</div>
<p>and taking into account the definitions of normalized strike z and slice parameters VOL, SKEW and STRIKE parameters in each of the RestrikeTypes.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>RestrikeType</p></th>
<th class="head"><p>Implied BS Vol (DBA)</p></th>
<th class="head"><p>Implied BS Vol (analytic)</p></th>
<th class="head"><p>Abs. diff</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>STICKYPARAMETERS</p></td>
<td><p>0.0938042688</p></td>
<td><p>0.0938042315</p></td>
<td><p>&lt; 10e-7</p></td>
</tr>
<tr class="row-odd"><td><p>STICKYSTRIKE</p></td>
<td><p>0.0937987908</p></td>
<td><p>0.0937988107</p></td>
<td><p>&lt; 10e-7</p></td>
</tr>
<tr class="row-even"><td><p>ATMFVolAlongSmile (LinRestrike=NO)</p></td>
<td><p>0.0938404511</p></td>
<td><p>0.0938042315</p></td>
<td><p>&lt; 10e-5</p></td>
</tr>
<tr class="row-odd"><td><p>ATMFVolAlongSmile (LinRestrike=YES)</p></td>
<td><p>0.0936260678</p></td>
<td><p>0.0936259898</p></td>
<td><p>&lt; 10e-7</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 59: Implied BS volatilities computed when the pricing spot is the shifted spot <span class="math notranslate nohighlight">\(\tilde{S}_0\)</span> and the spot used to calibrate the original volatility surface is S₀. The results show a very good match between the implied BS volatilities computed in DBAnalytics and the implied volatilities computed analytically using SA4 parametric formula and the definitions of normalized strike z and slice parameters VOL, SKEW and SMILE in each RestrikeType mode</p>
<p>The analytically computed values from the above table are computed taking into account the following:</p>
<p>• In the case of RestrikeType=STICKYPARAMETERS, the normalized strike z used in the SA4 formula (92) is computed using the forward <span class="math notranslate nohighlight">\(\tilde{F}_t\)</span> corresponding to the shifted spot <span class="math notranslate nohighlight">\(\tilde{S}_0\)</span>. The slice parameters VOL, SMILE and SKEW stay unchanged, equal to their values from the Offsets subtable.</p>
<p>• In the case of RestrikeType=STICKYSTRIKE, the normalized strike is computed using the “reference forward” defined in (87). The value of the RestrikeFactor used in the above computation is 1.</p>
<p>• In the case of RestrikeType=ATMFVolAlongSmile with LinearizedRestrike=NO, the normalized strike z used in the SA4 formula (92) is computed using the forward <span class="math notranslate nohighlight">\(\tilde{F}_t\)</span> corresponding to the shifted spot <span class="math notranslate nohighlight">\(\tilde{S}_0\)</span>. The slice parameters VOL and SKEW are computed using (88) and (89).In the above computations RestrikeFactor=1 and RestrikeValue=0.</p>
<p>• In the case of RestrikeType=ATMFVolAlongSmile with LinearizedRestrike=YES, the normalized strike z used in the SA4 formula (92) is computed using the forward <span class="math notranslate nohighlight">\(\tilde{F}_t\)</span> corresponding to the shifted spot <span class="math notranslate nohighlight">\(\tilde{S}_0\)</span>. The slice parameters VOL and SKEW are computed using (90) and (89). In the above computations RestrikeFactor=1 and RestrikeValue=0.</p>
<p>The following table displays the values of the FXDELTA and FXGAMMA computed under different RestrikeType:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>RestrikeType</p></th>
<th class="head"><p>FXDELTA</p></th>
<th class="head"><p>FXGAMMAAVE</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>STICKYPARAMETERS</p></td>
<td><p>5629.0726504</p></td>
<td><p>199.8958241</p></td>
</tr>
<tr class="row-odd"><td><p>STICKYSTRIKE</p></td>
<td><p>5620.8891559</p></td>
<td><p>157.2284971</p></td>
</tr>
<tr class="row-even"><td><p>ATMFVolAlongSmile (LinRestrike=NO)</p></td>
<td><p>5344.3518508</p></td>
<td><p>297.0032129</p></td>
</tr>
<tr class="row-odd"><td><p>ATMFVolAlongSmile (LinRestrike=YES)</p></td>
<td><p>5362.8948126</p></td>
<td><p>194.5119501</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 60: FXDELTA and FXGAMMAAVE risk sensitivities computed using DBAnalytics and analytically computed using (86). The original FX spot value S₀=1.2986 by applying a relative shift of size d = 0.01 in order to compute the quantities PV(S₀(1 + d)) and PV(S₀(1 - d)).</p>
<p>The following figures display the behaviour of the FXDELTA and FXGAMMAAVE risk sensitivities under shifts of the FX spot.</p>
<p><img alt="Figure 131: The behaviour of FXDELTA and FXGAMMAAVE risk sensitivities under shifts of the FX spot. The FXDELTA and FXGAMMAAVE risk sensitivities have been computed under RestrikeType modes StickyParameters, StickyStrike, ATMFVolAlongSmile with LinearizedRestrike=NO (ATMFVolAlongSmile1 in the figure) and ATMFVolAlongSmile with LinearizedRestrike=YES (ATMFVolAlongSmile2).Upper Row: FXDELTA when relative shifts ranging from -90% to 200% are applied to the FX spot (upper left) and zoom to the interval when the FX shifts applied to the FX spot range from -30% to 50%. We can see that the choice of the RestrikeType creates a small change in the profile of FXDELTA.Lower Row: FXGAMMAAVE when relative shifts ranging from -90% to 200% are applied to the FX spot." src="market/DBSMC/Fig/60.png" /></p>
<p>We examine the impact of the property ReferenceForwardsMode, relevant in the case of RestrikeType=StickyStrike. The ReferenceForwardsMode can be set to one of the modes LINEAR, EXPONENTIAL or PWCONST_R. The following figure display the behaviour of the risk sensitivities FXDELTA and FXGAMMAAVE computed under RestrikeType=StickyStrike for each of the ReferenceForwardsMode listed above. We can see that the impact is negligible.</p>
<p><img alt="Figure 132: The behaviour of FXDELTA and FXGAMMAAVE risk sensitivities under shifts of the FX spot" src="market/DBSMC/Fig/61.png" /></p>
</section>
<section id="surfacetimefloor-and-surfacetimefloormaxtime">
<h3><span class="section-number">1.3.1.8.12. </span>4.8.12 SurfaceTimeFloor and SurfaceTimeFloorMaxTime<a class="headerlink" href="#surfacetimefloor-and-surfacetimefloormaxtime" title="Link to this heading">#</a></h3>
<p>The property SurfaceTimeFloor can be found in the PARAMETRICVOL object. Its default value is YES. If SurfaceTimeFloor=YES, the time used in the term structure functions and in the calculation of the normalized strike z is floored at the first date present in the Offsets subtable (in ExpiryDate column) i.e. the volatility surface is “constant” at time points prior to the first date present in the ExpiryDate column of the Offsets subtable. The purpose of SurfaceTimeFloor=YES is to prevent the normalized strike value z or certain term structure functions from diverging.</p>
<p>Alternatively SurfaceTimeFloor can be set to an exact date. In this case the time used in the calculation of the normalized strike or in the calculation of certain term structure functions will be floored at this value and the parameters used in the volatility construction will be extrapolated flat at dates before the set date. As a result the surface becomes a “fixed” for dates before the input date. When SurfaceTimeFloor is set to an interval, the interval is taken from VolCalibDate or, if given, from the TermStructureValuationDate.</p>
<p>We test the correct implementation of SurfaceTimeFloor by performing the following test on Dictionary_1 that contains a call option on the USD/EUR FX rate with valuation date 30/04/2020, maturity date 09/08/2030 and strike 1.498. The FX volatility is represented by a PARAMETRICVOL object of SkewType=SA4. The SA4 parametric function has the attributes described in Table 57. We consider the following three scenarios:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Scenario</p></th>
<th class="head"><p>SurfaceTimeFloor</p></th>
<th class="head"><p>Scenario 1</p></th>
<th class="head"><p>Scenario 2</p></th>
<th class="head"><p>Scenario 3</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p></p></td>
<td><p></p></td>
<td><p>YES</p></td>
<td><p>03/05/2021</p></td>
<td><p>03/05/2022</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 61: In Scenario 1, the value of SurfaceTimeFloor is set to “YES” (the default value). This implies that in this scenario, the time used in the term structure functions and in the calculation of the normalized strike z is floored at the first date present in the Offsets subtable, which is 03/08/2020. In Scenario 2 the value of SurfaceTimeFloor is set to 03/05/2021 and in Scenario 3 the value of the SurfaceTimeFloor is set to 03/05/2022. These will represent the “cutoff” dates of Scenario 2 and Scenario 3. Note that, although the dates 03/05/2021 and 03/05/2022 are selected from the list of dates present in the ExpiryDate column of the OffSets subtable, the SurfaceTimeFloor can be set to any date.</p>
<p>In each scenario we price a series of call options having the time-to-maturity in the set {3M, 4M, 5M, …70M, 71M, 72M}. These call options will have the same characteristics (valuation date, strike, underlying) as the original call option contained in Dictionary_1. The purpose of the test is to show profile of the implied volatilities as functions of time to maturity is “flattened” between valuation date and the date value set in SurfaceTimeFloor. We obtain the following profile of the implied volatilities as function of time-to-maturity:</p>
<p><img alt="Figure 133: Implied BS volatilities for options with time-to-maturity contained in the set {3M, 4M, 5M, ...70M, 71M, 72M} in three scenarios: SurfaceTimeFloor=YES (i.e. &quot;cutoff&quot; date is 03/08/2020), SurfaceTimeFloor=03/05/2021 and SurfaceTimeFloor=03/05/2022. The results are in line with expectations: we can see the &quot;flattening&quot; of the implied volatility profiles in the case of Scenario 2 and Scenario 3 due to the time value set in SurfaceTimeFloor." src="market/DBSMC/Fig/62.png" /></p>
<p>The property SurfaceTimeFloorMaxTime is present in the MODEL object. If its value is set to SECURITY, the SurfaceTimeFloor parameter in the PARAMETRICVOL object will be capped at the trade maturity, i.e. the (min,max) of the SurfaceTimeFloor=min(MaturityFloorDate), where FloorDate represents the original input floor date or the value derived from the input floor interval from the reference value date. If the parameter SurfaceTimeFloorMaxTime is not set or is set to NONE, the SurfaceTimeFloor parameter is unaffected. The default value of SurfaceTimeFloorMaxTime is UNSET.</p>
</section>
<section id="vw12skewcutoff">
<h3><span class="section-number">1.3.1.8.13. </span>4.8.13 VW12SkewCutoff<a class="headerlink" href="#vw12skewcutoff" title="Link to this heading">#</a></h3>
<p>Note that, as communicated to us by DBAnalytics after the start of the present model parameter review, the parametric form VW12 is not used in the DBSMC-RateDeterministic_FXMarket model, and therefore the parameter VW12SkewCutoff will not have any impact on the model. For more details, see Section 4.8.1. However, since both VW12 parametric form and VW12SkewCutoff are mentioned in the submitted model rules (even though as excluded configuration), we chose to present here the VW12SkewCutoff definition for the sake of completeness.</p>
<p>It is easy to see that due to the way the parameter s_{kw} is defined in the case of the functional form VW12, see (84) and (85), the volatility surface is discontinuous in SKEW at SKEW=0. This can create problem when computing risk sensitivities if the SKEW changes sign between the base pricing and the bumped pricing. The property VW12SkewCutoff has been introduced to eliminate this discontinuity. We denote the value stored under the VW12SkewCutoff property by C. The introduction of VW12SkewCutoff allows for the parameter s_{kw} to vary smoothly between α_p and β_p on the put side and between β_c and α_c on the call side. We exemplify how VW12SkewCutoff affects teh definition of s_{kw} on the put side i.e. in the case z &lt; 0. We remind that the original definition of s_{kw} is:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}s_{kw} = \begin{cases}
\alpha_p &amp; \text{if } SKEW &lt; 0 \\
\beta_p &amp; \text{if } SKEW \geq 0
\end{cases}\end{split}\]</div>
</div>
<p>where:
$<span class="math notranslate nohighlight">\(\alpha_p = \ln(1 - \min(PUTWING, ASYMPTOTICTHRESHOLD))\)</span><span class="math notranslate nohighlight">\(
\)</span><span class="math notranslate nohighlight">\(\beta_p = -\frac{PUTDEPTH}{2SKEW}\)</span>$</p>
<p>We modify the definition as follows:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}s_{kw} = \begin{cases}
\alpha_p &amp; \text{if } SKEW &lt; 0 \\
s_{kw-poly}(SKEW) &amp; \text{if } SKEW \in [0,C] \\
\beta_p &amp; \text{if } SKEW &gt; C
\end{cases}\end{split}\]</div>
</div>
<p>where:
$<span class="math notranslate nohighlight">\(s_{kw-poly}(SKEW) = \alpha_p + c_1SKEW + \frac{1}{2}c_2SKEW^2 + \frac{1}{3}c_3SKEW^3\)</span>$</p>
<p>The coefficients c₀, c₁, c₂, c₃ are determined from the boundary conditions:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}\begin{cases}
s_{kw-poly}(0) = \alpha_p \\
s_{kw-poly}'(0) = 0 \\
s_{kw-poly}(C) = -\frac{PUTDEPTH}{2C} \\
s_{kw-poly}'(C) = \frac{PUTDEPTH}{2C^2}
\end{cases}\end{split}\]</div>
</div>
<p>The solution of the above system can be found in Section 4.5.1 of [10]. Typically C is chosen between 0.03 and 0.05. Its easy to see that if the absolute value of the SKEW is above C the property VW12SkewCutoff does not impact the original definition of s_{kw}. Since the only SkewTypes relevant for FX derivatives, and hence for the products in scope of this model are SA4 and LABGD, we will not perform any testing w.r.t. VW12SkewCutoff parameter.</p>
</section>
<section id="fittype">
<h3><span class="section-number">1.3.1.8.14. </span>4.8.14 FitType<a class="headerlink" href="#fittype" title="Link to this heading">#</a></h3>
<p>For DBAnalytics MARKETVOL objects of InputMode PARAMETRICVOL, the volatilities are defined with the help of a parametric function (SA4, LABGD) whose parameters are fitted to the input volatility surface using the MarketVolFunction P/VAUTOFIT. In this case, the typical DBAnalytics dictionary will contain a MARKETVOL object of type DELTAVOL or STRIKEVOL, a MODELVOL object containing information related to the parametric function and an EXTRAINFO object. The EXTRAINFO objects stores information concerning the the algorithm that performs the fit, as well as the operations that need to be performed before (e.g. data scrubbing) or after (e.g. two-stage fitting, or surface validation) the fit.</p>
<p>The FitType property is restricted SLICE. SLICE performs a maturity-by-maturity fit of the P/V slice parameters. As confirmed by DBAnalytics, if FitType is set to SLICE, the fitting will be done through the Offsets parameters.</p>
</section>
<section id="targettype">
<h3><span class="section-number">1.3.1.8.15. </span>4.8.15 TargetType<a class="headerlink" href="#targettype" title="Link to this heading">#</a></h3>
<p>The TargetType property of the EXTRAINFO object can be set to VOL or PRICE. For the present model the TargetType is restricted to VOL. This implies that the option prices of the targets will be converted into implied volatilities which will be used as targets in the fitting algorithm. This setting is recommended for European options since in this case the approach does not involve approximations.</p>
</section>
<section id="usesyntheticforwards">
<h3><span class="section-number">1.3.1.8.16. </span>4.8.16 UseSyntheticForwards<a class="headerlink" href="#usesyntheticforwards" title="Link to this heading">#</a></h3>
<p>The property UseSyntheticForwards is restricted to NO.</p>
</section>
<section id="weighting">
<h3><span class="section-number">1.3.1.8.17. </span>4.8.17 Weighting<a class="headerlink" href="#weighting" title="Link to this heading">#</a></h3>
<p>The Weighting property of the EXTRAINFO object can be set to SPREAD, VEGA, NORMALIZEDVEGA, NORMALIZEDVEG-ADENSITY, NOTIONAL, VEGANOTIONAL, CUSTOM or NONE. This property defines the weights used in the fitting algorithm. For the present mode, the Weighting property is restricted to NOTIONAL and VEGANOTIONAL. NOTIONAL defines the weights as the Notional column. The VEGANOTIONAL defines each weight as the product between the option’s vega and its notional. Testing around the above concepts can be found in Section 4.8.21.</p>
</section>
<section id="pivvolshifttype">
<h3><span class="section-number">1.3.1.8.18. </span>4.8.18 PIVVolShiftType<a class="headerlink" href="#pivvolshifttype" title="Link to this heading">#</a></h3>
<p>The property PIVVolShiftType is present in the MARKETVOL object if InputType is PARAMETRICVOL and its purpose is to control the column VolShift present in the Offsets subtable. In the context of the present model, its value is restricted to ABSOLUTE, meaning that the values stored in the column VolShift of the Offsets subtable represent absolute shifts applied to the volatilities (computed based on the definition of the parametric form in use) at the time points listed in the ExpiryDate column of the Offsets subtable. Testing around the above concepts can be found in Section 4.8.21.</p>
</section>
<section id="pricinginfotype">
<h3><span class="section-number">1.3.1.8.19. </span>4.8.19 PricingInfoType<a class="headerlink" href="#pricinginfotype" title="Link to this heading">#</a></h3>
<p>PRICINGINFO objects can be inserted into a DICTIONARY to provide different types of functionality. The type of functionality is determined by the BodyProperty. PricingInfoType is allowed to take one of the following values: AUTOCALIBRATION, AUTOBASIS, BARRIER, BARRIERINFO, REPORT, SETTLEDCASH, MODELVOL.</p>
</section>
<section id="advanced-user-parameters">
<h3><span class="section-number">1.3.1.8.20. </span>4.8.20 Advanced User Parameters<a class="headerlink" href="#advanced-user-parameters" title="Link to this heading">#</a></h3>
<p>In the case of PARAMETRICVOL objects that are fitted to an input volatility surface, an EXTRAINFO object will present in the dictionary. The EXTRAINFO object can contain the following set of parameters that control the numerical algorithms used in the fitting:</p>
<p>• MaxFitIterations: controls the number of fit iterations. Minimum value is 500.
• StepTolerance: if the objective function changes by less than StepTolerance value at any fitting step, it is assumed that the minimum is reached. The StepTolerance must be set to a value less or equal to 0.01. The default value is 0.0001.
• GradTolerance: if the gradient is less than GradTolerance value at any fitting step, it is assumed that the minimum is reached. The GradTolerance must be set to a value less or equal to 0.01.
• IVTolerance: controls the accuracy level required when computing the implied volatility from input prices. The parameter must be set to a value less or equal to 0.01.
• IVNumIterations: controls the maximum number of iterations when calculating the implied volatilities from input prices. This parameter must be set to a value larger or equal to 50.
• GridCalcDigits: Number of machine precision digits used to generate bump for gradient calculation. No thresold is set in place w.r.t this parameter and the default value is 7.</p>
<p>The above description of the parameters can be found in [13]. We test the impact of the parameters on the fitting procedure performed by the DBAnalytics MarketVolFunction using the following dictionary:</p>
<ol class="arabic simple">
<li><p>Dictionary_1 contains a call option on the JPY/AUD FX rate, with valuation date 29/04/2020, maturity date 09/08/2030 and strike 1.49. The USD/EUR spot value is 1.0942. The dictionary contains a PARAMETRICVOL object of SkewType SA4 fitted to a MARKETVOL of InputType DELTAVOL where the volatilities are given under the form of (DN, CVX, RR)</p></li>
</ol>
<p>We test the following set of values for each of the parameters controlling the numerical algorithms used in the fitting via MarketVolFunction:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Value 1</p></th>
<th class="head"><p>Value 2</p></th>
<th class="head"><p>Value 3</p></th>
<th class="head"><p>Value 4</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>MaxFitIterations</p></td>
<td><p>500</p></td>
<td><p>600</p></td>
<td><p>750</p></td>
<td><p>1000</p></td>
</tr>
<tr class="row-odd"><td><p>StepTolerance</p></td>
<td><p>0.01</p></td>
<td><p>0.005</p></td>
<td><p>0.001</p></td>
<td><p>0.0001</p></td>
</tr>
<tr class="row-even"><td><p>GradTolerance</p></td>
<td><p>0.01</p></td>
<td><p>0.005</p></td>
<td><p>0.001</p></td>
<td><p>0.0001</p></td>
</tr>
<tr class="row-odd"><td><p>IVTolerance</p></td>
<td><p>0.01</p></td>
<td><p>0.005</p></td>
<td><p>0.001</p></td>
<td><p>0.0001</p></td>
</tr>
<tr class="row-even"><td><p>IVNumIterations</p></td>
<td><p>50</p></td>
<td><p>75</p></td>
<td><p>100</p></td>
<td><p>150</p></td>
</tr>
<tr class="row-odd"><td><p>GridCalcDigits</p></td>
<td><p>5</p></td>
<td><p>7</p></td>
<td><p>10</p></td>
<td><p>12</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 62: Tested values for the parameters controlling the numerical algorithms used in the fitting.</p>
<p>The following table displays the results in terms of errors between the target volatilities and the model-generated volatilities in the four scenarios considered for the GradTolerance parameter:</p>
<p>[The document continues with Tables 63-64 showing results of fitting using MarketVolFunction for different parameter values]</p>
</section>
</section>
<section id="testing-results-for-parametricvol-configuration">
<h2><span class="section-number">1.3.1.9. </span>4.8.21 Testing results for PARAMETRICVOL configuration<a class="headerlink" href="#testing-results-for-parametricvol-configuration" title="Link to this heading">#</a></h2>
<p>In this section we examine the impact and the correct implementation of the parameters listed in Sections 4.8.8 - 4.8.16 and Section 4.8.13 - 4.8.18. These parameters are relevant for MARKETVOL objects of InputType PARAMETRICVOL as they store properties and parameters of the functional forms used to derive the volatilities. For our testing we consider four dictionaries with the following properties:</p>
<ol class="arabic simple">
<li><p>The first dictionary (Dictionary_1) contains a call option on the USDEUR FX rate, with valuation date 29/04/2020, maturity date 09/08/2030 and strike 1.49. The USDEUR spot value is 1.0942. The dictionary contains a MARKETVOL object of InputType DELTAVOL with input delta volatilities given under the form of a term structure of (DN, RR, CVX). A MODELVOL object and an EXTRAINFO object are used to fit an SA4 functional form.</p></li>
<li><p>The second dictionary (Dictionary_2) contains a call option on the JPY/AUD FX rate with valuation date 13/07/2017, maturity date 13/01/2020 and strike 90. The JPY/AUD spot value is 86.6. The dictionary contains a MARKETVOL object of InputType DELTAVOL with input delta volatilities given under the form of a term structure of (DN, 10C, 10P). A MODELVOL object and an EXTRAINFO object are used to fit an SA4 functional form.</p></li>
<li><p>The third dictionary (Dictionary_3) contains a call option on the JPY/USD FX rate with valuation date 15/09/2017, maturity date 15/09/2032 and strike 100. The JPY/USD spot value is 110.54. The dictionary contains a MARKETVOL object of InputType DELTAVOL with input delta volatilities given under the form of a term structure of (DN, 10C, 10P). A MODELVOL object and an EXTRAINFO object are used to fit an SA4 functional form.</p></li>
<li><p>The fourth dictionary (Dictionary_4) contains a call option on the JPY/USD FX rate with valuation date 17/07/2017, maturity date 17/03/2018 and strike 119.27. The JPY/USD spot value is 112.64. The dictionary contains a MARKETVOL object of InputType DELTAVOL with input delta volatilities given under the form of a term structure of (DN, 25RR, 25CVX, 10RR, 10CVX). The original dictionary setup contains a MODELVOL object and an EXTRAINFO object are used to fit an LARGD functional form. However, for comparison purposes, we will fit not only the original LARGD parametric form, but also a SA4 functional form (using corresponding MODELVOL and EXTRAINFO objects).</p></li>
</ol>
<p>We begin by examining the performance of the PIVAUTOFIT function for different Weighting parameters. More precisely, we consider the two scenarios:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Scenario</p></th>
<th class="head"><p>FitType</p></th>
<th class="head"><p>UseSynthsForwards</p></th>
<th class="head"><p>TargetType</p></th>
<th class="head"><p>Weighting</p></th>
<th class="head"><p>ResultType</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Scenario 1</p></td>
<td><p>SLICE</p></td>
<td><p>NO</p></td>
<td><p>VOL</p></td>
<td><p>NOTIONAL</p></td>
<td><p>PIVAUTOFIT</p></td>
</tr>
<tr class="row-odd"><td><p>Scenario 2</p></td>
<td><p>SLICE</p></td>
<td><p>NO</p></td>
<td><p>VOL</p></td>
<td><p>VEGANOTIONAL</p></td>
<td><p>PIVAUTOFIT</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 69: Properties of EXTRAINFO object in Scenario 1(Weighting=NOTIONAL) and Scenario 2 (Weighting=VEGANOTIONAL)</p>
<section id="results-dictionary-1-weighting-notional">
<h3><span class="section-number">1.3.1.9.1. </span>Results Dictionary_1 - Weighting = NOTIONAL<a class="headerlink" href="#results-dictionary-1-weighting-notional" title="Link to this heading">#</a></h3>
<p>For Dictionary_1, the results of the calibration using Weighting=NOTIONAL are summarized in the following table:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Maturity</p></th>
<th class="head"><p>Delta</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Weight</p></th>
<th class="head"><p>TargetVol</p></th>
<th class="head"><p>FittedVol</p></th>
<th class="head"><p>FitError</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>20200803</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0689003</p></td>
<td><p>0.0689003</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20200803</p></td>
<td><p>25RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>-0.0064302</p></td>
<td><p>-0.0064302</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20200803</p></td>
<td><p>10CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.012505</p></td>
<td><p>0.012505</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20201103</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0697919</p></td>
<td><p>0.0697919</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20201103</p></td>
<td><p>25RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>-0.0077137</p></td>
<td><p>-0.0077137</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20201103</p></td>
<td><p>10CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0150329</p></td>
<td><p>0.0150329</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-even"><td><p>20210503</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0728805</p></td>
<td><p>0.0728805</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20210503</p></td>
<td><p>25RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>-0.0083115</p></td>
<td><p>-0.0083115</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20210503</p></td>
<td><p>10CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.016078</p></td>
<td><p>0.016078</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20220503</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0772653</p></td>
<td><p>0.0772653</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20220503</p></td>
<td><p>25RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>-0.0084473</p></td>
<td><p>-0.0084473</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20220503</p></td>
<td><p>10CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0156571</p></td>
<td><p>0.0156571</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20250503</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.082838</p></td>
<td><p>0.082838</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20250503</p></td>
<td><p>25RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>-0.0071185</p></td>
<td><p>-0.0071185</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20250503</p></td>
<td><p>10CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0182936</p></td>
<td><p>0.0182936</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20250430</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0879513</p></td>
<td><p>0.0879513</p></td>
<td><p>2e-10</p></td>
</tr>
<tr class="row-even"><td><p>20250430</p></td>
<td><p>25RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>-0.0053381</p></td>
<td><p>-0.0053381</p></td>
<td><p>1e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20250430</p></td>
<td><p>10CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0183449</p></td>
<td><p>0.0183449</p></td>
<td><p>-9e-10</p></td>
</tr>
<tr class="row-even"><td><p>20270503</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0911983</p></td>
<td><p>0.0911983</p></td>
<td><p>2e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20270503</p></td>
<td><p>25RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>-0.0035569</p></td>
<td><p>-0.0035569</p></td>
<td><p>1e-10</p></td>
</tr>
<tr class="row-even"><td><p>20270503</p></td>
<td><p>10CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0188242</p></td>
<td><p>0.0188242</p></td>
<td><p>-5e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20300502</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0938407</p></td>
<td><p>0.0938407</p></td>
<td><p>2e-10</p></td>
</tr>
<tr class="row-even"><td><p>20300502</p></td>
<td><p>25RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>-0.0020132</p></td>
<td><p>-0.0020132</p></td>
<td><p>1e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20300502</p></td>
<td><p>-10CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>-0.0191667</p></td>
<td><p>-0.0191667</p></td>
<td><p>-7e-10</p></td>
</tr>
<tr class="row-even"><td><p>20350503</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.1018407</p></td>
<td><p>0.1018407</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20350503</p></td>
<td><p>25RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>-0.0021632</p></td>
<td><p>-0.0021632</p></td>
<td><p>1e-10</p></td>
</tr>
<tr class="row-even"><td><p>20350503</p></td>
<td><p>-10CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>-0.0141667</p></td>
<td><p>-0.0141667</p></td>
<td><p>-2e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20400503</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.1123407</p></td>
<td><p>0.1123407</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20400503</p></td>
<td><p>25RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>-0.0019632</p></td>
<td><p>-0.0019632</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20400503</p></td>
<td><p>10CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0124667</p></td>
<td><p>0.0124667</p></td>
<td><p>-1e-10</p></td>
</tr>
<tr class="row-even"><td><p>20500503</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.1221407</p></td>
<td><p>0.1221407</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20500503</p></td>
<td><p>25RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>-0.0022632</p></td>
<td><p>-0.0022632</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20500503</p></td>
<td><p>10CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0121667</p></td>
<td><p>0.0121667</p></td>
<td><p>-1e-10</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 65: Dictionary_1: results of the fitting using MarketVolFunction for the four different values considered for the IVTolerance parameter, see table 62. FittedVol_i, i=1,2,3,4 stores the model-generated impact volatility corresponding to IVTolerance=Value i. FitError_i, i=1,2,3,4 stores the difference between the target volatility and the model volatility corresponding to IVTolerance==Value i. We can see that the impact of changing the IVTolerance parameter to values below 0.001 (the current upper threshold) is 0.</p>
<p>The following table displays the results in terms of errors between the target volatilities and the model-generated volatilities in the figure scenarios considered for the MaxFilterations parameter:</p>
<p>Table 66: Dictionary_1: results of the fitting using MarketVolFunction for the four different values considered for the MaxFilterations parameter, see table 62. FittedVol_i, i=1,2,3,4 stores the model-generated impact volatility corresponding to MaxFilterations=Value i. FitError_i, i=1,2,3,4 stores the difference between the target volatility and the model volatility corresponding to MaxFilterations==Value i. We can see that the impact of changing the MaxFilterations parameter to values above 500 (the current lower threshold) is 0.</p>
<p>The following tables display the results in terms of errors between the target volatilities and the model-generated volatilities in the four scenarios considered for the StepTolerance parameter:</p>
<p>Table 67: Dictionary_1: results of the fitting using MarketVolFunction for the four different values considered for the StepTolerance parameter, see table 62. FittedVol_i, i=1,2,3,4 stores the model-generated impact volatility corresponding to StepTolerance=Value i. FitError_i, i=1,2,3,4 stores the difference between the target volatility and the model volatility corresponding to StepTolerance==Value i. We can see that the impact of changing the StepTolerance parameter to values below 0.01 (the current upper threshold) is 0.</p>
<p>The following two tables display the results in terms of errors between the target volatilities and the model-generated volatilities in the figure scenarios considered for the GradCalcDigits parameter:</p>
<p>Table 68: Dictionary_1: results of the fitting using MarketVolFunction for the four different values considered for the GradCalcDigits parameter, see table 62. FittedVol_i, i=1,2,3,4 stores the model-generated impact volatility corresponding to GradCalcDigits=Value i. FitError_i, i=1,2,3,4 stores the difference between the target volatility and the model volatility corresponding to GradCalcDigits is 0.</p>
<p>Table 70: Results of the calibration when Weighting=NOTIONAL. We see that the differences between the target volatilities and the calibrated volatilities stored in the column FitError are very small, below 10^-10 in the majority of case.</p>
<p>The following figures display the agreement existing between the volatility surface obtained from the DELTAVOL input and the volatility surface generated by PIV fitting at different time slices:</p>
<p><img alt="Figure 134: Slices of the implied volatility surface obtained from the DELTAVOL used for calibration and from the PIV of type SA4 fitted to this volatility. The delta vols inputs of the DELTAVOL object are provided under the form (DN,RR,CVX). Observe that, although the 3 conditions defining each slice are satisfied by both volatility surfaces, the different ways in which the surfaces are interpolated (parametrically in the PIV vols and using cubic splines in the DELTAVOLS) mean that the implied volatility surfaces do not agree completely. Further note that the two volatility objects deal with the tails differently, leading to larger disagreements for options far in or out of the money. Note that the best fit is obtained at the time slice closest to the option's maturity (10Y)." src="market/DBSMC/Fig/7.png" /></p>
</section>
<section id="results-dictionary-2-weighting-notional">
<h3><span class="section-number">1.3.1.9.2. </span>Results Dictionary_2 - Weighting = NOTIONAL<a class="headerlink" href="#results-dictionary-2-weighting-notional" title="Link to this heading">#</a></h3>
<p>For Dictionary_2, the results of the calibration using Weighting=NOTIONAL are summarized in the following table:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Maturity</p></th>
<th class="head"><p>Delta</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Weight</p></th>
<th class="head"><p>TargetVol</p></th>
<th class="head"><p>FittedVol</p></th>
<th class="head"><p>FitError</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>20170913</p></td>
<td><p>10P</p></td>
<td><p>PUT</p></td>
<td><p>1</p></td>
<td><p>0.1236828</p></td>
<td><p>0.1236828</p></td>
<td><p>-3e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20170913</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0946151</p></td>
<td><p>0.0946151</p></td>
<td><p>1e-09</p></td>
</tr>
<tr class="row-even"><td><p>20170913</p></td>
<td><p>10C</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0886254</p></td>
<td><p>0.0886254</p></td>
<td><p>-4e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20171213</p></td>
<td><p>10P</p></td>
<td><p>PUT</p></td>
<td><p>1</p></td>
<td><p>0.1451247</p></td>
<td><p>0.1451247</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20171213</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.1032355</p></td>
<td><p>0.1032355</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20171213</p></td>
<td><p>10C</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0945349</p></td>
<td><p>0.0945349</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20180613</p></td>
<td><p>10P</p></td>
<td><p>PUT</p></td>
<td><p>1</p></td>
<td><p>0.1704427</p></td>
<td><p>0.1704427</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20180613</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.111069</p></td>
<td><p>0.111069</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20180613</p></td>
<td><p>10C</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.097524</p></td>
<td><p>0.097524</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20190613</p></td>
<td><p>10P</p></td>
<td><p>PUT</p></td>
<td><p>1</p></td>
<td><p>0.1841198</p></td>
<td><p>0.1841198</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-even"><td><p>20190613</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.1167332</p></td>
<td><p>0.1167332</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20190613</p></td>
<td><p>10C</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.1011083</p></td>
<td><p>0.1011083</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20200611</p></td>
<td><p>10P</p></td>
<td><p>PUT</p></td>
<td><p>1</p></td>
<td><p>0.1990821</p></td>
<td><p>0.1990821</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20200611</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.1225751</p></td>
<td><p>0.1225751</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20200611</p></td>
<td><p>10C</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.1047343</p></td>
<td><p>0.1047343</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20220613</p></td>
<td><p>10P</p></td>
<td><p>PUT</p></td>
<td><p>1</p></td>
<td><p>0.2255239</p></td>
<td><p>0.2255239</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-even"><td><p>20220613</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.1354722</p></td>
<td><p>0.1354722</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20220613</p></td>
<td><p>10C</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.1122528</p></td>
<td><p>0.1122528</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20240613</p></td>
<td><p>10P</p></td>
<td><p>PUT</p></td>
<td><p>1</p></td>
<td><p>0.2335558</p></td>
<td><p>0.2335558</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20240613</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.1448304</p></td>
<td><p>0.1448304</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20240613</p></td>
<td><p>10C</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.1174882</p></td>
<td><p>0.1174882</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20270611</p></td>
<td><p>10P</p></td>
<td><p>PUT</p></td>
<td><p>1</p></td>
<td><p>0.2447462</p></td>
<td><p>0.2447462</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-even"><td><p>20270611</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.1580929</p></td>
<td><p>0.1580929</p></td>
<td><p>1e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20270611</p></td>
<td><p>10C</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.1241034</p></td>
<td><p>0.1241034</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20320613</p></td>
<td><p>10P</p></td>
<td><p>PUT</p></td>
<td><p>1</p></td>
<td><p>0.2513036</p></td>
<td><p>0.2513756</p></td>
<td><p>-3e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20320613</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.1520929</p></td>
<td><p>0.1520929</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20320613</p></td>
<td><p>10C</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.1170999</p></td>
<td><p>0.1170999</p></td>
<td><p>-1e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20370613</p></td>
<td><p>10P</p></td>
<td><p>PUT</p></td>
<td><p>1</p></td>
<td><p>0.2496126</p></td>
<td><p>0.2496129</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-even"><td><p>20370613</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.1520929</p></td>
<td><p>0.1520929</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20370613</p></td>
<td><p>10C</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.1148717</p></td>
<td><p>0.1148717</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20470613</p></td>
<td><p>10P</p></td>
<td><p>PUT</p></td>
<td><p>1</p></td>
<td><p>0.2475202</p></td>
<td><p>0.2475202</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20470613</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.1520929</p></td>
<td><p>0.1520929</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20470613</p></td>
<td><p>10C</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.1170846</p></td>
<td><p>0.1170846</p></td>
<td><p>0.0</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 71: Dictionary_2: results of the calibration when Weighting=NOTIONAL. We see that the differences between the target volatilities and the calibrated volatilities stored in the column FitError are very small, below 10^-10 in the majority of case.</p>
<p>The following figures display the agreement existing between the volatility surface obtained from the DELTAVOL input and the volatility surface generated by PIV fitting at different time slices:</p>
<p><img alt="Figure 135: Slices of the implied volatility surface obtained from the DELTAVOL used for calibration and from the PIV of type SA4 fitted to this volatility. The delta vols inputs of the DELTAVOL object are provided under the form (DN,10C,10P). The calibration aims to match at each time slice the implied volatilities corresponding to the points DN, 10C and 10P. Observe that, although the 3 conditions defining each slice are satisfied by both volatility surfaces, the different ways in which the surfaces are interpolated (parametrically in the PIV vols and using cubic splines in the DELTAVOLS) mean that the implied volatility surfaces do not agree completely. Further note that the two volatility objects deal with the tails differently, leading to larger disagreements for options far in or out of the money." src="market/DBSMC/Fig/9.png" /></p>
</section>
<section id="results-dictionary-3-weighting-notional">
<h3><span class="section-number">1.3.1.9.3. </span>Results Dictionary_3 - Weighting = NOTIONAL<a class="headerlink" href="#results-dictionary-3-weighting-notional" title="Link to this heading">#</a></h3>
<p>For Dictionary_3, the results of the calibration using Weighting=NOTIONAL are summarized in the following table:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Maturity</p></th>
<th class="head"><p>Delta</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Weight</p></th>
<th class="head"><p>TargetVol</p></th>
<th class="head"><p>FittedVol</p></th>
<th class="head"><p>FitError</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>20170913</p></td>
<td><p>79.6224</p></td>
<td><p>PUT</p></td>
<td><p>7.4327</p></td>
<td><p>0.1236828</p></td>
<td><p>0.1236828</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20170913</p></td>
<td><p>96.0312</p></td>
<td><p>PUT</p></td>
<td><p>17.2234</p></td>
<td><p>0.0946152</p></td>
<td><p>0.0946152</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20170913</p></td>
<td><p>91.214</p></td>
<td><p>CALL</p></td>
<td><p>7.7576</p></td>
<td><p>0.0886254</p></td>
<td><p>0.0906254</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20171213</p></td>
<td><p>75.3044</p></td>
<td><p>PUT</p></td>
<td><p>10.3182</p></td>
<td><p>0.1451247</p></td>
<td><p>0.1451247</p></td>
<td><p>-1.3e-09</p></td>
</tr>
<tr class="row-even"><td><p>20171213</p></td>
<td><p>85.4262</p></td>
<td><p>PUT</p></td>
<td><p>24.1378</p></td>
<td><p>0.1032357</p></td>
<td><p>0.1032357</p></td>
<td><p>3e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20171213</p></td>
<td><p>93.3931</p></td>
<td><p>CALL</p></td>
<td><p>10.8681</p></td>
<td><p>0.0945349</p></td>
<td><p>0.0945349</p></td>
<td><p>3e-10</p></td>
</tr>
<tr class="row-even"><td><p>20180613</p></td>
<td><p>68.6092</p></td>
<td><p>PUT</p></td>
<td><p>14.1571</p></td>
<td><p>0.1704427</p></td>
<td><p>0.1704427</p></td>
<td><p>5e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20180613</p></td>
<td><p>84.1378</p></td>
<td><p>PUT</p></td>
<td><p>33.685</p></td>
<td><p>0.111069</p></td>
<td><p>0.111069</p></td>
<td><p>1e-10</p></td>
</tr>
<tr class="row-even"><td><p>20180613</p></td>
<td><p>96.0477</p></td>
<td><p>CALL</p></td>
<td><p>15.5863</p></td>
<td><p>0.097524</p></td>
<td><p>0.097524</p></td>
<td><p>6e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20190613</p></td>
<td><p>60.0286</p></td>
<td><p>PUT</p></td>
<td><p>18.6566</p></td>
<td><p>0.18412</p></td>
<td><p>0.18412</p></td>
<td><p>-6e-10</p></td>
</tr>
<tr class="row-even"><td><p>20190613</p></td>
<td><p>81.4004</p></td>
<td><p>PUT</p></td>
<td><p>45.9711</p></td>
<td><p>0.1167332</p></td>
<td><p>0.1167332</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20190613</p></td>
<td><p>99.5814</p></td>
<td><p>CALL</p></td>
<td><p>21.5833</p></td>
<td><p>0.1011083</p></td>
<td><p>0.1011083</p></td>
<td><p>5e-10</p></td>
</tr>
<tr class="row-even"><td><p>20200611</p></td>
<td><p>52.9512</p></td>
<td><p>PUT</p></td>
<td><p>21.5073</p></td>
<td><p>0.1990825</p></td>
<td><p>0.1990825</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20200611</p></td>
<td><p>78.3703</p></td>
<td><p>PUT</p></td>
<td><p>54.19</p></td>
<td><p>0.1225751</p></td>
<td><p>0.1225751</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-even"><td><p>20200611</p></td>
<td><p>101.8939</p></td>
<td><p>CALL</p></td>
<td><p>25.9914</p></td>
<td><p>0.1047343</p></td>
<td><p>0.1047343</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20220613</p></td>
<td><p>41.6063</p></td>
<td><p>PUT</p></td>
<td><p>24.4467</p></td>
<td><p>0.2255239</p></td>
<td><p>0.2255259</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-even"><td><p>20220613</p></td>
<td><p>71.5931</p></td>
<td><p>PUT</p></td>
<td><p>63.9434</p></td>
<td><p>0.1354722</p></td>
<td><p>0.1354722</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20220613</p></td>
<td><p>104.9257</p></td>
<td><p>CALL</p></td>
<td><p>32.0734</p></td>
<td><p>0.1122528</p></td>
<td><p>0.1122528</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20240613</p></td>
<td><p>34.3363</p></td>
<td><p>PUT</p></td>
<td><p>25.6227</p></td>
<td><p>0.2335558</p></td>
<td><p>0.2335558</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20240613</p></td>
<td><p>64.8174</p></td>
<td><p>PUT</p></td>
<td><p>68.2326</p></td>
<td><p>0.1448304</p></td>
<td><p>0.1448304</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20240613</p></td>
<td><p>105.9393</p></td>
<td><p>CALL</p></td>
<td><p>35.8993</p></td>
<td><p>0.1174882</p></td>
<td><p>0.1174882</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20270611</p></td>
<td><p>26.3263</p></td>
<td><p>PUT</p></td>
<td><p>25.4917</p></td>
<td><p>0.2447462</p></td>
<td><p>0.2447462</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-even"><td><p>20270611</p></td>
<td><p>54.7462</p></td>
<td><p>PUT</p></td>
<td><p>68.7423</p></td>
<td><p>0.1580929</p></td>
<td><p>0.1580929</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20270611</p></td>
<td><p>106.3038</p></td>
<td><p>CALL</p></td>
<td><p>39.061</p></td>
<td><p>0.1241034</p></td>
<td><p>0.1241034</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20320613</p></td>
<td><p>18.6354</p></td>
<td><p>PUT</p></td>
<td><p>23.6536</p></td>
<td><p>0.2513039</p></td>
<td><p>0.2513059</p></td>
<td><p>-3e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20320613</p></td>
<td><p>52.522</p></td>
<td><p>PUT</p></td>
<td><p>75.4249</p></td>
<td><p>0.1520929</p></td>
<td><p>0.1520929</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-even"><td><p>20320613</p></td>
<td><p>96.5346</p></td>
<td><p>CALL</p></td>
<td><p>40.2169</p></td>
<td><p>0.1170999</p></td>
<td><p>0.1170999</p></td>
<td><p>-1e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20370613</p></td>
<td><p>14.6541</p></td>
<td><p>PUT</p></td>
<td><p>21.7259</p></td>
<td><p>0.2496129</p></td>
<td><p>0.2496129</p></td>
<td><p>-3e-10</p></td>
</tr>
<tr class="row-even"><td><p>20370613</p></td>
<td><p>46.4964</p></td>
<td><p>PUT</p></td>
<td><p>72.8417</p></td>
<td><p>0.1520929</p></td>
<td><p>0.1520929</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20370613</p></td>
<td><p>95.4923</p></td>
<td><p>CALL</p></td>
<td><p>40.1428</p></td>
<td><p>0.1148717</p></td>
<td><p>0.1148717</p></td>
<td><p>-1e-10</p></td>
</tr>
<tr class="row-even"><td><p>20470613</p></td>
<td><p>10.0592</p></td>
<td><p>PUT</p></td>
<td><p>18.0972</p></td>
<td><p>0.2475206</p></td>
<td><p>0.2475206</p></td>
<td><p>-4e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20470613</p></td>
<td><p>38.2446</p></td>
<td><p>PUT</p></td>
<td><p>66.0516</p></td>
<td><p>0.1520929</p></td>
<td><p>0.1520929</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-even"><td><p>20470613</p></td>
<td><p>96.7503</p></td>
<td><p>CALL</p></td>
<td><p>38.9331</p></td>
<td><p>0.1170846</p></td>
<td><p>0.1170846</p></td>
<td><p>-2e-10</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 72: Dictionary_3: results of the calibration when Weighting=NOTIONAL. We see that the differences between the target volatilities and the calibrated volatilities stored in the column FitError are very small, below 10^-10 in the majority of case.</p>
<p>The following figures display the agreement existing between the volatility surface obtained from the DELTAVOL input and the volatility surface generated by PIV fitting at different time slices:</p>
<p><img alt="Figure 136: Slices of the implied volatility surface obtained from the DELTAVOL used for calibration and from the PIV of type SA4 fitted to this volatility. The delta vols inputs of the DELTAVOL object are provided under the form (DN,10C,10P). The calibration aims to match at each time slice the implied volatilities corresponding to the points DN, 10C and 10P. Observe that, although the 3 conditions defining each slice are satisfied by both volatility surfaces, the different ways in which the surfaces are interpolated (parametrically in the PIV vols and using cubic splines in the DELTAVOLS) mean that the implied volatility surfaces do not agree completely. Further note that the two volatility objects deal with the tails differently, leading to larger disagreements for options far in or out of the money." src="market/DBSMC/Fig/1.png" /></p>
</section>
<section id="results-dictionary-4-weighting-notional">
<h3><span class="section-number">1.3.1.9.4. </span>Results Dictionary_4 - Weighting = NOTIONAL<a class="headerlink" href="#results-dictionary-4-weighting-notional" title="Link to this heading">#</a></h3>
<p>For Dictionary_4, when fitting a parametric form of SkewType=SA4 the results of the calibration using Weighting=NOTIONAL are summarized in the following table:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Maturity</p></th>
<th class="head"><p>Delta</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Weight</p></th>
<th class="head"><p>TargetVol</p></th>
<th class="head"><p>FittedVol</p></th>
<th class="head"><p>FitError</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>20170724</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.3354093</p></td>
<td><p>0.3354093</p></td>
<td><p>-6.3e-09</p></td>
</tr>
<tr class="row-odd"><td><p>20170724</p></td>
<td><p>25RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0038446</p></td>
<td><p>0.0028936</p></td>
<td><p>-0.00099507</p></td>
</tr>
<tr class="row-even"><td><p>20170724</p></td>
<td><p>25CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0029337</p></td>
<td><p>0.0028797</p></td>
<td><p>-5.393984e-05</p></td>
</tr>
<tr class="row-odd"><td><p>20170724</p></td>
<td><p>10RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.004998</p></td>
<td><p>0.0054983</p></td>
<td><p>0.000500301919</p></td>
</tr>
<tr class="row-even"><td><p>20170724</p></td>
<td><p>10CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0102679</p></td>
<td><p>0.0102832</p></td>
<td><p>1.53091e-05</p></td>
</tr>
<tr class="row-odd"><td><p>20170817</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.2508519</p></td>
<td><p>0.2508519</p></td>
<td><p>-1.18e-08</p></td>
</tr>
<tr class="row-even"><td><p>20170817</p></td>
<td><p>25RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0075098</p></td>
<td><p>0.0056526</p></td>
<td><p>-0.0018571</p></td>
</tr>
<tr class="row-odd"><td><p>20170817</p></td>
<td><p>25CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0038672</p></td>
<td><p>0.0038248</p></td>
<td><p>-4.24152e-05</p></td>
</tr>
<tr class="row-even"><td><p>20170817</p></td>
<td><p>10RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0097627</p></td>
<td><p>0.0107402</p></td>
<td><p>0.00097774</p></td>
</tr>
<tr class="row-odd"><td><p>20170817</p></td>
<td><p>10CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0135351</p></td>
<td><p>0.0135473</p></td>
<td><p>1.21876e-05</p></td>
</tr>
<tr class="row-even"><td><p>20170917</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.2300724</p></td>
<td><p>0.2300724</p></td>
<td><p>-1.07e-08</p></td>
</tr>
<tr class="row-odd"><td><p>20170917</p></td>
<td><p>25RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0077183</p></td>
<td><p>0.0058095</p></td>
<td><p>-0.0019087</p></td>
</tr>
<tr class="row-even"><td><p>20170917</p></td>
<td><p>25CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0041327</p></td>
<td><p>0.0040989</p></td>
<td><p>-3.37574e-05</p></td>
</tr>
<tr class="row-odd"><td><p>20170917</p></td>
<td><p>10RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0100337</p></td>
<td><p>0.0110383</p></td>
<td><p>0.00100445</p></td>
</tr>
<tr class="row-even"><td><p>20170917</p></td>
<td><p>10CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0144643</p></td>
<td><p>0.0144741</p></td>
<td><p>9.7304e-06</p></td>
</tr>
<tr class="row-odd"><td><p>20171017</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.218177</p></td>
<td><p>0.218177</p></td>
<td><p>2.5e-08</p></td>
</tr>
<tr class="row-even"><td><p>20171017</p></td>
<td><p>25RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0092522</p></td>
<td><p>0.0069642</p></td>
<td><p>-0.0022880</p></td>
</tr>
<tr class="row-odd"><td><p>20171017</p></td>
<td><p>25CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0052767</p></td>
<td><p>0.0052692</p></td>
<td><p>-7.5132e-06</p></td>
</tr>
<tr class="row-even"><td><p>20171017</p></td>
<td><p>10RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0120279</p></td>
<td><p>0.0132321</p></td>
<td><p>0.001204</p></td>
</tr>
<tr class="row-odd"><td><p>20171017</p></td>
<td><p>10CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0184685</p></td>
<td><p>0.0184704</p></td>
<td><p>1.8189e-06</p></td>
</tr>
<tr class="row-even"><td><p>20180117</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.2074063</p></td>
<td><p>0.2074066</p></td>
<td><p>2.752e-07</p></td>
</tr>
<tr class="row-odd"><td><p>20180117</p></td>
<td><p>25RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0093332</p></td>
<td><p>0.0070252</p></td>
<td><p>-0.0023080</p></td>
</tr>
<tr class="row-even"><td><p>20180117</p></td>
<td><p>25CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0057024</p></td>
<td><p>0.0057137</p></td>
<td><p>1.13449e-05</p></td>
</tr>
<tr class="row-odd"><td><p>20180117</p></td>
<td><p>10RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0121332</p></td>
<td><p>0.013348</p></td>
<td><p>0.00121148</p></td>
</tr>
<tr class="row-even"><td><p>20180117</p></td>
<td><p>10CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0199583</p></td>
<td><p>0.0199517</p></td>
<td><p>-6.6213e-06</p></td>
</tr>
<tr class="row-odd"><td><p>20180717</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.1976203</p></td>
<td><p>0.1976204</p></td>
<td><p>1.142e-07</p></td>
</tr>
<tr class="row-even"><td><p>20180717</p></td>
<td><p>25RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0094649</p></td>
<td><p>0.0071242</p></td>
<td><p>-0.0023406</p></td>
</tr>
<tr class="row-odd"><td><p>20180717</p></td>
<td><p>25CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0061142</p></td>
<td><p>0.0061495</p></td>
<td><p>3.52952e-05</p></td>
</tr>
<tr class="row-even"><td><p>20180717</p></td>
<td><p>10RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0123043</p></td>
<td><p>0.0135362</p></td>
<td><p>0.00123319</p></td>
</tr>
<tr class="row-odd"><td><p>20180717</p></td>
<td><p>10CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0213996</p></td>
<td><p>0.0213883</p></td>
<td><p>-1.13104e-05</p></td>
</tr>
<tr class="row-even"><td><p>20190717</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.1853753</p></td>
<td><p>0.1853759</p></td>
<td><p>5.606e-07</p></td>
</tr>
<tr class="row-odd"><td><p>20190717</p></td>
<td><p>25RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0095263</p></td>
<td><p>0.0071705</p></td>
<td><p>-0.0023557</p></td>
</tr>
<tr class="row-even"><td><p>20190717</p></td>
<td><p>25CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0067335</p></td>
<td><p>0.0068094</p></td>
<td><p>7.59504e-05</p></td>
</tr>
<tr class="row-odd"><td><p>20190717</p></td>
<td><p>10RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0123842</p></td>
<td><p>0.0136242</p></td>
<td><p>0.00124</p></td>
</tr>
<tr class="row-even"><td><p>20190717</p></td>
<td><p>10CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0235672</p></td>
<td><p>0.0235397</p></td>
<td><p>-2.74737e-05</p></td>
</tr>
<tr class="row-odd"><td><p>20200717</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.1812359</p></td>
<td><p>0.1812365</p></td>
<td><p>5.841e-07</p></td>
</tr>
<tr class="row-even"><td><p>20200717</p></td>
<td><p>25RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0095915</p></td>
<td><p>0.0072196</p></td>
<td><p>-0.0023719</p></td>
</tr>
<tr class="row-odd"><td><p>20200717</p></td>
<td><p>25CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0072322</p></td>
<td><p>0.007341</p></td>
<td><p>0.0001087</p></td>
</tr>
<tr class="row-even"><td><p>20200717</p></td>
<td><p>10RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.012469</p></td>
<td><p>0.0137175</p></td>
<td><p>0.0012485</p></td>
</tr>
<tr class="row-odd"><td><p>20200717</p></td>
<td><p>10CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0253126</p></td>
<td><p>0.0252759</p></td>
<td><p>-3.66653e-05</p></td>
</tr>
<tr class="row-even"><td><p>20220717</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.1775838</p></td>
<td><p>0.1775844</p></td>
<td><p>6.596e-07</p></td>
</tr>
<tr class="row-odd"><td><p>20220717</p></td>
<td><p>25RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0099881</p></td>
<td><p>0.0075181</p></td>
<td><p>-0.0024699</p></td>
</tr>
<tr class="row-even"><td><p>20220717</p></td>
<td><p>25CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.007666</p></td>
<td><p>0.0078073</p></td>
<td><p>0.0001412</p></td>
</tr>
<tr class="row-odd"><td><p>20220717</p></td>
<td><p>10RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0129845</p></td>
<td><p>0.0142846</p></td>
<td><p>0.0013001</p></td>
</tr>
<tr class="row-even"><td><p>20220717</p></td>
<td><p>10CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0268311</p></td>
<td><p>0.0267847</p></td>
<td><p>-4.63766e-05</p></td>
</tr>
<tr class="row-odd"><td><p>20240717</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.1767857</p></td>
<td><p>0.1767866</p></td>
<td><p>9.011e-07</p></td>
</tr>
<tr class="row-even"><td><p>20240717</p></td>
<td><p>25RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0101421</p></td>
<td><p>0.0076341</p></td>
<td><p>-0.0025080</p></td>
</tr>
<tr class="row-odd"><td><p>20240717</p></td>
<td><p>25CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0082815</p></td>
<td><p>0.008465</p></td>
<td><p>0.0001834</p></td>
</tr>
<tr class="row-even"><td><p>20240717</p></td>
<td><p>10RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0131847</p></td>
<td><p>0.0145045</p></td>
<td><p>0.0013202</p></td>
</tr>
<tr class="row-odd"><td><p>20240717</p></td>
<td><p>10CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0289853</p></td>
<td><p>0.0289249</p></td>
<td><p>-6.0324e-05</p></td>
</tr>
<tr class="row-even"><td><p>20270717</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.1760966</p></td>
<td><p>0.1760978</p></td>
<td><p>1.1708e-06</p></td>
</tr>
<tr class="row-odd"><td><p>20270717</p></td>
<td><p>25RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0102796</p></td>
<td><p>0.0077376</p></td>
<td><p>-0.0025419</p></td>
</tr>
<tr class="row-even"><td><p>20270717</p></td>
<td><p>25CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0088151</p></td>
<td><p>0.0090389</p></td>
<td><p>0.0002237</p></td>
</tr>
<tr class="row-odd"><td><p>20270717</p></td>
<td><p>10RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0133635</p></td>
<td><p>0.0147017</p></td>
<td><p>0.0013382</p></td>
</tr>
<tr class="row-even"><td><p>20270717</p></td>
<td><p>10CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.030853</p></td>
<td><p>0.0307791</p></td>
<td><p>-7.38695e-05</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 73: Results of the calibration when Weighting=NOTIONAL for a SA4 parametric form. We see that the differences between the target volatilities and the calibrated volatilities stored in the column FitError are small in the majority of cases.</p>
<p>For Dictionary_4, when fitting a parametric form of SkewType=LARGD the results of the calibration using Weighting=NOTIONAL are summarized in the following table:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Maturity</p></th>
<th class="head"><p>Delta</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Weight</p></th>
<th class="head"><p>TargetVol</p></th>
<th class="head"><p>FittedVol</p></th>
<th class="head"><p>FitError</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>20170724</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.3354093</p></td>
<td><p>0.3354093</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20170724</p></td>
<td><p>25RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0038446</p></td>
<td><p>0.0038446</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20170724</p></td>
<td><p>25CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0029337</p></td>
<td><p>0.0029337</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20170724</p></td>
<td><p>10RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.004998</p></td>
<td><p>0.004998</p></td>
<td><p>1e-10</p></td>
</tr>
<tr class="row-even"><td><p>20170724</p></td>
<td><p>10CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0102679</p></td>
<td><p>0.0102679</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20170817</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.2508519</p></td>
<td><p>0.2508519</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20170817</p></td>
<td><p>25RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0075098</p></td>
<td><p>0.0075098</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20170817</p></td>
<td><p>25CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0038672</p></td>
<td><p>0.0038672</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20170817</p></td>
<td><p>10RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0097627</p></td>
<td><p>0.0097627</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20170817</p></td>
<td><p>10CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0135351</p></td>
<td><p>0.0135351</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-even"><td><p>20170917</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.2300724</p></td>
<td><p>0.2300724</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20170917</p></td>
<td><p>25RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0077183</p></td>
<td><p>0.0077183</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20170917</p></td>
<td><p>25CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0041327</p></td>
<td><p>0.0041327</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20170917</p></td>
<td><p>10RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0100337</p></td>
<td><p>0.0100337</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20170917</p></td>
<td><p>10CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0144643</p></td>
<td><p>0.0144643</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20171017</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.218177</p></td>
<td><p>0.218177</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20171017</p></td>
<td><p>25RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0092522</p></td>
<td><p>0.0092522</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20171017</p></td>
<td><p>25CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0052767</p></td>
<td><p>0.0052767</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20171017</p></td>
<td><p>10RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0120279</p></td>
<td><p>0.0120279</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20171017</p></td>
<td><p>10CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0184685</p></td>
<td><p>0.0184685</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-even"><td><p>20180117</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.2074063</p></td>
<td><p>0.2074063</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20180117</p></td>
<td><p>25RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0093332</p></td>
<td><p>0.0093332</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20180117</p></td>
<td><p>25CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0057024</p></td>
<td><p>0.0057024</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20180117</p></td>
<td><p>10RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0121332</p></td>
<td><p>0.0121332</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20180117</p></td>
<td><p>10CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0199583</p></td>
<td><p>0.0199583</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20180717</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.1976203</p></td>
<td><p>0.1976203</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-even"><td><p>20180717</p></td>
<td><p>25RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0094649</p></td>
<td><p>0.0094649</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20180717</p></td>
<td><p>25CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0061142</p></td>
<td><p>0.0061142</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20180717</p></td>
<td><p>10RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0123043</p></td>
<td><p>0.0123043</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20180717</p></td>
<td><p>10CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0213996</p></td>
<td><p>0.0213996</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-even"><td><p>20190717</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.1853753</p></td>
<td><p>0.1853753</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20190717</p></td>
<td><p>25RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0095263</p></td>
<td><p>0.0095263</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-even"><td><p>20190717</p></td>
<td><p>25CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0067335</p></td>
<td><p>0.0067335</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20190717</p></td>
<td><p>10RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0123842</p></td>
<td><p>0.0123842</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20190717</p></td>
<td><p>10CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0235672</p></td>
<td><p>0.0235672</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20200717</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.1812359</p></td>
<td><p>0.1812359</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20200717</p></td>
<td><p>25RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0095915</p></td>
<td><p>0.0095915</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20200717</p></td>
<td><p>25CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0072322</p></td>
<td><p>0.0072322</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-even"><td><p>20200717</p></td>
<td><p>10RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.012469</p></td>
<td><p>0.012469</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20200717</p></td>
<td><p>10CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0253126</p></td>
<td><p>0.0253126</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20220717</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.1775838</p></td>
<td><p>0.1775838</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20220717</p></td>
<td><p>25RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0099881</p></td>
<td><p>0.0099881</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20220717</p></td>
<td><p>25CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.007666</p></td>
<td><p>0.007666</p></td>
<td><p>1e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20220717</p></td>
<td><p>10RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0129845</p></td>
<td><p>0.0129845</p></td>
<td><p>1e-10</p></td>
</tr>
<tr class="row-even"><td><p>20220717</p></td>
<td><p>10CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0268311</p></td>
<td><p>0.0268311</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20240717</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.1767857</p></td>
<td><p>0.1767857</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-even"><td><p>20240717</p></td>
<td><p>25RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0101421</p></td>
<td><p>0.0101421</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20240717</p></td>
<td><p>25CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0082815</p></td>
<td><p>0.0082815</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20240717</p></td>
<td><p>10RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0131847</p></td>
<td><p>0.0131847</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20240717</p></td>
<td><p>10CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0289853</p></td>
<td><p>0.0289853</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-even"><td><p>20270717</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.1760966</p></td>
<td><p>0.1760966</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20270717</p></td>
<td><p>25RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0102796</p></td>
<td><p>0.0102796</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-even"><td><p>20270717</p></td>
<td><p>25CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0088151</p></td>
<td><p>0.0088151</p></td>
<td><p>1e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20270717</p></td>
<td><p>10RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0133635</p></td>
<td><p>0.0133635</p></td>
<td><p>-1e-10</p></td>
</tr>
<tr class="row-even"><td><p>20270717</p></td>
<td><p>10CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.030853</p></td>
<td><p>0.030853</p></td>
<td><p>-0.0</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 74: Results of the calibration when Weighting=NOTIONAL for a LARGD parametric form. We see that the differences between the target volatilities and the calibrated volatilities stored in the column FitError are very small, below 10^-10 in the majority of case. The quality of fit is significantly better than in the case of the SA4 parametric form. This is due to the fact that in the case of Dictionary_4 we need to calibrate to five targets at each time point, as opposed to three in the previous dictionaries,and therefore the LARGD functional form is better suited in this situation.</p>
<p>The following figures display the agreement existing between the volatility surface obtained from the DELTAVOL input and the volatility surface generated by PIV fitting at different time slices:</p>
<p><img alt="Figure 137: Slices of the implied volatility surface obtained from the DELTAVOL used for calibration and from the PIV of type SA4 fitted to this volatility and LARGD fitted to this volatility. The delta vols inputs of the DELTAVOL object are provided under the form (DN,25RR, 25CVX,10RR, 10CVX). Observe that, although the 3 conditions defining each slice are satisfied by both volatility surfaces, the different ways in which the surfaces are interpolated (parametrically in the PIV vols and using cubic splines in the DELTAVOLs) mean that the implied volatility surfaces do not agree completely. Further note that the volatility objects deal with the tails differently, leading to larger disagreements for options far in or out of the money." src="market/DBSMC/Fig/6.png" /></p>
<p>We consider now Scenario 2: Weighting=VEGANOTIONAL. In this case, the PIVAUTOFIT method will not work unless the MARKETVOL object is of InputType=STRIKEVOL. In order to circumvent this issue using the available testing dictionaries, we convert the original DELTAVOL objects into STRIKEVOL objects using the DBAnalytics MarketVolFunction DeltaVolToStrikeVol. This function converts a MARKETVOL with InputMode=DELTAVOL into a MARKETVOL with inputMode = STRIKEVOL i.e. converts a volatility surface defined as a function of delta (and expiry) into a volatility surface defined as a function of strike (and expiry).</p>
</section>
<section id="results-dictionary-1-weighting-veganotional">
<h3><span class="section-number">1.3.1.9.5. </span>Results Dictionary_1 - Weighting = VEGANOTIONAL<a class="headerlink" href="#results-dictionary-1-weighting-veganotional" title="Link to this heading">#</a></h3>
<p>For Dictionary_1, the results of the calibration using Weighting=NOTIONAL are summarized in the following table:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Maturity</p></th>
<th class="head"><p>Delta</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Weight</p></th>
<th class="head"><p>TargetVol</p></th>
<th class="head"><p>FittedVol</p></th>
<th class="head"><p>FitError</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>20200803</p></td>
<td><p>1.035</p></td>
<td><p>PUT</p></td>
<td><p>0.0983</p></td>
<td><p>0.089993</p></td>
<td><p>0.089993</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20200803</p></td>
<td><p>1.0972</p></td>
<td><p>CALL</p></td>
<td><p>0.2231</p></td>
<td><p>0.0689003</p></td>
<td><p>0.0689003</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20200803</p></td>
<td><p>1.1608</p></td>
<td><p>CALL</p></td>
<td><p>0.098</p></td>
<td><p>0.0728177</p></td>
<td><p>0.0728177</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20201103</p></td>
<td><p>1.0089</p></td>
<td><p>PUT</p></td>
<td><p>0.1381</p></td>
<td><p>0.0957272</p></td>
<td><p>0.0957272</p></td>
<td><p>-1e-10</p></td>
</tr>
<tr class="row-even"><td><p>20201103</p></td>
<td><p>1.1002</p></td>
<td><p>CALL</p></td>
<td><p>0.3137</p></td>
<td><p>0.0697919</p></td>
<td><p>0.0697919</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20201103</p></td>
<td><p>1.1776</p></td>
<td><p>CALL</p></td>
<td><p>0.1378</p></td>
<td><p>0.0739224</p></td>
<td><p>0.0739224</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20210503</p></td>
<td><p>0.975</p></td>
<td><p>PUT</p></td>
<td><p>0.1946</p></td>
<td><p>0.1007088</p></td>
<td><p>0.1007088</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20210503</p></td>
<td><p>1.1072</p></td>
<td><p>CALL</p></td>
<td><p>0.4421</p></td>
<td><p>0.0728805</p></td>
<td><p>0.0728805</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20210503</p></td>
<td><p>1.2233</p></td>
<td><p>CALL</p></td>
<td><p>0.1943</p></td>
<td><p>0.0772081</p></td>
<td><p>0.0772081</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20220503</p></td>
<td><p>0.9328</p></td>
<td><p>PUT</p></td>
<td><p>0.2771</p></td>
<td><p>0.1043431</p></td>
<td><p>0.1043431</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20220503</p></td>
<td><p>1.1219</p></td>
<td><p>CALL</p></td>
<td><p>0.6297</p></td>
<td><p>0.0772653</p></td>
<td><p>0.0772653</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20220503</p></td>
<td><p>1.3017</p></td>
<td><p>CALL</p></td>
<td><p>0.2769</p></td>
<td><p>0.0815016</p></td>
<td><p>0.0815016</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20250503</p></td>
<td><p>0.8969</p></td>
<td><p>PUT</p></td>
<td><p>0.3422</p></td>
<td><p>0.1108397</p></td>
<td><p>0.1108397</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20250503</p></td>
<td><p>1.1382</p></td>
<td><p>CALL</p></td>
<td><p>0.7776</p></td>
<td><p>0.082838</p></td>
<td><p>0.082838</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20250503</p></td>
<td><p>1.3978</p></td>
<td><p>CALL</p></td>
<td><p>0.3419</p></td>
<td><p>0.0914245</p></td>
<td><p>0.0914245</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20250430</p></td>
<td><p>0.8606</p></td>
<td><p>PUT</p></td>
<td><p>0.4492</p></td>
<td><p>0.1129976</p></td>
<td><p>0.1129976</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-even"><td><p>20250430</p></td>
<td><p>1.1749</p></td>
<td><p>CALL</p></td>
<td><p>1.0203</p></td>
<td><p>0.0879513</p></td>
<td><p>0.0879513</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20250430</p></td>
<td><p>1.5716</p></td>
<td><p>CALL</p></td>
<td><p>0.4484</p></td>
<td><p>0.099595</p></td>
<td><p>0.099595</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20270503</p></td>
<td><p>0.8393</p></td>
<td><p>PUT</p></td>
<td><p>0.5389</p></td>
<td><p>0.113876</p></td>
<td><p>0.113876</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20270503</p></td>
<td><p>1.2152</p></td>
<td><p>CALL</p></td>
<td><p>1.2247</p></td>
<td><p>0.0911983</p></td>
<td><p>0.0911983</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20270503</p></td>
<td><p>1.7604</p></td>
<td><p>CALL</p></td>
<td><p>0.5386</p></td>
<td><p>0.108169</p></td>
<td><p>0.108169</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20300502</p></td>
<td><p>0.8178</p></td>
<td><p>PUT</p></td>
<td><p>0.6512</p></td>
<td><p>0.114307</p></td>
<td><p>0.114307</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20300502</p></td>
<td><p>1.2726</p></td>
<td><p>CALL</p></td>
<td><p>1.4798</p></td>
<td><p>0.0938407</p></td>
<td><p>0.0938407</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20300502</p></td>
<td><p>2.0389</p></td>
<td><p>CALL</p></td>
<td><p>0.6507</p></td>
<td><p>0.1177077</p></td>
<td><p>0.1177077</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20350503</p></td>
<td><p>0.7845</p></td>
<td><p>PUT</p></td>
<td><p>0.8013</p></td>
<td><p>0.1177931</p></td>
<td><p>0.1177931</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20350503</p></td>
<td><p>1.3716</p></td>
<td><p>CALL</p></td>
<td><p>1.8211</p></td>
<td><p>0.1018407</p></td>
<td><p>0.1018407</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20350503</p></td>
<td><p>2.4677</p></td>
<td><p>CALL</p></td>
<td><p>0.8009</p></td>
<td><p>0.1142216</p></td>
<td><p>0.1142216</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20400503</p></td>
<td><p>0.7495</p></td>
<td><p>PUT</p></td>
<td><p>0.9279</p></td>
<td><p>0.1263514</p></td>
<td><p>0.1263514</p></td>
<td><p>-1e-10</p></td>
</tr>
<tr class="row-even"><td><p>20400503</p></td>
<td><p>1.4958</p></td>
<td><p>CALL</p></td>
<td><p>2.1088</p></td>
<td><p>0.1123407</p></td>
<td><p>0.1123407</p></td>
<td><p>1e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20400503</p></td>
<td><p>3.112</p></td>
<td><p>CALL</p></td>
<td><p>0.9275</p></td>
<td><p>0.1232834</p></td>
<td><p>0.1232834</p></td>
<td><p>1e-10</p></td>
</tr>
<tr class="row-even"><td><p>20500503</p></td>
<td><p>0.739</p></td>
<td><p>PUT</p></td>
<td><p>1.1785</p></td>
<td><p>0.1360361</p></td>
<td><p>0.1360361</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20500503</p></td>
<td><p>1.8204</p></td>
<td><p>CALL</p></td>
<td><p>2.6787</p></td>
<td><p>0.1221407</p></td>
<td><p>0.1221407</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20500503</p></td>
<td><p>4.8068</p></td>
<td><p>CALL</p></td>
<td><p>1.1783</p></td>
<td><p>0.1325786</p></td>
<td><p>0.1325786</p></td>
<td><p>0.0</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 75: Dictionary_1: results of the calibration when Weighting=VEGANOTIONAL. We see that the differences between the target volatilities and the calibrated volatilities stored in the column FitError are very small, below 10^-10 in in all cases.</p>
<p>The following figures display the agreement existing between the volatility surface obtained from the DELTAVOL input and the volatility surface generated by PIV fitting at different time slices:</p>
<p><img alt="Figure 138: Dictionary 1. Slices of the implied volatility surface obtained from the original DELTAVOL, the STRIKEVOL used for calibration and from the PIV of type SA4 fitted to the STRIKEVOL volatility. The delta vols inputs of the DELTAVOL object are provided under the form (DN,RR,CVX). Note that, there is perfect agreement between the STRIKEVOL and DELTAVOL implied volatility surfaces. Further note that, although the 3 conditions defining each slice are satisfied by all three volatility surfaces, the different ways in which the surfaces are interpolated (parametrically in the PIV vols and using cubic splines in the DELTAVOLs and STRIKEVOLs) mean that the implied volatility surfaces DELTAVOL/STRIKEVOL and PIV do not agree completely. Observe that the DELTAVOL/STRIKEVOL and PIV volatility objects deal with the tails differently, leading to larger disagreements for options far in or out of the money." src="market/DBSMC/Fig/8.png" /></p>
</section>
<section id="results-dictionary-2-weighting-veganotional">
<h3><span class="section-number">1.3.1.9.6. </span>Results Dictionary_2 - Weighting = VEGANOTIONAL<a class="headerlink" href="#results-dictionary-2-weighting-veganotional" title="Link to this heading">#</a></h3>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Maturity</p></th>
<th class="head"><p>Delta</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Weight</p></th>
<th class="head"><p>TargetVol</p></th>
<th class="head"><p>FittedVol</p></th>
<th class="head"><p>FitError</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>20170913</p></td>
<td><p>79.6224</p></td>
<td><p>PUT</p></td>
<td><p>7.4327</p></td>
<td><p>0.1236828</p></td>
<td><p>0.1236828</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20170913</p></td>
<td><p>86.0312</p></td>
<td><p>PUT</p></td>
<td><p>17.2234</p></td>
<td><p>0.0946152</p></td>
<td><p>0.0946152</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20170913</p></td>
<td><p>91.214</p></td>
<td><p>CALL</p></td>
<td><p>7.7576</p></td>
<td><p>0.0886254</p></td>
<td><p>0.0906254</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20171213</p></td>
<td><p>75.3044</p></td>
<td><p>PUT</p></td>
<td><p>10.3182</p></td>
<td><p>0.1451247</p></td>
<td><p>0.1451247</p></td>
<td><p>-1.3e-09</p></td>
</tr>
<tr class="row-even"><td><p>20171213</p></td>
<td><p>85.4262</p></td>
<td><p>PUT</p></td>
<td><p>24.1378</p></td>
<td><p>0.1032357</p></td>
<td><p>0.1032357</p></td>
<td><p>3e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20171213</p></td>
<td><p>93.3931</p></td>
<td><p>CALL</p></td>
<td><p>10.8681</p></td>
<td><p>0.0945349</p></td>
<td><p>0.0945349</p></td>
<td><p>3e-10</p></td>
</tr>
<tr class="row-even"><td><p>20180613</p></td>
<td><p>68.6092</p></td>
<td><p>PUT</p></td>
<td><p>14.1571</p></td>
<td><p>0.1704427</p></td>
<td><p>0.1704427</p></td>
<td><p>5e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20180613</p></td>
<td><p>84.1378</p></td>
<td><p>PUT</p></td>
<td><p>33.685</p></td>
<td><p>0.111069</p></td>
<td><p>0.111069</p></td>
<td><p>1e-10</p></td>
</tr>
<tr class="row-even"><td><p>20180613</p></td>
<td><p>96.0477</p></td>
<td><p>CALL</p></td>
<td><p>15.5863</p></td>
<td><p>0.097524</p></td>
<td><p>0.097524</p></td>
<td><p>6e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20190613</p></td>
<td><p>60.0286</p></td>
<td><p>PUT</p></td>
<td><p>18.6566</p></td>
<td><p>0.18412</p></td>
<td><p>0.18412</p></td>
<td><p>-6e-10</p></td>
</tr>
<tr class="row-even"><td><p>20190613</p></td>
<td><p>81.4004</p></td>
<td><p>PUT</p></td>
<td><p>45.9711</p></td>
<td><p>0.1167332</p></td>
<td><p>0.1167332</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20190613</p></td>
<td><p>99.5814</p></td>
<td><p>CALL</p></td>
<td><p>21.5833</p></td>
<td><p>0.1011083</p></td>
<td><p>0.1011083</p></td>
<td><p>5e-10</p></td>
</tr>
<tr class="row-even"><td><p>20200611</p></td>
<td><p>52.9512</p></td>
<td><p>PUT</p></td>
<td><p>21.5073</p></td>
<td><p>0.1990825</p></td>
<td><p>0.1990825</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20200611</p></td>
<td><p>78.3703</p></td>
<td><p>PUT</p></td>
<td><p>54.19</p></td>
<td><p>0.1225751</p></td>
<td><p>0.1225751</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-even"><td><p>20200611</p></td>
<td><p>101.8939</p></td>
<td><p>CALL</p></td>
<td><p>25.9914</p></td>
<td><p>0.1047343</p></td>
<td><p>0.1047343</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20220613</p></td>
<td><p>41.6063</p></td>
<td><p>PUT</p></td>
<td><p>24.4467</p></td>
<td><p>0.2255239</p></td>
<td><p>0.2255259</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-even"><td><p>20220613</p></td>
<td><p>71.5931</p></td>
<td><p>PUT</p></td>
<td><p>63.9434</p></td>
<td><p>0.1354722</p></td>
<td><p>0.1354722</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20220613</p></td>
<td><p>104.9257</p></td>
<td><p>CALL</p></td>
<td><p>32.0734</p></td>
<td><p>0.1122528</p></td>
<td><p>0.1122528</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20240613</p></td>
<td><p>34.3363</p></td>
<td><p>PUT</p></td>
<td><p>25.6227</p></td>
<td><p>0.2335558</p></td>
<td><p>0.2335558</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20240613</p></td>
<td><p>64.8174</p></td>
<td><p>PUT</p></td>
<td><p>68.2326</p></td>
<td><p>0.1448304</p></td>
<td><p>0.1448304</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20240613</p></td>
<td><p>105.9393</p></td>
<td><p>CALL</p></td>
<td><p>35.8993</p></td>
<td><p>0.1174882</p></td>
<td><p>0.1174882</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20270611</p></td>
<td><p>26.3263</p></td>
<td><p>PUT</p></td>
<td><p>25.4917</p></td>
<td><p>0.2447462</p></td>
<td><p>0.2447462</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-even"><td><p>20270611</p></td>
<td><p>54.7462</p></td>
<td><p>PUT</p></td>
<td><p>68.7423</p></td>
<td><p>0.1580929</p></td>
<td><p>0.1580929</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20270611</p></td>
<td><p>106.3038</p></td>
<td><p>CALL</p></td>
<td><p>39.061</p></td>
<td><p>0.1241034</p></td>
<td><p>0.1241034</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20320613</p></td>
<td><p>18.6354</p></td>
<td><p>PUT</p></td>
<td><p>23.6536</p></td>
<td><p>0.2513039</p></td>
<td><p>0.2513059</p></td>
<td><p>3e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20320613</p></td>
<td><p>52.522</p></td>
<td><p>PUT</p></td>
<td><p>75.4249</p></td>
<td><p>0.1520929</p></td>
<td><p>0.1520929</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-even"><td><p>20320613</p></td>
<td><p>96.5346</p></td>
<td><p>CALL</p></td>
<td><p>40.2169</p></td>
<td><p>0.1170999</p></td>
<td><p>0.1170999</p></td>
<td><p>-1e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20370613</p></td>
<td><p>14.6541</p></td>
<td><p>PUT</p></td>
<td><p>21.7259</p></td>
<td><p>0.2496129</p></td>
<td><p>0.2496129</p></td>
<td><p>-3e-10</p></td>
</tr>
<tr class="row-even"><td><p>20370613</p></td>
<td><p>46.4964</p></td>
<td><p>PUT</p></td>
<td><p>72.8417</p></td>
<td><p>0.1520929</p></td>
<td><p>0.1520929</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20370613</p></td>
<td><p>95.4923</p></td>
<td><p>CALL</p></td>
<td><p>40.1428</p></td>
<td><p>0.1148717</p></td>
<td><p>0.1148717</p></td>
<td><p>-1e-10</p></td>
</tr>
<tr class="row-even"><td><p>20470613</p></td>
<td><p>10.0592</p></td>
<td><p>PUT</p></td>
<td><p>18.0972</p></td>
<td><p>0.2475206</p></td>
<td><p>0.2475206</p></td>
<td><p>-4e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20470613</p></td>
<td><p>38.2446</p></td>
<td><p>PUT</p></td>
<td><p>66.0516</p></td>
<td><p>0.1520929</p></td>
<td><p>0.1520929</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-even"><td><p>20470613</p></td>
<td><p>95.7503</p></td>
<td><p>CALL</p></td>
<td><p>38.9331</p></td>
<td><p>0.1170846</p></td>
<td><p>0.1170846</p></td>
<td><p>-2e-10</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 76: Dictionary_2: results of the calibration when Weighting=VEGANOTIONAL. We see that the differences between the target volatilities and the calibrated volatilities stored in the column FitError are very small, below 10^-10 in almost all cases.</p>
<p>The following figures display the agreement existing between the volatility surface obtained from the DELTAVOL input and the volatility surface generated by PIV fitting at different time slices:</p>
<p><img alt="Figure 139: Dictionary 2. Slices of the implied volatility surface obtained from the original DELTAVOL, the STRIKEVOL used for calibration and from the PIV of type SA4 fitted to the STRIKEVOL volatility. The delta vols inputs of the DELTAVOL object are provided under the form (DN,10C,10P). The calibration aims to match at each time slice the implied volatilities corresponding to the points DN, 10C and 10P. Note that, there is perfect agreement between the STRIKEVOL and DELTAVOL implied volatility surfaces. Further note that, although the 3 conditions defining each slice are satisfied by all three volatility surfaces, the different ways in which the surfaces are interpolated (parametrically in the PIV vols and using cubic splines in the DELTAVOLs and STRIKEVOLs) mean that the implied volatility surfaces DELTAVOL/STRIKEVOL and PIV do not agree completely. Observe that the DELTAVOL/STRIKEVOL and PIV volatility objects deal with the tails differently, leading to larger disagreements for options far in or out of the money." src="market/DBSMC/Fig/10.png" /></p>
</section>
<section id="results-dictionary-3-weighting-veganotional">
<h3><span class="section-number">1.3.1.9.7. </span>Results Dictionary_3 - Weighting = VEGANOTIONAL<a class="headerlink" href="#results-dictionary-3-weighting-veganotional" title="Link to this heading">#</a></h3>
<p>In the case of Dictionary_3 we perform the same initial step: converting the original DELTAVOL into a STRIKEVOL using the DBAnalytics function DeltaVolToStrikeVol. The results of the SA4 calibration when using Weighting=VEGANOTIONAL are summarized in the following table:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Maturity</p></th>
<th class="head"><p>Delta</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Weight</p></th>
<th class="head"><p>TargetVol</p></th>
<th class="head"><p>FittedVol</p></th>
<th class="head"><p>FitError</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>20171115</p></td>
<td><p>102.6367</p></td>
<td><p>PUT</p></td>
<td><p>9.6956</p></td>
<td><p>0.1110619</p></td>
<td><p>0.1110619</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20171115</p></td>
<td><p>110.1736</p></td>
<td><p>CALL</p></td>
<td><p>22.0401</p></td>
<td><p>0.0883066</p></td>
<td><p>0.0883066</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20171115</p></td>
<td><p>116.4623</p></td>
<td><p>CALL</p></td>
<td><p>9.6956</p></td>
<td><p>0.0863715</p></td>
<td><p>0.0863715</p></td>
<td><p>1e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20180215</p></td>
<td><p>98.6211</p></td>
<td><p>PUT</p></td>
<td><p>13.6796</p></td>
<td><p>0.1185854</p></td>
<td><p>0.1185854</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20180215</p></td>
<td><p>109.726</p></td>
<td><p>CALL</p></td>
<td><p>31.6965</p></td>
<td><p>0.0911626</p></td>
<td><p>0.0911626</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20180215</p></td>
<td><p>118.9625</p></td>
<td><p>CALL</p></td>
<td><p>13.6796</p></td>
<td><p>0.0867354</p></td>
<td><p>0.0867354</p></td>
<td><p>1e-10</p></td>
</tr>
<tr class="row-even"><td><p>20180815</p></td>
<td><p>92.717</p></td>
<td><p>PUT</p></td>
<td><p>19.0284</p></td>
<td><p>0.1282765</p></td>
<td><p>0.1282765</p></td>
<td><p>1e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20180815</p></td>
<td><p>108.8746</p></td>
<td><p>CALL</p></td>
<td><p>43.2507</p></td>
<td><p>0.095226</p></td>
<td><p>0.095226</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20180815</p></td>
<td><p>122.737</p></td>
<td><p>CALL</p></td>
<td><p>19.0284</p></td>
<td><p>0.0936641</p></td>
<td><p>0.0936641</p></td>
<td><p>2e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20190815</p></td>
<td><p>85.0053</p></td>
<td><p>PUT</p></td>
<td><p>28.3063</p></td>
<td><p>0.1307895</p></td>
<td><p>0.1307895</p></td>
<td><p>2e-10</p></td>
</tr>
<tr class="row-even"><td><p>20190815</p></td>
<td><p>106.9015</p></td>
<td><p>CALL</p></td>
<td><p>69.7995</p></td>
<td><p>0.0966126</p></td>
<td><p>0.0966126</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20190815</p></td>
<td><p>127.4512</p></td>
<td><p>CALL</p></td>
<td><p>28.3063</p></td>
<td><p>0.0970047</p></td>
<td><p>0.0970047</p></td>
<td><p>3e-10</p></td>
</tr>
<tr class="row-even"><td><p>20200813</p></td>
<td><p>78.8766</p></td>
<td><p>PUT</p></td>
<td><p>31.4111</p></td>
<td><p>0.1335606</p></td>
<td><p>0.1335606</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20200813</p></td>
<td><p>104.7513</p></td>
<td><p>CALL</p></td>
<td><p>71.4035</p></td>
<td><p>0.097342</p></td>
<td><p>0.097342</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20200813</p></td>
<td><p>131.6807</p></td>
<td><p>CALL</p></td>
<td><p>31.4111</p></td>
<td><p>0.1024637</p></td>
<td><p>0.1024637</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20220815</p></td>
<td><p>68.9256</p></td>
<td><p>PUT</p></td>
<td><p>38.3747</p></td>
<td><p>0.138323</p></td>
<td><p>0.138323</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20220815</p></td>
<td><p>100.1418</p></td>
<td><p>CALL</p></td>
<td><p>87.2331</p></td>
<td><p>0.1000585</p></td>
<td><p>0.1000585</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20220815</p></td>
<td><p>138.393</p></td>
<td><p>CALL</p></td>
<td><p>38.3747</p></td>
<td><p>0.1109047</p></td>
<td><p>0.1109047</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20240815</p></td>
<td><p>60.7346</p></td>
<td><p>PUT</p></td>
<td><p>42.7628</p></td>
<td><p>0.1443809</p></td>
<td><p>0.1443809</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20240815</p></td>
<td><p>95.7215</p></td>
<td><p>CALL</p></td>
<td><p>97.2082</p></td>
<td><p>0.1046367</p></td>
<td><p>0.1046367</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20240815</p></td>
<td><p>142.9581</p></td>
<td><p>CALL</p></td>
<td><p>42.7628</p></td>
<td><p>0.1157611</p></td>
<td><p>0.1157611</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20270813</p></td>
<td><p>50.5859</p></td>
<td><p>PUT</p></td>
<td><p>46.5371</p></td>
<td><p>0.1567494</p></td>
<td><p>0.1567494</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20270813</p></td>
<td><p>90.1273</p></td>
<td><p>CALL</p></td>
<td><p>105.7881</p></td>
<td><p>0.1143104</p></td>
<td><p>0.1143104</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20270813</p></td>
<td><p>152.2405</p></td>
<td><p>CALL</p></td>
<td><p>46.5371</p></td>
<td><p>0.1259524</p></td>
<td><p>0.1259524</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20320813</p></td>
<td><p>40.255</p></td>
<td><p>PUT</p></td>
<td><p>48.6951</p></td>
<td><p>0.1635897</p></td>
<td><p>0.1635897</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20320813</p></td>
<td><p>83.1001</p></td>
<td><p>CALL</p></td>
<td><p>110.6935</p></td>
<td><p>0.1231047</p></td>
<td><p>0.1231047</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20320813</p></td>
<td><p>152.5031</p></td>
<td><p>CALL</p></td>
<td><p>48.6951</p></td>
<td><p>0.1225484</p></td>
<td><p>0.1225484</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20370813</p></td>
<td><p>34.2092</p></td>
<td><p>PUT</p></td>
<td><p>48.2609</p></td>
<td><p>0.1623143</p></td>
<td><p>0.1623143</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20370813</p></td>
<td><p>77.4746</p></td>
<td><p>CALL</p></td>
<td><p>109.7065</p></td>
<td><p>0.1227773</p></td>
<td><p>0.1227773</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20370813</p></td>
<td><p>155.0238</p></td>
<td><p>CALL</p></td>
<td><p>48.2609</p></td>
<td><p>0.1215605</p></td>
<td><p>0.1215605</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20470815</p></td>
<td><p>26.2759</p></td>
<td><p>PUT</p></td>
<td><p>44.4527</p></td>
<td><p>0.1608037</p></td>
<td><p>0.1608037</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20470815</p></td>
<td><p>69.0506</p></td>
<td><p>CALL</p></td>
<td><p>101.0497</p></td>
<td><p>0.1225654</p></td>
<td><p>0.1225654</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20470815</p></td>
<td><p>160.9244</p></td>
<td><p>CALL</p></td>
<td><p>44.4527</p></td>
<td><p>0.121234</p></td>
<td><p>0.121234</p></td>
<td><p>0.0</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 77: Dictionary_3: results of the calibration when Weighting=VEGANOTIONAL. We see that the differences between the target volatilities and the calibrated volatilities stored in the column FitError are very small, below 10^-10 in almost all cases.</p>
<p>The following figures display the agreement existing between the volatility surface obtained from the DELTAVOL input and the volatility surface generated by PIV fitting at different time slices:</p>
<p><img alt="Figure 140: Dictionary 3. Slices of the implied volatility surface obtained from the original DELTAVOL, the STRIKEVOL used for calibration and from the PIV of type SA4 fitted to the STRIKEVOL volatility. The delta vols inputs of the DELTAVOL object are provided under the form (DN,10C,10P). Note that, there is perfect agreement between the STRIKEVOL and DELTAVOL implied volatility surfaces. Further note that, although the 3 conditions defining each slice are satisfied by all three volatility surfaces, the different ways in which the surfaces are interpolated (parametrically in the PIV vols and using cubic splines in the DELTAVOLs and STRIKEVOLs) mean that the implied volatility surfaces DELTAVOL/STRIKEVOL and PIV do not agree completely. Observe that the DELTAVOL/STRIKEVOL and PIV volatility objects deal with the tails differently, leading to larger disagreements for options far in or out of the money." src="market/DBSMC/Fig/2.png" /></p>
</section>
<section id="results-dictionary-4-weighting-veganotional">
<h3><span class="section-number">1.3.1.9.8. </span>Results Dictionary_4 - Weighting = VEGANOTIONAL<a class="headerlink" href="#results-dictionary-4-weighting-veganotional" title="Link to this heading">#</a></h3>
<p>For Dictionary_4, when fitting a parametric form of SkewType=SA4 the results of the calibration using Weighting=VEGANOTIONAL are summarized in the following table:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Maturity</p></th>
<th class="head"><p>Delta</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Weight</p></th>
<th class="head"><p>TargetVol</p></th>
<th class="head"><p>FittedVol</p></th>
<th class="head"><p>FitError</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>20170724</p></td>
<td><p>106.0761</p></td>
<td><p>PUT</p></td>
<td><p>2.7369</p></td>
<td><p>0.3431781</p></td>
<td><p>0.3426711</p></td>
<td><p>-0.000507</p></td>
</tr>
<tr class="row-odd"><td><p>20170724</p></td>
<td><p>109.2451</p></td>
<td><p>PUT</p></td>
<td><p>4.9557</p></td>
<td><p>0.3364206</p></td>
<td><p>0.336693</p></td>
<td><p>0.0002723</p></td>
</tr>
<tr class="row-even"><td><p>20170724</p></td>
<td><p>112.7318</p></td>
<td><p>CALL</p></td>
<td><p>6.2215</p></td>
<td><p>0.3354093</p></td>
<td><p>0.3354321</p></td>
<td><p>2.28303e-05</p></td>
</tr>
<tr class="row-odd"><td><p>20170724</p></td>
<td><p>116.376</p></td>
<td><p>CALL</p></td>
<td><p>4.9557</p></td>
<td><p>0.3402652</p></td>
<td><p>0.3399365</p></td>
<td><p>-0.0003287</p></td>
</tr>
<tr class="row-even"><td><p>20170724</p></td>
<td><p>119.9276</p></td>
<td><p>CALL</p></td>
<td><p>2.7369</p></td>
<td><p>0.3481761</p></td>
<td><p>0.3487491</p></td>
<td><p>0.000573</p></td>
</tr>
<tr class="row-odd"><td><p>20170817</p></td>
<td><p>102.3907</p></td>
<td><p>PUT</p></td>
<td><p>5.7535</p></td>
<td><p>0.2506056</p></td>
<td><p>0.2585059</p></td>
<td><p>-0.0009997</p></td>
</tr>
<tr class="row-even"><td><p>20170817</p></td>
<td><p>107.3613</p></td>
<td><p>PUT</p></td>
<td><p>10.418</p></td>
<td><p>0.2509642</p></td>
<td><p>0.2515139</p></td>
<td><p>0.0005497</p></td>
</tr>
<tr class="row-odd"><td><p>20170817</p></td>
<td><p>112.7901</p></td>
<td><p>CALL</p></td>
<td><p>13.0789</p></td>
<td><p>0.2508519</p></td>
<td><p>0.2508537</p></td>
<td><p>1.8407e-06</p></td>
</tr>
<tr class="row-even"><td><p>20170817</p></td>
<td><p>118.6883</p></td>
<td><p>CALL</p></td>
<td><p>10.418</p></td>
<td><p>0.258474</p></td>
<td><p>0.2578949</p></td>
<td><p>-0.0005790</p></td>
</tr>
<tr class="row-odd"><td><p>20170817</p></td>
<td><p>124.7738</p></td>
<td><p>CALL</p></td>
<td><p>5.7535</p></td>
<td><p>0.2692683</p></td>
<td><p>0.2703496</p></td>
<td><p>0.0010812</p></td>
</tr>
<tr class="row-even"><td><p>20170917</p></td>
<td><p>99.4627</p></td>
<td><p>PUT</p></td>
<td><p>8.1254</p></td>
<td><p>0.2395199</p></td>
<td><p>0.2384945</p></td>
<td><p>-0.0010253</p></td>
</tr>
<tr class="row-odd"><td><p>20170917</p></td>
<td><p>105.8363</p></td>
<td><p>PUT</p></td>
<td><p>14.7128</p></td>
<td><p>0.230346</p></td>
<td><p>0.2309099</p></td>
<td><p>0.000563</p></td>
</tr>
<tr class="row-even"><td><p>20170917</p></td>
<td><p>112.8339</p></td>
<td><p>CALL</p></td>
<td><p>18.4707</p></td>
<td><p>0.2300724</p></td>
<td><p>0.2300665</p></td>
<td><p>-5.8943e-06</p></td>
</tr>
<tr class="row-odd"><td><p>20170917</p></td>
<td><p>120.592</p></td>
<td><p>CALL</p></td>
<td><p>14.7128</p></td>
<td><p>0.2380642</p></td>
<td><p>0.2374844</p></td>
<td><p>-0.0005798</p></td>
</tr>
<tr class="row-even"><td><p>20170917</p></td>
<td><p>128.8334</p></td>
<td><p>CALL</p></td>
<td><p>8.1254</p></td>
<td><p>0.2495536</p></td>
<td><p>0.2506551</p></td>
<td><p>0.0011014</p></td>
</tr>
<tr class="row-odd"><td><p>20171017</p></td>
<td><p>97.3493</p></td>
<td><p>PUT</p></td>
<td><p>9.8842</p></td>
<td><p>0.2306316</p></td>
<td><p>0.2294025</p></td>
<td><p>-0.0012290</p></td>
</tr>
<tr class="row-even"><td><p>20171017</p></td>
<td><p>104.7865</p></td>
<td><p>PUT</p></td>
<td><p>17.8973</p></td>
<td><p>0.2188276</p></td>
<td><p>0.2195034</p></td>
<td><p>0.0006757</p></td>
</tr>
<tr class="row-odd"><td><p>20171017</p></td>
<td><p>112.8422</p></td>
<td><p>CALL</p></td>
<td><p>22.4686</p></td>
<td><p>0.218177</p></td>
<td><p>0.2181477</p></td>
<td><p>-2.93413e-05</p></td>
</tr>
<tr class="row-even"><td><p>20171017</p></td>
<td><p>121.9708</p></td>
<td><p>CALL</p></td>
<td><p>17.8973</p></td>
<td><p>0.2280798</p></td>
<td><p>0.2274283</p></td>
<td><p>-0.0006515</p></td>
</tr>
<tr class="row-odd"><td><p>20171017</p></td>
<td><p>132.0975</p></td>
<td><p>CALL</p></td>
<td><p>9.8842</p></td>
<td><p>0.2426595</p></td>
<td><p>0.2439488</p></td>
<td><p>0.001289</p></td>
</tr>
<tr class="row-even"><td><p>20180117</p></td>
<td><p>92.4112</p></td>
<td><p>PUT</p></td>
<td><p>13.9141</p></td>
<td><p>0.221298</p></td>
<td><p>0.2200569</p></td>
<td><p>-0.0012410</p></td>
</tr>
<tr class="row-odd"><td><p>20180117</p></td>
<td><p>102.1452</p></td>
<td><p>PUT</p></td>
<td><p>25.1944</p></td>
<td><p>0.208442</p></td>
<td><p>0.2091263</p></td>
<td><p>0.0006842</p></td>
</tr>
<tr class="row-even"><td><p>20180117</p></td>
<td><p>112.8555</p></td>
<td><p>CALL</p></td>
<td><p>31.6295</p></td>
<td><p>0.2074063</p></td>
<td><p>0.2073629</p></td>
<td><p>-4.33552e-05</p></td>
</tr>
<tr class="row-odd"><td><p>20180117</p></td>
<td><p>125.4002</p></td>
<td><p>CALL</p></td>
<td><p>25.1944</p></td>
<td><p>0.2177753</p></td>
<td><p>0.2171427</p></td>
<td><p>-0.0006325</p></td>
</tr>
<tr class="row-even"><td><p>20180117</p></td>
<td><p>139.9662</p></td>
<td><p>CALL</p></td>
<td><p>13.9141</p></td>
<td><p>0.2334312</p></td>
<td><p>0.2347126</p></td>
<td><p>0.0012813</p></td>
</tr>
<tr class="row-odd"><td><p>20180717</p></td>
<td><p>86.0834</p></td>
<td><p>PUT</p></td>
<td><p>19.4117</p></td>
<td><p>0.2128678</p></td>
<td><p>0.2116068</p></td>
<td><p>-0.0012609</p></td>
</tr>
<tr class="row-even"><td><p>20180717</p></td>
<td><p>98.5966</p></td>
<td><p>PUT</p></td>
<td><p>35.1489</p></td>
<td><p>0.199002</p></td>
<td><p>0.1997015</p></td>
<td><p>0.0006994</p></td>
</tr>
<tr class="row-odd"><td><p>20180717</p></td>
<td><p>112.7291</p></td>
<td><p>CALL</p></td>
<td><p>44.1266</p></td>
<td><p>0.1976203</p></td>
<td><p>0.1975595</p></td>
<td><p>-6.08247e-05</p></td>
</tr>
<tr class="row-even"><td><p>20180717</p></td>
<td><p>130.0344</p></td>
<td><p>CALL</p></td>
<td><p>35.1489</p></td>
<td><p>0.2084069</p></td>
<td><p>0.207853</p></td>
<td><p>-0.0006138</p></td>
</tr>
<tr class="row-odd"><td><p>20180717</p></td>
<td><p>151.3178</p></td>
<td><p>CALL</p></td>
<td><p>19.4117</p></td>
<td><p>0.2251721</p></td>
<td><p>0.2264494</p></td>
<td><p>0.0012773</p></td>
</tr>
<tr class="row-even"><td><p>20190717</p></td>
<td><p>77.9605</p></td>
<td><p>PUT</p></td>
<td><p>26.8403</p></td>
<td><p>0.2027503</p></td>
<td><p>0.201471</p></td>
<td><p>-0.0012792</p></td>
</tr>
<tr class="row-odd"><td><p>20190717</p></td>
<td><p>93.5925</p></td>
<td><p>PUT</p></td>
<td><p>48.6</p></td>
<td><p>0.1873456</p></td>
<td><p>0.1880619</p></td>
<td><p>0.0007163</p></td>
</tr>
<tr class="row-even"><td><p>20190717</p></td>
<td><p>111.8233</p></td>
<td><p>CALL</p></td>
<td><p>61.0133</p></td>
<td><p>0.1853753</p></td>
<td><p>0.1852864</p></td>
<td><p>-8.88622e-05</p></td>
</tr>
<tr class="row-odd"><td><p>20190717</p></td>
<td><p>135.5181</p></td>
<td><p>CALL</p></td>
<td><p>48.6</p></td>
<td><p>0.1968719</p></td>
<td><p>0.1962983</p></td>
<td><p>-0.0005735</p></td>
</tr>
<tr class="row-even"><td><p>20190717</p></td>
<td><p>167.1257</p></td>
<td><p>CALL</p></td>
<td><p>26.8403</p></td>
<td><p>0.2151345</p></td>
<td><p>0.2163836</p></td>
<td><p>0.001249</p></td>
</tr>
<tr class="row-odd"><td><p>20200717</p></td>
<td><p>71.6663</p></td>
<td><p>PUT</p></td>
<td><p>32.0544</p></td>
<td><p>0.200314</p></td>
<td><p>0.1990151</p></td>
<td><p>-0.001298</p></td>
</tr>
<tr class="row-even"><td><p>20200717</p></td>
<td><p>89.3531</p></td>
<td><p>PUT</p></td>
<td><p>58.0412</p></td>
<td><p>0.1836723</p></td>
<td><p>0.1844064</p></td>
<td><p>0.0007340</p></td>
</tr>
<tr class="row-odd"><td><p>20200717</p></td>
<td><p>110.6015</p></td>
<td><p>CALL</p></td>
<td><p>72.8659</p></td>
<td><p>0.1812359</p></td>
<td><p>0.1811255</p></td>
<td><p>-0.0001104</p></td>
</tr>
<tr class="row-even"><td><p>20200717</p></td>
<td><p>139.572</p></td>
<td><p>CALL</p></td>
<td><p>58.0412</p></td>
<td><p>0.1932638</p></td>
<td><p>0.1927175</p></td>
<td><p>-0.0005463</p></td>
</tr>
<tr class="row-odd"><td><p>20200717</p></td>
<td><p>180.7525</p></td>
<td><p>CALL</p></td>
<td><p>32.0544</p></td>
<td><p>0.2127829</p></td>
<td><p>0.2140124</p></td>
<td><p>0.0012295</p></td>
</tr>
<tr class="row-even"><td><p>20220717</p></td>
<td><p>62.2028</p></td>
<td><p>PUT</p></td>
<td><p>39.0741</p></td>
<td><p>0.1979226</p></td>
<td><p>0.1965634</p></td>
<td><p>-0.001359</p></td>
</tr>
<tr class="row-odd"><td><p>20220717</p></td>
<td><p>82.1939</p></td>
<td><p>PUT</p></td>
<td><p>70.7519</p></td>
<td><p>0.1802558</p></td>
<td><p>0.1810341</p></td>
<td><p>0.0007783</p></td>
</tr>
<tr class="row-even"><td><p>20220717</p></td>
<td><p>107.6221</p></td>
<td><p>CALL</p></td>
<td><p>88.8232</p></td>
<td><p>0.1775838</p></td>
<td><p>0.1774441</p></td>
<td><p>-0.0001397</p></td>
</tr>
<tr class="row-odd"><td><p>20220717</p></td>
<td><p>145.0792</p></td>
<td><p>CALL</p></td>
<td><p>70.7519</p></td>
<td><p>0.1902438</p></td>
<td><p>0.1897073</p></td>
<td><p>-0.0005365</p></td>
</tr>
<tr class="row-even"><td><p>20220717</p></td>
<td><p>203.4779</p></td>
<td><p>CALL</p></td>
<td><p>39.0741</p></td>
<td><p>0.2109071</p></td>
<td><p>0.2121651</p></td>
<td><p>0.001258</p></td>
</tr>
<tr class="row-odd"><td><p>20240717</p></td>
<td><p>54.7924</p></td>
<td><p>PUT</p></td>
<td><p>43.488</p></td>
<td><p>0.1991786</p></td>
<td><p>0.1977803</p></td>
<td><p>-0.0013982</p></td>
</tr>
<tr class="row-even"><td><p>20240717</p></td>
<td><p>76.1231</p></td>
<td><p>PUT</p></td>
<td><p>78.7441</p></td>
<td><p>0.1799961</p></td>
<td><p>0.1808071</p></td>
<td><p>0.0008109</p></td>
</tr>
<tr class="row-odd"><td><p>20240717</p></td>
<td><p>104.5509</p></td>
<td><p>CALL</p></td>
<td><p>98.8867</p></td>
<td><p>0.1767857</p></td>
<td><p>0.1766156</p></td>
<td><p>-0.00017</p></td>
</tr>
<tr class="row-even"><td><p>20240717</p></td>
<td><p>149.3475</p></td>
<td><p>CALL</p></td>
<td><p>78.7441</p></td>
<td><p>0.1901383</p></td>
<td><p>0.1896309</p></td>
<td><p>-0.0005073</p></td>
</tr>
<tr class="row-odd"><td><p>20240717</p></td>
<td><p>225.5415</p></td>
<td><p>CALL</p></td>
<td><p>43.488</p></td>
<td><p>0.2123633</p></td>
<td><p>0.2136102</p></td>
<td><p>0.0012469</p></td>
</tr>
<tr class="row-even"><td><p>20270717</p></td>
<td><p>46.5361</p></td>
<td><p>PUT</p></td>
<td><p>47.2717</p></td>
<td><p>0.2002679</p></td>
<td><p>0.1988325</p></td>
<td><p>-0.0014353</p></td>
</tr>
<tr class="row-odd"><td><p>20270717</p></td>
<td><p>68.6862</p></td>
<td><p>PUT</p></td>
<td><p>85.5954</p></td>
<td><p>0.179772</p></td>
<td><p>0.1806167</p></td>
<td><p>0.0008447</p></td>
</tr>
<tr class="row-even"><td><p>20270717</p></td>
<td><p>100.138</p></td>
<td><p>CALL</p></td>
<td><p>107.4579</p></td>
<td><p>0.1760967</p></td>
<td><p>0.1758934</p></td>
<td><p>-0.0002032</p></td>
</tr>
<tr class="row-odd"><td><p>20270717</p></td>
<td><p>154.0979</p></td>
<td><p>CALL</p></td>
<td><p>85.5954</p></td>
<td><p>0.1900516</p></td>
<td><p>0.1895747</p></td>
<td><p>-0.0004769</p></td>
</tr>
<tr class="row-even"><td><p>20270717</p></td>
<td><p>256.143</p></td>
<td><p>CALL</p></td>
<td><p>47.2717</p></td>
<td><p>0.2136314</p></td>
<td><p>0.2148712</p></td>
<td><p>0.0012397</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 78: Results of the calibration when Weighting=VEGANOTIONAL for a SA4 parametric form. We see that the differences between the target volatilities and the calibrated volatilities stored in the column FitError are small in the majority of cases.</p>
<p>For Dictionary_4, when fitting a parametric form of SkewType=LARGD the results of the calibration using Weighting=VEGANOTIONAL are summarized in the following table:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Maturity</p></th>
<th class="head"><p>Delta</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Weight</p></th>
<th class="head"><p>TargetVol</p></th>
<th class="head"><p>FittedVol</p></th>
<th class="head"><p>FitError</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>20170724</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.3354093</p></td>
<td><p>0.3354093</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20170724</p></td>
<td><p>25RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0038446</p></td>
<td><p>0.0038446</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20170724</p></td>
<td><p>25CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0029337</p></td>
<td><p>0.0029337</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20170724</p></td>
<td><p>10RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.004998</p></td>
<td><p>0.004998</p></td>
<td><p>1e-10</p></td>
</tr>
<tr class="row-even"><td><p>20170724</p></td>
<td><p>10CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0102679</p></td>
<td><p>0.0102679</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20170817</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.2508519</p></td>
<td><p>0.2508519</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20170817</p></td>
<td><p>25RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0075098</p></td>
<td><p>0.0075098</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20170817</p></td>
<td><p>25CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0038672</p></td>
<td><p>0.0038672</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20170817</p></td>
<td><p>10RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0097627</p></td>
<td><p>0.0097627</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20170817</p></td>
<td><p>10CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0135351</p></td>
<td><p>0.0135351</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-even"><td><p>20170917</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.2300724</p></td>
<td><p>0.2300724</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20170917</p></td>
<td><p>25RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0077183</p></td>
<td><p>0.0077183</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20170917</p></td>
<td><p>25CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0041327</p></td>
<td><p>0.0041327</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20170917</p></td>
<td><p>10RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0100337</p></td>
<td><p>0.0100337</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20170917</p></td>
<td><p>10CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0144643</p></td>
<td><p>0.0144643</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20171017</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.218177</p></td>
<td><p>0.218177</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20171017</p></td>
<td><p>25RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0092522</p></td>
<td><p>0.0092522</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20171017</p></td>
<td><p>25CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0052767</p></td>
<td><p>0.0052767</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20171017</p></td>
<td><p>10RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0120279</p></td>
<td><p>0.0120279</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20171017</p></td>
<td><p>10CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0184685</p></td>
<td><p>0.0184685</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-even"><td><p>20180117</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.2074063</p></td>
<td><p>0.2074063</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20180117</p></td>
<td><p>25RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0093332</p></td>
<td><p>0.0093332</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20180117</p></td>
<td><p>25CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0057024</p></td>
<td><p>0.0057024</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20180117</p></td>
<td><p>10RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0121332</p></td>
<td><p>0.0121332</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20180117</p></td>
<td><p>10CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0199583</p></td>
<td><p>0.0199583</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20180717</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.1976203</p></td>
<td><p>0.1976203</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-even"><td><p>20180717</p></td>
<td><p>25RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0094649</p></td>
<td><p>0.0094649</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20180717</p></td>
<td><p>25CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0061142</p></td>
<td><p>0.0061142</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20180717</p></td>
<td><p>10RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0123043</p></td>
<td><p>0.0123043</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20180717</p></td>
<td><p>10CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0213996</p></td>
<td><p>0.0213996</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-even"><td><p>20190717</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.1853753</p></td>
<td><p>0.1853753</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20190717</p></td>
<td><p>25RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0095263</p></td>
<td><p>0.0095263</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-even"><td><p>20190717</p></td>
<td><p>25CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0067335</p></td>
<td><p>0.0067335</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20190717</p></td>
<td><p>10RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0123842</p></td>
<td><p>0.0123842</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20190717</p></td>
<td><p>10CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0235672</p></td>
<td><p>0.0235672</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20200717</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.1812359</p></td>
<td><p>0.1812359</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20200717</p></td>
<td><p>25RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0095915</p></td>
<td><p>0.0095915</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20200717</p></td>
<td><p>25CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0072322</p></td>
<td><p>0.0072322</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-even"><td><p>20200717</p></td>
<td><p>10RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.012469</p></td>
<td><p>0.012469</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20200717</p></td>
<td><p>10CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0253126</p></td>
<td><p>0.0253126</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20220717</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.1775838</p></td>
<td><p>0.1775838</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20220717</p></td>
<td><p>25RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0099881</p></td>
<td><p>0.0099881</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20220717</p></td>
<td><p>25CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.007666</p></td>
<td><p>0.007666</p></td>
<td><p>-1e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20220717</p></td>
<td><p>10RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0129845</p></td>
<td><p>0.0129845</p></td>
<td><p>1e-10</p></td>
</tr>
<tr class="row-even"><td><p>20220717</p></td>
<td><p>10CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0268311</p></td>
<td><p>0.0268311</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20240717</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.1767857</p></td>
<td><p>0.1767857</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-even"><td><p>20240717</p></td>
<td><p>25RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0101421</p></td>
<td><p>0.0101421</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20240717</p></td>
<td><p>25CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0082815</p></td>
<td><p>0.0082815</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>20240717</p></td>
<td><p>10RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0131847</p></td>
<td><p>0.0131847</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20240717</p></td>
<td><p>10CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0289853</p></td>
<td><p>0.0289853</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-even"><td><p>20270717</p></td>
<td><p>DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.1760966</p></td>
<td><p>0.1760966</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-odd"><td><p>20270717</p></td>
<td><p>25RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0102796</p></td>
<td><p>0.0102796</p></td>
<td><p>-0.0</p></td>
</tr>
<tr class="row-even"><td><p>20270717</p></td>
<td><p>25CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0088151</p></td>
<td><p>0.0088151</p></td>
<td><p>1e-10</p></td>
</tr>
<tr class="row-odd"><td><p>20270717</p></td>
<td><p>10RR</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.0133635</p></td>
<td><p>0.0133635</p></td>
<td><p>-1e-10</p></td>
</tr>
<tr class="row-even"><td><p>20270717</p></td>
<td><p>10CVX-DN</p></td>
<td><p>CALL</p></td>
<td><p>1</p></td>
<td><p>0.030853</p></td>
<td><p>0.030853</p></td>
<td><p>-0.0</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 79: Results of the calibration when Weighting=VEGANOTIONAL for a LARGD parametric form. We see that the differences between the target volatilities and the calibrated volatilities stored in the column FitError are very small, below 10^-10 in the majority of case. The quality of fit is significantly better than in the case of the SA4 parametric form. This is due to the fact that in the case of Dictionary_4 we need to calibrate to five targets at each time point, as opposed to three in the previous dictionaries,and therefore the LARGD functional form is better suited in this situation.</p>
<p>The following figures display the agreement existing between the volatility surface obtained from the DELTAVOL input and the volatility surface generated by PIV fitting at different time slices:</p>
<p><img alt="Figure 141: Slices of the implied volatility surface obtained from the DELTAVOL used for calibration and from the PIV of type SA4 fitted to this volatility and LARGD fitted to this volatility. The delta vols inputs of the DELTAVOL object are provided under the form (DN,25RR, 25CVX,10RR, 10CVX). Observe that, although the 3 conditions defining each slice are satisfied by both volatility surfaces, the different ways in which the surfaces are interpolated (parametrically in the PIV vols and using cubic splines in the DELTAVOLs) mean that the implied volatility surfaces do not agree completely. Further note that the volatility objects deal with the tails differently, leading to larger disagreements for options far in or out of the money." src="market/DBSMC/Fig/7.png" /></p>
</section>
<section id="volparameters-and-voltermstructures">
<h3><span class="section-number">1.3.1.9.9. </span>VolParameters and VolTermStructures:<a class="headerlink" href="#volparameters-and-voltermstructures" title="Link to this heading">#</a></h3>
<p>We examine the correct implementation of the equations defining the term structures of the slice parameters in the context of a SkewType SA4 parametric volatility model. To this purpose we consider the following three dictionaries:</p>
<ol class="arabic simple">
<li><p>Dictionary_1 (defined previously) containing a MARKETVOL object of InputType DELTAVOL with input delta volatilities given under the form of a term structure of (DN, RR, CVX). A MODELVOL object and an EXTRAINFO object used to fit an SA4 functional form. The slice parameters VOL, SKEW, SMILE, POWER is set to CONSTANT.</p></li>
<li><p>Dictionary_4 having the same composition as Dictionary_1 except for the FX volatility which is represented by an already fitted PARAMETRIC volatility object, with the term structure of the slice parameters being set to VOL: VOLMEANREV3, SKEW: VARMEANREV3, SMILE: CONSTANT, POWER: CONSTANT.</p></li>
<li><p>Dictionary_5 having the same composition as Dictionary_1 except for the FX volatility which is represented by an already fitted PARAMETRIC volatility object, with the term structure of the slice parameters being set to VOL: VOLDOUBLEMEANREV5, SKEW: VARDOUBLEMEANREV5, SMILE: LINEXP4, POWER: POWERTIMEREF.</p></li>
<li><p>Dictionary_6 having the same composition as Dictionary_1 except for the FX volatility which is represented by an already fitted PARAMETRIC volatility object, with the term structure of the slice parameters being set to VOL: VOLDOUBLEMEANREV5ADJUSTED6, SKEW: VARDOUBLEMEANREV5, SMILE: LINEXP4, POWER: POWER4TIMEREF.</p></li>
</ol>
<p>Dictionary_1 contains a MARKETVOL object of InputType DELTAVOL with input delta volatilities given under the form of a term structure of (DN, RR, CVX). A MODELVOL object and an EXTRAINFO object used to fit an SA4 functional form. After performing the PIV fitting, the output PARAMETRICVOL volatility of SkewType SA4 has the following form:</p>
<p>VolParameters</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Value</p></th>
<th class="head"><p>Bump</p></th>
<th class="head"><p>BumpType</p></th>
<th class="head"><p>Use</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>VOL</p></td>
<td><p>0</p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>SKEW</p></td>
<td><p>0</p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>SMILE</p></td>
<td><p>0</p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>POWER</p></td>
<td><p>0</p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
<td><p>1</p></td>
</tr>
</tbody>
</table>
</div>
<p>VolTermStructures</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Shift</p></th>
<th class="head"><p>Bump</p></th>
<th class="head"><p>BumpType</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>VOL</p></td>
<td><p>CONSTANT</p></td>
<td><p>0</p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
</tr>
<tr class="row-odd"><td><p>SKEW</p></td>
<td><p>CONSTANT</p></td>
<td><p>0</p></td>
<td><p>0.01</p></td>
<td><p>ABS</p></td>
</tr>
<tr class="row-even"><td><p>SMILE</p></td>
<td><p>CONSTANT</p></td>
<td><p>0</p></td>
<td><p>0.01</p></td>
<td><p>ABS</p></td>
</tr>
<tr class="row-odd"><td><p>POWER</p></td>
<td><p>CONSTANT</p></td>
<td><p>0</p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
</tr>
</tbody>
</table>
</div>
<p>Offsets</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>ExpiryDate</p></th>
<th class="head"><p>VolShift</p></th>
<th class="head"><p>VOL</p></th>
<th class="head"><p>SKEW</p></th>
<th class="head"><p>SMILE</p></th>
<th class="head"><p>POWER</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>20200803</p></td>
<td><p>0</p></td>
<td><p>0.0689867766445927</p></td>
<td><p>-0.146955799015893277</p></td>
<td><p>0.472570121624353566</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>20201103</p></td>
<td><p>0</p></td>
<td><p>0.0699413738809329</p></td>
<td><p>-0.178424697153831018</p></td>
<td><p>0.567866829154310431</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>20210503</p></td>
<td><p>0</p></td>
<td><p>0.073121333790655419</p></td>
<td><p>-0.191013711175827794</p></td>
<td><p>0.582259084366110177</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>20220503</p></td>
<td><p>0</p></td>
<td><p>0.0776415539167836</p></td>
<td><p>-0.192050558310674</p></td>
<td><p>0.530398731538082281</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>20250503</p></td>
<td><p>0</p></td>
<td><p>0.0832836251457761</p></td>
<td><p>-0.170638175692020983</p></td>
<td><p>0.589117252695698273</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>20250430</p></td>
<td><p>0</p></td>
<td><p>0.0884634700157454</p></td>
<td><p>-0.145607531867797397</p></td>
<td><p>0.556926275306065</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>20270503</p></td>
<td><p>0</p></td>
<td><p>0.0917048102215106</p></td>
<td><p>-0.125274865330531</p></td>
<td><p>0.552961495144488118</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>20300502</p></td>
<td><p>0</p></td>
<td><p>0.094349508196751764</p></td>
<td><p>-0.113736474022973702</p></td>
<td><p>0.547737183753311155</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>20350503</p></td>
<td><p>0</p></td>
<td><p>0.102522622831549683</p></td>
<td><p>-0.103584143958839045</p></td>
<td><p>0.381860641042000153</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>20400503</p></td>
<td><p>0</p></td>
<td><p>0.113222359885448191</p></td>
<td><p>-0.098289113690615912</p></td>
<td><p>0.284893267040399605</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>20500503</p></td>
<td><p>0</p></td>
<td><p>0.123597443377186814</p></td>
<td><p>-0.113919138105274</p></td>
<td><p>0.254310132279006766</p></td>
<td><p>1</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 80: The information regarding the fitted SA4 parametric form is stored in the tables VolParameters, VolTermStructures and Offsets.</p>
<p>From the above table, we can see that the fitted slice parameters VOL, SKEW, SMILE and POWER are computed at each of the time points listed in the ExpiryDate column of the Offsets subtable as follows:</p>
<p><span class="math notranslate nohighlight">\(VOL(t) = VOL + OffSets(VOL;t) = 0 + OffSets(VOL;t) = OffSets(VOL;t)\)</span>
<span class="math notranslate nohighlight">\(SKEW(t) = SKEW + OffSets(SKEW;t) = 0 + OffSets(SKEW;t) = OffSets(SKEW;t)\)</span>
<span class="math notranslate nohighlight">\(SMILE(t) = SMILE + OffSets(SMILE;t) = 0 + OffSets(SMILE;t) = OffSets(SMILE;t)\)</span>
<span class="math notranslate nohighlight">\(POWER(t) = POWER + OffSets(POWER;t) = 0 + OffSets(POWER;t) = OffSets(POWER;t) = 1\)</span></p>
<p>We check now if the values stored in the tables VolParameters, VolTermStructures and Offsets are correctly used in computation of the volatility. To this purpose, we analytically compute the volatility coefficient <span class="math notranslate nohighlight">\(\sigma(t)\)</span> according to its definition from the SA4 functional form at every time point contained in the ExpiryDate and compare it against the Black Scholes implied volatilities of call options with maturities at the time point from the ExpiryDate columns. The implied BS volatilities are extracted from the ExerciseTable of the results the following pricing in MODE=PRICE:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>ExpiryDate</p></th>
<th class="head"><p>Implied BS vol</p></th>
<th class="head"><p>Analytical SA4 vol</p></th>
<th class="head"><p>Diff.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>20200803</p></td>
<td><p>0.1407977124</p></td>
<td><p>0.1408196245</p></td>
<td><p>-2.19116e-05</p></td>
</tr>
<tr class="row-odd"><td><p>20201103</p></td>
<td><p>0.1280749865</p></td>
<td><p>0.1280933919</p></td>
<td><p>-1.83161e-05</p></td>
</tr>
<tr class="row-even"><td><p>20210503</p></td>
<td><p>0.112071913</p></td>
<td><p>0.1120921080</p></td>
<td><p>-1.49167e-05</p></td>
</tr>
<tr class="row-odd"><td><p>20220503</p></td>
<td><p>0.0996234859</p></td>
<td><p>0.0996344489</p></td>
<td><p>-1.09830e-05</p></td>
</tr>
<tr class="row-even"><td><p>20250503</p></td>
<td><p>0.1004227871</p></td>
<td><p>0.1004323217</p></td>
<td><p>-9.53460e-06</p></td>
</tr>
<tr class="row-odd"><td><p>20250430</p></td>
<td><p>0.0973875266</p></td>
<td><p>0.0973938916</p></td>
<td><p>-6.36508e-06</p></td>
</tr>
<tr class="row-even"><td><p>20270503</p></td>
<td><p>0.0968891452</p></td>
<td><p>0.0968934927</p></td>
<td><p>-4.35273e-06</p></td>
</tr>
<tr class="row-odd"><td><p>20300502</p></td>
<td><p>0.0965577816</p></td>
<td><p>0.0965602297</p></td>
<td><p>-2.44815e-06</p></td>
</tr>
<tr class="row-even"><td><p>20350503</p></td>
<td><p>0.1019433957</p></td>
<td><p>0.1019437529</p></td>
<td><p>-3.57207e-07</p></td>
</tr>
<tr class="row-odd"><td><p>20400503</p></td>
<td><p>0.112335162</p></td>
<td><p>0.1123350417</p></td>
<td><p>1.22445e-07</p></td>
</tr>
<tr class="row-even"><td><p>20500503</p></td>
<td><p>0.123305847</p></td>
<td><p>0.1233057488</p></td>
<td><p>9.48271e-08</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 81: Comparison between the implied BS volatilities of call options at different expiry dates and the analytically computed values of the volatilities using the SA4 parametric form formula. We can see the differences are negligible confirming the correctness of the implementation.</p>
<p>Note that the original maturity date of the security contained in Dictionary_1 is 09/08/2030, situated between the time points 02/05/2030 and 03/05/2035. Given that VolTermStructure type is set to CONSTANT for all slice parameters, it implies that the values of the slice parameters from time point 02/05/2030 are used to define the SA4 volatility at time point 09/08/2030 as the below comparison shows:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>ExpiryDate</p></th>
<th class="head"><p>Implied BS vol</p></th>
<th class="head"><p>Analytical SA4 vol</p></th>
<th class="head"><p>Diff.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>09/08/2030</p></td>
<td><p>0.09694109562</p></td>
<td><p>0.0969808094</p></td>
<td><p>0.000056</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 82: Comparison between the implied BS volatility of of call option with expiry date 09/08/2030 and the analytically computed values of the volatility using the SA4 parametric form formula. We can see the differences are negligible confirming the correctness of the implementation.</p>
<p>We examine the correct implementation of the term structures of the slice parameters from Dictionary_4. To this purpose we will compare the implied BS volatility computed by DBAnalytics against the analytically computed value We consider Dictionary_4 MARKETVOL PARAMETRIC volatility of SkewType SA4 has the following structure for the slice parameters:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Date</p></th>
<th class="head"><p>Implied BS vol</p></th>
<th class="head"><p>Analytical SA4 vol</p></th>
<th class="head"><p>Diff.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>03/05/2021</p></td>
<td><p>0.2149952199</p></td>
<td><p>0.21499522</p></td>
<td><p>&lt; 1e-9</p></td>
</tr>
<tr class="row-odd"><td><p>03/05/2023</p></td>
<td><p>0.2168572978</p></td>
<td><p>0.2168572977</p></td>
<td><p>&lt; 1e-10</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 84: Comparison between the implied BS volatility of of call option with expiry date 04/08/2030 and the analytically computed values of the volatility using the SA4 parametric form formula. We can see the differences are negligible confirming the correctness of the implementation.</p>
<p>We examine now the correct implementation of the term structures contained in the PARAMETRIC VOL object of Dictionary_5. The PARAMETRIC VOL object has the following structure of the slice parameters:</p>
<p>VolParameters</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p></p></th>
<th class="head"><p></p></th>
<th class="head"><p></p></th>
<th class="head"><p></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>VOL_SHORT</p></td>
<td><p>0.2</p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>VOL_LONG</p></td>
<td><p>0.15</p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>VOL_LONGK</p></td>
<td><p>0.3</p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>VOL_REF</p></td>
<td><p>0.12</p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>VOL_SHORTK</p></td>
<td><p>0.1</p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>SKEW_SHORT</p></td>
<td><p>-0.3</p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>SKEW_LONG</p></td>
<td><p>-0.5</p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>SKEW_LONGK</p></td>
<td><p>-0.6</p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>SKEW_REF</p></td>
<td><p>-0.3</p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>SKEW_SHORTK</p></td>
<td><p>-0.2</p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>SMILE_SHORT</p></td>
<td><p>0.3</p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>SMILE_SLOPE</p></td>
<td><p>0.5</p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>SMILE_K</p></td>
<td><p>0.1</p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>SMILE_LONG</p></td>
<td><p>0.1</p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>POWER_REF</p></td>
<td><p>1.2</p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>POWER_LONG</p></td>
<td><p>0.9</p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>POWER_K</p></td>
<td><p>2</p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>POWER_SHORTPOWER</p></td>
<td><p></p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>POWER_LONGPOWER</p></td>
<td><p></p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>POWER_POWERPOWER</p></td>
<td><p></p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>POWER_TIMEREF</p></td>
<td><p></p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
<td><p>1</p></td>
</tr>
</tbody>
</table>
</div>
<p>VolTermStructures</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p></p></th>
<th class="head"><p></p></th>
<th class="head"><p></p></th>
<th class="head"><p></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>VOL</p></td>
<td><p>VOLDOUBLEMEANREV5</p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>SKEW</p></td>
<td><p>VARDOUBLEMEANREV5</p></td>
<td><p>0.01</p></td>
<td><p>ABS</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>SMILE</p></td>
<td><p>LINEXP4</p></td>
<td><p>0</p></td>
<td><p>0.01</p></td>
<td><p>ABS</p></td>
</tr>
<tr class="row-odd"><td><p>POWER</p></td>
<td><p>POWERTIMEREF</p></td>
<td><p></p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
</tr>
</tbody>
</table>
</div>
<p>Offsets</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>ExpiryDate</p></th>
<th class="head"><p>VolShift</p></th>
<th class="head"><p>VOL</p></th>
<th class="head"><p>SKEW</p></th>
<th class="head"><p>SMILE</p></th>
<th class="head"><p>POWER</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>20200803</p></td>
<td><p>0</p></td>
<td><p>0.0689868</p></td>
<td><p>-0.146856</p></td>
<td><p>0.47257</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>20201103</p></td>
<td><p>0</p></td>
<td><p>0.0699414</p></td>
<td><p>-0.178425</p></td>
<td><p>0.567869</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>20210503</p></td>
<td><p>0</p></td>
<td><p>0.0731213</p></td>
<td><p>-0.191014</p></td>
<td><p>0.582259</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>20220503</p></td>
<td><p>0</p></td>
<td><p>0.0776416</p></td>
<td><p>-0.19206</p></td>
<td><p>0.530399</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>20250503</p></td>
<td><p>0</p></td>
<td><p>0.0832836</p></td>
<td><p>-0.170638</p></td>
<td><p>0.589117</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>20250430</p></td>
<td><p>0</p></td>
<td><p>0.0884635</p></td>
<td><p>-0.145608</p></td>
<td><p>0.556928</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>20270503</p></td>
<td><p>0</p></td>
<td><p>0.0917046</p></td>
<td><p>-0.125275</p></td>
<td><p>0.552921</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>20300502</p></td>
<td><p>0</p></td>
<td><p>0.0943496</p></td>
<td><p>-0.113735</p></td>
<td><p>0.547737</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>20350503</p></td>
<td><p>0</p></td>
<td><p>0.102523</p></td>
<td><p>-0.103584</p></td>
<td><p>0.361861</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>20400503</p></td>
<td><p>0</p></td>
<td><p>0.113222</p></td>
<td><p>-0.0982891</p></td>
<td><p>0.284932</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>20500503</p></td>
<td><p>0</p></td>
<td><p>0.123597</p></td>
<td><p>-0.113919</p></td>
<td><p>0.25431</p></td>
<td><p>1</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 85: The information regarding the fitted SA4 parametric form is stored in the tables VolParameters, VolTermStructures and Offsets. We can see that VOL follows a VOLDOUBLEMEANREV5 term structure, SKEW follows a VARDOUBLEMEANREV5 term structure, SMILE follows a LINEXP4 term structure and POWER follow a POWERTIMEREF term structure. The Offsets table contain a series of non-zero shifts that are applied at each maturity to the slice parameters. The VolShift column contains only 0s, meaning that no absolute shift is applied at the SA4 volatility level.</p>
<p>We compare the DBAnalytics computed implied BS volatility at time points 03/05/2021, 30/04/2025 and 03/05/2027 against the analytically computed values:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Date</p></th>
<th class="head"><p>Implied BS vol</p></th>
<th class="head"><p>Analytical SA4 vol</p></th>
<th class="head"><p>Diff.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>03/05/2021</p></td>
<td><p>0.3041040678</p></td>
<td><p>0.3041040678</p></td>
<td><p>&lt;1e-10</p></td>
</tr>
<tr class="row-odd"><td><p>30/04/2025</p></td>
<td><p>0.3424699642</p></td>
<td><p>0.3424699642</p></td>
<td><p>&lt;1e-10</p></td>
</tr>
<tr class="row-even"><td><p>03/05/2027</p></td>
<td><p>0.3952395817</p></td>
<td><p>0.3952395816</p></td>
<td><p>&lt;1e-10</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 86: Comparison between the implied BS volatility of of call option with expiry date 09/08/2030 and the analytically computed values of the volatility using the SA4 parametric form formula. We can see the differences are negligible confirming the correctness of the implementation.</p>
<p>We examine now the correct implementation of the term structures contained in the PARAMETRIC VOL object of Dictionary_6. The PARAMETRIC VOL object has the following structure of the slice parameters:</p>
<p>VolParameters</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p></p></th>
<th class="head"><p></p></th>
<th class="head"><p></p></th>
<th class="head"><p></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>VOL_SHORT</p></td>
<td><p>0.2</p></td>
<td><p></p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
</tr>
<tr class="row-odd"><td><p>VOL_LONG</p></td>
<td><p>0.15</p></td>
<td><p></p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
</tr>
<tr class="row-even"><td><p>VOL_LONGK</p></td>
<td><p>0.3</p></td>
<td><p></p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
</tr>
<tr class="row-odd"><td><p>VOL_REF</p></td>
<td><p>0.12</p></td>
<td><p></p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
</tr>
<tr class="row-even"><td><p>VOL_SHORTK</p></td>
<td><p>0.1</p></td>
<td><p></p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
</tr>
<tr class="row-odd"><td><p>VOL_ADJUSTMENT</p></td>
<td><p>0.2</p></td>
<td><p></p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
</tr>
<tr class="row-even"><td><p>SKEW_SHORT</p></td>
<td><p>-0.3</p></td>
<td><p></p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
</tr>
<tr class="row-odd"><td><p>SKEW_LONG</p></td>
<td><p>-0.5</p></td>
<td><p></p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
</tr>
<tr class="row-even"><td><p>SKEW_LONGK</p></td>
<td><p>-0.6</p></td>
<td><p></p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
</tr>
<tr class="row-odd"><td><p>SKEW_REF</p></td>
<td><p>-0.3</p></td>
<td><p></p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
</tr>
<tr class="row-even"><td><p>SKEW_SHORTK</p></td>
<td><p>-0.2</p></td>
<td><p></p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
</tr>
<tr class="row-odd"><td><p>SMILE_SHORT</p></td>
<td><p>0.3</p></td>
<td><p></p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
</tr>
<tr class="row-even"><td><p>SMILE_SLOPE</p></td>
<td><p>0.5</p></td>
<td><p></p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
</tr>
<tr class="row-odd"><td><p>SMILE_K</p></td>
<td><p>0.1</p></td>
<td><p></p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
</tr>
<tr class="row-even"><td><p>SMILE_LONG</p></td>
<td><p>0.1</p></td>
<td><p></p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
</tr>
<tr class="row-odd"><td><p>POWER_REF</p></td>
<td><p>1.2</p></td>
<td><p></p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
</tr>
<tr class="row-even"><td><p>POWER_LONG</p></td>
<td><p>0.9</p></td>
<td><p></p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
</tr>
<tr class="row-odd"><td><p>POWER_K</p></td>
<td><p>2</p></td>
<td><p></p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
</tr>
<tr class="row-even"><td><p>POWER_POWER</p></td>
<td><p>1.4</p></td>
<td><p></p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
</tr>
<tr class="row-odd"><td><p>POWER_TIMEREF</p></td>
<td><p>3.2</p></td>
<td><p></p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
</tr>
</tbody>
</table>
</div>
<p>VolTermStructures</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p></p></th>
<th class="head"><p></p></th>
<th class="head"><p></p></th>
<th class="head"><p></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>VOL</p></td>
<td><p>VOLDOUBLEMEANREVADJUSTED6</p></td>
<td><p>0</p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
</tr>
<tr class="row-odd"><td><p>SKEW</p></td>
<td><p>VARDOUBLEMEANREV5</p></td>
<td><p>0</p></td>
<td><p>0.01</p></td>
<td><p>ABS</p></td>
</tr>
<tr class="row-even"><td><p>SMILE</p></td>
<td><p>LINEXP4</p></td>
<td><p>0</p></td>
<td><p>0.01</p></td>
<td><p>ABS</p></td>
</tr>
<tr class="row-odd"><td><p>POWER</p></td>
<td><p>POWER4TIMEREF</p></td>
<td><p>0</p></td>
<td><p>0.001</p></td>
<td><p>ABS</p></td>
</tr>
</tbody>
</table>
</div>
<p>Offsets</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>ExpiryDate</p></th>
<th class="head"><p>VolShift</p></th>
<th class="head"><p>VOL</p></th>
<th class="head"><p>SKEW</p></th>
<th class="head"><p>SMILE</p></th>
<th class="head"><p>POWER</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>20200803</p></td>
<td><p>0</p></td>
<td><p>0.0689868</p></td>
<td><p>-0.146856</p></td>
<td><p>0.47257</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>20201103</p></td>
<td><p>0</p></td>
<td><p>0.0699414</p></td>
<td><p>-0.178425</p></td>
<td><p>0.567869</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>20210503</p></td>
<td><p>0</p></td>
<td><p>0.0731213</p></td>
<td><p>-0.191014</p></td>
<td><p>0.582259</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>20220503</p></td>
<td><p>0</p></td>
<td><p>0.0776416</p></td>
<td><p>-0.19206</p></td>
<td><p>0.530399</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>20250503</p></td>
<td><p>0</p></td>
<td><p>0.0832836</p></td>
<td><p>-0.170638</p></td>
<td><p>0.589117</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>20250430</p></td>
<td><p>0</p></td>
<td><p>0.0884635</p></td>
<td><p>-0.145608</p></td>
<td><p>0.556928</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>20270503</p></td>
<td><p>0</p></td>
<td><p>0.0917046</p></td>
<td><p>-0.125275</p></td>
<td><p>0.552921</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>20300502</p></td>
<td><p>0</p></td>
<td><p>0.0943496</p></td>
<td><p>-0.113735</p></td>
<td><p>0.547737</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>20350503</p></td>
<td><p>0</p></td>
<td><p>0.102523</p></td>
<td><p>-0.103584</p></td>
<td><p>0.361861</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>20400503</p></td>
<td><p>0</p></td>
<td><p>0.113222</p></td>
<td><p>-0.0982891</p></td>
<td><p>0.284932</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>20500503</p></td>
<td><p>0</p></td>
<td><p>0.123597</p></td>
<td><p>-0.113919</p></td>
<td><p>0.25431</p></td>
<td><p>1</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 87: The information regarding the fitted SA4 parametric form is stored in the tables VolParameters, VolTermStructures and Offsets. We can see that VOL follows a VOLDOUBLEMEANREVADJUSTED6 term structure, SKEW follows a VARDOUBLEMEANREV5 term structure, SMILE follows a LINEXP4 term structure and POWER follow a POWER4TIMEREF term structure. The Offsets table contain a series of non-zero shifts that are applied at each maturity to the slice parameters. The VolShift column contains only 0s, meaning that no absolute shift is applied at the SA4 volatility level.</p>
<p>We compare the DBAnalytics computed implied BS volatility at time points 03/11/2020, 03/05/2021, 30/04/2025 and 02/05/2030 against the analytically computed values:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Date</p></th>
<th class="head"><p>Implied BS vol</p></th>
<th class="head"><p>Analytical SA4 vol</p></th>
<th class="head"><p>Diff.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>03/11/2020</p></td>
<td><p>0.3475164408</p></td>
<td><p>0.3475164408</p></td>
<td><p>&lt;1e-10</p></td>
</tr>
<tr class="row-odd"><td><p>03/05/2021</p></td>
<td><p>0.31841841685</p></td>
<td><p>0.3184141864</p></td>
<td><p>&lt;1e-12</p></td>
</tr>
<tr class="row-even"><td><p>30/04/2025</p></td>
<td><p>0.3460442821</p></td>
<td><p>0.3460442821</p></td>
<td><p>&lt;1e-10</p></td>
</tr>
<tr class="row-odd"><td><p>02/05/2030</p></td>
<td><p>0.5600664403</p></td>
<td><p>0.5600664402</p></td>
<td><p>&lt;1e-10</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 88: Comparison between the implied BS volatility of call option with expiry dates 03/11/2020, 03/05/2021, 30/04/2025 and 02/05/2030 and the analytically computed values of the volatility using the SA4 parametric form formula. We can see the differences are negligible confirming the correctness of the implementation.</p>
<p>We conclude the tests related to VolTermStructures and VolParameters properties by examining their impact on the price, implied volatilities and forward volatilities of call options with different maturities $<span class="math notranslate nohighlight">\(T \in \{3M, 4M, ...10Y\}\)</span>$. We use in our tests Dictionary_1, Dictionary_4, Dictionary_5 and Dictionary_6. Note that the only differences between the PARAMETRICVOL objects of Dictionary_5 and Dictionary_6 are: slice parameter VOL of Dictionary_5 follows a VOLDOUBLEMEANREV5 term structure, while slice parameter VOL of Dictionary_6 follows a VOLDOUBLEMEANREVADJUSTED6 term structure, slice parameter POWER of Dictionary_5 follows a POWERTIMEREF term structure, while slice parameter POWER of Dictionary_6 follows a POWER4TIMEREF term structure. The VolParameters of Dictionary_5 and Dictionary_6 are set identical or very similar, see tables 85 and 87, such that we can benchmark the results against each other.</p>
<p><img alt="Figure 142: First Row: Price of call options as function of maturity when priced using PARAMETRIC VOL of Dictionary_1 (left), PARAMETRIC VOL of Dictionary_4 (center) and PARAMETRIC VOL of Dictionary_5 and PARAMETRICVOL of Dictionary_6(right). The price differences between Dictionary_5 and Dictionary_6 are minimal, which is in line with expectations. We can see that in all scenarios, the price is an increasing function of maturity, which is in line with expectations. Second Row: Implied BS volatilities as function of maturity when priced using PARAMETRIC VOL of Dictionary_1 (left), PARAMETRIC VOL of Dictionary_4 (center) and PARAMETRIC VOL of Dictionary_5 and PARAMETRICVOL of Dictionary_6(right). The differences between the implied vols of Dictionary_5 and Dictionary_6 are minimal, which is in line with expectations. Second Row: Forward volatilities corresponding to PARAMETRICVOL configuration of Dictionary_1 (left), PARAMETRICVOL configuration of Dictionary_4 (center) and PARAMETRICVOL configuration of Dictionary_5 and PARAMETRICVOL of Dictionary_6(right). The forward variance remains positive in all four configurations. The differences between the forward variances of Dictionary_5 and Dictionary_6 are minimal, which is in line with expectations." src="market/DBSMC/Fig/4.png" /></p>
</section>
<section id="id12">
<h3><span class="section-number">1.3.1.9.10. </span>PIVVolShiftType:<a class="headerlink" href="#id12" title="Link to this heading">#</a></h3>
<p>We examine now the impact of the PIVVolShiftType property. As described in Section 4.8.19, the property controls the column VolShift of the Offsets table and it is set to ABSOLUTE. This means a value contained in the VolShift column of the Offsets subtable represents an absolute shift applied to the volatility $<span class="math notranslate nohighlight">\(\sigma(t)\)</span><span class="math notranslate nohighlight">\( computed from the slice parameters according to the definition of the parametric form in use. We check the correct implementation of the property using Dictionary_1. We set all the values of the column VolShift to 0.1, meaning that all an absolute shift of size 0.1 will be applied to the volatility \)</span><span class="math notranslate nohighlight">\(\sigma_{SA4}(t)\)</span><span class="math notranslate nohighlight">\( computed using the SA4 formula. We price the original call option with maturity 09/08/2030 and compare the implied BS volatility against the analytically computed volatility \)</span><span class="math notranslate nohighlight">\(\sigma(t) = \sigma_{SA4}(t) + 0.1\)</span>$</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>ExpiryDate</p></th>
<th class="head"><p>Implied BS vol</p></th>
<th class="head"><p>Analytical SA4 vol</p></th>
<th class="head"><p>Diff.</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>09/08/2030</p></td>
<td><p>0.1969410562</p></td>
<td><p>0.1963808094</p></td>
<td><p>0.00056</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 89: Comparison between the implied BS volatility of of call option with expiry date 09/08/2030 and the analytically computed values of the volatility using the SA4 parametric form formula. We see that setting the values of the Volshift column in the Offsets subtable to 0.1 implies applying an absolute shift of size 0.1 to the volatility $<span class="math notranslate nohighlight">\(\sigma_{SA4}(t)\)</span>$ computed using the SA4 formula.</p>
</section>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="model-uncertainty-identification-measurement-and-management">
<h1><span class="section-number">1.3.2. </span>5 Model Uncertainty Identification, Measurement, and Management<a class="headerlink" href="#model-uncertainty-identification-measurement-and-management" title="Link to this heading">#</a></h1>
<section id="model-uncertainty-and-identification">
<h2><span class="section-number">1.3.2.1. </span>5.1 Model Uncertainty and Identification<a class="headerlink" href="#model-uncertainty-and-identification" title="Link to this heading">#</a></h2>
<p>Sources of model uncertainty and deficiencies/weaknesses have identified and categorized in accordance with the classification define by the policy. Findings and Model limitations have been issued for the sources of uncertainty analyzed.</p>
<p>Model deficiencies/weaknesses have been identified in section 2.8 and include an assessment for compensating controls.</p>
<p>Model limitation uncertainties have been identified and categorized into:</p>
<p>• Numerical techniques
• Methodology assumptions
• Implementation and deployment
• Missing Risk Factors
• Process Issues</p>
<p>For the DBMSC-RateDeterministic_FXMarket model, the following have been identified as model limitations:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Limitation ID</p></th>
<th class="head"><p>Limitation Category</p></th>
<th class="head"><p>Limitation Type</p></th>
<th class="head"><p>Limitation Framework</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>707</p></td>
<td><p>Missing Risk Factor</p></td>
<td><p>Interest Rate Volatility</p></td>
<td><p>ShortRateDeterministic</p></td>
</tr>
<tr class="row-odd"><td><p>1523</p></td>
<td><p>Missing Risk Factor</p></td>
<td><p>FX Volatility Smile</p></td>
<td><p>FXMarket</p></td>
</tr>
<tr class="row-even"><td><p>2742</p></td>
<td><p>Missing Risk Factor</p></td>
<td><p>FX CORRELATION SKEW</p></td>
<td><p>FXMarket</p></td>
</tr>
<tr class="row-odd"><td><p>4050</p></td>
<td><p>Calibration</p></td>
<td><p>Calibration Uncertainty</p></td>
<td><p>FXMarket</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 90: DBSMC-RateDeterministic_FXMarket Limitations</p>
<p>• Missing Risk Factor(Interest Rate Volatility)[ShortRateDeterministic]: The ShortRateDeterministic framework makes the assumption that interest rate uncertainty is not an important factor for pricing. This assumption is reasonable to the extent that cashflows are fixed (ie coupon set/date equals value/date), or linear in a natural rate (paydate equals rate maturity), or where cashflow uncertainty is dominated by volatility in other underlyings. [Lim ID 707]</p>
<p>• Missing Risk Factor(FX Volatility Smile)[FXMarket]: The pricing of baskets relies on the construction of an index with lognormal dynamics from the baskets constituents. The model assumes a flat volatility smile for the index. The impact of the limitation can be assessed by benchmarking against alternative DBAnalytics models. We recommend GVG to monitor the uncertainty surrounding the limitation and compute uncertainty reserves, if deemed necessary. [Lim ID 1523]</p>
<p>• Missing Risk Factor(FX CORRELATION SKEW[FXMarket]: When pricing the multi-currency arithmetic basket options the FXMarket framework uses a three moment matching approximation on the distribution of the basket variable. Therefore, higher order moments are not calibrated in this framework. This assumption is reasonable for markets that can be well approximated using only the first three moments. [Lim ID 2742]</p>
<p>• Calibration(Calibration Uncertainty)[FXMarket]: The PIV/Auto calibration of the FXMarket model is sensitive to the choice of calibration targets and parameters of the calibration routine. Such calibration target choice and the calibration quality add uncertainty to the valuation. [Lim ID 4050]</p>
<p>Limitation 2605, previously linked to this model, was only relevant for the product FXBasketOpt, which is currently deactivated. In case the product were reactivated, limitation 2605 would have to be reinstated.</p>
<p>The following table displays the connection between the products in scope and the identified model limitations which are relevant for the pricing dictionaries:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Product Name \ Limitation</p></th>
<th class="head"><p>707</p></th>
<th class="head"><p>1523</p></th>
<th class="head"><p>2742</p></th>
<th class="head"><p>4050</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>FXDigitalOpt</p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p>X</p></td>
</tr>
<tr class="row-odd"><td><p>FXEuroOpt</p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p>X</p></td>
</tr>
<tr class="row-even"><td><p>FXGeometricBasketOpt</p></td>
<td><p>X</p></td>
<td><p>X</p></td>
<td><p>X</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-odd"><td><p>FXNonDeliverableEuroOpt</p></td>
<td><p></p></td>
<td><p></p></td>
<td><p></p></td>
<td><p>X</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 91: Product Model Limitations for DBSMC-RateDeterministic_FXMarket.</p>
</section>
<section id="model-uncertainty-measurement-and-management">
<h2><span class="section-number">1.3.2.2. </span>5.2 Model Uncertainty Measurement and Management<a class="headerlink" href="#model-uncertainty-measurement-and-management" title="Link to this heading">#</a></h2>
<p>The requirement for a valuation adjustment methodology to compensate for a model limitation is to be established and implemented by VC/GSA. The limitations assigned to the product model are detailed in the previous section. The table below detailed for each limitation whether or not the compensating control is applied to mitigate the limitations identified and the appropriateness of proposed measurement approaches has been assessed:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Limitation ID</p></th>
<th class="head"><p>Reserve Policy</p></th>
<th class="head"><p>Limitation Assessed</p></th>
<th class="head"><p>RFU</p></th>
<th class="head"><p>reserve MVR</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>707</p></td>
<td><p>NL-**</p></td>
<td><p>YES</p></td>
<td><p>TBD</p></td>
<td><p>Pending GSA submission</p></td>
</tr>
<tr class="row-odd"><td><p>1523</p></td>
<td><p>NL-**</p></td>
<td><p>YES</p></td>
<td><p>TBD</p></td>
<td><p>Pending GSA submission</p></td>
</tr>
<tr class="row-even"><td><p>2742</p></td>
<td><p>NL-**</p></td>
<td><p>YES</p></td>
<td><p>TBD</p></td>
<td><p>Pending GSA submission</p></td>
</tr>
<tr class="row-odd"><td><p>4050</p></td>
<td><p>NL-**</p></td>
<td><p>YES</p></td>
<td><p>TBD</p></td>
<td><p>Pending GSA submission</p></td>
</tr>
</tbody>
</table>
</div>
<p>The table below detailed for each finding whether or not the compensating control is applied to mitigate the finding identified:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Finding ID</p></th>
<th class="head"><p>Model weakness</p></th>
<th class="head"><p>Compensating control methodology</p></th>
<th class="head"><p>Control assessed</p></th>
</tr>
</thead>
</table>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="control-assessment">
<h1><span class="section-number">1.3.3. </span>6 Control Assessment<a class="headerlink" href="#control-assessment" title="Link to this heading">#</a></h1>
<p>When the pricing model is used as a servicer, please refer to top model validation report section on the control assessment of the servicer models.</p>
<section id="ongoing-performance-monitoring">
<h2><span class="section-number">1.3.3.1. </span>6.1 Ongoing Performance Monitoring<a class="headerlink" href="#ongoing-performance-monitoring" title="Link to this heading">#</a></h2>
<p>The model performance monitoring relies on performance indicators defined by the Product Owners, product model users or control functions as necessary, to confirm that the model is performing as intended.</p>
<p>The following activities as linked to models are included in performance monitoring:</p>
<p>• Unexplained P&amp;L due to model issues</p>
<p>• Relative size of model reserves taken at product-model pair level (relative to PV and or trade count). Month-on-month changes in the value of a specific model reserve in excess of 1m euros automatically triggers further scrutiny.</p>
<p>• VRM’s output price testing results through IPV processes.</p>
<p>• Identification of risk instabilities produced by models.</p>
<p>• Feedback on model performance (e.g. hedging performance, market observations, historical back testing exceptions, calibration failures, consideration of pricing auction results successes, risk instabilities, significant collateral disputes due to model issues), and model failure, including technical model failures (identified through model development regression testing or other BAU processes).</p>
<p>The activities listed above must be prepared and presented to the MCWGs and during the year’s annual attestation.</p>
</section>
<section id="data-and-process-controls">
<h2><span class="section-number">1.3.3.2. </span>6.2 Data and Process Controls<a class="headerlink" href="#data-and-process-controls" title="Link to this heading">#</a></h2>
<section id="condition-for-use">
<h3><span class="section-number">1.3.3.2.1. </span>6.2.1 Condition for use<a class="headerlink" href="#condition-for-use" title="Link to this heading">#</a></h3>
<p>The following table contains the list of Model Parameter Monitoring (MPM) rules extracted from MARS, COB 17.12.2020. The list contains the model rules deemed relevant for the model. The initial list of MPM rules was provided by DBAnalytics in MARS request 2020Jun12-RIEUPIE-14633 as part of the validation of MPM rules. The model rules have been validated in Q3 2020. The latest descriptions of the MPM rules can be found at <a class="reference external" href="https://nma.risk.db.com/mars/report">https://nma.risk.db.com/mars/report</a>. Note that majority of rules were introduced after the validation of the MPM rules in Q2 2020 with the exception of rules 550, 588 and 589 which were set prior to Q2 2020 and rule 17547 set in Q1 2021:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>ID</p></th>
<th class="head"><p>Rule</p></th>
<th class="head"><p>Business</p></th>
<th class="head"><p>Status</p></th>
<th class="head"><p>Last Change</p></th>
<th class="head"><p>ParamInfo</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>550</p></td>
<td><p>FX0006</p></td>
<td><p>FX</p></td>
<td><p>Released/Released</p></td>
<td><p>11-10-2017</p></td>
<td><p>05-07-2017</p></td>
</tr>
<tr class="row-odd"><td><p>588</p></td>
<td><p>FX0007</p></td>
<td><p>FX</p></td>
<td><p>Released/Released</p></td>
<td><p>11-10-2017</p></td>
<td><p>05-07-2017</p></td>
</tr>
<tr class="row-even"><td><p>589</p></td>
<td><p>FX0008</p></td>
<td><p>FX</p></td>
<td><p>Released/Released</p></td>
<td><p>41-10-2017</p></td>
<td><p>05-07-2017</p></td>
</tr>
<tr class="row-odd"><td><p>11032</p></td>
<td><p>CURVE0001</p></td>
<td><p>CREDIT</p></td>
<td><p>Released/Approved</p></td>
<td><p>10-12-2020</p></td>
<td><p>27-06-2019</p></td>
</tr>
</tbody>
</table>
</div>
<p>Continued on next page</p>
<p>Continued from previous page</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>ID</p></th>
<th class="head"><p>Rule</p></th>
<th class="head"><p>Business</p></th>
<th class="head"><p>Status</p></th>
<th class="head"><p>Last Change</p></th>
<th class="head"><p>ParamInfo</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>11036</p></td>
<td><p>CURVE0002</p></td>
<td><p>CREDIT</p></td>
<td><p>Released/Approved</p></td>
<td><p>10-12-2020</p></td>
<td><p>10-07-2018</p></td>
</tr>
<tr class="row-odd"><td><p>11038</p></td>
<td><p>CURVE0009</p></td>
<td><p>CREDIT</p></td>
<td><p>Released/Approved</p></td>
<td><p>10-12-2020</p></td>
<td><p>27-06-2019</p></td>
</tr>
<tr class="row-even"><td><p>11041</p></td>
<td><p>CURVE0005</p></td>
<td><p>RATES</p></td>
<td><p>Released/Approved</p></td>
<td><p>02-12-2020</p></td>
<td><p>27-06-2019</p></td>
</tr>
<tr class="row-odd"><td><p>11044</p></td>
<td><p>CURVE0019</p></td>
<td><p>RATES</p></td>
<td><p>Released/Approved</p></td>
<td><p>11-12-2020</p></td>
<td><p>27-06-2019</p></td>
</tr>
<tr class="row-even"><td><p>11054</p></td>
<td><p>CURVE0013</p></td>
<td><p>CREDIT</p></td>
<td><p>Released/Approved</p></td>
<td><p>10-12-2020</p></td>
<td><p>27-06-2019</p></td>
</tr>
<tr class="row-odd"><td><p>11063</p></td>
<td><p>CURVE0017</p></td>
<td><p>RATES</p></td>
<td><p>Released/Approved</p></td>
<td><p>11-12-2020</p></td>
<td><p>27-06-2019</p></td>
</tr>
<tr class="row-even"><td><p>11065</p></td>
<td><p>CURVE0003</p></td>
<td><p>CREDIT</p></td>
<td><p>Released/Approved</p></td>
<td><p>10-12-2020</p></td>
<td><p>27-06-2019</p></td>
</tr>
<tr class="row-odd"><td><p>11069</p></td>
<td><p>CURVE0010</p></td>
<td><p>CREDIT</p></td>
<td><p>Released/Approved</p></td>
<td><p>10-12-2020</p></td>
<td><p>27-06-2019</p></td>
</tr>
<tr class="row-even"><td><p>11823</p></td>
<td><p>FX0014</p></td>
<td><p>FX</p></td>
<td><p>Released/Released</p></td>
<td><p>28-08-2020</p></td>
<td><p>29-07-2020</p></td>
</tr>
<tr class="row-odd"><td><p>11824</p></td>
<td><p>FX0015</p></td>
<td><p>FX</p></td>
<td><p>Released/Released</p></td>
<td><p>28-08-2020</p></td>
<td><p>08-01-2019</p></td>
</tr>
<tr class="row-even"><td><p>11825</p></td>
<td><p>FX0016</p></td>
<td><p>FX</p></td>
<td><p>Released/Released</p></td>
<td><p>15-10-2020</p></td>
<td><p>07-05-2019</p></td>
</tr>
<tr class="row-odd"><td><p>11826</p></td>
<td><p>FX0017</p></td>
<td><p>FX</p></td>
<td><p>Released/Released</p></td>
<td><p>15-10-2020</p></td>
<td><p>24-05-2019</p></td>
</tr>
<tr class="row-even"><td><p>11827</p></td>
<td><p>FX0018</p></td>
<td><p>FX</p></td>
<td><p>Released/Released</p></td>
<td><p>03-08-2020</p></td>
<td><p>08-01-2019</p></td>
</tr>
<tr class="row-odd"><td><p>11828</p></td>
<td><p>FX0019</p></td>
<td><p>FX</p></td>
<td><p>Released/Released</p></td>
<td><p>03-08-2020</p></td>
<td><p>22-04-2016</p></td>
</tr>
<tr class="row-even"><td><p>11829</p></td>
<td><p>FX0020</p></td>
<td><p>FX</p></td>
<td><p>Released/Released</p></td>
<td><p>28-08-2020</p></td>
<td><p>29-07-2020</p></td>
</tr>
<tr class="row-odd"><td><p>11830</p></td>
<td><p>FX0021</p></td>
<td><p>FX</p></td>
<td><p>Released/Released</p></td>
<td><p>15-10-2020</p></td>
<td><p>27-03-2019</p></td>
</tr>
<tr class="row-even"><td><p>11831</p></td>
<td><p>FX0022</p></td>
<td><p>FX</p></td>
<td><p>Released/Released</p></td>
<td><p>28-08-2020</p></td>
<td><p>29-07-2020</p></td>
</tr>
<tr class="row-odd"><td><p>11832</p></td>
<td><p>FX0023</p></td>
<td><p>FX</p></td>
<td><p>Released/Released</p></td>
<td><p>28-08-2020</p></td>
<td><p>29-07-2020</p></td>
</tr>
<tr class="row-even"><td><p>11833</p></td>
<td><p>FX0024</p></td>
<td><p>FX</p></td>
<td><p>Released/Released</p></td>
<td><p>03-08-2020</p></td>
<td><p>29-07-2020</p></td>
</tr>
<tr class="row-odd"><td><p>11834</p></td>
<td><p>FX0025</p></td>
<td><p>FX</p></td>
<td><p>Released/Released</p></td>
<td><p>15-10-2020</p></td>
<td><p>05-07-2017</p></td>
</tr>
<tr class="row-even"><td><p>11835</p></td>
<td><p>FX0026</p></td>
<td><p>FX</p></td>
<td><p>Released/Released</p></td>
<td><p>03-08-2020</p></td>
<td><p>29-07-2020</p></td>
</tr>
<tr class="row-odd"><td><p>11836</p></td>
<td><p>FX0027</p></td>
<td><p>FX</p></td>
<td><p>Released/Released</p></td>
<td><p>03-08-2020</p></td>
<td><p>05-07-2017</p></td>
</tr>
<tr class="row-even"><td><p>11837</p></td>
<td><p>FX0028</p></td>
<td><p>FX</p></td>
<td><p>Released/Released</p></td>
<td><p>15-10-2020</p></td>
<td><p>07-05-2019</p></td>
</tr>
<tr class="row-odd"><td><p>11838</p></td>
<td><p>FX0029</p></td>
<td><p>FX</p></td>
<td><p>Released/Released</p></td>
<td><p>16-12-2020</p></td>
<td><p>22-04-2016</p></td>
</tr>
<tr class="row-even"><td><p>11839</p></td>
<td><p>FX0030</p></td>
<td><p>FX</p></td>
<td><p>Released/Released</p></td>
<td><p>03-08-2020</p></td>
<td><p>30-10-2017</p></td>
</tr>
<tr class="row-odd"><td><p>13071</p></td>
<td><p>CURVE0024</p></td>
<td><p>RATES</p></td>
<td><p>Released/Approved</p></td>
<td><p>11-12-2020</p></td>
<td><p>08-07-2020</p></td>
</tr>
<tr class="row-even"><td><p>13075</p></td>
<td><p>CURVE0012</p></td>
<td><p>CREDIT</p></td>
<td><p>Released/Approved</p></td>
<td><p>10-12-2020</p></td>
<td><p>11-08-2019</p></td>
</tr>
<tr class="row-odd"><td><p>13076</p></td>
<td><p>CURVE0004A</p></td>
<td><p>RATES</p></td>
<td><p>Released/Released</p></td>
<td><p>06-11-2020</p></td>
<td><p>27-06-2019</p></td>
</tr>
<tr class="row-even"><td><p>16560</p></td>
<td><p>FX0082</p></td>
<td><p>FX</p></td>
<td><p>Released/Approved</p></td>
<td><p>09-12-2020</p></td>
<td><p>14-02-2017</p></td>
</tr>
<tr class="row-odd"><td><p>16561</p></td>
<td><p>FX0083</p></td>
<td><p>FX</p></td>
<td><p>Approved/Approved</p></td>
<td><p>16-12-2020</p></td>
<td><p>27-06-2019</p></td>
</tr>
<tr class="row-even"><td><p>16562</p></td>
<td><p>FX0084</p></td>
<td><p>FX</p></td>
<td><p>Released/Approved</p></td>
<td><p>10-12-2020</p></td>
<td><p>27-06-2019</p></td>
</tr>
<tr class="row-odd"><td><p>17547</p></td>
<td><p>FX0085</p></td>
<td><p>FX</p></td>
<td><p>Released</p></td>
<td><p>18-03-2021</p></td>
<td><p>18-03-2021</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 92: CfU rules for DBSMC-RateDeterministic_FXMarket model. Status: Status of the Subcondition and Condition for Use. Last Change: Date when there was a last change of the Condition for Use. ParamInfo: The last date when any parameter used in the CfU was created or updated, corresponds to the ParamInfo dependency date. The table is generated from MARS data available at 2021-Mar-18 04:06:00</p>
<p>CfU ID | 550
Configuration: | all configurations
PRDS Product(s): | all products</p>
<p>Minimum Condition(s): | VOL::VolName == MARKETVOL and VOL::InputMode in (DELTAVOL, STRIKEVOL)
Target Condition(s): | VOL::InterpolationType in (NATURALCUBIC, TIMESTRIKE)</p>
<p>CfU ID | 588
Configuration: | all configurations
PRDS Product(s): | all products
Minimum Condition(s): | VOL::VolName == MARKETVOL and VOL::InputMode in (DELTAVOL, STRIKEVOL)
Target Condition(s): | VOL::VolModel == CONSTANT_LV</p>
<p>CfU ID | 589
Configuration: | all configurations
PRDS Product(s): | all products
Minimum Condition(s): | VOL::VolName == MARKETVOL and VOL::InputMode in (DELTAVOL, STRIKEVOL)
Target Condition(s): | VOL::InterpolationSpace in (LOGSTRIKE, STRIKE)</p>
<p>CfU ID | 11032
Configuration: | all configurations
PRDS Product(s): | all products
Minimum Condition(s): | None
Target Condition(s): | CURVE::AddPar in (NONE, LINEAR)</p>
<p>CfU ID | 11036
Configuration: | all configurations
PRDS Product(s): | all products
Minimum Condition(s): | None
Target Condition(s): | CURVE::BuildMethod in (CONSTANT_FORWARD_HYBRID_CONSTANT_FORWARD_HYBRID_FORWARD, LINEAR_ZERO, QUADRATIC_FORWARD)</p>
<p>CfU ID | 11038
Configuration: | all configurations
PRDS Product(s): | all products
Minimum Condition(s): | None
Target Condition(s): | CURVE::SmoothFutures in (NO, YES, BACKWARD, BACKWARDDAILY)</p>
<p>CfU ID | 11041
Configuration: | all configurations
PRDS Product(s): | all products
Minimum Condition(s): | None
Target Condition(s): | CURVE::ExtrapMethod in (CONSTANT_FORWARD, CONSTANT_PAR, CONSTANT_ZERO, NATIVE)</p>
<p>CfU ID | 11044
Configuration: | all configurations
PRDS Product(s): | all products
Minimum Condition(s): | None
Target Condition(s): | CURVE::CCYUseBaseCurve in (NO, YES)</p>
<p>CfU ID | 11827
Configuration: | all configurations
PRDS Product(s): | all products
Minimum Condition(s): | VOL::VolName == MARKETVOL and VOL::InputMode == PARAMETRICVOL and VOL::DiffusionType in (FXRATE, CROSSFXRATE)
Target Condition(s): | VOL::SkewType in (SA4, LARGD)</p>
<p>CfU ID | 11828
Configuration: | all configurations
PRDS Product(s): | all products
Minimum Condition(s): | None
Target Condition(s): | EXTRAINFO::ResultType != MODELPRICE</p>
<p>CfU ID | 11829
Configuration: | all configurations
PRDS Product(s): | all products
Minimum Condition(s): | EXTRAINFO::ResultType == PIVAUTOFIT
Target Condition(s): | EXTRAINFO::TargetType == VOL</p>
<p>CfU ID | 11830
Configuration: | all configurations
PRDS Product(s): | all products
Minimum Condition(s): | None
Target Condition(s): | MODEL::ModelMode in (PRICE, PRICEVALUETWODIV)</p>
<p>CfU ID | 11831
Configuration: | all configurations
PRDS Product(s): | all products
Minimum Condition(s): | EXTRAINFO::ResultType == PIVAUTOFIT
Target Condition(s): | EXTRAINFO::UseSyntheticForwards == NO</p>
<p>CfU ID | 11832
Configuration: | all configurations
PRDS Product(s): | all products
Minimum Condition(s): | EXTRAINFO::ResultType == PIVAUTOFIT
Target Condition(s): | EXTRAINFO::Weighting in (NOTIONAL, VEGANOTIONAL)</p>
<p>CfU ID | 11833
Configuration: | all configurations
PRDS Product(s): | all products
Minimum Condition(s): | None
Target Condition(s): | MODEL::SurfaceTimeFloorMaxTime != NO</p>
<p>CfU ID | 11834
Configuration: | all configurations
PRDS Product(s): | all products
Minimum Condition(s): | VOL::VolName == MARKETVOL and VOL::DiffusionType not in (FXRATE, CROSSFXRATE)
Target Condition(s): | VOL::InputMode in (STRIKEVOL, DELTAVOL, PARAMETRICVOL, MARGINALVOL)</p>
<p>CfU ID | 11835
Configuration: | all configurations
PRDS Product(s): | all products
Minimum Condition(s): | VOL::VolName == MARKETVOL
Target Condition(s): | VOL::PIVVolShiftType == ABSOLUTE</p>
<p>CfU ID | 11836
Configuration: | all configurations
PRDS Product(s): | all products
Minimum Condition(s): | VOL::VolName == MARKETVOL and VOL::DiffusionType in (FXRATE, CROSSFXRATE)
Target Condition(s): | VOL::InputMode in (STRIKEVOL, DELTAVOL, PARAMETRICVOL)</p>
<p>CfU ID | 11837
Configuration: | all configurations
PRDS Product(s): | all products
Minimum Condition(s): | None
Target Condition(s): | MODEL::UseNewSVO in (NO, ALGLIB)</p>
<p>CfU ID | 11838
Configuration: | all configurations
PRDS Product(s): | all products
Minimum Condition(s): | None
Target Condition(s): | EXTRAINFO::ResultType_in { RISKMULTIPLIER, DEFAULTRISK, ACCRUAL, AutoCalibration, BermTex, RelaTerm, PIVAUTOFIT, CALIBRATE, accounts, lapsedata, CorrelatedRandomNumbers, CptyPvs, MatrixStates}</p>
<p>CfU ID | 11839
Configuration: | all configurations
PRDS Product(s): | all products
Minimum Condition(s): | None
Target Condition(s): | PRICINGINFO::PricingInfoType in (AUTOCALIBRATION, AUTOBASIS, BARRIER, BARRIERINFO, REPORT, SETTLEDCASH, MODELVOL)</p>
<p>CfU ID | 13071
Configuration: | all configurations
PRDS Product(s): | all products
Minimum Condition(s): | CURVE::UseType in (DISCOUNTBASIS, LIBOR)
Target Condition(s): | CURVE::BaseRateType in (LIBOR, LIBOR-%, OIS, OIS-%)</p>
<p>CfU ID | 13075
Configuration: | all configurations
PRDS Product(s): | all products
Minimum Condition(s): | None
Target Condition(s): | CURVE::TreasuryUseBaseCurve in (NO, YES)</p>
<p>CfU ID | 13076
Configuration: | all configurations
PRDS Product(s): | all products
Minimum Condition(s): | CURVE::UseType != INFLATION
Target Condition(s): | CURVE::CurveType in (LIBOR, ODYBASIS)</p>
<p>CfU ID | 16560
Configuration: | all configurations
PRDS Product(s): | all products
Minimum Condition(s): | None
Target Condition(s): | CURVE::UseType in (CROSSCCDYSWAP, DISCOUNTBASIS, LIBOR, INFLATION)</p>
<p>CfU ID | 16561
Configuration: | all configurations
PRDS Product(s): | all products
Minimum Condition(s): | CURVE::SpreadBuildMethod not like “*”
Target Condition(s): | CURVE::SpreadBuildMethod in (LINEAR_ZERO, CONSTANT_FORWARD, HYBRID_FORWARD, HYBRID_CONSTANT_FORWARD, QUADRATIC_FORWARD)</p>
<p>CfU ID | 16562
Configuration: | all configurations
PRDS Product(s): | all products
Minimum Condition(s): | None
Target Condition(s): | CURVE::OISUseBaseCurve in (NO, YES)</p>
<p>CfU ID | 17547
Configuration: | all configurations
PRDS Product(s): | all products
Minimum Condition(s): | VOL::VolName == MARKETVOL and VOL::InputMode in (DELTAVOL, STRIKEVOL)
Target Condition(s): | VOL::ArbitrageChecker == BUTTERFLY</p>
</section>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="conclusion">
<h1><span class="section-number">1.3.4. </span>7 Conclusion<a class="headerlink" href="#conclusion" title="Link to this heading">#</a></h1>
<p>The model outputs i.e. price and risk sensitivities have been evaluated by MoRM’s independent testing, and the test results have shown that they are generally stable and smooth with respect to changes in the model parameters in both normal market conditions and stressed market conditions (IRRBB, CCAR, MultiVar). Furthermore, the generated profiles of PVs and risk sensitivities are well understood and in line with expectations. When using a parametric volatility configuration, only the parametric forms SA4 and LA6GD are approved.The auto-fitting quality is high under different market scenarios and the PVs and implied volatilities computed in PIV models are found in good agreement with the PVs and implied volatilities computed in equivalent non-parametric models. The correct implementation of the model has been tested in both parametric and non-parametric configurations, in both normal and stressed market conditions and the results are in line with expectations. The model limitations are listed in Section5.1-2.2.</p>
<p>The model DBSMC-RateDeterministic_FXMarket model is found suitable for pricing the products listed in Section 2.2 under the current Conditions for Use, see Table 4. Therefore, MoRM gives approval for its use.</p>
<section id="stress-test-parameters-ranges">
<h2><span class="section-number">1.3.4.1. </span>7.0.1 Stress test parameters Ranges<a class="headerlink" href="#stress-test-parameters-ranges" title="Link to this heading">#</a></h2>
<p>[THIS IS TABLE: Risk factors table showing shift sizes for DBSMC-RateDeterministic_FXMarket model]
| | | SWAP/ | swap/ | | |
| | | DISCOUNTSPREAD/ | ccyB/ | FXSpot/ | ATMVol/ |
| | | ONSPREAD | OCDSPREAD | | FwdVol |
| | FXEuroOpt | EOD | [-0.05, 0.05] | [-0.05, 0.05] | [-0.9,2] | [-0.9,2] |
| | | CCAR | [-0.05, 0.05] | [-0.05, 0.05] | [-0.9,2] | [-0.9,2] |
| | | IRRBB | [-0.05, 0.05] | [-0.05, 0.05] | [-0.9,2] | [-0.9,2] |
| | FXDigitalOpt | EOD | [-0.05, 0.05] | [-0.05, 0.05] | [-0.9,2] | [-0.9,2] |
| | | CCAR | [-0.05, 0.05] | [-0.05, 0.05] | [-0.9,2] | [-0.9,2] |
| | | IRRBB | [-0.05, 0.05] | [-0.05, 0.05] | [-0.9,2] | [-0.9,2] |
| | FXGeometricBasketOpt | EOD | [-0.05, 0.05] | [-0.05, 0.05] | [-0.9,2] | [-0.9,2] |
| | | CCAR | [-0.05, 0.05] | [-0.05, 0.05] | [-0.9,2] | [-0.9,2] |
| | | IRRBB | [-0.05, 0.05] | [-0.05, 0.05] | [-0.9,2] | [-0.9,2] |</p>
<p>Table 129: Risk factors (shift sizes applied to the risk factors) table for DBSMC-RateDeterministic_FXMarket model. The shifts of the IR curve are absolute, the shifts of the IR vol, FX spot and FX vol are relative.</p>
</section>
<section id="usage-controls">
<h2><span class="section-number">1.3.4.2. </span>7.1 Usage controls<a class="headerlink" href="#usage-controls" title="Link to this heading">#</a></h2>
<p>Model risk monitor the model and product combinations that have not been approved that must not be used by product-model users for books and records fair value measurements or external risk reporting. The Model Usage Exception Report collated by MRC with assistance from other relevant functions monitors and reports instances of model usage exceptions. As per model use section of the pricing model risk policy, the usage exceptions in the Model Usage Exception Report are reported under the following categories:</p>
<p>• Model Exception (use of an unapproved model is based on approved model inventory in MARS).
• P-M Exception (product not approved for the approved model selected is based on approved product-model approval inventory in PRDS).
• Blank PRDS Product (trade not tagged with a PRDS product name).
• Model Parameter Usage Exceptions (trade using model parameter values which are not allowed based on prescribed conditions for use is based on MARS CfU/model rules).
• Unapproved dispersion.</p>
<p>Model and product combinations that have not been approved through MoRMs validation processes as well as retired and superseded models must not be used by product-model users for books and records fair value measurements or external risk reporting.</p>
<p>Interim controls are put in place over exceptions to manage, monitor and mitigate the risk of inappropriate or inaccurate model usage by product-model users. Exceptions must be remediated within a defined threshold period. Remediation activities could include a trade re-booking or the migration of a trade to an approved model. The validity of product tags assigned to trades by product-model users is independently verified by MRC through the Product Tagging Validation or PTV process.</p>
</section>
<section id="change-control">
<h2><span class="section-number">1.3.4.3. </span>7.2 Change Control<a class="headerlink" href="#change-control" title="Link to this heading">#</a></h2>
<p>For Pricing models, implementation refers to DBA releases and deployment refers to integrating them into risk calculators.</p>
<p>The DBAnalytics code which is comprised of the C++ modelling/interface code and compilation directives files, the regression test files, their benchmark results, and the OnlineHelp are all maintained in source control auditable repositories. The code is labeled as releases are made and classified as part of the pricing model change process.</p>
<p>DBAnalytics are responsible for the daily production of binary executables for DEV, BETA, and PROD builds of the library. These are available from DBA website for download. The actual deployment of these binaries into the risk systems for official end-of-day PnL is the responsibility of the technology teams who maintain these systems. Since DBA is a common analytic to all systems and the model change will be applicable to all (whilst at different time horizon according to system release), the pricing model change usage control key principle relies on:</p>
<p>• The pricing model change process including classification and validation of model change. DBA will create a model parameter to enable and or disable the model change. Model risk will control the release of the model change by adding a model parameter rule for any model change pending review.
• Monitoring model usage controls through continuous tracking of trades to detect the use of unapproved models.
• Implementation controls through mandatory use of strategic risk library and calculators, source control and release procedure.</p>
</section>
<section id="results-from-annual-model-review">
<h2><span class="section-number">1.3.4.4. </span>7.3 Results from Annual Model Review<a class="headerlink" href="#results-from-annual-model-review" title="Link to this heading">#</a></h2>
<p>SR11.7 introduces the concept of an annual model review for each model as follows: Banks should conduct a periodic review at last annually but more frequently if warranted - of each model to determine whether it is working as intended and if the existing validation activities are sufficient. Such a determination could simply affirm previous validation work, suggest updates to previous validation activities, or call for additional validation activities. All pricing models within the approved model inventory must be subject to the Annual Model Review to determine whether the models continue to be valid and appropriate for the intended use given current market conditions and whether associated controls remain sufficient. The performance of all active pricing models is assessed over the course of the year through on-going model performance monitoring.</p>
<p>As per the policy, the annual model review will consider:</p>
<p>• Proposed global Model Risk Scorecard overrides to inherent risk rating : None.
• Model performance: Please refer to section “Ongoing Performance Monitoring”. With the exception of the issues listed and described below (please list and describe relevant instances reported including subsequent completed actions) ongoing performance monitoring reported in insert year did not reveal unexpected or inaccurate results attributable to model performance.
• Other relevant indicators not captured by the above, such as:</p>
<ul class="simple">
<li><p>Changes in academic theory related to modeling that would require new models/changes to existing models: None identified.</p></li>
<li><p>Changes in the market that have rendered some model assumptions to be inappropriate or insufficient: None observed.</p></li>
<li><p>Model development regression testing indicated potential issues with the model: None observed.</p></li>
</ul>
<p>Approval Decision : the annual model review process proposed outcome was that the DBSMC-RateDeterministic_FXMarketwas re-attested by the MCWG.</p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="document-change-history">
<h1><span class="section-number">1.3.5. </span>8 Document Change History<a class="headerlink" href="#document-change-history" title="Link to this heading">#</a></h1>
<section id="change-history-post-july-15-2015">
<h2><span class="section-number">1.3.5.1. </span>8.1 Change History Post July 15,2015<a class="headerlink" href="#change-history-post-july-15-2015" title="Link to this heading">#</a></h2>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Revision</p></th>
<th class="head"><p>Author</p></th>
<th class="head"><p>Date</p></th>
<th class="head"><p>Comment</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>r16583</p></td>
<td><p>souhail hannouf</p></td>
<td><p>2016-02-23</p></td>
<td><p>Consolidate the limitation’s category.</p></td>
</tr>
<tr class="row-odd"><td><p>r20704</p></td>
<td><p>jason doukas</p></td>
<td><p>2016-06-30</p></td>
<td><p>Removing user attestation conditions for use.</p></td>
</tr>
<tr class="row-even"><td><p>r28810</p></td>
<td><p>souhail hannouf</p></td>
<td><p>2017-02-06</p></td>
<td><p>Fix CfU ids</p></td>
</tr>
<tr class="row-odd"><td><p>r26998</p></td>
<td><p>emiliano papa</p></td>
<td><p>2017-02-09</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>r28637</p></td>
<td><p>constantine x mavroudis</p></td>
<td><p>2017-03-31</p></td>
<td><p>Revalidation Q1 2017 and Pythonization of testing evidence with DBA v420.</p></td>
</tr>
<tr class="row-odd"><td><p>r28644</p></td>
<td><p>constantine x mavroudis</p></td>
<td><p>2017-03-31</p></td>
<td><p>Revalidation Q1 2017 and Pythonization of testing evidence with DBA v420.</p></td>
</tr>
<tr class="row-even"><td><p>r28645</p></td>
<td><p>constantine x mavroudis</p></td>
<td><p>2017-03-31</p></td>
<td><p>Revalidation Q1 2017 and Pythonization of testing evidence with DBA v420.</p></td>
</tr>
<tr class="row-odd"><td><p>r28653</p></td>
<td><p>constantine x mavroudis</p></td>
<td><p>2017-03-31</p></td>
<td><p>Revalidation Q1 2017. Pythonization of testing evidence with DBA v420.</p></td>
</tr>
<tr class="row-even"><td><p>r38796</p></td>
<td><p>constantine x mavroudis</p></td>
<td><p>2017-09-25</p></td>
<td><p>Update Template to current standards.</p></td>
</tr>
<tr class="row-odd"><td><p>r38890</p></td>
<td><p>constantine x mavroudis</p></td>
<td><p>2017-09-26</p></td>
<td><p>To compile the TOC.</p></td>
</tr>
<tr class="row-even"><td><p>r39280</p></td>
<td><p>timothy brere-ton</p></td>
<td><p>2017-09-28</p></td>
<td><p>Added testing of PIV.</p></td>
</tr>
<tr class="row-odd"><td><p>r39506</p></td>
<td><p>timothy brere-ton</p></td>
<td><p>2017-10-02</p></td>
<td><p>Additional PIV testing added.</p></td>
</tr>
<tr class="row-even"><td><p>r39616</p></td>
<td><p>timothy brere-ton</p></td>
<td><p>2017-10-05</p></td>
<td><p>Added additional PIV testing.</p></td>
</tr>
<tr class="row-odd"><td><p>r39678</p></td>
<td><p>timothy brere-ton</p></td>
<td><p>2017-10-11</p></td>
<td><p>Modified interpolation conditions for use so that they only apply to non-parametric vols.</p></td>
</tr>
<tr class="row-even"><td><p>r41100</p></td>
<td><p>constantine x mavroudis</p></td>
<td><p>2018-01-02</p></td>
<td><p>CCAR Testing added</p></td>
</tr>
<tr class="row-odd"><td><p>r41450</p></td>
<td><p>constantine x mavroudis</p></td>
<td><p>2018-01-26</p></td>
<td><p>Adding “ArbitrageChecker=YES” Condition of Use</p></td>
</tr>
<tr class="row-even"><td><p>r42109</p></td>
<td><p>constantine x mavroudis</p></td>
<td><p>2018-02-28</p></td>
<td><p>Revalidation for Q1 2018 with DBA v520.</p></td>
</tr>
<tr class="row-odd"><td><p>r50818</p></td>
<td><p>timothy brere-ton</p></td>
<td><p>2018-07-06</p></td>
<td><p>Added autocalibration configurations.</p></td>
</tr>
<tr class="row-even"><td><p>r50972</p></td>
<td><p>timothy brere-ton</p></td>
<td><p>2018-07-10</p></td>
<td><p>Added comment to trigger tex compilation.</p></td>
</tr>
<tr class="row-odd"><td><p>r51801</p></td>
<td><p>marek olek-siewicz</p></td>
<td><p>2018-07-31</p></td>
<td><p>mars tables injected</p></td>
</tr>
<tr class="row-even"><td><p>r52266</p></td>
<td><p>constantine x mavroudis</p></td>
<td><p>2018-08-13</p></td>
<td><p>Delete pdf file as per new instructions</p></td>
</tr>
<tr class="row-odd"><td><p>r53282</p></td>
<td><p>olekmar</p></td>
<td><p>2018-09-12</p></td>
<td><p>risk tables updated; please delete old manually</p></td>
</tr>
<tr class="row-even"><td><p>r61470</p></td>
<td><p>nedesor</p></td>
<td><p>2020-07-01</p></td>
<td><p>Q2 2020 Revalidation</p></td>
</tr>
<tr class="row-odd"><td><p>r61692</p></td>
<td><p>nedesor</p></td>
<td><p>2020-08-17</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>r62316</p></td>
<td><p>nedesor</p></td>
<td><p>2020-10-26</p></td>
<td><p>Fix Jenkins Error</p></td>
</tr>
<tr class="row-odd"><td><p>r62319</p></td>
<td><p>nedesor</p></td>
<td><p>2020-10-26</p></td>
<td><p>Fix Jenkins error</p></td>
</tr>
<tr class="row-even"><td><p>r62339</p></td>
<td><p>nedesor</p></td>
<td><p>2020-10-28</p></td>
<td><p>Fix Jenkins Error</p></td>
</tr>
<tr class="row-odd"><td><p>r62342</p></td>
<td><p>nedesor</p></td>
<td><p>2020-10-28</p></td>
<td><p>Fix Jenkins Error</p></td>
</tr>
<tr class="row-even"><td><p>r62377</p></td>
<td><p>nedesor</p></td>
<td><p>2020-11-09</p></td>
<td><p>Inserted CFUs for CURVE conditions</p></td>
</tr>
<tr class="row-odd"><td><p>r62796</p></td>
<td><p>nedesor</p></td>
<td><p>2020-12-17</p></td>
<td><p>Updated CFU tables to latest format.</p></td>
</tr>
<tr class="row-even"><td><p>r63406</p></td>
<td><p>nedesor</p></td>
<td><p>2021-03-19</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>r64317</p></td>
<td><p>nedesor</p></td>
<td><p>2021-09-30</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>r66039</p></td>
<td><p>strasta</p></td>
<td><p>2022-07-19</p></td>
<td><p>Update documentations after Q2 2022 Revalidation.</p></td>
</tr>
<tr class="row-odd"><td><p>r66044</p></td>
<td><p>strasta</p></td>
<td><p>2022-07-20</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>r66184</p></td>
<td><p>strasta</p></td>
<td><p>2022-08-26</p></td>
<td><p>Add basket products and address review comments.</p></td>
</tr>
<tr class="row-odd"><td><p>r66245</p></td>
<td><p>strasta</p></td>
<td><p>2022-09-29</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>r66246</p></td>
<td><p>strasta</p></td>
<td><p>2022-09-29</p></td>
<td><p>Revalidation Q2 2022, and Doc Update 29th September 2022</p></td>
</tr>
<tr class="row-odd"><td><p>r66418</p></td>
<td><p>fernped</p></td>
<td><p>2022-11-15</p></td>
<td><p>Updated testing for FXGeometricBasketOpt (fermped), FXEuroOpt and FXDigitalOpt (zhanwenb) + minor changes to improve latex compilation</p></td>
</tr>
<tr class="row-even"><td><p>r67089</p></td>
<td><p>nehnvan</p></td>
<td><p>2023-08-02</p></td>
<td><p>Add limitation 707 to FXGeometricBasketOpt.</p></td>
</tr>
<tr class="row-odd"><td><p>r68124</p></td>
<td><p>zhanwenb</p></td>
<td><p>2024-04-26</p></td>
<td><p>Updated Model and Document Information table.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="change-history-prior-july-15-2015">
<h2><span class="section-number">1.3.5.2. </span>8.2 Change History Prior July 15,2015<a class="headerlink" href="#change-history-prior-july-15-2015" title="Link to this heading">#</a></h2>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Date</p></th>
<th class="head"><p>Changes</p></th>
<th class="head"><p>DBA version</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>29/01/2014</p></td>
<td><p>Initial Document</p></td>
<td><p>v170</p></td>
</tr>
<tr class="row-odd"><td><p>24/07/2014</p></td>
<td><p>Removed limitations: Numerical</p></td>
<td><p>Integral_Discretisation</p></td>
</tr>
<tr class="row-even"><td><p>09/03/2015</p></td>
<td><p>Adding description and tests for SkewType SABR3FORMULAPD.</p></td>
<td><p>v210</p></td>
</tr>
<tr class="row-odd"><td><p>30/05/2015</p></td>
<td><p>Revalidation</p></td>
<td><p>v230</p></td>
</tr>
</tbody>
</table>
</div>
<p>In this appendix we include testing of retired configurations.</p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="a-fx-sabr3formulapd-interpolation-and-extrapolation-retired">
<h1><span class="section-number">1.3.6. </span>A FX SABR3FORMULAPD interpolation and extrapolation (retired)<a class="headerlink" href="#a-fx-sabr3formulapd-interpolation-and-extrapolation-retired" title="Link to this heading">#</a></h1>
<p>In this section we perform validation of the parametric implied volatility of the DBSMC-RateDeterministic_FXMarket model which is triggered when a MarketVol with InputType=PARAMETRICVOL and SkewType=SABR3FORMULAPD. Specifically, we investigate the extrapolation-corrected SABR parametrization. Note that the SABR3FORMULAPD configuration is retired, and this testing section is kept solely for legacy purposes.</p>
<p>It should be noted that only the non-basket products can be priced in this mode. In order to obtain prices for FxEuroOpt products, the security is configured to a CAPFLOOR security object with the inputs OptionCallMaturity, OptionType=Call/Put, Strike=K, for an arbitrary number of options in the Options subtable.</p>
<p>As discussed in subssubsection 2.6.5, the model uses the regular SABR formula for implied volatility Equation 32 with a modified extrapolation method to fix problems on the wings which exhibited Butterfly arbitrage.</p>
<p>We perform both implementation tests and stress tests. In the implementation test we compare the prices obtained from DBA against a manual calculation. A variety of stress tests are done which include bumping of the spot, strike and SABR parameters.</p>
<p>In all tests unless otherwise stated we consider call options with a 1 year maturity at strikes from 0.6 to 1.8 in 0.05 increments with a current FX spot rate of 1.25. We compare the option prices and implied volatilities for both the manual calculation and the DBA model. The results indicate negligible differences so DBA is in very good agreement with the manual implementation.</p>
<section id="a-1-implementation-test">
<h2><span class="section-number">1.3.6.1. </span>A.1 Implementation test<a class="headerlink" href="#a-1-implementation-test" title="Link to this heading">#</a></h2>
<p>The first test we perform is the implementation test whereby we reproduce the SABR3FORMULAPD SkewType formula manually. The volatility parameters used for this test can be found in table 131. The results are shown in Table 132, in which we can see that the differences in the implied volatilities are smaller than 15 basis points. We can see from figure 143 that the implied volatility and option prices are smooth as a function of strike.</p>
<p>Table 131: Volatility parameters</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>VOL</p></td>
<td><p>0.1</p></td>
</tr>
<tr class="row-odd"><td><p>SKEW</p></td>
<td><p>0.15</p></td>
</tr>
<tr class="row-even"><td><p>SMILE</p></td>
<td><p>0.75</p></td>
</tr>
<tr class="row-odd"><td><p>INTERPOLATIONSTART</p></td>
<td><p>0.05</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 132: Reproducing the SABR3FORMULAPD SkewType formula</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Strike</p></th>
<th class="head"><p>BSvol</p></th>
<th class="head"><p>Bsvol (Reproduced)</p></th>
<th class="head"><p>Difference</p></th>
<th class="head"><p>Strike</p></th>
<th class="head"><p>BSvol</p></th>
<th class="head"><p>Bsvol (Reproduced)</p></th>
<th class="head"><p>Difference</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0.60</p></td>
<td><p>15.001%</p></td>
<td><p>14.916%</p></td>
<td><p>-0.001</p></td>
<td><p>1.20</p></td>
<td><p>11.262%</p></td>
<td><p>11.260%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>0.63</p></td>
<td><p>14.951%</p></td>
<td><p>14.866%</p></td>
<td><p>-0.001</p></td>
<td><p>1.23</p></td>
<td><p>11.297%</p></td>
<td><p>11.297%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>0.66</p></td>
<td><p>14.899%</p></td>
<td><p>14.813%</p></td>
<td><p>-0.001</p></td>
<td><p>1.26</p></td>
<td><p>11.437%</p></td>
<td><p>11.437%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>0.69</p></td>
<td><p>14.845%</p></td>
<td><p>14.760%</p></td>
<td><p>-0.001</p></td>
<td><p>1.29</p></td>
<td><p>11.666%</p></td>
<td><p>11.666%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>0.72</p></td>
<td><p>14.791%</p></td>
<td><p>14.706%</p></td>
<td><p>-0.001</p></td>
<td><p>1.32</p></td>
<td><p>11.965%</p></td>
<td><p>11.965%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>0.75</p></td>
<td><p>14.736%</p></td>
<td><p>14.652%</p></td>
<td><p>-0.001</p></td>
<td><p>1.35</p></td>
<td><p>12.313%</p></td>
<td><p>12.313%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>0.78</p></td>
<td><p>14.681%</p></td>
<td><p>14.598%</p></td>
<td><p>-0.001</p></td>
<td><p>1.38</p></td>
<td><p>12.696%</p></td>
<td><p>12.696%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>0.81</p></td>
<td><p>14.624%</p></td>
<td><p>14.543%</p></td>
<td><p>-0.001</p></td>
<td><p>1.41</p></td>
<td><p>13.101%</p></td>
<td><p>13.101%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>0.84</p></td>
<td><p>14.561%</p></td>
<td><p>14.484%</p></td>
<td><p>-0.001</p></td>
<td><p>1.44</p></td>
<td><p>13.518%</p></td>
<td><p>13.518%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>0.87</p></td>
<td><p>14.487%</p></td>
<td><p>14.415%</p></td>
<td><p>-0.001</p></td>
<td><p>1.47</p></td>
<td><p>13.942%</p></td>
<td><p>13.942%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>0.90</p></td>
<td><p>14.390%</p></td>
<td><p>14.325%</p></td>
<td><p>-0.001</p></td>
<td><p>1.50</p></td>
<td><p>14.367%</p></td>
<td><p>14.367%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>0.93</p></td>
<td><p>14.249%</p></td>
<td><p>14.198%</p></td>
<td><p>-0.001</p></td>
<td><p>1.53</p></td>
<td><p>14.790%</p></td>
<td><p>14.790%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>0.96</p></td>
<td><p>14.025%</p></td>
<td><p>13.989%</p></td>
<td><p>0.000</p></td>
<td><p>1.56</p></td>
<td><p>15.211%</p></td>
<td><p>15.211%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>0.99</p></td>
<td><p>13.651%</p></td>
<td><p>13.641%</p></td>
<td><p>0.000</p></td>
<td><p>1.59</p></td>
<td><p>15.628%</p></td>
<td><p>15.628%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>1.02</p></td>
<td><p>13.119%</p></td>
<td><p>13.119%</p></td>
<td><p>0.000</p></td>
<td><p>1.62</p></td>
<td><p>16.035%</p></td>
<td><p>16.035%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>1.05</p></td>
<td><p>12.624%</p></td>
<td><p>12.624%</p></td>
<td><p>0.000</p></td>
<td><p>1.65</p></td>
<td><p>16.402%</p></td>
<td><p>16.410%</p></td>
<td><p>-0.001</p></td>
</tr>
<tr class="row-even"><td><p>1.08</p></td>
<td><p>12.185%</p></td>
<td><p>12.185%</p></td>
<td><p>0.000</p></td>
<td><p>1.68</p></td>
<td><p>16.697%</p></td>
<td><p>16.712%</p></td>
<td><p>-0.001</p></td>
</tr>
<tr class="row-odd"><td><p>1.11</p></td>
<td><p>11.814%</p></td>
<td><p>11.814%</p></td>
<td><p>0.000</p></td>
<td><p>1.71</p></td>
<td><p>16.936%</p></td>
<td><p>16.957%</p></td>
<td><p>-0.001</p></td>
</tr>
<tr class="row-even"><td><p>1.14</p></td>
<td><p>11.527%</p></td>
<td><p>11.527%</p></td>
<td><p>0.000</p></td>
<td><p>1.74</p></td>
<td><p>17.133%</p></td>
<td><p>17.159%</p></td>
<td><p>-0.001</p></td>
</tr>
<tr class="row-odd"><td><p>1.17</p></td>
<td><p>11.340%</p></td>
<td><p>11.340%</p></td>
<td><p>0.000</p></td>
<td><p>1.77</p></td>
<td><p>17.297%</p></td>
<td><p>17.327%</p></td>
<td><p>-0.001</p></td>
</tr>
</tbody>
</table>
</div>
<p><img alt="Figure 143: The graph displays the reproduced Implied Volatility and Options prices compared with those from DBA as a function of Strike. The volatility parameters we use for this test can be found in table 131. The maturity is for 1Y." src="market/DBSMC/Fig/143.png" /></p>
</section>
<section id="a-2-stress-test-spot-bump">
<h2><span class="section-number">1.3.6.2. </span>A.2 Stress test: Spot bump<a class="headerlink" href="#a-2-stress-test-spot-bump" title="Link to this heading">#</a></h2>
<p>In this test we do a relative Spot Bump of 70% and 120%; we reproduce the SABR3FORMULAPD SkewType formula under the spot stressed market and then compare the reproduced Implied Volatilities to the ones returned from DBA. The volatility parameters used in this test are the same as those used previously and can be found in table 131.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Strike</p></th>
<th class="head"><p>Bsvol</p></th>
<th class="head"><p>Bsvol (Re-produced)</p></th>
<th class="head"><p>Difference</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0.65</p></td>
<td><p>14.257%</p></td>
<td><p>14.202%</p></td>
<td><p>-0.001</p></td>
</tr>
<tr class="row-odd"><td><p>0.7</p></td>
<td><p>13.475%</p></td>
<td><p>13.475%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>0.75</p></td>
<td><p>12.304%</p></td>
<td><p>12.304%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>0.8</p></td>
<td><p>11.505%</p></td>
<td><p>11.505%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>0.85</p></td>
<td><p>11.264%</p></td>
<td><p>11.264%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>0.9</p></td>
<td><p>11.629%</p></td>
<td><p>11.629%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>0.95</p></td>
<td><p>12.402%</p></td>
<td><p>12.402%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>13.358%</p></td>
<td><p>13.358%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>1.05</p></td>
<td><p>14.367%</p></td>
<td><p>14.367%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>1.1</p></td>
<td><p>15.369%</p></td>
<td><p>15.369%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>1.15</p></td>
<td><p>16.322%</p></td>
<td><p>16.333%</p></td>
<td><p>0.001</p></td>
</tr>
<tr class="row-odd"><td><p>1.2</p></td>
<td><p>16.966%</p></td>
<td><p>17.011%</p></td>
<td><p>0.001</p></td>
</tr>
<tr class="row-even"><td><p>1.25</p></td>
<td><p>17.372%</p></td>
<td><p>17.438%</p></td>
<td><p>0.001</p></td>
</tr>
<tr class="row-odd"><td><p>1.3</p></td>
<td><p>17.644%</p></td>
<td><p>17.725%</p></td>
<td><p>0.001</p></td>
</tr>
<tr class="row-even"><td><p>1.35</p></td>
<td><p>17.837%</p></td>
<td><p>17.928%</p></td>
<td><p>0.001</p></td>
</tr>
<tr class="row-odd"><td><p>1.4</p></td>
<td><p>17.980%</p></td>
<td><p>18.079%</p></td>
<td><p>0.001</p></td>
</tr>
<tr class="row-even"><td><p>1.45</p></td>
<td><p>18.092%</p></td>
<td><p>18.195%</p></td>
<td><p>0.001</p></td>
</tr>
<tr class="row-odd"><td><p>1.5</p></td>
<td><p>18.180%</p></td>
<td><p>18.288%</p></td>
<td><p>0.001</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 133: Relative Spot Bump 70%: Reproducing the SABR3FORMULAPD SkewType formula.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Strike</p></th>
<th class="head"><p>Bsvol</p></th>
<th class="head"><p>Bsvol (Re-produced)</p></th>
<th class="head"><p>Difference</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0.65</p></td>
<td><p>15.088%</p></td>
<td><p>15.005%</p></td>
<td><p>-0.001</p></td>
</tr>
<tr class="row-odd"><td><p>0.7</p></td>
<td><p>15.028%</p></td>
<td><p>14.944%</p></td>
<td><p>-0.001</p></td>
</tr>
<tr class="row-even"><td><p>0.75</p></td>
<td><p>14.950%</p></td>
<td><p>14.876%</p></td>
<td><p>-0.001</p></td>
</tr>
<tr class="row-odd"><td><p>0.8</p></td>
<td><p>14.887%</p></td>
<td><p>14.803%</p></td>
<td><p>-0.001</p></td>
</tr>
<tr class="row-even"><td><p>0.85</p></td>
<td><p>14.812%</p></td>
<td><p>14.728%</p></td>
<td><p>-0.001</p></td>
</tr>
<tr class="row-odd"><td><p>0.9</p></td>
<td><p>14.736%</p></td>
<td><p>14.653%</p></td>
<td><p>-0.001</p></td>
</tr>
<tr class="row-even"><td><p>0.95</p></td>
<td><p>14.659%</p></td>
<td><p>14.578%</p></td>
<td><p>-0.001</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>14.576%</p></td>
<td><p>14.498%</p></td>
<td><p>-0.001</p></td>
</tr>
<tr class="row-even"><td><p>1.05</p></td>
<td><p>14.473%</p></td>
<td><p>14.402%</p></td>
<td><p>-0.001</p></td>
</tr>
<tr class="row-odd"><td><p>1.1</p></td>
<td><p>14.319%</p></td>
<td><p>14.261%</p></td>
<td><p>-0.001</p></td>
</tr>
<tr class="row-even"><td><p>1.15</p></td>
<td><p>14.041%</p></td>
<td><p>14.004%</p></td>
<td><p>-0.001</p></td>
</tr>
<tr class="row-odd"><td><p>1.2</p></td>
<td><p>13.475%</p></td>
<td><p>13.475%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>1.25</p></td>
<td><p>12.756%</p></td>
<td><p>12.756%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>1.3</p></td>
<td><p>12.140%</p></td>
<td><p>12.140%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>1.35</p></td>
<td><p>11.659%</p></td>
<td><p>11.659%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>1.4</p></td>
<td><p>11.355%</p></td>
<td><p>11.355%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>1.45</p></td>
<td><p>11.260%</p></td>
<td><p>11.260%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>1.5</p></td>
<td><p>11.379%</p></td>
<td><p>11.379%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>1.55</p></td>
<td><p>11.681%</p></td>
<td><p>11.681%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>1.6</p></td>
<td><p>12.115%</p></td>
<td><p>12.115%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>1.65</p></td>
<td><p>12.631%</p></td>
<td><p>12.631%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>1.7</p></td>
<td><p>13.193%</p></td>
<td><p>13.193%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>1.75</p></td>
<td><p>13.777%</p></td>
<td><p>13.777%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>1.8</p></td>
<td><p>14.367%</p></td>
<td><p>14.367%</p></td>
<td><p>0.000</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 134: Relative Spot Bump 120%: Reproducing the SABR3FORMULAPD SkewType formula.</p>
<p>Table 133: Relative Spot Bump 70%: Reproducing the SABR3FORMULAPD SkewType formula.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Strike</p></th>
<th class="head"><p>Bsvol</p></th>
<th class="head"><p>Bsvol (Re-produced)</p></th>
<th class="head"><p>Difference</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1.55</p></td>
<td><p>18.252%</p></td>
<td><p>18.363%</p></td>
<td><p>0.001</p></td>
</tr>
<tr class="row-odd"><td><p>1.6</p></td>
<td><p>18.312%</p></td>
<td><p>18.425%</p></td>
<td><p>0.001</p></td>
</tr>
<tr class="row-even"><td><p>1.65</p></td>
<td><p>18.363%</p></td>
<td><p>18.477%</p></td>
<td><p>0.001</p></td>
</tr>
<tr class="row-odd"><td><p>1.7</p></td>
<td><p>18.406%</p></td>
<td><p>18.520%</p></td>
<td><p>0.001</p></td>
</tr>
<tr class="row-even"><td><p>1.75</p></td>
<td><p>18.442%</p></td>
<td><p>18.558%</p></td>
<td><p>0.001</p></td>
</tr>
<tr class="row-odd"><td><p>1.8</p></td>
<td><p>18.473%</p></td>
<td><p>18.589%</p></td>
<td><p>0.001</p></td>
</tr>
</tbody>
</table>
</div>
<p><img alt="Figure 144: Under a 70% Relative Spot Bump." src="market/DBSMC/Fig/144.png" /></p>
<p><img alt="Figure 145: Under a 120% Relative Spot Bump." src="market/DBSMC/Fig/145.png" /></p>
<p>Figure 146: The graphs correspond with the data shown in 134 and display the reproduced Implied Volatility and the Implied Volatility obtained from DBA as a function of Strike under the spot stressed market conditions. The volatility parameters used for this test can be found in table 131.</p>
<p>We can see from tables 133 and 134 that the differences in implied volatilities is smaller than 15 basis points. Figure 144 and Figure 145 are smooth as a function of Strike, and DBA is in good agreement with the manual implementation.</p>
</section>
<section id="a-3-stress-test-long-and-short-maturities">
<h2><span class="section-number">1.3.6.3. </span>A.3 Stress test: Long and short maturities<a class="headerlink" href="#a-3-stress-test-long-and-short-maturities" title="Link to this heading">#</a></h2>
<p>In this test we check the behavior for long and short maturities: 1 week, 5 years and 30 years. We use a spot FX rate of 1.250. The volatility parameters we use for this test can be found in table 135.</p>
<p>Table 135: Volatility parameters</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>1 week</p></th>
<th class="head"><p>5 years</p></th>
<th class="head"><p>30 years</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>VOL</p></td>
<td><p>0.1</p></td>
<td><p>0.1</p></td>
<td><p>0.1</p></td>
</tr>
<tr class="row-odd"><td><p>SKEW</p></td>
<td><p>0.15</p></td>
<td><p>0.15</p></td>
<td><p>0.15</p></td>
</tr>
<tr class="row-even"><td><p>SMILE</p></td>
<td><p>0.75</p></td>
<td><p>0.75</p></td>
<td><p>0.15</p></td>
</tr>
<tr class="row-odd"><td><p>INTERPOLATIONSTART</p></td>
<td><p>0.05</p></td>
<td><p>0.05</p></td>
<td><p>0.25</p></td>
</tr>
</tbody>
</table>
</div>
<p>Reproducing the SABR3FORMULAPD SkewType formula. Current Spot is at 1.250.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Strike</p></th>
<th class="head"><p>Bsvol</p></th>
<th class="head"><p>Bsvol (Re-produced)</p></th>
<th class="head"><p>Difference</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1.16</p></td>
<td><p>10.956%</p></td>
<td><p>10.913%</p></td>
<td><p>-0.001</p></td>
</tr>
<tr class="row-odd"><td><p>1.17</p></td>
<td><p>10.956%</p></td>
<td><p>10.913%</p></td>
<td><p>-0.001</p></td>
</tr>
<tr class="row-even"><td><p>1.18</p></td>
<td><p>10.956%</p></td>
<td><p>10.913%</p></td>
<td><p>-0.001</p></td>
</tr>
<tr class="row-odd"><td><p>1.19</p></td>
<td><p>10.956%</p></td>
<td><p>10.913%</p></td>
<td><p>-0.001</p></td>
</tr>
<tr class="row-even"><td><p>1.2</p></td>
<td><p>10.956%</p></td>
<td><p>10.913%</p></td>
<td><p>-0.001</p></td>
</tr>
<tr class="row-odd"><td><p>1.21</p></td>
<td><p>10.956%</p></td>
<td><p>10.913%</p></td>
<td><p>-0.001</p></td>
</tr>
<tr class="row-even"><td><p>1.22</p></td>
<td><p>10.963%</p></td>
<td><p>10.920%</p></td>
<td><p>-0.001</p></td>
</tr>
<tr class="row-odd"><td><p>1.23</p></td>
<td><p>10.981%</p></td>
<td><p>10.938%</p></td>
<td><p>-0.001</p></td>
</tr>
<tr class="row-even"><td><p>1.24</p></td>
<td><p>11.010%</p></td>
<td><p>10.967%</p></td>
<td><p>-0.001</p></td>
</tr>
<tr class="row-odd"><td><p>1.25</p></td>
<td><p>11.050%</p></td>
<td><p>11.007%</p></td>
<td><p>-0.001</p></td>
</tr>
<tr class="row-even"><td><p>1.26</p></td>
<td><p>11.100%</p></td>
<td><p>11.057%</p></td>
<td><p>-0.001</p></td>
</tr>
<tr class="row-odd"><td><p>1.27</p></td>
<td><p>11.160%</p></td>
<td><p>11.117%</p></td>
<td><p>-0.001</p></td>
</tr>
<tr class="row-even"><td><p>1.28</p></td>
<td><p>11.229%</p></td>
<td><p>11.185%</p></td>
<td><p>-0.001</p></td>
</tr>
<tr class="row-odd"><td><p>1.29</p></td>
<td><p>11.247%</p></td>
<td><p>11.223%</p></td>
<td><p>-0.001</p></td>
</tr>
<tr class="row-even"><td><p>1.3</p></td>
<td><p>11.247%</p></td>
<td><p>11.223%</p></td>
<td><p>-0.001</p></td>
</tr>
<tr class="row-odd"><td><p>1.31</p></td>
<td><p>11.247%</p></td>
<td><p>11.223%</p></td>
<td><p>-0.001</p></td>
</tr>
<tr class="row-even"><td><p>1.32</p></td>
<td><p>11.247%</p></td>
<td><p>11.223%</p></td>
<td><p>-0.001</p></td>
</tr>
<tr class="row-odd"><td><p>1.33</p></td>
<td><p>11.247%</p></td>
<td><p>11.223%</p></td>
<td><p>-0.001</p></td>
</tr>
<tr class="row-even"><td><p>1.34</p></td>
<td><p>11.247%</p></td>
<td><p>11.223%</p></td>
<td><p>-0.001</p></td>
</tr>
<tr class="row-odd"><td><p>1.35</p></td>
<td><p>11.247%</p></td>
<td><p>11.223%</p></td>
<td><p>-0.001</p></td>
</tr>
<tr class="row-even"><td><p>1.36</p></td>
<td><p>11.247%</p></td>
<td><p>11.223%</p></td>
<td><p>-0.001</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 136: Maturity 1 week.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Strike</p></th>
<th class="head"><p>Bsvol</p></th>
<th class="head"><p>Bsvol (Re-produced)</p></th>
<th class="head"><p>Difference</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0.65</p></td>
<td><p>24.522%</p></td>
<td><p>24.522%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>0.7</p></td>
<td><p>22.863%</p></td>
<td><p>22.863%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>0.75</p></td>
<td><p>21.296%</p></td>
<td><p>21.296%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>0.8</p></td>
<td><p>19.811%</p></td>
<td><p>19.811%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>0.85</p></td>
<td><p>18.401%</p></td>
<td><p>18.401%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>0.9</p></td>
<td><p>17.065%</p></td>
<td><p>17.065%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>0.95</p></td>
<td><p>15.804%</p></td>
<td><p>15.804%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>14.630%</p></td>
<td><p>14.630%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>1.05</p></td>
<td><p>13.567%</p></td>
<td><p>13.567%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>1.1</p></td>
<td><p>12.660%</p></td>
<td><p>12.660%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>1.15</p></td>
<td><p>11.990%</p></td>
<td><p>11.990%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>1.2</p></td>
<td><p>11.659%</p></td>
<td><p>11.659%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>1.25</p></td>
<td><p>11.736%</p></td>
<td><p>11.736%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>1.3</p></td>
<td><p>12.175%</p></td>
<td><p>12.175%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>1.35</p></td>
<td><p>12.850%</p></td>
<td><p>12.850%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>1.4</p></td>
<td><p>13.645%</p></td>
<td><p>13.645%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>1.45</p></td>
<td><p>14.488%</p></td>
<td><p>14.488%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>1.5</p></td>
<td><p>15.341%</p></td>
<td><p>15.341%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>1.55</p></td>
<td><p>16.184%</p></td>
<td><p>16.183%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>1.6</p></td>
<td><p>17.007%</p></td>
<td><p>17.007%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>1.65</p></td>
<td><p>17.806%</p></td>
<td><p>17.806%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>1.7</p></td>
<td><p>18.580%</p></td>
<td><p>18.580%</p></td>
<td><p>0.000</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 137: Maturity 5 years.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Strike</p></th>
<th class="head"><p>BSvol</p></th>
<th class="head"><p>Bsvol (Re-produced)</p></th>
<th class="head"><p>Difference</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0.6</p></td>
<td><p>12.480%</p></td>
<td><p>12.474%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>0.7</p></td>
<td><p>12.480%</p></td>
<td><p>12.474%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>0.8</p></td>
<td><p>12.457%</p></td>
<td><p>12.454%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>0.9</p></td>
<td><p>12.276%</p></td>
<td><p>12.276%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>12.163%</p></td>
<td><p>12.163%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>1.1</p></td>
<td><p>12.125%</p></td>
<td><p>12.125%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>1.2</p></td>
<td><p>12.146%</p></td>
<td><p>12.146%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>1.3</p></td>
<td><p>12.214%</p></td>
<td><p>12.214%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>1.4</p></td>
<td><p>12.315%</p></td>
<td><p>12.315%</p></td>
<td><p>0.000</p></td>
</tr>
</tbody>
</table>
</div>
<p><img alt="Figure 147: The graph displays the reproduced Implied Volatility and the DBA Implied Volatility as a function of Strike. The volatility parameters we use for this test can be found in table 135." src="market/DBSMC/Fig/147.png" /></p>
<p>Figure 147 confirm that the the DBA Implied Volatilities are reproduced by the manual implementation of the SABR3FORMULAPD SkewType formula up to the difference s smaller than 15 basis points.</p>
<p>We can see from tables 136, 137 and 138 and figure 147 that the difference in implied volatilities is smaller than 15 basis points.</p>
</section>
<section id="a-4-stress-test-sabr-parameters">
<h2><span class="section-number">1.3.6.4. </span>A.4 Stress test: SABR parameters<a class="headerlink" href="#a-4-stress-test-sabr-parameters" title="Link to this heading">#</a></h2>
<p>In this test the SABR skew and smile parameters at the 1 year maturity are stressed. The values StressedSkew = InitialSkew x 4 = 0.6, StressedSmile = InitialSmile x 2 = 1.5 are chosen. The current FX spot rate is 1.250. The volatility parameters used for this test are summarized in table 139.</p>
<p>Table 139: Volatility parameters used for the SABR parameter stress tests.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>1 year</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>VOL</p></td>
<td><p>0.1</p></td>
</tr>
<tr class="row-odd"><td><p>SKEW</p></td>
<td><p>0.6</p></td>
</tr>
<tr class="row-even"><td><p>SMILE</p></td>
<td><p>1.5</p></td>
</tr>
<tr class="row-odd"><td><p>INTERPOLATIONSTART</p></td>
<td><p>0.05</p></td>
</tr>
</tbody>
</table>
</div>
<p>We can see from table 140 and figure 148 that the difference in implied volatilities is smaller than 15 basis points.</p>
<p>Additional checks were performed on the SABR parameters one by one using table 131 as a base, and changing the parameters VOL in (0.2, 0.4, 0.6, 0.8, 1), SMILE in (0.3, 0.9, 1.2) and SKEW in (0.15, 0.5) for 1 year maturity. In all tests we checked that the maximum difference in implied volatility is always smaller than 15 basis points. In all cases the tests pass.</p>
<p>Table 141: Maximum Implied Volatility difference for different values of parameters</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>VOL</p></th>
<th class="head"><p>Diff</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0.2</p></td>
<td><p>0.02%</p></td>
</tr>
<tr class="row-odd"><td><p>0.4</p></td>
<td><p>0.00%</p></td>
</tr>
<tr class="row-even"><td><p>0.6</p></td>
<td><p>0.00%</p></td>
</tr>
<tr class="row-odd"><td><p>0.8</p></td>
<td><p>0.00%</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>0.00%</p></td>
</tr>
</tbody>
</table>
</div>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>SMILE</p></th>
<th class="head"><p>Diff</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0.3</p></td>
<td><p>0.01%</p></td>
</tr>
<tr class="row-odd"><td><p>0.9</p></td>
<td><p>0.10%</p></td>
</tr>
<tr class="row-even"><td><p>1.2</p></td>
<td><p>0.10%</p></td>
</tr>
</tbody>
</table>
</div>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>SKEW</p></th>
<th class="head"><p>Diff</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0.15</p></td>
<td><p>0.09%</p></td>
</tr>
<tr class="row-odd"><td><p>0.5</p></td>
<td><p>0.04%</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="a-5-stress-test-flat-volatility">
<h2><span class="section-number">1.3.6.5. </span>A.5 Stress test: Flat volatility<a class="headerlink" href="#a-5-stress-test-flat-volatility" title="Link to this heading">#</a></h2>
<p>In this test we study the SABR3FORMULAPD SkewType formula in the limit of Flat Volatility at the 1 year maturity. In order to achieve this we set the smile and skew parameters to very small values (effectively zero). The parameters we use for this test can be found in table 142. We can see from table 143 that the difference in implied volatilities is smaller than 15 basis points.</p>
</section>
<section id="b-fx-sabr3formulapd-vs-non-parametric-interpolation-and-extrapolation-retired">
<h2><span class="section-number">1.3.6.6. </span>B FX SABR3FORMULAPD vs non-parametric interpolation and extrapolation: (retired)<a class="headerlink" href="#b-fx-sabr3formulapd-vs-non-parametric-interpolation-and-extrapolation-retired" title="Link to this heading">#</a></h2>
<p>In this section we perform validation of the parametric implied volatility of the DBSMC-RateDeterministic_FXMarket model which is triggered when a MarketVol with InputType=PARAMETRICVOL and SkewType=SABR3FORMULAPD. Specifically, we</p>
<p><img alt="Figure 148: The graph displays the reproduced Im-plied Volatility and the one from DBA as a function of Strike with Stressed parameters. The volatility parameters we use for this test can be found in table 139." src="market/DBSMC/Fig/148.png" /></p>
<p>Table 140: SABR parameter Stress testing: Repro-ducing the SABR3FORMULAPD SkewType formula. The volatility parameters we use for this test can be found in table 139.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Strike</p></th>
<th class="head"><p>Bsvol</p></th>
<th class="head"><p>Bsvol (Reproduced)</p></th>
<th class="head"><p>Difference</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0.7</p></td>
<td><p>22.166%</p></td>
<td><p>22.036%</p></td>
<td><p>-0.001</p></td>
</tr>
<tr class="row-odd"><td><p>0.75</p></td>
<td><p>21.215%</p></td>
<td><p>21.110%</p></td>
<td><p>-0.001</p></td>
</tr>
<tr class="row-even"><td><p>0.8</p></td>
<td><p>20.122%</p></td>
<td><p>20.042%</p></td>
<td><p>-0.001</p></td>
</tr>
<tr class="row-odd"><td><p>0.85</p></td>
<td><p>18.874%</p></td>
<td><p>18.819%</p></td>
<td><p>-0.000</p></td>
</tr>
<tr class="row-even"><td><p>0.9</p></td>
<td><p>17.456%</p></td>
<td><p>17.424%</p></td>
<td><p>-0.000</p></td>
</tr>
<tr class="row-odd"><td><p>0.95</p></td>
<td><p>15.848%</p></td>
<td><p>15.836%</p></td>
<td><p>-0.000</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>14.078%</p></td>
<td><p>14.078%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>1.05</p></td>
<td><p>12.382%</p></td>
<td><p>12.382%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>1.1</p></td>
<td><p>10.865%</p></td>
<td><p>10.865%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>1.15</p></td>
<td><p>9.795%</p></td>
<td><p>9.795%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>1.2</p></td>
<td><p>9.913%</p></td>
<td><p>9.913%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>1.25</p></td>
<td><p>11.544%</p></td>
<td><p>11.544%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>1.3</p></td>
<td><p>13.696%</p></td>
<td><p>13.696%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>1.35</p></td>
<td><p>15.832%</p></td>
<td><p>15.832%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>1.4</p></td>
<td><p>17.848%</p></td>
<td><p>17.848%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>1.45</p></td>
<td><p>19.737%</p></td>
<td><p>19.737%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>1.5</p></td>
<td><p>21.510%</p></td>
<td><p>21.510%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>1.55</p></td>
<td><p>23.181%</p></td>
<td><p>23.181%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>1.6</p></td>
<td><p>24.761%</p></td>
<td><p>24.761%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>1.65</p></td>
<td><p>26.261%</p></td>
<td><p>26.261%</p></td>
<td><p>0.000</p></td>
</tr>
</tbody>
</table>
</div>
<p>investigate the extrapolation-corrected SABR parametrization. Note that the SABR3FORMULAPD configuration is retired, and this testing section is kept solely for legacy purposes.</p>
<p>The DBSMC-RateDeterministic_FXMarket model comprises two setups which are approved for use. In the non-parametric setup, the implied volatility surface is constructed by constant forward volatility interpolation in the time direction followed by a natural cubic interpolation in the strike direction. In the parametric setup, the pre-calibrated SABR parameters (ATM VOL, ρ and ν) are given in the MARKETVOL and used to construct a modified SABR implied volatility surface. While one would not expect these two different interpolation methods to produce exactly the same prices, it is important for model integrity that the prices are not larger than the typical bid-ask spread. In this section we provide some of the results from our testing and explain our methodology.</p>
<p>Calibration of the SABR model to the market is performed by the front office. Unlike the non-parametric interpolation method, the pricing dictionaries which utilize the SABR3FORMULAPD parametric method only contain the pre-calibrated SABR parameters and not the market data itself. Since the non-parametric method requires market data, some way of comparing the two methods is required.</p>
<p>We now describe our approach. To avoid calibrating the SABR model, which is a front office responsibility, we begin with a pre-calibrated SABR model and extract from it dummy market data. That is we calculate the implied volatilities for various strikes and maturities and then feed those calculated implied volatilities into a MARKETVOL object which we then use to price with the</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>1 year</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>VOL</p></td>
<td><p>0.1</p></td>
</tr>
<tr class="row-odd"><td><p>SKEW</p></td>
<td><p>0.01</p></td>
</tr>
<tr class="row-even"><td><p>SMILE</p></td>
<td><p>0.01</p></td>
</tr>
<tr class="row-odd"><td><p>INTERPOLATIONSTART</p></td>
<td><p>0.05</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 142: Volatility parameters</p>
<p>non-parametric method. We use the strikes with Delta: 10C, 25C, DN, 25P, 10P, and maturities: 3M, 6M, 9M, 12M, 15M, 18M. It should be noted that this dummy market data may not produce the original SABR parameters if it were to be refit using the SABR model calibration.</p>
<p>In our example, we consider the price of a 6 month FX call option on the USDEUR at the valuation date 3/5/2013. We use the parameters shown in Table 144. We configure the non-parametric MARKETVOL to the recommended setting of VolModel=CONSTANT_LV, InterpolationType=NATURALCUBIC and use the default extrapolation method. The prices and implied</p>
<p>Table 144: Volatility parameters.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>1 year</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>VOL</p></td>
<td><p>0.1</p></td>
</tr>
<tr class="row-odd"><td><p>SKEW</p></td>
<td><p>0.15</p></td>
</tr>
<tr class="row-even"><td><p>SMILE</p></td>
<td><p>1.4</p></td>
</tr>
<tr class="row-odd"><td><p>INTERPOLATIONSTART</p></td>
<td><p>0.05</p></td>
</tr>
</tbody>
</table>
</div>
<p>volatilities for the two methods can then be compared and are shown in Figure 150.</p>
<p>Figure 149: Flat Volatility test for the SABR3FORMULAPD SkewType formula. Corresponding data shown on the right. Differences between the manual and DBA implementations are immaterial.</p>
<p>Table 143: Flat SABR: Reproducing the SABR3FORMULAPD SkewType formula. The volatility parameters we use for this test can be found in table 142.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Strike</p></th>
<th class="head"><p>Bsvol</p></th>
<th class="head"><p>Bsvol (Reproduced)</p></th>
<th class="head"><p>Difference</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0.7</p></td>
<td><p>11.356%</p></td>
<td><p>11.356%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>0.745</p></td>
<td><p>11.356%</p></td>
<td><p>11.356%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>0.79</p></td>
<td><p>11.356%</p></td>
<td><p>11.356%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>0.835</p></td>
<td><p>11.356%</p></td>
<td><p>11.356%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>0.88</p></td>
<td><p>11.356%</p></td>
<td><p>11.356%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>0.925</p></td>
<td><p>11.356%</p></td>
<td><p>11.356%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>0.97</p></td>
<td><p>11.356%</p></td>
<td><p>11.356%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>1.015</p></td>
<td><p>11.356%</p></td>
<td><p>11.356%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>1.06</p></td>
<td><p>11.356%</p></td>
<td><p>11.356%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>1.105</p></td>
<td><p>11.356%</p></td>
<td><p>11.356%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>1.15</p></td>
<td><p>11.356%</p></td>
<td><p>11.356%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>1.195</p></td>
<td><p>11.356%</p></td>
<td><p>11.356%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>1.24</p></td>
<td><p>11.356%</p></td>
<td><p>11.356%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>1.285</p></td>
<td><p>11.356%</p></td>
<td><p>11.356%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>1.33</p></td>
<td><p>11.356%</p></td>
<td><p>11.356%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>1.375</p></td>
<td><p>11.357%</p></td>
<td><p>11.357%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>1.42</p></td>
<td><p>11.357%</p></td>
<td><p>11.357%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>1.465</p></td>
<td><p>11.357%</p></td>
<td><p>11.357%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>1.51</p></td>
<td><p>11.357%</p></td>
<td><p>11.358%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-odd"><td><p>1.555</p></td>
<td><p>11.357%</p></td>
<td><p>11.358%</p></td>
<td><p>0.000</p></td>
</tr>
<tr class="row-even"><td><p>1.6</p></td>
<td><p>11.357%</p></td>
<td><p>11.358%</p></td>
<td><p>0.000</p></td>
</tr>
</tbody>
</table>
</div>
<p><img alt="Figure 150: Comparison of the call price and implied volatility using the parametric SABR3FROMULAPD method and the non-parametric interpolation method which uses constant forward volatility in the time direction and natural cubic interpolation in the strike direction. The purple triangular markers indicate from left to right the positions of the volatility pegs at the Delta: 10C, 25C, DN, 25P, 10P. We see that within the interpolation region both the prices and the implied volatilities are in good agreement." src="market/DBSMC/Fig/150.png" /></p>
<p>Within the interpolation region both the prices and the implied volatilities are in good agreement. However, the methods differ significantly in the extrapolation region. Nevertheless, since the prices approach zero in this regime, the differences are small in absolute terms. For example, at strike of 1.5, the percentage difference can be as much as 11% but this represents less than a 5bps difference in price, well below the bid-ask spread.</p>
<p>Perhaps a greater point of concern is that the non-parametric method displays arbitrage in the extrapolation region as can be been by the negative density in Figure 153.</p>
<p><img alt="Figure 151: Comparison of the implied volatility." src="market/DBSMC/Fig/151.png" /></p>
<p><img alt="Figure 152: Comparison of the call price. We get very good agreement with differences" src="market/DBSMC/Fig/152.png" /></p>
<p>Figure 153: Comparison of the CDF and PDF using the parametric SABR3FROMULAPD method and the non-parametric interpolation method which uses constant forward volatility in the time direction, natural cubic interpolation in the strike direction and the default extrapolation method. The green triangular markers indicate from left to right the positions of the volatility time pegs at the Delta: 10C, 25C, DN, 25P, 10P. We see arbitrage in the extrapolation region to the right of the smile.</p>
<p>This behavior persists and even appears on both sides of the smile (and becomes more pronounced) when we change the extrapolation method to ExtrapolationInputMode:=SPACE (Section 2.6.2.3) as shown in Figure 156.</p>
<p><img alt="Figure 154: Comparison of the implied volatility." src="market/DBSMC/Fig/154.png" /></p>
<p><img alt="Figure 155: Comparison of the call price. We get very good agreement with differences" src="market/DBSMC/Fig/155.png" /></p>
<p>Figure 156: Comparison of the CDF and PDF using the parametric SABR3FROMULAPD method and the non-parametric interpolation method which uses constant forward volatility in the time direction, natural cubic interpolation in the strike direction and the extrapolation method with ExtrapolationInputMode:=SPACE. The green triangular markers indicate from left to right the positions of the volatility time pegs at the Delta: 10C, 25C, DN, 25P, 10P. We see arbitrage in the extrapolation region to the right of the smile.</p>
<p>It is important to note that these arbitrage opportunities occur just outside of the interpolation region and are therefore potentially realizable risks of the non-parametric model.</p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../DBX-ShortRate%20and%20FX%20Skew%20Stochastic%20Volatility%20models/index.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title"><span class="section-number">1.4. </span>DBX-Short Rate and FX Skew StochVol Guides</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="index.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title"><span class="section-number">1.3. </span>DBSMC Rate terministic FX Market Guides</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2023-2025, PRETORIAN Development Team
            </div>
            Made with 
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/pretorian-project" aria-label="GitHub">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
            </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">1.3.1. FX Market Model Validation Document</a><ul>
<li><a class="reference internal" href="#executive-summary">1.3.1.1. 1 Executive Summary</a><ul>
<li><a class="reference internal" href="#summary-of-main-validation-results">1.3.1.1.1. 1.1 Summary of main validation results</a></li>
<li><a class="reference internal" href="#limitations-and-validation-findings-overview">1.3.1.1.2. 1.2 Limitations and Validation Findings Overview</a><ul>
<li><a class="reference internal" href="#findings">1.3.1.1.2.1. 1.2.1 Findings</a></li>
<li><a class="reference internal" href="#model-limitations">1.3.1.1.2.2. 1.2.2 Model Limitations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#control-overview">1.3.1.1.3. 1.3 Control Overview</a></li>
</ul>
</li>
<li><a class="reference internal" href="#introduction-to-model-and-validation">1.3.1.2. 2 Introduction to Model and Validation</a><ul>
<li><a class="reference internal" href="#validation-scope">1.3.1.2.1. 2.1 Validation Scope</a></li>
<li><a class="reference internal" href="#product-description">1.3.1.2.2. 2.2 Product Description</a></li>
<li><a class="reference internal" href="#product-grouping">1.3.1.2.3. 2.3 Product Grouping</a></li>
<li><a class="reference internal" href="#model-inventories">1.3.1.2.4. 2.4 Model Inventories</a></li>
<li><a class="reference internal" href="#model-description">1.3.1.2.5. 2.5 Model Description</a><ul>
<li><a class="reference internal" href="#model-documentation">1.3.1.2.5.1. 2.5.1 Model Documentation</a></li>
<li><a class="reference internal" href="#model-assumptions">1.3.1.2.5.2. 2.5.2 Model Assumptions</a></li>
<li><a class="reference internal" href="#model-inputs">1.3.1.2.5.3. 2.5.3 Model Inputs</a><ul>
<li><a class="reference internal" href="#market-inputs">1.3.1.2.5.3.1. 2.5.3.1 Market Inputs</a></li>
<li><a class="reference internal" href="#model-parameters">1.3.1.2.5.3.2. 2.5.3.2 Model parameters</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#theoretical-overview">1.3.1.2.6. 2.6 Theoretical Overview</a><ul>
<li><a class="reference internal" href="#implied-volatilities-for-fx-derivatives">1.3.1.2.6.1. 2.6.1 Implied volatilities for FX Derivatives</a></li>
<li><a class="reference internal" href="#non-parametric-implied-volatilities-interpolation-and-extrapolation-methods">1.3.1.2.6.2. 2.6.2 Non-parametric implied volatilities: Interpolation and Extrapolation methods</a><ul>
<li><a class="reference internal" href="#interpolation-in-the-time-direction">1.3.1.2.6.2.1. 2.6.2.1 Interpolation in the time direction</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#interpolation-in-the-strike-direction">1.3.1.2.7. 2.6.2 Interpolation in the strike direction</a></li>
<li><a class="reference internal" href="#extrapolation">1.3.1.2.8. 2.6.2.3 Extrapolation</a></li>
<li><a class="reference internal" href="#parametric-implied-volatility-piv-and-piv-autofit">1.3.1.2.9. 2.6.3 Parametric Implied Volatility (PIV) and PIV AutoFit</a><ul>
<li><a class="reference internal" href="#skewtype-sa4">1.3.1.2.9.1. 2.6.3.1 SkewType SA4</a></li>
<li><a class="reference internal" href="#skewtype-la6gd">1.3.1.2.9.2. 2.6.3.2 SkewType LA6GD</a></li>
<li><a class="reference internal" href="#arbitrage-free-piv-surfaces">1.3.1.2.9.3. 2.6.3.3 Arbitrage Free PIV Surfaces</a></li>
<li><a class="reference internal" href="#piv-autofit">1.3.1.2.9.4. 2.6.3.4 PIV AutoFit</a></li>
</ul>
</li>
<li><a class="reference internal" href="#deltatype">1.3.1.2.10. 2.6.4 DeltaType</a></li>
<li><a class="reference internal" href="#sabr3formulapd-retired-configuration">1.3.1.2.11. 2.6.5 SABR3FORMULAPD (retired configuration)</a><ul>
<li><a class="reference internal" href="#main-equations">1.3.1.2.11.1. 2.6.5.1 Main equations</a></li>
<li><a class="reference internal" href="#analytic-approximation">1.3.1.2.11.2. 2.6.5.2 Analytic approximation</a></li>
<li><a class="reference internal" href="#sabr-parameters">1.3.1.2.11.3. 2.6.5.3 SABR parameters</a></li>
<li><a class="reference internal" href="#region-of-applicability">1.3.1.2.11.4. 2.6.5.4 Region of applicability</a></li>
<li><a class="reference internal" href="#id1">1.3.1.2.11.5. 2.6.5.5 Extrapolation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#test-methods">1.3.1.2.12. 2.6.6 Test methods</a><ul>
<li><a class="reference internal" href="#forward-variance">1.3.1.2.12.1. 2.6.6.1 Forward variance</a></li>
<li><a class="reference internal" href="#put-call-parity">1.3.1.2.12.2. 2.6.6.2 Put-Call parity</a></li>
<li><a class="reference internal" href="#breeden-litzenberger-analysis">1.3.1.2.12.3. 2.6.6.3 Breeden-Litzenberger analysis</a></li>
</ul>
</li>
<li><a class="reference internal" href="#product-pricing-theory">1.3.1.2.13. 2.6.7 Product pricing theory</a><ul>
<li><a class="reference internal" href="#fxgeometricbasketopt">1.3.1.2.13.1. 2.6.7.1 FXGeometricBasketOpt</a></li>
<li><a class="reference internal" href="#fxbasketopt-retired-product">1.3.1.2.13.2. 2.6.7.2 FXBasketOpt (RETIRED PRODUCT)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#feeder-and-servicer-models">1.3.1.2.14. 2.7 Feeder and Servicer Models</a></li>
<li><a class="reference internal" href="#model-change-description">1.3.1.2.15. 2.8 Model Change Description</a></li>
<li><a class="reference internal" href="#validation-outline">1.3.1.2.16. 2.9 Validation Outline</a></li>
<li><a class="reference internal" href="#description-of-eod-testing">1.3.1.2.17. 2.10 Description of EOD Testing</a></li>
<li><a class="reference internal" href="#description-of-ccar-scenarios-and-testing">1.3.1.2.18. 2.11 Description of CCAR Scenarios and Testing</a></li>
<li><a class="reference internal" href="#description-of-irrbb-scenarios-and-testing">1.3.1.2.19. 2.12 Description of IRRBB scenarios and testing</a></li>
<li><a class="reference internal" href="#description-of-multivar-testing">1.3.1.2.20. 2.13 Description of MultiVar testing</a></li>
<li><a class="reference internal" href="#risk-factor-tables">1.3.1.2.21. 2.14 Risk Factor Tables</a></li>
<li><a class="reference internal" href="#engagement-process">1.3.1.2.22. 2.15 Engagement Process</a></li>
<li><a class="reference internal" href="#list-of-validation-findings">1.3.1.2.23. 2.16 List of Validation Findings</a></li>
<li><a class="reference internal" href="#list-of-validation-observation">1.3.1.2.24. 2.17 List of Validation Observation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#assessment-of-approach-conceptual-soundness-and-implementation">1.3.1.3. 3 Assessment of Approach, Conceptual Soundness and Implementation</a><ul>
<li><a class="reference internal" href="#assessment-of-development-and-modelling-data">1.3.1.3.1. 3.1 Assessment of Development and Modelling Data</a></li>
<li><a class="reference internal" href="#assessment-of-methodology-and-calibration">1.3.1.3.2. 3.2 Assessment of Methodology and Calibration</a></li>
<li><a class="reference internal" href="#assessment-of-model-assumptions-and-limitations">1.3.1.3.3. 3.3 Assessment of Model Assumptions and Limitations</a><ul>
<li><a class="reference internal" href="#assessment-of-model-assumptions">1.3.1.3.3.1. 3.3.1 Assessment of Model Assumptions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#expert-judgements-in-the-model">1.3.1.3.4. 3.4 Expert Judgements in the Model</a></li>
<li><a class="reference internal" href="#assessment-of-model-documentation">1.3.1.3.5. 3.5 Assessment of Model Documentation</a></li>
<li><a class="reference internal" href="#it-implementation-testing">1.3.1.3.6. 3.6 IT Implementation testing</a></li>
</ul>
</li>
<li><a class="reference internal" href="#independent-validation-testing">1.3.1.4. 4 Independent Validation Testing</a><ul>
<li><a class="reference internal" href="#volatility-interpolation-in-the-time-direction">1.3.1.4.1. 4.1 Volatility interpolation in the time direction</a><ul>
<li><a class="reference internal" href="#flat-forward-volatility-interpolation">1.3.1.4.1.1. 4.1.1 Flat forward volatility interpolation</a></li>
<li><a class="reference internal" href="#other-interpolation-methods">1.3.1.4.1.2. 4.1.2 Other interpolation methods</a></li>
</ul>
</li>
<li><a class="reference internal" href="#volatility-interpolation-in-the-strike-direction">1.3.1.4.2. 4.2 Volatility interpolation in the strike direction</a><ul>
<li><a class="reference internal" href="#cubic-interpolation">1.3.1.4.2.1. 4.2.1 Cubic interpolation</a></li>
<li><a class="reference internal" href="#impact-of-interpolation-method">1.3.1.4.2.2. 4.2.2 Impact of interpolation method</a></li>
</ul>
</li>
<li><a class="reference internal" href="#order-of-time-and-strike-interpolation">1.3.1.4.3. 4.2.3 Order of time and strike interpolation</a></li>
<li><a class="reference internal" href="#effect-of-volatility-day-weights">1.3.1.4.4. 4.3 Effect of volatility day weights</a><ul>
<li><a class="reference internal" href="#volatility-dayweight-calculations">1.3.1.4.4.1. 4.3.1 Volatility dayweight calculations</a></li>
<li><a class="reference internal" href="#test-for-negative-forward-variance">1.3.1.4.4.2. 4.3.2 Test for negative forward variance</a></li>
<li><a class="reference internal" href="#dayweight-comparison">1.3.1.4.4.3. 4.3.3 Dayweight comparison</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#piv-autofit-testing">1.3.1.5. 4.4 PIV AutoFit Testing</a><ul>
<li><a class="reference internal" href="#eod-implied-volatility-surface">1.3.1.5.1. 4.4.1 EOD Implied Volatility Surface</a></li>
<li><a class="reference internal" href="#robustness-of-piv-autofitting-under-stressed-market-scenarios-cvx-shifts">1.3.1.5.2. 4.4.3 Robustness of PIV Autofitting under stressed Market scenarios - CVX shifts</a></li>
<li><a class="reference internal" href="#robustness-of-piv-autofitting-under-stressed-market-scenarios-rr-shifts">1.3.1.5.3. 4.4.4 Robustness of PIV Autofitting under stressed Market scenarios - RR shifts</a></li>
</ul>
</li>
<li><a class="reference internal" href="#product-testing-fxeuroopt">1.3.1.6. 4.5 Product testing: FXEuroOpt</a><ul>
<li><a class="reference internal" href="#eod-testing-price-and-risk-sensitivities">1.3.1.6.1. 4.5.1 EOD testing: Price and Risk Sensitivities</a><ul>
<li><a class="reference internal" href="#stress-test-fx-spot-shifts-the-pv-and-risk-sensitivity-profiles-under-fx-spot-shifts-as-shown-in-figure-44-are-well-behaved-and-as-expected">1.3.1.6.1.1. 4.5.1.1 Stress test: FX Spot Shifts The PV and risk sensitivity profiles under FX spot shifts (as shown in Figure 44) are well behaved and as expected.</a></li>
<li><a class="reference internal" href="#stress-test-fx-volatility-shifts-the-pv-and-risk-sensitivity-profiles-under-fx-volatility-shifts-as-shown-in-figures-45-are-well-behaved-and-as-expected">1.3.1.6.1.2. 4.5.1.2 Stress test: FX Volatility Shifts The PV and risk sensitivity profiles under FX volatility shifts (as shown in Figures 45) are well behaved and as expected.</a></li>
<li><a class="reference internal" href="#stress-test-domestic-ir-curve-shifts-the-pv-and-risk-sensitivity-profiles-under-domestic-curve-shifts-as-shown-in-figures-46-are-well-behaved-and-as-expected">1.3.1.6.1.3. 4.5.1.3 Stress test: Domestic IR Curve Shifts The PV and risk sensitivity profiles under domestic curve shifts (as shown in Figures 46) are well behaved and as expected.</a></li>
<li><a class="reference internal" href="#stress-test-foreign-ir-curve-shifts-the-pv-and-risk-sensitivity-profiles-under-foreign-curve-shifts-as-shown-in-figures-47-are-well-behaved-and-as-expected">1.3.1.6.1.4. 4.5.1.4 Stress test: Foreign IR Curve Shifts The PV and risk sensitivity profiles under foreign curve shifts (as shown in Figures 47) are well behaved and as expected.</a></li>
</ul>
</li>
<li><a class="reference internal" href="#irrbb-testing">1.3.1.6.2. 4.5.2 IRRBB Testing</a><ul>
<li><a class="reference internal" href="#scenario-curves">1.3.1.6.2.1. 4.5.2.1 Scenario Curves</a></li>
<li><a class="reference internal" href="#stress-testing">1.3.1.6.2.2. 4.5.2.2 Stress Testing</a></li>
</ul>
</li>
<li><a class="reference internal" href="#ccar-testing">1.3.1.6.3. 4.5.3 CCAR Testing</a><ul>
<li><a class="reference internal" href="#id2">1.3.1.6.3.1. 4.5.3.1 Scenario Curves</a></li>
<li><a class="reference internal" href="#id3">1.3.1.6.3.2. 4.5.3.2 Stress Testing</a></li>
</ul>
</li>
<li><a class="reference internal" href="#multivar-testing">1.3.1.6.4. 4.5.4 MultiVaR Testing</a></li>
</ul>
</li>
<li><a class="reference internal" href="#product-testing-fxdigitalopt">1.3.1.7. 4.6 Product testing: FXDigitalOpt</a><ul>
<li><a class="reference internal" href="#stress-test-fx-volatility-shifts">1.3.1.7.1. 4.6.1.2 Stress test: FX Volatility Shifts</a></li>
<li><a class="reference internal" href="#stress-test-domestic-ir-curve-shifts">1.3.1.7.2. 4.6.1.3 Stress test: Domestic IR Curve Shifts</a></li>
<li><a class="reference internal" href="#stress-test-foreign-ir-curve-shifts">1.3.1.7.3. 4.6.1.4 Stress test: Foreign IR Curve Shifts</a></li>
<li><a class="reference internal" href="#id4">1.3.1.7.4. 4.6.2 IRRBB Testing</a><ul>
<li><a class="reference internal" href="#id5">1.3.1.7.4.1. 4.6.2.1 Scenario Curves</a></li>
<li><a class="reference internal" href="#id6">1.3.1.7.4.2. 4.6.2.2 Stress Testing</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id7">1.3.1.7.5. 4.6.3 CCAR Testing</a><ul>
<li><a class="reference internal" href="#id8">1.3.1.7.5.1. 4.6.3.1 Scenario Curves</a></li>
<li><a class="reference internal" href="#id9">1.3.1.7.5.2. 4.6.3.2 Stress Testing</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id10">1.3.1.7.6. 4.7.4 MultiVar Testing</a></li>
</ul>
</li>
<li><a class="reference internal" href="#model-parameter-testing">1.3.1.8. 4.8 Model Parameter Testing</a><ul>
<li><a class="reference internal" href="#issues-identified-during-the-model-parameters-review">1.3.1.8.1. 4.8.1 Issues identified during the model parameters review</a></li>
<li><a class="reference internal" href="#modelmode">1.3.1.8.2. 4.8.2 ModelMode</a></li>
<li><a class="reference internal" href="#usenewsvd">1.3.1.8.3. 4.8.3 UseNewSVD</a></li>
<li><a class="reference internal" href="#recalibcurves">1.3.1.8.4. 4.8.4 RecalibCurves</a></li>
<li><a class="reference internal" href="#calibtype">1.3.1.8.5. 4.8.5 CalibType</a></li>
<li><a class="reference internal" href="#maxiter">1.3.1.8.6. 4.8.6 MaxIter</a></li>
<li><a class="reference internal" href="#time-conventions-properties">1.3.1.8.7. 4.8.7 Time conventions properties</a></li>
<li><a class="reference internal" href="#inputmode">1.3.1.8.8. 4.8.8 InputMode</a></li>
<li><a class="reference internal" href="#skewtype">1.3.1.8.9. 4.8.9 SkewType</a><ul>
<li><a class="reference internal" href="#id11">1.3.1.8.9.1. 4.8.9.1 SkewType SA4</a></li>
<li><a class="reference internal" href="#skewtype-labgd">1.3.1.8.9.2. 4.8.9.2 SkewType LABGD</a></li>
<li><a class="reference internal" href="#skewtype-vw12">1.3.1.8.9.3. 4.8.9.3 SkewType VW12</a></li>
</ul>
</li>
<li><a class="reference internal" href="#voltermstructures-and-volparameters">1.3.1.8.10. 4.8.10 VolTermStructures and VolParameters</a></li>
<li><a class="reference internal" href="#restriketype">1.3.1.8.11. 4.8.11 RestrikeType</a></li>
<li><a class="reference internal" href="#surfacetimefloor-and-surfacetimefloormaxtime">1.3.1.8.12. 4.8.12 SurfaceTimeFloor and SurfaceTimeFloorMaxTime</a></li>
<li><a class="reference internal" href="#vw12skewcutoff">1.3.1.8.13. 4.8.13 VW12SkewCutoff</a></li>
<li><a class="reference internal" href="#fittype">1.3.1.8.14. 4.8.14 FitType</a></li>
<li><a class="reference internal" href="#targettype">1.3.1.8.15. 4.8.15 TargetType</a></li>
<li><a class="reference internal" href="#usesyntheticforwards">1.3.1.8.16. 4.8.16 UseSyntheticForwards</a></li>
<li><a class="reference internal" href="#weighting">1.3.1.8.17. 4.8.17 Weighting</a></li>
<li><a class="reference internal" href="#pivvolshifttype">1.3.1.8.18. 4.8.18 PIVVolShiftType</a></li>
<li><a class="reference internal" href="#pricinginfotype">1.3.1.8.19. 4.8.19 PricingInfoType</a></li>
<li><a class="reference internal" href="#advanced-user-parameters">1.3.1.8.20. 4.8.20 Advanced User Parameters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#testing-results-for-parametricvol-configuration">1.3.1.9. 4.8.21 Testing results for PARAMETRICVOL configuration</a><ul>
<li><a class="reference internal" href="#results-dictionary-1-weighting-notional">1.3.1.9.1. Results Dictionary_1 - Weighting = NOTIONAL</a></li>
<li><a class="reference internal" href="#results-dictionary-2-weighting-notional">1.3.1.9.2. Results Dictionary_2 - Weighting = NOTIONAL</a></li>
<li><a class="reference internal" href="#results-dictionary-3-weighting-notional">1.3.1.9.3. Results Dictionary_3 - Weighting = NOTIONAL</a></li>
<li><a class="reference internal" href="#results-dictionary-4-weighting-notional">1.3.1.9.4. Results Dictionary_4 - Weighting = NOTIONAL</a></li>
<li><a class="reference internal" href="#results-dictionary-1-weighting-veganotional">1.3.1.9.5. Results Dictionary_1 - Weighting = VEGANOTIONAL</a></li>
<li><a class="reference internal" href="#results-dictionary-2-weighting-veganotional">1.3.1.9.6. Results Dictionary_2 - Weighting = VEGANOTIONAL</a></li>
<li><a class="reference internal" href="#results-dictionary-3-weighting-veganotional">1.3.1.9.7. Results Dictionary_3 - Weighting = VEGANOTIONAL</a></li>
<li><a class="reference internal" href="#results-dictionary-4-weighting-veganotional">1.3.1.9.8. Results Dictionary_4 - Weighting = VEGANOTIONAL</a></li>
<li><a class="reference internal" href="#volparameters-and-voltermstructures">1.3.1.9.9. VolParameters and VolTermStructures:</a></li>
<li><a class="reference internal" href="#id12">1.3.1.9.10. PIVVolShiftType:</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#model-uncertainty-identification-measurement-and-management">1.3.2. 5 Model Uncertainty Identification, Measurement, and Management</a><ul>
<li><a class="reference internal" href="#model-uncertainty-and-identification">1.3.2.1. 5.1 Model Uncertainty and Identification</a></li>
<li><a class="reference internal" href="#model-uncertainty-measurement-and-management">1.3.2.2. 5.2 Model Uncertainty Measurement and Management</a></li>
</ul>
</li>
<li><a class="reference internal" href="#control-assessment">1.3.3. 6 Control Assessment</a><ul>
<li><a class="reference internal" href="#ongoing-performance-monitoring">1.3.3.1. 6.1 Ongoing Performance Monitoring</a></li>
<li><a class="reference internal" href="#data-and-process-controls">1.3.3.2. 6.2 Data and Process Controls</a><ul>
<li><a class="reference internal" href="#condition-for-use">1.3.3.2.1. 6.2.1 Condition for use</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#conclusion">1.3.4. 7 Conclusion</a><ul>
<li><a class="reference internal" href="#stress-test-parameters-ranges">1.3.4.1. 7.0.1 Stress test parameters Ranges</a></li>
<li><a class="reference internal" href="#usage-controls">1.3.4.2. 7.1 Usage controls</a></li>
<li><a class="reference internal" href="#change-control">1.3.4.3. 7.2 Change Control</a></li>
<li><a class="reference internal" href="#results-from-annual-model-review">1.3.4.4. 7.3 Results from Annual Model Review</a></li>
</ul>
</li>
<li><a class="reference internal" href="#document-change-history">1.3.5. 8 Document Change History</a><ul>
<li><a class="reference internal" href="#change-history-post-july-15-2015">1.3.5.1. 8.1 Change History Post July 15,2015</a></li>
<li><a class="reference internal" href="#change-history-prior-july-15-2015">1.3.5.2. 8.2 Change History Prior July 15,2015</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a-fx-sabr3formulapd-interpolation-and-extrapolation-retired">1.3.6. A FX SABR3FORMULAPD interpolation and extrapolation (retired)</a><ul>
<li><a class="reference internal" href="#a-1-implementation-test">1.3.6.1. A.1 Implementation test</a></li>
<li><a class="reference internal" href="#a-2-stress-test-spot-bump">1.3.6.2. A.2 Stress test: Spot bump</a></li>
<li><a class="reference internal" href="#a-3-stress-test-long-and-short-maturities">1.3.6.3. A.3 Stress test: Long and short maturities</a></li>
<li><a class="reference internal" href="#a-4-stress-test-sabr-parameters">1.3.6.4. A.4 Stress test: SABR parameters</a></li>
<li><a class="reference internal" href="#a-5-stress-test-flat-volatility">1.3.6.5. A.5 Stress test: Flat volatility</a></li>
<li><a class="reference internal" href="#b-fx-sabr3formulapd-vs-non-parametric-interpolation-and-extrapolation-retired">1.3.6.6. B FX SABR3FORMULAPD vs non-parametric interpolation and extrapolation: (retired)</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../../_static/documentation_options.js?v=454d727b"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/scripts/furo.js?v=32e29ea5"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=ab308175"></script>
    <script src="../../_static/custom.js?v=92eda4d4"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script src="../../_static/design-tabs.js?v=36754332"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "displayMath": [["$$", "$$"], ["\\[", "\\]"]], "processEscapes": true, "processEnvironments": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../_static/custom.js?v=92eda4d4"></script>
    </body>
</html>