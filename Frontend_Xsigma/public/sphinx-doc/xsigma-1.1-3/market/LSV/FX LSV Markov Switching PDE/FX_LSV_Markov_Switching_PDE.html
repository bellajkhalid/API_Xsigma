<!doctype html>
<html class="no-js" lang="en" data-content_root="../../../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="author" title="About these documents" href="../../../about.html" /><link rel="index" title="Index" href="../../../genindex.html" /><link rel="search" title="Search" href="../../../search.html" /><link rel="next" title="1.6.1.3. Local Volatility: PDE and MC" href="../Local%20Volatility%20PDE%20and%20MC/Local_Volatility_PDE_and_MC.html" /><link rel="prev" title="1.6.1.1. FX LSV Markov Switching : Monte Carlo" href="../FX%20LSV%20Markov%20Switching%20%20Monte%20Carlo/FX_LSV_Markov_Switching_Monte_Carlo.html" />

    <link rel="shortcut icon" href="../../../_static/xsigma_favicon.png"/><!-- Generated with Sphinx 7.2.6 and Furo 2023.09.10 -->
        <title>1.6.1.2. FX LSV Markov Switching : PDE - PRETORIAN Documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom.css?v=8c702e86" />
    <link rel="stylesheet" type="text/css" href="../../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo-extensions.css?v=36a5483c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom.css?v=8c702e86" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --color-brand-primary: #0066cc;
  --color-brand-content: #0066cc;
  --color-admonition-background: #f8f9fa;
  --color-sidebar-background: #f8f9fa;
  --color-sidebar-background-border: #e9ecef;
  --font-stack: system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, sans-serif;
  --font-stack--monospace: SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-brand-primary: #4da6ff;
  --color-brand-content: #4da6ff;
  --color-admonition-background: #1e1e1e;
  --color-sidebar-background: #1e1e1e;
  --color-sidebar-background-border: #404040;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-brand-primary: #4da6ff;
  --color-brand-content: #4da6ff;
  --color-admonition-background: #1e1e1e;
  --color-sidebar-background: #1e1e1e;
  --color-sidebar-background-border: #404040;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../../index.html"><div class="brand">PRETORIAN Documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../../../_static/Logo.ico" alt="Logo"/>
  </div>
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../../../_static/../../Logo.ico" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="../../../_static/../../Logo.ico" alt="Dark Logo"/>
  </div>
  
  <span class="sidebar-brand-text">PRETORIAN Documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../about.html">About</a></li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../../index.html">1. Market</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of 1. Market</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="../../ASV/index.html">1.1. Analytical Sigma Volatility (ASV) Model</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of 1.1. Analytical Sigma Volatility (ASV) Model</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/executive_summary.html">1.1.2.2.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/scope.html">1.1.2.2.2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/product_and_portfolio.html">1.1.2.2.3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/model_methodology.html">1.1.2.2.4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/implementation.html">1.1.2.2.5. Implementation and Numerical Schema</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/calibration.html">1.1.2.2.6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/risk_analysis.html">1.1.2.2.7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/testing_and_validation.html">1.1.2.2.8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/general_limitations.html">1.1.2.2.9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/model_monitoring.html">1.1.2.2.10. Model Monitoring and KPIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/user_guide.html">1.1.2.2.11. User Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/references.html">1.1.2.2.12. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/README.html">1.1.2.2.13. Analytical Sigma Volatility (ASV) Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/executive_summary.html">1.1.2.2.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/scope.html">1.1.2.2.2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/product_and_portfolio.html">1.1.2.2.3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/model_methodology.html">1.1.2.2.4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/implementation.html">1.1.2.2.5. Implementation and Numerical Schema</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/calibration.html">1.1.2.2.6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/risk_analysis.html">1.1.2.2.7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/testing_and_validation.html">1.1.2.2.8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/general_limitations.html">1.1.2.2.9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/model_monitoring.html">1.1.2.2.10. Model Monitoring and KPIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/user_guide.html">1.1.2.2.11. User Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/references.html">1.1.2.2.12. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/README.html">1.1.2.2.13. Analytical Sigma Volatility (ASV) Documentation</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../Curve%20Construction/index.html">1.2. Curve Construction and Risk Framework (NCF)</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of 1.2. Curve Construction and Risk Framework (NCF)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/executive_summary.html">1.2.2.2.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/scope.html">1.2.2.2.2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/product_and_portfolio.html">1.2.2.2.3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/model_methodology.html">1.2.2.2.4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/implementation.html">1.2.2.2.5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/calibration.html">1.2.2.2.6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/risk_analysis.html">1.2.2.2.7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/testing_and_validation.html">1.2.2.2.8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/general_limitations.html">1.2.2.2.9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/model_monitoring.html">1.2.2.2.10. Model Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/development_feedback.html">1.2.2.2.11. Development Feedback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/references.html">1.2.2.2.12. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/README.html">1.2.2.2.13. Curve Construction and Risk Framework Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/executive_summary.html">1.2.2.2.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/scope.html">1.2.2.2.2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/product_and_portfolio.html">1.2.2.2.3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/model_methodology.html">1.2.2.2.4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/implementation.html">1.2.2.2.5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/calibration.html">1.2.2.2.6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/risk_analysis.html">1.2.2.2.7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/testing_and_validation.html">1.2.2.2.8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/general_limitations.html">1.2.2.2.9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/model_monitoring.html">1.2.2.2.10. Model Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/development_feedback.html">1.2.2.2.11. Development Feedback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/references.html">1.2.2.2.12. References</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/index.html">1.3. FX Analytic Volatility Surfaces</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of 1.3. FX Analytic Volatility Surfaces</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/executive_summary.html">1.3.3.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/scope.html">1.3.3.2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/product_payoff_portfolio.html">1.3.3.3. Product / Payoff / Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/model_smile_models.html">1.3.3.4. Smile Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/model_atm_time_models.html">1.3.3.5. ATM Time Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/model_wing_time_models.html">1.3.3.6. Wing Time Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/implementation_numerical_schema.html">1.3.3.7. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/calibration.html">1.3.3.8. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/risk_bumping_methodology.html">1.3.3.9. Risk Bumping Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/risk_inputs_limitations.html">1.3.3.10. Risk Inputs &amp; Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/testing_plan_implementation.html">1.3.3.11. Testing Plan &amp; Implementation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/testing_stress_scenarios.html">1.3.3.12. Stress Testing &amp; Scenarios</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/testing_accuracy_stability.html">1.3.3.13. Accuracy &amp; Stability Testing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/general_limitations.html">1.3.3.14. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/model_monitoring_kpis.html">1.3.3.15. Model Monitoring &amp; KPIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/development_feedback_summary.html">1.3.3.16. Development Feedback Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/references.html">1.3.3.17. References</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../Implied%20Volatility%20Filter/index.html">1.4. Implied Volatility Filter</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of 1.4. Implied Volatility Filter</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/executive_summary.html">1.4.1.5.1.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/scope.html">1.4.1.5.1.2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/product_payoff_portfolio.html">1.4.1.5.1.3. Product / Payoff / Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/model_methodology.html">1.4.1.5.1.4. Model / Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/implementation_numerical_schema.html">1.4.1.5.1.5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/calibration.html">1.4.1.5.1.6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/risk_factors.html">1.4.1.5.1.7. Risk Analysis Framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/testing_and_validation.html">1.4.1.5.1.8. Tests &amp; Outcome Analyses performed on Payoff / Model / Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/appendix.html">1.4.1.5.1.9. Appendix: Quality of bid/ask quotes</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../Ir/index.html">1.5. Linear Interest Rate Swaps</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of 1.5. Linear Interest Rate Swaps</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/executive_summary.html">1.5.1.4.1.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/scope.html">1.5.1.4.1.2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/product_payoff_portfolio.html">1.5.1.4.1.3. Product / Payoff / Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/model_methodology.html">1.5.1.4.1.4. Model / Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/implementation_numerical_schema.html">1.5.1.4.1.5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/calibration.html">1.5.1.4.1.6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/risk_factors.html">1.5.1.4.1.7. Risk Analysis Framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/testing_and_validation.html">1.5.1.4.1.8. Tests &amp; Outcome Analyses performed on Payoff / Model / Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/model_monitoring_kpis.html">1.5.1.4.1.9. Model Monitoring – KPIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/references.html">1.5.1.4.1.10. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/applicable_policy_standards.html">1.5.1.4.1.11. Applicable Policy Standards</a></li>
</ul>
</li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="../index.html">1.6. LSV Guides</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of 1.6. LSV Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3 current has-children"><a class="reference internal" href="../LSV.html">1.6.1. LSV</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of 1.6.1. LSV</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../FX%20LSV%20Markov%20Switching%20%20Monte%20Carlo/FX_LSV_Markov_Switching_Monte_Carlo.html">1.6.1.1. FX LSV Markov Switching : Monte Carlo</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">1.6.1.2. FX LSV Markov Switching : PDE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Local%20Volatility%20PDE%20and%20MC/Local_Volatility_PDE_and_MC.html">1.6.1.3. Local Volatility: PDE and MC</a></li>
<li class="toctree-l4"><a class="reference internal" href="../LSV%20Markov%20Switching%20%20Monte%20Carlo/LSV_Markov_Switching_Monte_Carlo.html">1.6.1.4. LSV Markov Switching : Monte Carlo</a></li>
<li class="toctree-l4"><a class="reference internal" href="../LSV%20Markov%20Switching%20%20PDE/LSV_Markov_Switching_PDE.html">1.6.1.5. LSV Markov Switching : PDE</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../SABR/index.html">1.7. Interest Rate Volatility Model GSABR</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of 1.7. Interest Rate Volatility Model GSABR</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/executive_summary.html">1.7.1.4.1.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/scope.html">1.7.1.4.1.2. Scope and Use</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/product_and_portfolio.html">1.7.1.4.1.3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/model_methodology.html">1.7.1.4.1.4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/implementation.html">1.7.1.4.1.5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/calibration.html">1.7.1.4.1.6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/risk_analysis.html">1.7.1.4.1.7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/testing_and_validation.html">1.7.1.4.1.8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/general_limitations.html">1.7.1.4.1.9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/model_monitoring.html">1.7.1.4.1.10. Model Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/market_data_integration.html">1.7.1.4.1.11. Market Data Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/performance_benchmarking.html">1.7.1.4.1.12. Performance Benchmarking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/troubleshooting_guide.html">1.7.1.4.1.13. Troubleshooting Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/development_feedback.html">1.7.1.4.1.14. Development Feedback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/references.html">1.7.1.4.1.15. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/executive_summary.html">1.7.1.4.1.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/scope.html">1.7.1.4.1.2. Scope and Use</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/product_and_portfolio.html">1.7.1.4.1.3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/model_methodology.html">1.7.1.4.1.4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/implementation.html">1.7.1.4.1.5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/calibration.html">1.7.1.4.1.6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/risk_analysis.html">1.7.1.4.1.7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/testing_and_validation.html">1.7.1.4.1.8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/general_limitations.html">1.7.1.4.1.9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/model_monitoring.html">1.7.1.4.1.10. Model Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/market_data_integration.html">1.7.1.4.1.11. Market Data Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/performance_benchmarking.html">1.7.1.4.1.12. Performance Benchmarking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/troubleshooting_guide.html">1.7.1.4.1.13. Troubleshooting Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/development_feedback.html">1.7.1.4.1.14. Development Feedback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/references.html">1.7.1.4.1.15. References</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../getting_started/index.html">1. Getting Started</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of 1. Getting Started</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../learning.html">Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../supported_data_formats.html">Supported Data Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../supported_hardware.html">Supported Hardware</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../modules/index.html">Modules</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of Modules</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../modules/xsigma-modules/Wrapping/PythonCore/README.html">Python Wrapper Core Classes</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../build_instructions/index.html">Building</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle navigation of Building</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../build_instructions/build_settings.html">Build Settings</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../api/index.html">1. API</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle navigation of 1. API</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../api/cpp.html">1.1. C++</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api/python.html">1.2. Python</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle navigation of 1.2. Python</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.html">1.2.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle navigation of 1.2.1.1. xsigmamodules</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.common.html">1.2.1.1.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.common</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.1. xsigmamodules.common</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.common.helper.html">1.2.1.1.1.1.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.common.helper</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.common.instrument.html">1.2.1.1.1.1.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.common.instrument</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.market.html">1.2.1.1.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.market</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.2. xsigmamodules.market</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.market.market_data.html">1.2.1.1.1.2.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.market.market_data</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.market.object_factory.html">1.2.1.1.1.2.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.market.object_factory</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.simulation.html">1.2.1.1.1.3. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.simulation</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.3. xsigmamodules.simulation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.simulation.simulation.html">1.2.1.1.1.3.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.simulation.simulation</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.test.html">1.2.1.1.1.4. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.test</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.4. xsigmamodules.test</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.test.BlackBox.html">1.2.1.1.1.4.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.test.BlackBox</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.test.Testing.html">1.2.1.1.1.4.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.test.Testing</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.util.html">1.2.1.1.1.5. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.5. xsigmamodules.util</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.util.misc.html">1.2.1.1.1.5.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.misc</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.util.numpy_support.html">1.2.1.1.1.5.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.numpy_support</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.util.object_converter.html">1.2.1.1.1.5.1.3. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.object_converter</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.util.xsigmaConstants.html">1.2.1.1.1.5.1.4. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.xsigmaConstants</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.util.xsigmaMethodParser.html">1.2.1.1.1.5.1.5. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.xsigmaMethodParser</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.xlwing.html">1.2.1.1.1.6. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.xlwing</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" role="switch" type="checkbox"/><label for="toctree-checkbox-21"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.6. xsigmamodules.xlwing</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.xlwing.hartman_watson_template.html">1.2.1.1.1.6.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.xlwing.hartman_watson_template</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.xlwing.sabr_template.html">1.2.1.1.1.6.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.xlwing.sabr_template</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.generate_pyi.html">1.2.1.1.2.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.generate_pyi</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api/cmake/cmake-modules.html">1.3. CMake</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" role="switch" type="checkbox"/><label for="toctree-checkbox-22"><div class="visually-hidden">Toggle navigation of 1.3. CMake</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../api/cmake/ModuleSystem.html">1.3.1. Module System</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/cmake/xsigmaModule.html">1.3.2. xsigmaModule</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/cmake/xsigmaModuleTesting.html">1.3.3. xsigmaModuleTesting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/cmake/xsigmaModuleWrapPython.html">1.3.4. xsigmaModuleWrapPython</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/cmake/xsigmaModuleWrapJava.html">1.3.5. xsigmaModuleWrapJava</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/cmake/xsigmaModuleJSON.html">1.3.6. xsigmaModuleJSON</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/cmake/xsigmaModuleGraphviz.html">1.3.7. xsigmaModuleGraphviz</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../advanced/index.html">Advanced Topics</a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" role="switch" type="checkbox"/><label for="toctree-checkbox-23"><div class="visually-hidden">Toggle navigation of Advanced Topics</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/available_python_wheels.html">Additional Python Wheels</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/spdx_and_sbom.html">SPDX &amp; SBOM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/build_python_wheels.html">Building Python Wheels</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/build_wasm_emscripten.html">Building using emscripten for WebAssembly</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/build_for_mobile.html">Cross-compiling for Mobile devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/build_documentation.html">Building documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/marshalling_hints.html">Marshalling Hints</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/object_manager.html">Object manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/object_serialization.html">Auto serialization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/PythonWrappers.html">Python Wrappers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/runtime_settings.html">Runtime settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../advanced/WrappingTools.html">Wrapping Tools</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../advanced/migration_guides/index.html">Migration Guides</a><input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" role="switch" type="checkbox"/><label for="toctree-checkbox-24"><div class="visually-hidden">Toggle navigation of Migration Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../advanced/migration_guides/ModuleMigration.html">Module Migration from XSIGMA 8.2 to 9+</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../design_documents/index.html">Design Documents</a><input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" role="switch" type="checkbox"/><label for="toctree-checkbox-25"><div class="visually-hidden">Toggle navigation of Design Documents</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../design_documents/XSIGMAFileFormats.html">XSIGMA File Formats</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../design_documents/smptools.html">Parallel Processing with XSIGMA’s SMP Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../design_documents/data_assemply.html">Data Assembly</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../developers_guide/index.html">Developer’s Guide</a><input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" role="switch" type="checkbox"/><label for="toctree-checkbox-26"><div class="visually-hidden">Toggle navigation of Developer’s Guide</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../developers_guide/git/develop.html">Develop</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../developers_guide/testing.html">Regression Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../developers_guide/git/test.html">Adding Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../developers_guide/git/dashboard.html">Dashboard Scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../developers_guide/git/thirdparty.html">Imported Third Party Projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../developers_guide/git/thirdparty-projects.html">Imported Third Party Projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../developers_guide/git/deprecation.html">Deprecation Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../developers_guide/release_process.html">Release Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../developers_guide/coding_conventions.html">Coding Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../developers_guide/about_this_documentation.html">About this documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../resources.html">Resources</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../release_details/index.html">Release Details</a><input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" role="switch" type="checkbox"/><label for="toctree-checkbox-27"><div class="visually-hidden">Toggle navigation of Release Details</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../getting_started/index.html">1. Getting Started</a><input class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" role="switch" type="checkbox"/><label for="toctree-checkbox-28"><div class="visually-hidden">Toggle navigation of 1. Getting Started</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="simple">
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Market Models</span></p>
<ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="../../index.html">1. Market Models Overview</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-29" name="toctree-checkbox-29" role="switch" type="checkbox"/><label for="toctree-checkbox-29"><div class="visually-hidden">Toggle navigation of 1. Market Models Overview</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="../../ASV/index.html">1.1. Analytical Sigma Volatility (ASV) Model</a><input class="toctree-checkbox" id="toctree-checkbox-30" name="toctree-checkbox-30" role="switch" type="checkbox"/><label for="toctree-checkbox-30"><div class="visually-hidden">Toggle navigation of 1.1. Analytical Sigma Volatility (ASV) Model</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/executive_summary.html">1.1.2.2.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/scope.html">1.1.2.2.2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/product_and_portfolio.html">1.1.2.2.3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/model_methodology.html">1.1.2.2.4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/implementation.html">1.1.2.2.5. Implementation and Numerical Schema</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/calibration.html">1.1.2.2.6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/risk_analysis.html">1.1.2.2.7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/testing_and_validation.html">1.1.2.2.8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/general_limitations.html">1.1.2.2.9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/model_monitoring.html">1.1.2.2.10. Model Monitoring and KPIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/user_guide.html">1.1.2.2.11. User Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/references.html">1.1.2.2.12. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/README.html">1.1.2.2.13. Analytical Sigma Volatility (ASV) Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/executive_summary.html">1.1.2.2.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/scope.html">1.1.2.2.2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/product_and_portfolio.html">1.1.2.2.3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/model_methodology.html">1.1.2.2.4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/implementation.html">1.1.2.2.5. Implementation and Numerical Schema</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/calibration.html">1.1.2.2.6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/risk_analysis.html">1.1.2.2.7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/testing_and_validation.html">1.1.2.2.8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/general_limitations.html">1.1.2.2.9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/model_monitoring.html">1.1.2.2.10. Model Monitoring and KPIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/user_guide.html">1.1.2.2.11. User Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/references.html">1.1.2.2.12. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ASV/README.html">1.1.2.2.13. Analytical Sigma Volatility (ASV) Documentation</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../Curve%20Construction/index.html">1.2. Curve Construction and Risk Framework (NCF)</a><input class="toctree-checkbox" id="toctree-checkbox-31" name="toctree-checkbox-31" role="switch" type="checkbox"/><label for="toctree-checkbox-31"><div class="visually-hidden">Toggle navigation of 1.2. Curve Construction and Risk Framework (NCF)</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/executive_summary.html">1.2.2.2.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/scope.html">1.2.2.2.2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/product_and_portfolio.html">1.2.2.2.3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/model_methodology.html">1.2.2.2.4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/implementation.html">1.2.2.2.5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/calibration.html">1.2.2.2.6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/risk_analysis.html">1.2.2.2.7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/testing_and_validation.html">1.2.2.2.8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/general_limitations.html">1.2.2.2.9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/model_monitoring.html">1.2.2.2.10. Model Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/development_feedback.html">1.2.2.2.11. Development Feedback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/references.html">1.2.2.2.12. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/README.html">1.2.2.2.13. Curve Construction and Risk Framework Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/executive_summary.html">1.2.2.2.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/scope.html">1.2.2.2.2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/product_and_portfolio.html">1.2.2.2.3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/model_methodology.html">1.2.2.2.4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/implementation.html">1.2.2.2.5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/calibration.html">1.2.2.2.6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/risk_analysis.html">1.2.2.2.7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/testing_and_validation.html">1.2.2.2.8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/general_limitations.html">1.2.2.2.9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/model_monitoring.html">1.2.2.2.10. Model Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/development_feedback.html">1.2.2.2.11. Development Feedback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Curve%20Construction/references.html">1.2.2.2.12. References</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/index.html">1.3. FX Analytic Volatility Surfaces</a><input class="toctree-checkbox" id="toctree-checkbox-32" name="toctree-checkbox-32" role="switch" type="checkbox"/><label for="toctree-checkbox-32"><div class="visually-hidden">Toggle navigation of 1.3. FX Analytic Volatility Surfaces</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/executive_summary.html">1.3.3.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/scope.html">1.3.3.2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/product_payoff_portfolio.html">1.3.3.3. Product / Payoff / Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/model_smile_models.html">1.3.3.4. Smile Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/model_atm_time_models.html">1.3.3.5. ATM Time Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/model_wing_time_models.html">1.3.3.6. Wing Time Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/implementation_numerical_schema.html">1.3.3.7. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/calibration.html">1.3.3.8. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/risk_bumping_methodology.html">1.3.3.9. Risk Bumping Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/risk_inputs_limitations.html">1.3.3.10. Risk Inputs &amp; Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/testing_plan_implementation.html">1.3.3.11. Testing Plan &amp; Implementation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/testing_stress_scenarios.html">1.3.3.12. Stress Testing &amp; Scenarios</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/testing_accuracy_stability.html">1.3.3.13. Accuracy &amp; Stability Testing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/general_limitations.html">1.3.3.14. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/model_monitoring_kpis.html">1.3.3.15. Model Monitoring &amp; KPIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/development_feedback_summary.html">1.3.3.16. Development Feedback Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../FX%20Analytic%20Volatility%20Surfaces/references.html">1.3.3.17. References</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../Implied%20Volatility%20Filter/index.html">1.4. Implied Volatility Filter</a><input class="toctree-checkbox" id="toctree-checkbox-33" name="toctree-checkbox-33" role="switch" type="checkbox"/><label for="toctree-checkbox-33"><div class="visually-hidden">Toggle navigation of 1.4. Implied Volatility Filter</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/executive_summary.html">1.4.1.5.1.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/scope.html">1.4.1.5.1.2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/product_payoff_portfolio.html">1.4.1.5.1.3. Product / Payoff / Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/model_methodology.html">1.4.1.5.1.4. Model / Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/implementation_numerical_schema.html">1.4.1.5.1.5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/calibration.html">1.4.1.5.1.6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/risk_factors.html">1.4.1.5.1.7. Risk Analysis Framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/testing_and_validation.html">1.4.1.5.1.8. Tests &amp; Outcome Analyses performed on Payoff / Model / Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Implied%20Volatility%20Filter/appendix.html">1.4.1.5.1.9. Appendix: Quality of bid/ask quotes</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../Ir/index.html">1.5. Linear Interest Rate Swaps</a><input class="toctree-checkbox" id="toctree-checkbox-34" name="toctree-checkbox-34" role="switch" type="checkbox"/><label for="toctree-checkbox-34"><div class="visually-hidden">Toggle navigation of 1.5. Linear Interest Rate Swaps</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/executive_summary.html">1.5.1.4.1.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/scope.html">1.5.1.4.1.2. Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/product_payoff_portfolio.html">1.5.1.4.1.3. Product / Payoff / Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/model_methodology.html">1.5.1.4.1.4. Model / Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/implementation_numerical_schema.html">1.5.1.4.1.5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/calibration.html">1.5.1.4.1.6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/risk_factors.html">1.5.1.4.1.7. Risk Analysis Framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/testing_and_validation.html">1.5.1.4.1.8. Tests &amp; Outcome Analyses performed on Payoff / Model / Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/model_monitoring_kpis.html">1.5.1.4.1.9. Model Monitoring – KPIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/references.html">1.5.1.4.1.10. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Ir/applicable_policy_standards.html">1.5.1.4.1.11. Applicable Policy Standards</a></li>
</ul>
</li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="../index.html">1.6. LSV Guides</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-35" name="toctree-checkbox-35" role="switch" type="checkbox"/><label for="toctree-checkbox-35"><div class="visually-hidden">Toggle navigation of 1.6. LSV Guides</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3 current has-children"><a class="reference internal" href="../LSV.html">1.6.1. LSV</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-36" name="toctree-checkbox-36" role="switch" type="checkbox"/><label for="toctree-checkbox-36"><div class="visually-hidden">Toggle navigation of 1.6.1. LSV</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../FX%20LSV%20Markov%20Switching%20%20Monte%20Carlo/FX_LSV_Markov_Switching_Monte_Carlo.html">1.6.1.1. FX LSV Markov Switching : Monte Carlo</a></li>
<li class="toctree-l4 current current-page"><a class="current reference internal" href="#">1.6.1.2. FX LSV Markov Switching : PDE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Local%20Volatility%20PDE%20and%20MC/Local_Volatility_PDE_and_MC.html">1.6.1.3. Local Volatility: PDE and MC</a></li>
<li class="toctree-l4"><a class="reference internal" href="../LSV%20Markov%20Switching%20%20Monte%20Carlo/LSV_Markov_Switching_Monte_Carlo.html">1.6.1.4. LSV Markov Switching : Monte Carlo</a></li>
<li class="toctree-l4"><a class="reference internal" href="../LSV%20Markov%20Switching%20%20PDE/LSV_Markov_Switching_PDE.html">1.6.1.5. LSV Markov Switching : PDE</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../SABR/index.html">1.7. Interest Rate Volatility Model GSABR</a><input class="toctree-checkbox" id="toctree-checkbox-37" name="toctree-checkbox-37" role="switch" type="checkbox"/><label for="toctree-checkbox-37"><div class="visually-hidden">Toggle navigation of 1.7. Interest Rate Volatility Model GSABR</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/executive_summary.html">1.7.1.4.1.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/scope.html">1.7.1.4.1.2. Scope and Use</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/product_and_portfolio.html">1.7.1.4.1.3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/model_methodology.html">1.7.1.4.1.4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/implementation.html">1.7.1.4.1.5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/calibration.html">1.7.1.4.1.6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/risk_analysis.html">1.7.1.4.1.7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/testing_and_validation.html">1.7.1.4.1.8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/general_limitations.html">1.7.1.4.1.9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/model_monitoring.html">1.7.1.4.1.10. Model Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/market_data_integration.html">1.7.1.4.1.11. Market Data Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/performance_benchmarking.html">1.7.1.4.1.12. Performance Benchmarking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/troubleshooting_guide.html">1.7.1.4.1.13. Troubleshooting Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/development_feedback.html">1.7.1.4.1.14. Development Feedback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/references.html">1.7.1.4.1.15. References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/executive_summary.html">1.7.1.4.1.1. Executive Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/scope.html">1.7.1.4.1.2. Scope and Use</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/product_and_portfolio.html">1.7.1.4.1.3. Product and Portfolio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/model_methodology.html">1.7.1.4.1.4. Model Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/implementation.html">1.7.1.4.1.5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/calibration.html">1.7.1.4.1.6. Calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/risk_analysis.html">1.7.1.4.1.7. Risk Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/testing_and_validation.html">1.7.1.4.1.8. Testing and Validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/general_limitations.html">1.7.1.4.1.9. General Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/model_monitoring.html">1.7.1.4.1.10. Model Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/market_data_integration.html">1.7.1.4.1.11. Market Data Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/performance_benchmarking.html">1.7.1.4.1.12. Performance Benchmarking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/troubleshooting_guide.html">1.7.1.4.1.13. Troubleshooting Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/development_feedback.html">1.7.1.4.1.14. Development Feedback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SABR/references.html">1.7.1.4.1.15. References</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../SABR/index.html">1.7. SABR/GSABR Models</a><input class="toctree-checkbox" id="toctree-checkbox-38" name="toctree-checkbox-38" role="switch" type="checkbox"/><label for="toctree-checkbox-38"><div class="visually-hidden">Toggle navigation of 1.7. SABR/GSABR Models</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/executive_summary.html">1.7.1.4.1.1. Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/scope.html">1.7.1.4.1.2. Scope and Use</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/product_and_portfolio.html">1.7.1.4.1.3. Product and Portfolio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/model_methodology.html">1.7.1.4.1.4. Model Methodology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/implementation.html">1.7.1.4.1.5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/calibration.html">1.7.1.4.1.6. Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/risk_analysis.html">1.7.1.4.1.7. Risk Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/testing_and_validation.html">1.7.1.4.1.8. Testing and Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/general_limitations.html">1.7.1.4.1.9. General Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/model_monitoring.html">1.7.1.4.1.10. Model Monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/market_data_integration.html">1.7.1.4.1.11. Market Data Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/performance_benchmarking.html">1.7.1.4.1.12. Performance Benchmarking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/troubleshooting_guide.html">1.7.1.4.1.13. Troubleshooting Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/development_feedback.html">1.7.1.4.1.14. Development Feedback</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/references.html">1.7.1.4.1.15. References</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/executive_summary.html">1.7.1.4.1.1. Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/scope.html">1.7.1.4.1.2. Scope and Use</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/product_and_portfolio.html">1.7.1.4.1.3. Product and Portfolio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/model_methodology.html">1.7.1.4.1.4. Model Methodology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/implementation.html">1.7.1.4.1.5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/calibration.html">1.7.1.4.1.6. Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/risk_analysis.html">1.7.1.4.1.7. Risk Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/testing_and_validation.html">1.7.1.4.1.8. Testing and Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/general_limitations.html">1.7.1.4.1.9. General Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/model_monitoring.html">1.7.1.4.1.10. Model Monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/market_data_integration.html">1.7.1.4.1.11. Market Data Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/performance_benchmarking.html">1.7.1.4.1.12. Performance Benchmarking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/troubleshooting_guide.html">1.7.1.4.1.13. Troubleshooting Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/development_feedback.html">1.7.1.4.1.14. Development Feedback</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../SABR/references.html">1.7.1.4.1.15. References</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../ASV/index.html">1.1. Analytical Sigma Volatility</a><input class="toctree-checkbox" id="toctree-checkbox-39" name="toctree-checkbox-39" role="switch" type="checkbox"/><label for="toctree-checkbox-39"><div class="visually-hidden">Toggle navigation of 1.1. Analytical Sigma Volatility</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/executive_summary.html">1.1.2.2.1. Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/scope.html">1.1.2.2.2. Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/product_and_portfolio.html">1.1.2.2.3. Product and Portfolio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/model_methodology.html">1.1.2.2.4. Model Methodology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/implementation.html">1.1.2.2.5. Implementation and Numerical Schema</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/calibration.html">1.1.2.2.6. Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/risk_analysis.html">1.1.2.2.7. Risk Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/testing_and_validation.html">1.1.2.2.8. Testing and Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/general_limitations.html">1.1.2.2.9. General Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/model_monitoring.html">1.1.2.2.10. Model Monitoring and KPIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/user_guide.html">1.1.2.2.11. User Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/references.html">1.1.2.2.12. References</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/README.html">1.1.2.2.13. Analytical Sigma Volatility (ASV) Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/executive_summary.html">1.1.2.2.1. Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/scope.html">1.1.2.2.2. Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/product_and_portfolio.html">1.1.2.2.3. Product and Portfolio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/model_methodology.html">1.1.2.2.4. Model Methodology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/implementation.html">1.1.2.2.5. Implementation and Numerical Schema</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/calibration.html">1.1.2.2.6. Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/risk_analysis.html">1.1.2.2.7. Risk Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/testing_and_validation.html">1.1.2.2.8. Testing and Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/general_limitations.html">1.1.2.2.9. General Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/model_monitoring.html">1.1.2.2.10. Model Monitoring and KPIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/user_guide.html">1.1.2.2.11. User Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/references.html">1.1.2.2.12. References</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ASV/README.html">1.1.2.2.13. Analytical Sigma Volatility (ASV) Documentation</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../Cheyette/index.html">Cheyette Interest Rate Model</a><input class="toctree-checkbox" id="toctree-checkbox-40" name="toctree-checkbox-40" role="switch" type="checkbox"/><label for="toctree-checkbox-40"><div class="visually-hidden">Toggle navigation of Cheyette Interest Rate Model</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/scope.html">2. Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/products_and_payoffs.html">Products and Payoffs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/model_methodology.html">3. Model Methodology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/implementation.html">4. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/calibration.html">5. Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/risk_analysis.html">6. Risk Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/testing_and_validation.html">7. Testing and Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/assumptions_and_limitations.html">1.2.1.9. Assumptions and Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/monitoring_and_kpis.html">8. Monitoring and KPIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/appendices.html">1.2.1.11. Appendices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/README.html">1.2.1.12. Cheyette Local Vol Model Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/executive_summary.html">1. Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/scope.html">2. Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/model_methodology.html">3. Model Methodology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/implementation.html">4. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/calibration.html">5. Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/risk_analysis.html">6. Risk Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/testing_and_validation.html">7. Testing and Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Cheyette/monitoring_and_kpis.html">8. Monitoring and KPIs</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../Curve%20Construction/index.html">1.2. Curve Construction Framework</a><input class="toctree-checkbox" id="toctree-checkbox-41" name="toctree-checkbox-41" role="switch" type="checkbox"/><label for="toctree-checkbox-41"><div class="visually-hidden">Toggle navigation of 1.2. Curve Construction Framework</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/executive_summary.html">1.2.2.2.1. Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/scope.html">1.2.2.2.2. Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/product_and_portfolio.html">1.2.2.2.3. Product and Portfolio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/model_methodology.html">1.2.2.2.4. Model Methodology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/implementation.html">1.2.2.2.5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/calibration.html">1.2.2.2.6. Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/risk_analysis.html">1.2.2.2.7. Risk Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/testing_and_validation.html">1.2.2.2.8. Testing and Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/general_limitations.html">1.2.2.2.9. General Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/model_monitoring.html">1.2.2.2.10. Model Monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/development_feedback.html">1.2.2.2.11. Development Feedback</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/references.html">1.2.2.2.12. References</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/README.html">1.2.2.2.13. Curve Construction and Risk Framework Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/executive_summary.html">1.2.2.2.1. Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/scope.html">1.2.2.2.2. Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/product_and_portfolio.html">1.2.2.2.3. Product and Portfolio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/model_methodology.html">1.2.2.2.4. Model Methodology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/implementation.html">1.2.2.2.5. Implementation / Numerical Schema Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/calibration.html">1.2.2.2.6. Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/risk_analysis.html">1.2.2.2.7. Risk Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/testing_and_validation.html">1.2.2.2.8. Testing and Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/general_limitations.html">1.2.2.2.9. General Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/model_monitoring.html">1.2.2.2.10. Model Monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/development_feedback.html">1.2.2.2.11. Development Feedback</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Curve%20Construction/references.html">1.2.2.2.12. References</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../api/index.html">1. API Documentation</a><input class="toctree-checkbox" id="toctree-checkbox-42" name="toctree-checkbox-42" role="switch" type="checkbox"/><label for="toctree-checkbox-42"><div class="visually-hidden">Toggle navigation of 1. API Documentation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../api/cpp.html">1.1. C++</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api/python.html">1.2. Python</a><input class="toctree-checkbox" id="toctree-checkbox-43" name="toctree-checkbox-43" role="switch" type="checkbox"/><label for="toctree-checkbox-43"><div class="visually-hidden">Toggle navigation of 1.2. Python</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.html">1.2.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-44" name="toctree-checkbox-44" role="switch" type="checkbox"/><label for="toctree-checkbox-44"><div class="visually-hidden">Toggle navigation of 1.2.1.1. xsigmamodules</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.common.html">1.2.1.1.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.common</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-45" name="toctree-checkbox-45" role="switch" type="checkbox"/><label for="toctree-checkbox-45"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.1. xsigmamodules.common</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.common.helper.html">1.2.1.1.1.1.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.common.helper</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.common.instrument.html">1.2.1.1.1.1.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.common.instrument</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.market.html">1.2.1.1.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.market</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-46" name="toctree-checkbox-46" role="switch" type="checkbox"/><label for="toctree-checkbox-46"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.2. xsigmamodules.market</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.market.market_data.html">1.2.1.1.1.2.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.market.market_data</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.market.object_factory.html">1.2.1.1.1.2.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.market.object_factory</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.simulation.html">1.2.1.1.1.3. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.simulation</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-47" name="toctree-checkbox-47" role="switch" type="checkbox"/><label for="toctree-checkbox-47"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.3. xsigmamodules.simulation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.simulation.simulation.html">1.2.1.1.1.3.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.simulation.simulation</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.test.html">1.2.1.1.1.4. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.test</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-48" name="toctree-checkbox-48" role="switch" type="checkbox"/><label for="toctree-checkbox-48"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.4. xsigmamodules.test</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.test.BlackBox.html">1.2.1.1.1.4.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.test.BlackBox</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.test.Testing.html">1.2.1.1.1.4.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.test.Testing</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.util.html">1.2.1.1.1.5. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-49" name="toctree-checkbox-49" role="switch" type="checkbox"/><label for="toctree-checkbox-49"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.5. xsigmamodules.util</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.util.misc.html">1.2.1.1.1.5.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.misc</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.util.numpy_support.html">1.2.1.1.1.5.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.numpy_support</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.util.object_converter.html">1.2.1.1.1.5.1.3. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.object_converter</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.util.xsigmaConstants.html">1.2.1.1.1.5.1.4. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.xsigmaConstants</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.util.xsigmaMethodParser.html">1.2.1.1.1.5.1.5. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.util.xsigmaMethodParser</span></code></a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.xlwing.html">1.2.1.1.1.6. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.xlwing</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-50" name="toctree-checkbox-50" role="switch" type="checkbox"/><label for="toctree-checkbox-50"><div class="visually-hidden">Toggle navigation of 1.2.1.1.1.6. xsigmamodules.xlwing</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.xlwing.hartman_watson_template.html">1.2.1.1.1.6.1.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.xlwing.hartman_watson_template</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.xlwing.sabr_template.html">1.2.1.1.1.6.1.2. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.xlwing.sabr_template</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/python/xsigmamodules/xsigmamodules.generate_pyi.html">1.2.1.1.2.1. <code class="xref py py-mod docutils literal notranslate"><span class="pre">xsigmamodules.generate_pyi</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api/cmake/cmake-modules.html">1.3. CMake</a><input class="toctree-checkbox" id="toctree-checkbox-51" name="toctree-checkbox-51" role="switch" type="checkbox"/><label for="toctree-checkbox-51"><div class="visually-hidden">Toggle navigation of 1.3. CMake</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../api/cmake/ModuleSystem.html">1.3.1. Module System</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/cmake/xsigmaModule.html">1.3.2. xsigmaModule</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/cmake/xsigmaModuleTesting.html">1.3.3. xsigmaModuleTesting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/cmake/xsigmaModuleWrapPython.html">1.3.4. xsigmaModuleWrapPython</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/cmake/xsigmaModuleWrapJava.html">1.3.5. xsigmaModuleWrapJava</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/cmake/xsigmaModuleJSON.html">1.3.6. xsigmaModuleJSON</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/cmake/xsigmaModuleGraphviz.html">1.3.7. xsigmaModuleGraphviz</a></li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section class="tex2jax_ignore mathjax_ignore" id="fx-lsv-markov-switching-pde">
<h1><span class="section-number">1.6.1.2. </span>FX LSV Markov Switching : PDE<a class="headerlink" href="#fx-lsv-markov-switching-pde" title="Link to this heading">#</a></h1>
<section id="executive-summary">
<h2><span class="section-number">1.6.1.2.1. </span>1. Executive Summary<a class="headerlink" href="#executive-summary" title="Link to this heading">#</a></h2>
<p>The aim of this document is to describe the Local Stochastic Volatility Markov Switching (LSVMS) model and its pricing of FX derivative products using the Partial Differential Equation (PDE) approach (GMD 4188). The document is limited to a single asset case. The LSVMS model can be divided into four interlinked sections:</p>
<ul class="simple">
<li><p>Dynamics</p></li>
<li><p>Calibration</p></li>
<li><p>Pricing Process</p></li>
<li><p>Risk Metrics Calculation</p></li>
</ul>
<p>In the next chapters, each one of the four sections is discussed separately.
Simple Local Volatility (LV) models can be viewed as an extension of the Black-Scholes model where the constant volatility is replaced with a deterministic function dependent on both FX level and time (referred in this paper as the local volatility function). In the seminal paper by Dupire [17] it is shown that the local volatility function can be calculated such that the model reproduces vanilla option prices for all strikes and maturities defined by the input arbitrage free volatility surface. The relative simplicity as well as an absence of parameter fitting and optimization translates into a fast model that is treated as a market standard. However, as the model is a single factor and matches only terminal distributions defined by the volatility surface, it is not appropriate for pricing products with forward volatility and path dependence. For this type of products a more complex model is needed, which includes Stochastic Volatility (SV), while ideally still repricing all the vanilla prices at all expiries (like the LV model), hence a Local Stochastic Volatility (LSV) model.</p>
<p>LSVMS is an example of such model. Markov Switching captures the randomness of the volatility using a continuous-time Markov chain, which is allowed to take one of n possible discrete values. This is the main assumption of the model we are going to analyze in this document. A local volatility correction is then incorporated into the framework to be able to re-price the vanilla market, leading to a model which combines together stochastic and local volatility. The main attractiveness of LSVMS consists in its ability to have a discrete number of volatility states instead of a continuous volatility process, like in the previously implemented LSV models (see Section 4.8). This has a clear speed advantage and would allow not only accurate pricing but also efficient risk management of the trading exotics books (both for intraday and end-of-day purposes). LSVMS is in fact intended to be used for those two purposes for first-generation exotics trading books.</p>
<p>The calibration routine involves a direct input from the trader, to mark the stochastic volatility parameters, while the local volatility correction is calibrated via a forward-induction PDE procedure. The former allows the trader to transparently tune parameters to match observed prices of exotic products, while the latter guarantees to match the market prices of vanillas.</p>
<p>Finally, the pricing is done using finite difference method, while the risk computation is done externally by the QARisk2 engine using the finite difference bump and reprice approach.</p>
<p>A number of tests are carried out to assess the quality of the model. These include: stress tests, scenario tests, accuracy, convergence and stability tests. The results presented in Chapter 8 confirm a good stability and accuracy together with the ability of LSVMS to accurately reproduce observed vanilla prices.</p>
</section>
<section id="scope-and-use">
<h2><span class="section-number">1.6.1.2.2. </span>2. Scope and Use<a class="headerlink" href="#scope-and-use" title="Link to this heading">#</a></h2>
<p>The main purpose of LSVMS is to price single asset FX derivatives payoffs. This is achieved by solving partial differential equations using finite difference method.</p>
<p>More importantly LSV addresses the main drawbacks of local volatility models and stochastic volatility models by providing a consistent way of pricing and hedging exotic path dependent trades while matching today’s vanilla market.</p>
<p>LSVMS is a local stochastic volatility model with a superior speed performance when compared to other LSV models due to the discrete nature of the volatility states within the model. In particular, the choice in production of n = 3 stochastic volatility states enables the model to be fast enough for the trading desk to look at their risk exposures in a reasonable amount of time, not losing the ability to match the observed price of exotic options as Double No Touch (see Section 3.1 for the product definition).</p>
<p>Testing results and business feedback confirm this approach is the most appropriate one.</p>
<p>The scope of the present document is to present the model dynamics, its calibration and the pricing using finite difference schema.</p>
<p>The pricing of specific payoffs will be covered in separate documents.</p>
<p>The intended usage of the valuation model is for both internal users, including the trading desk, risk management and research, and external clients. LSVMS calculates Present Value (PV) and risk measures are calculated externally by the risk engine using the finite difference bump and reprice approach. Results of the calculation i.e. PV, risks, scenarios are for live pricing and risk management of the trading positions, hedging analysis, setting risk limits and for VaR calculations.</p>
<p>In the following sections, we will explain the products/payoffs, model methodology, numerical implementation, calibration, risks, test results and analysis, and some limitations of the model in details.</p>
</section>
<section id="product-and-portfolio">
<h2><span class="section-number">1.6.1.2.3. </span>3. Product and Portfolio<a class="headerlink" href="#product-and-portfolio" title="Link to this heading">#</a></h2>
<p>The LSVMS model can be applied to the full range of FX derivatives supported by PDE pricing, which includes Barrier Options, Asians, Range Accruals, TARFs and Volatility Products (Variance Swaps, Volatility Swaps) etc., that will be covered in separate documents.</p>
<p>This section describes a number of FX products, namely cash settled European vanilla and some examples of path dependent trades. The former are instrumental in assessing the accuracy and numerical convergence of the model. In fact, the local volatility correction component in the LSV model ensures that the vanilla market is matched. The latter will serve to check the consistency of the model when compared to the local volatility framework. In particular, we will look at one touches (OT), double no touches (DNT), continuous knock out single barriers (KO).</p>
<p>Only enough detail is provided in order to make sense of the pricing results provided in the testing sections. The following is not an exhaustive description of the booked trades of similar type, and separate forthcoming documents will cover those products for pricing purposes.</p>
<section id="description">
<h3><span class="section-number">1.6.1.2.3.1. </span>3.1. Description<a class="headerlink" href="#description" title="Link to this heading">#</a></h3>
<section id="vanilla-options">
<h4><span class="section-number">1.6.1.2.3.1.1. </span>3.1.1. Vanilla Options<a class="headerlink" href="#vanilla-options" title="Link to this heading">#</a></h4>
<p>The cash settled European vanilla option has a pay-off, at a specified payment date <span class="math notranslate nohighlight">\(T_P &gt; T\)</span> and settlement currency, given by:</p>
<ul class="simple">
<li><p>European Call option pay-off: <span class="math notranslate nohighlight">\(N \cdot (S(T) - K)_+\)</span></p></li>
<li><p>European Put option pay-off: <span class="math notranslate nohighlight">\(N \cdot (K - S(T))_+\)</span></p></li>
</ul>
<p>where <span class="math notranslate nohighlight">\(S(T)\)</span> is the market settled FX Spot level at expiry time <span class="math notranslate nohighlight">\(T\)</span>, <span class="math notranslate nohighlight">\(K\)</span> is the option strike level and <span class="math notranslate nohighlight">\(N\)</span> the notional amount. Please refer to [4] and [5] for more details.</p>
</section>
<section id="one-touch-option">
<h4><span class="section-number">1.6.1.2.3.1.2. </span>3.1.2. One Touch Option<a class="headerlink" href="#one-touch-option" title="Link to this heading">#</a></h4>
<p>A OT option gives an investor a fixed amount once a specified barrier level is breached between valuation date and expiry date.</p>
<p>There are two main variations: “lower one touch” and “upper one touch” options depending on the barrier level position with respect to spot at the valuation date. The corresponding payoffs are defined as follows at expiry date in a specified currency:</p>
<ul class="simple">
<li><p>Upper one touch:</p></li>
</ul>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
N \cdot 1_{S^{max}&gt;U}
\]</div>
</div>
<ul class="simple">
<li><p>Lower one touch:</p></li>
</ul>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
N \cdot 1_{S^{min}&lt;L}
\]</div>
</div>
<p>with</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(S^{min}\)</span> and <span class="math notranslate nohighlight">\(S^{max}\)</span> respectively the running minimum and running maximum of the FX spot rate as defined in 3.1.1.</p></li>
<li><p><span class="math notranslate nohighlight">\(U\)</span> and <span class="math notranslate nohighlight">\(L\)</span> refer to the barrier level depending on the barrier type (Upper or Lower).</p></li>
</ul>
<p>We look in this document at one touches paying in domestic currency. Please refer to [3] for more details on this product.</p>
</section>
<section id="double-no-touch">
<h4><span class="section-number">1.6.1.2.3.1.3. </span>3.1.3. Double No Touch<a class="headerlink" href="#double-no-touch" title="Link to this heading">#</a></h4>
<p>A DNT gives the investor an agreed upon payout at expiry if the price of the underlying FX rate does not reach or surpass one of the predetermined barrier levels between the barrier start <span class="math notranslate nohighlight">\(T_s\)</span> and expiry date <span class="math notranslate nohighlight">\(T\)</span>.</p>
<p>We denote <span class="math notranslate nohighlight">\(S^{min}\)</span> and <span class="math notranslate nohighlight">\(S^{max}\)</span> respectively the running minimum and running maximum of the FX spot rate between the barrier start date and expiry date. They are defined as follows:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
S^{min} = \inf_{T_s \leq t \leq T} S(t)
\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
S^{max} = \sup_{T_s \leq t \leq T} S(t)
\]</div>
</div>
<p>The payoff of a DNT, at expiry date <span class="math notranslate nohighlight">\(T\)</span> in a specified currency is:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
N \cdot 1_{(S^{min} &gt; L) \land (S^{max} &lt; U)}
\]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(L\)</span> and <span class="math notranslate nohighlight">\(U\)</span> are respectively the lower and upper barrier levels and <span class="math notranslate nohighlight">\(N\)</span> is the notional/rebate amount.</p>
<p>In this document we look at continuous DNTs where barrier start date coincides with valuation date. The payment currency is set to be the domestic currency. Please refer to [6] for more details on this product.</p>
</section>
<section id="fx-single-knock-out-barrier">
<h4><span class="section-number">1.6.1.2.3.1.4. </span>3.1.4. FX Single Knock-Out Barrier<a class="headerlink" href="#fx-single-knock-out-barrier" title="Link to this heading">#</a></h4>
<p>We look here at a continuous cash settled European single knock out barrier. A continuous knock out single barrier option is to expire worthless, should a specified barrier level be breached between valuation date and expiry date. If the barrier is not breached, the holder receives the European cash settled vanilla call/put payoff at expiry date.</p>
<p>There are two main variations: “down and out” and “up and out” options depending on the barrier level position with respect to spot at the valuation date. The corresponding payoffs are defined as follows at expiry date:</p>
<ul class="simple">
<li><p>Up and out options:</p></li>
</ul>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
N \cdot 1_{S^{max} &lt; U} \cdot (\epsilon(S(T) - K))^+
\]</div>
</div>
<ul class="simple">
<li><p>Down and out options:</p></li>
</ul>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
N \cdot 1_{S^{min} &gt; L} \cdot (\epsilon(S(T) - K))^+
\]</div>
</div>
<p>with</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(S^{min}\)</span> and <span class="math notranslate nohighlight">\(S^{max}\)</span> respectively the running minimum and running maximum of the FX spot rate as defined in 3.1.1.</p></li>
<li><p><span class="math notranslate nohighlight">\(\epsilon\)</span> is either +1 or -1 depending if the underlying vanilla is a call or a put.</p></li>
<li><p><span class="math notranslate nohighlight">\(K\)</span> strike of the underlying vanilla option.</p></li>
<li><p><span class="math notranslate nohighlight">\(U\)</span> and <span class="math notranslate nohighlight">\(L\)</span> refer to the barrier level depending on the barrier type (Upper or Lower).</p></li>
</ul>
<p>Please refer to [7] for more details on this product.</p>
</section>
</section>
<section id="relationship-to-other-approved-models">
<h3><span class="section-number">1.6.1.2.3.2. </span>3.2. Relationship to Other Approved Models<a class="headerlink" href="#relationship-to-other-approved-models" title="Link to this heading">#</a></h3>
<p>This is not applicable as this is a pricing model.</p>
</section>
</section>
<section id="model-assumptions">
<h2><span class="section-number">1.6.1.2.4. </span>4. Model Assumptions<a class="headerlink" href="#model-assumptions" title="Link to this heading">#</a></h2>
<p>[A.1] The stochastic Markov chain is independent of the Brownian motion that drives the underlying spot. However the local volatility correction <span class="math notranslate nohighlight">\(A(t, S(t))\)</span> makes up for the independence of W driving the spot and <span class="math notranslate nohighlight">\(\xi\)</span> driving the instantaneous volatility dynamics.</p>
<p>[A.2] For implementation reasons Q is chosen as in equation (A.2). This is due to the use of the Markov Switching model with Monte Carlo pricing. In fact, when computing the transition probability matrix <span class="math notranslate nohighlight">\(P(s, t)\)</span>, a first order approximation would be sufficient for PDE pricing, as the time steps are small enough to justify the following approach:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
P(s, t) \approx I + Q(s, t)
\]</div>
</div>
<p>On the other hand for Monte Carlo simulations one can expect longer time steps, especially for long dated options (a monthly time step is quite common for instance). Therefore a more precise way to compute <span class="math notranslate nohighlight">\(P(s, t)\)</span> is required. Given the equation (A.2), if Q is diagonalizable, the transition generator matrix <span class="math notranslate nohighlight">\(Q(s, t)\)</span> is also diagonalizable as follows:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
Q = T^{-1}DT,
\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
Q(s, t) = \left(\int_s^t q(u)du\right) T^{-1}DT = T^{-1} \left(\int_s^t q(u)du \cdot D \right) T,
\]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(D(s, t) = \left(\int_s^t q(u)du \right) D\)</span>. Using linear algebra it is then possible to show that</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
P(s, t) = T^{-1} \exp(D(s, t))T,
\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}
\exp(D(s, t)) = \begin{pmatrix} e^{d_1} &amp; 0 &amp; 0 \\ 0 &amp; \ddots &amp; 0 \\ 0 &amp; 0 &amp; e^{d_n} \end{pmatrix},
\end{split}\]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(d_1, ..., d_n\)</span> are the diagonal elements of matrix <span class="math notranslate nohighlight">\(D(s, t)\)</span>. Under (A.2), the diagonalization operation in (4.3.1) is only required once for Q at the beginning, and the elements of D can be cached for future scaling.</p>
<p>[A.3] Both the domestic and foreign interest rates are assumed to be deterministic. Therefore, when valuing long dated structures, the stochastic interest rate effect is not taken into account. However all products priced with LSVMS are firstly sensitive to the stochastic volatility rather than stochastic rates.</p>
<p>[A.4] The volatility of volatility <span class="math notranslate nohighlight">\(a(u)\)</span> and the transition matrix term structure <span class="math notranslate nohighlight">\(q(u)\)</span> are piecewise constant in time (Assumption [A.4₁] and [A.4₂] respectively). These values are marked directly by the trading desk (see Section 5.1) and enables to clearly describe the forward smile profile across different times. Piecewise constancy is the choice maintaining the balance between accuracy and generality.</p>
<p>[A.5] The number of states for the Markov chain used in production is equal to 3. The hypothesis can be relaxed as any valid value for the number of states is supported by the library.</p>
<p>[A.6] Possible alternative choices for the matrix Q could have been:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}
Q = \begin{pmatrix} -4 &amp; 4 &amp; 0 \\ 1/2 &amp; -1 &amp; 1/2 \\ 0 &amp; 1 &amp; -1 \end{pmatrix}
\end{split}\]</div>
</div>
<p>with <span class="math notranslate nohighlight">\(\rho &gt; 0\)</span>. Notice however that this is not a limitation, as setting the transition matrix term structure <span class="math notranslate nohighlight">\(q(u)\)</span> to <span class="math notranslate nohighlight">\(\rho \cdot q(u)\)</span> would just produce the same transition probability matrix.</p>
</section>
<section id="model-limitations">
<h2><span class="section-number">1.6.1.2.5. </span>4.4. Model Limitations<a class="headerlink" href="#model-limitations" title="Link to this heading">#</a></h2>
<p>[L.1] The Markov chain <span class="math notranslate nohighlight">\(\xi\)</span> is independent of the Brownian motion that drives the underlying spot. This is mitigated by the local volatility correction <span class="math notranslate nohighlight">\(A(t, S(t))\)</span> as explained in [A.1].</p>
<p>[L.2] The Transition Generator Matrix has to satisfy equation (A.2). This is related to how the LSVMS model is implemented for Monte Carlo pricing and it makes easy to the trading desk to tune the desired structure of the instantaneous transition rate.</p>
<p>[L.3] Both the domestic and foreign interest rates are assumed to be deterministic. Therefore, when valuing long dated structures, the stochastic interest rate effect is not taken into account.</p>
<p>[L.4] The volatility of volatility <span class="math notranslate nohighlight">\(a(u)\)</span> and the transition matrix term structure <span class="math notranslate nohighlight">\(q(u)\)</span> are piecewise constant in time (Assumption [A.4₁] and [A.4₂] respectively). Although piecewise constancy is the choice maintaining the balance between accuracy and generality, there is the possibility to refine the specification of <span class="math notranslate nohighlight">\(a(u)\)</span> and <span class="math notranslate nohighlight">\(q(u)\)</span> by marking their values on a finer time grid.</p>
<p>[L.5] The number of states for the Markov chain used in production is equal to 3. The end-user can nevertheless change this value to be any desired odd value, as long as the other stochastic volatility parameters are consistent with that choice.</p>
<p>[L.6] The matrix Q is set by default at</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}
Q = \begin{pmatrix} -1 &amp; 1 &amp; 0 \\ 1/2 &amp; -1 &amp; 1/2 \\ 0 &amp; 1 &amp; -1 \end{pmatrix}
\end{split}\]</div>
</div>
<p>However, it is possible to use any other matrix which satisfies conditions (i)-(iv) from Section 4.2.1.</p>
</section>
<section id="model-inputs-and-parameters">
<h2><span class="section-number">1.6.1.2.6. </span>4.5. Model Inputs and Parameters<a class="headerlink" href="#model-inputs-and-parameters" title="Link to this heading">#</a></h2>
<p>The inputs described below are necessary for the calibration of the model.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Input / Parameter Name</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>n</p></td>
<td><p>Number of possible values for the Markov chain <span class="math notranslate nohighlight">\(\xi\)</span></p></td>
<td><p>Input</p></td>
</tr>
<tr class="row-odd"><td><p>FX spot S(0)</p></td>
<td><p>Initial FX Spot price</p></td>
<td><p>Market Data</p></td>
</tr>
<tr class="row-even"><td><p>Domestic Interest rate curves <span class="math notranslate nohighlight">\(r_d(t)\)</span></p></td>
<td><p>The interest rate curves, representing the cost of funding in the domestic market</p></td>
<td><p>Market Data</p></td>
</tr>
<tr class="row-odd"><td><p>Foreign Interest rate curves <span class="math notranslate nohighlight">\(r_f(t)\)</span></p></td>
<td><p>The interest rate curves, representing the cost of funding in the foreign market</p></td>
<td><p>Market Data</p></td>
</tr>
<tr class="row-even"><td><p>FX Analytic Volatility surface</p></td>
<td><p>The implied volatility surface</p></td>
<td><p>Market Data</p></td>
</tr>
<tr class="row-odd"><td><p>Vol-of-vol term structure <span class="math notranslate nohighlight">\(a(t)\)</span></p></td>
<td><p>The vol-of-vol of the Stochastic Volatility component of LSVMS</p></td>
<td><p>Model Input</p></td>
</tr>
<tr class="row-even"><td><p>Transition term structure <span class="math notranslate nohighlight">\(q(t)\)</span></p></td>
<td><p>Piecewise constant parameter controlling the transitions between different volatility states</p></td>
<td><p>Model Input</p></td>
</tr>
<tr class="row-odd"><td><p>Mixing parameter G</p></td>
<td><p>Deprecated parameter which scales linearly the vol-of-vol <span class="math notranslate nohighlight">\(a \to (1 − G)a\)</span>. Always equals to zero in production</p></td>
<td><p>Model Input</p></td>
</tr>
<tr class="row-even"><td><p>Transition matrix Q</p></td>
<td><p>A n × n matrix which is used with the transition parameter <span class="math notranslate nohighlight">\(q(t)\)</span> to define the transition rate matrix of the Markov chain defining the volatility states</p></td>
<td><p>Model Input</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="model-outputs">
<h2><span class="section-number">1.6.1.2.7. </span>4.6. Model Outputs<a class="headerlink" href="#model-outputs" title="Link to this heading">#</a></h2>
<p>The output is calculated using PDE as an arbitrage free and martingale consistent model. The model has the ability to get the price, first and second order risk at the same time. All calculations are returned as outputs, as described in the schema for output.</p>
</section>
<section id="feeder-models">
<h2><span class="section-number">1.6.1.2.8. </span>4.7. Feeder Models<a class="headerlink" href="#feeder-models" title="Link to this heading">#</a></h2>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Output</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Purpose</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\sigma_{market}^2\)</span></p></td>
<td><p>FX Market Implied Surface</p></td>
<td><p>Acts as calibration target and it is an input data of the model. Used for the calculation of the local volatility correction</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(\sigma_{LV/HW}^2\)</span></p></td>
<td><p>Heston Local</p></td>
<td><p>Used to cross check with this model for validation purposes. It is a reference value for the volatility cube of this model.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="conceptual-soundness-and-model-selection">
<h2><span class="section-number">1.6.1.2.9. </span>4.8. Conceptual Soundness and Model Selection<a class="headerlink" href="#conceptual-soundness-and-model-selection" title="Link to this heading">#</a></h2>
<p>As already discussed in Section 4.1, LSVMS allows to overcome the main drawbacks of LV and SV models. The key elements behind the model selection are as follows:</p>
<p>One of the main constraints in this FX mode is related to the pricing of multiple exotics with consistency in the price, hedge and risk measures. With that in mind, LSV models have proven to be the optimal solution offering both market calibration out of the box and the benefit of the stochastic volatility framework. The disadvantage of previous LSV models used in QA was their complexity (since they are solving a 2+1 dimension problem), which is both reflected in the price, risk and most importantly the execution time of the model.</p>
<p>In recent years, the concept of Markov Switching Dynamics has proven to be a powerful technique to solve 2+1 dimensional problems. In fact, the methodology could be seen as a generalization of the hidden Markov model in continuous time. This allows to approximate the stochastic volatility dynamics with a finite state Markov Chain and convert a 2+1 dimensional problem into n 1+1 dimensional problems, where n is the number of states. Under some assumptions, this can be solved much faster, with very little overhead.</p>
<p>Since 2020, both QA models and QA Risks have been developed and improved to be capable to run multiple 1+1 solvers with strong convergence, stability and accuracy in production. The GKWL model has shown a strong strength and capability for trading desk to use for XVA calculations. This is model is presented as an evolution, including a key new feature, which is the Markov Switching dynamic, to handle market calibration of both vanilla smiles and forward skew in a unique consistent framework. Before LSVMS there were two separate model approaches:</p>
<ul class="simple">
<li><p>Smile model: gives the full smile calibration. The Local Volatility model is a simple dimension with calibration out of the box.</p></li>
<li><p>Skew model: two main options have been approved in production: (1) SABR for its skew control with simple parameters, (2) Heston for its modelling capacity.</p></li>
</ul>
<p>With LSVMS both (1) and (2) features combined in a clever way to offer out of the box calibration to the vanilla market and control of the forward dynamics. The approach with LSVMS is to have a model capable to outperform for all the key risk metrics the GKWL model with, out of the box, calibration to the market.</p>
<ul class="simple">
<li><p>Smile calibration gives the full smile calibration, perfect calibration to all market inputs gives a direct comparison with any market product on pricing. LSV is price compatible by definition with vanilla market.</p></li>
<li><p>Mean reversion gives a consistent modelling of the market for short to long term maturities. We can control the vol of vol per maturity and the impact on the forward smile in the model.</p></li>
<li><p>Speed delivers the performance where a trade and a book calculation should be in the same range of time. U mean this gives the ability for the user to see calculations in a live environment compatible with the TS trading system.</p></li>
</ul>
</section>
<section id="data-processing-and-calibration">
<h2><span class="section-number">1.6.1.2.10. </span>5. Data Processing and Calibration<a class="headerlink" href="#data-processing-and-calibration" title="Link to this heading">#</a></h2>
<section id="id1">
<h3><span class="section-number">1.6.1.2.10.1. </span>5.1. Description<a class="headerlink" href="#id1" title="Link to this heading">#</a></h3>
<p>The LSVMS model is calibrated each time a trade is priced and calibration outcomes are not shared between trades. The calibration is controlled according to settings specified in Section 5.1.1.</p>
<p>For the sake of simplicity, we start this section by denoting X := log(S) as, without loss of generality, the calibration process will be done on log-spot space. The LSV calibration routine is done in two main steps. At first the Stochastic Volatility parameters are marked by traders to match directly market observable prices of path-dependent options such as DNTs. This, as opposed to an internal calibration routine, provides transparency to the trading desk with the ability to see the actual vol-of-vol values.</p>
<p>Once the stochastic volatility parameters are marked, the calibration of the local volatility factor is done using a forward induction method, solving a PDE forward in time that relies on Gyongy’s lemma [19]:</p>
<p>Lemma 5.1.1. For a given asset price process Z(t) with an arbitrary adapted drift μt and stochastic volatility σt,</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
dZ(t) = μt dt + σt dWt,
\]</div>
</div>
<p>there exists a Markovian asset price process Z̃(t) with a deterministic local volatility σ and local drift μ̃</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
dZ̃(t) = μ̃(t, Z̃(t))dt + σ̃(t, Z̃(t))dWt,
\]</div>
</div>
<p>having the same marginal distributions, if the corresponding drift μ̃ and local volatility σ̃ equal</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
μ̃(t, z) = \mathbb{E}[ μ_t | Z_t = z ],
\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
σ̃^2(t, z) = \mathbb{E}[ σ_t^2 | Z_t = z ].
\]</div>
</div>
<p>By applying the above lemma to S we obtain</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
μ(t, s) = \mathbb{E}[ r_{d,f}(t) | S(t) = s ] = r_{d,f}(t),
\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
σ^2(t, s) = \mathbb{E}[ \Sigma^2(t)A^2(t, S(t)) | S(t) = s ] = A^2(t, s)\mathbb{E}[ \Sigma^2(t) | S(t) = s ],
\]</div>
</div>
<p>where (5.1.1) comes from the fact that <span class="math notranslate nohighlight">\(r_{d,f}(t)\)</span> is assumed to be deterministic. Dupire and Derman and Kani on the other hand (see [17]), have shown that the deterministic local volatility function <span class="math notranslate nohighlight">\(σ_{Dupire}(t, x)\)</span> of an LV model able to match the observed vanilla market prices can be uniquely determined as</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\sigma^2_{Dupire}(T, K) = 2 \frac{\frac{∂C(K,T)}{∂T} + r_d(T)K\frac{∂C(K,T)}{∂K} + r_f(T)C(K,T)}{K^2 × \frac{∂^2C}{∂K^2}}
\]</div>
</div>
<p>where C(K, T) is the current market value of a call option with strike K and maturity T and <span class="math notranslate nohighlight">\(r_f(T)\)</span> being the deterministic short rate as derived from the foreign discounting curve. By combining (5.1.2) and (5.1.3), this means that we need to solve</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\sigma^2_{Dupire}(t, x) = A^2(t, x)\mathbb{E}[ \Sigma^2(t) | S(t) = x ].
\]</div>
</div>
<p>In practice the local volatility on the left hand side of (5.1.4) comes in terms of implied variance (for more details on the local volatility implementation, please refer to [11]). In addition to that, it is sampled on a log-spot space. The right hand side of (5.1.4) is derived by means of the Fokker Planck equation, which we describe briefly for the sake of completeness.</p>
<p>Given a SDE</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\frac{dY_t}{Y_t} = μ(t)dt + σ(t, Y_t)dW_t,
\]</div>
</div>
<p>the probability density that at time t the process Y takes the value y, which we denote by p(t, y), is the solution to the following PDE</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\frac{∂}{∂t}p(t, y) = -\frac{∂}{∂y}(yμ(t)p(t, y)) + \frac{1}{2}\frac{∂^2}{∂y^2}(y^2σ(t, y)^2p(t, y)),
\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
p(0, y) = δ_{(0)}(y),
\]</div>
</div>
<p>with <span class="math notranslate nohighlight">\(x \mapsto δ_{x_0}(x)\)</span> denoting the Dirac delta function at the point <span class="math notranslate nohighlight">\(x_0\)</span>. When applied to the dynamics of <span class="math notranslate nohighlight">\(X = \log(S)\)</span>, equation (5.1.5) translates into a system of three PDEs, corresponding to each state of the Markov chain <span class="math notranslate nohighlight">\(\xi\)</span></p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\frac{∂p_i(t, x)}{∂t} + \frac{∂}{∂x}\left[\left(r_{d,f}(t) - \frac{1}{2}A(t, x)^2σ_i(t)^2 \right) p_i(t, x)\right] - \frac{1}{2}\frac{∂^2}{∂x^2}[A(t, x)^2σ_i^2(t)p_i(t, x)] = 0,
\]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(p_i(t, x) := f_{X(t),ξ(t)}(x, i)\)</span> and <span class="math notranslate nohighlight">\(f_{X(t),ξ(t)}\)</span> stands for the joint density of the vector <span class="math notranslate nohighlight">\((X(t), ξ(t))\)</span>.</p>
<p>The approach to compute <span class="math notranslate nohighlight">\(\mathbb{E}[ σ_{ξ(t)}(t)^2 | X(t) = x ]\)</span> from (5.1.4) is to solve together the system of PDEs in (5.1.6) numerically, marching forward time step by time step and after each iteration of the solution of (5.1.6) update the function <span class="math notranslate nohighlight">\(A(t, X(t))\)</span> as</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
A(t, x)^2 = \frac{\sigma^2_{Dupire}(t, x)}{\mathbb{E}[ \sigma_{ξ(t)}(t)^2 | X(t) = x ]}
\]</div>
</div>
<p>This procedure is explained in detail in [16] for general LSV models and we describe it here for the LSVMS model. We start by making the following simplification, which is approximating <span class="math notranslate nohighlight">\(P(s, t)\)</span> from (4.2.1) by</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
P(s, t) \approx I + Q(s, t)
\]</div>
</div>
<p>where I stands for the identity matrix. Such an approximation is sufficient for PDE pricing as the time steps are small enough and hence justify a first order approach.</p>
<p>Given the time FX Volatility time grid {<span class="math notranslate nohighlight">\(t_0, ... , t_M\)</span>} and space grid {<span class="math notranslate nohighlight">\(x_0, ... , x_N\)</span>}, the calibration algorithm is described as follow:</p>
<ol class="arabic">
<li><p>At time <span class="math notranslate nohighlight">\(t_0\)</span> both S and Σ are known and as a consequence the initial local volatility correction <span class="math notranslate nohighlight">\(A(t_0, x)\)</span> is set to the Dupire local volatility divided by the initial stochastic volatility Σ(0) = 1. Therefore the initial condition for the density <span class="math notranslate nohighlight">\(f_{X(0),ξ(0)}\)</span> should be the delta function</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[f_{X(0),ξ(0)} = δ_{x(0),1}\]</div>
</div>
<p>This is discretized on the grid in the following way. On the upper and lower volatility states we have <span class="math notranslate nohighlight">\(p_1(0, x) = p_3(0, x) = 0\)</span> for every x. On the other hand, assuming <span class="math notranslate nohighlight">\(X(0) \in [x_{n-1}, x_n]\)</span> for some <span class="math notranslate nohighlight">\(n \in 0^2, ..., N\)</span>, we set</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[p_2(0, x_{n-1}) = \frac{x_n - X(0)}{x_n - x_{n-1}}\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[p_2(0, x_n) = \frac{X(0) - x_{n-1}}{x_n - x_{n-1}}\]</div>
</div>
</li>
<li><p>Given <span class="math notranslate nohighlight">\(A(t_k, x)\)</span>, solve for every <span class="math notranslate nohighlight">\(i = 1, 2, 3\)</span> the Forward Fokker Planck PDE from time <span class="math notranslate nohighlight">\(t_k\)</span> to <span class="math notranslate nohighlight">\(t_{k+1}\)</span> which gives the probability density function at time <span class="math notranslate nohighlight">\(t_{k+1}\)</span>.</p></li>
</ol>
<p>Since the stochastic volatility can move from one state to another, the transition between the three states is applied such that:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[p_i(t_{k+1},x) = \sum_{j=1}^{3} P_{ji} \cdot p_j(t_{k+1},x)\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[= \sum_{j=1}^{3} \left( \delta_{ji} + Q_{ji} \int_{t_k}^{t_{k+1}} q(s)ds \right) p_j(t_{k+1},x)\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[= p_i(t_{k+1},x) + \sum_{j=1}^{3} \left( Q_{ji} \int_{t_k}^{t_{k+1}} q(s)ds \right) p_j(t_{k+1},x),\]</div>
</div>
<p>where (5.1.7) just uses the first order approximation of <span class="math notranslate nohighlight">\(P_B(t_k, t_{k+1})\)</span> and by abuse of notation <span class="math notranslate nohighlight">\(\delta_{ji}\)</span> stands for the Kronecker delta. After this interfacing step the values of <span class="math notranslate nohighlight">\(p_j(t_{k+1},x)\)</span> are updated to <span class="math notranslate nohighlight">\(p_i'(t_{k+1},x)\)</span>.</p>
<ol class="arabic simple" start="3">
<li><p>Given the calculated probability density function, calculate:</p></li>
</ol>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\mathbb{E}\left[ \Sigma(t_{k+1})^2 | X(t_{k+1}) = x \right] = \frac{\sum_{i=1}^3 p_i(t_{k+1},x)\sigma_i^2(t)}{\sum_{i=1}^3 p_i(t_{k+1},x)}\]</div>
</div>
<ol class="arabic simple" start="4">
<li><p>Deduce using Gyongy’s lemma:</p></li>
</ol>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[A(t_{k+1}, x) = \sqrt{\frac{\sigma^2_{Dupire}(t_{k+1},x)}{\mathbb{E}[\Sigma(t_{k+1})^2|X(t_{k+1}) = x]}}\]</div>
</div>
<ol class="arabic simple" start="5">
<li><p>Continue the iteration till last time step.</p></li>
</ol>
<p>The forward PDEs during the calibration are solved using an implicit time scheme, i.e. the backward Euler method, to achieve stability. This is a generally recognized standard for the solution of the Fokker Planck equations. For this reason, the total number of Rannacher steps in the input below is equal to zero (we refer to [21] for definition and implementation of Rannacher stepping for the generic PDE solver used in FX).</p>
</section>
<section id="calibration-input-parameters">
<h3><span class="section-number">1.6.1.2.10.2. </span>5.1.1. Calibration Input Parameters<a class="headerlink" href="#calibration-input-parameters" title="Link to this heading">#</a></h3>
<p>The inputs and parameters below are used for calibration and are part of the LVCorrectionInstructionsPP.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description / Purpose</p></th>
<th class="head"><p>Default Setting</p></th>
<th class="head"><p>Recommended Value (Range)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>CalibrationEndDate</p></td>
<td><p>Last calibration date for LV correction component</p></td>
<td><p>Last-TradePayment-Date</p></td>
<td><p>It is automatically set to the expiry date of the trade</p></td>
</tr>
<tr class="row-odd"><td><p>DateOptions.TotalNumberOfTimeSteps</p></td>
<td><p>Number of time steps for the forward induction PDE</p></td>
<td><p>N/A</p></td>
<td><p>300/600</p></td>
</tr>
<tr class="row-even"><td><p>DateOptions.TotalNumberOfRannacherSteps</p></td>
<td><p>Number of rannacher steps in the PDE</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>PDEGridSettings[0].PDEGridName</p></td>
<td><p>Name of the grid observable in the PDE solver</p></td>
<td><p>N/A</p></td>
<td><p>SpotFX</p></td>
</tr>
<tr class="row-even"><td><p>PDEGridSettings[0].NumberOfSpaceSteps</p></td>
<td><p>Number of spatial grid steps in the spatial direction specified above (“SpotFX”)</p></td>
<td><p>N/A</p></td>
<td><p>200/400</p></td>
</tr>
<tr class="row-odd"><td><p>PDEGridSettings[0].NumberOfSpaceStdDevs</p></td>
<td><p>The number of space standard deviations</p></td>
<td><p>N/A</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-even"><td><p>PDEGridSettings[0].UseNonUniformGrid</p></td>
<td><p>Whether to use a non uniform grid or not</p></td>
<td><p>N/A</p></td>
<td><p>True</p></td>
</tr>
</tbody>
</table>
</div>
<p>As it can be seen in the above table, we make use of a non uniform grid for the solution of the system of forward PDEs. In fact the initial condition of (5.1.6) is highly singular and having a nonuniform mesh, stacking more gridpoints around (log(S(0)), Σ(0)), brings a great benefit to the stability of the solution. It is also worth highlighting that the total number of Time and Spot steps depends on the expiry of the particular trade under consideration.</p>
</section>
</section>
<section id="alternative-approaches">
<h2><span class="section-number">1.6.1.2.11. </span>5.2. Alternative Approaches<a class="headerlink" href="#alternative-approaches" title="Link to this heading">#</a></h2>
<p>The calibration steps for the local volatility correction are standard for a model combining local and stochastic volatility. In particular, the forward induction technique described in Section 5.1 represents a market standard for most investment banks.</p>
<p>Possible alternative approaches would be related to the determination of the stochastic volatility parameters of the model. Instead of being marked by the trading desk, the vol-of-vol term structure could be the outcome of an internal calibration routine. This could be done by introducing another piecewise constant function γ(t), sampled at the same tenors as the vol-of-vol, which we would use to redefine the instantaneous stochastic volatility as</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\Sigma(t) = \gamma(t)\sigma_{\xi(t)}(t).\]</div>
</div>
<p>At this point we could loop over the calibration dates {<span class="math notranslate nohighlight">\(T_1,...,T_M\)</span>}, bootstrapping the values of γ(<span class="math notranslate nohighlight">\(T_i\)</span>) and a(<span class="math notranslate nohighlight">\(T_i\)</span>) to match the value of certain vanilla products, as ATM options and 25 delta strangles for example. Although all of this is feasible, the trading desk prefers marking directly the stochastic volatility parameters as it provides more transparency, with the ability to see in particular the actual vol-of-vol values used directly. In addition to that, it does not rely on any internal calibration algorithm, further avoiding the chance of failures.</p>
</section>
<section id="quality-control">
<h2><span class="section-number">1.6.1.2.12. </span>5.3. Quality control<a class="headerlink" href="#quality-control" title="Link to this heading">#</a></h2>
<p>QA deals with the local volatility calibration failures in a common and standard way between the different models involving a local volatility component. In case of a failure to find the local vol correction at certain spot points and certain time, we allow first that the values at the failed points can be interpolated or extrapolated using the successful calibrated points. The extrapolation style outside successful calibration points is flat. The interpolation uses cubic splines and is implemented internally in the QA Library.</p>
<p>If no successful calibration points are found, then a floor volatility level is applied. The latter is defaulted to 0.0%².</p>
<p>The end user has the ability to turn on exception messages whenever a step of the forward PDE fails, by setting the flag ExceptionOnLVFailure to True.</p>
</section>
<section id="limitations">
<h2><span class="section-number">1.6.1.2.13. </span>5.4. Limitations<a class="headerlink" href="#limitations" title="Link to this heading">#</a></h2>
<p>[L.7] As the local volatility correction is calibrated to the smile volatility surface, there is a direct dependence on the quality of the input market data. If the volatility surface implies noisy</p>
</section>
<section id="numerical-implementation">
<h2><span class="section-number">1.6.1.2.14. </span>6. Numerical Implementation<a class="headerlink" href="#numerical-implementation" title="Link to this heading">#</a></h2>
<p>The pricing is done using finite-difference method to solve the partial differential equations, using a framework that is shared by all PDE pricing models in FX. For details of the numerical PDE scheme and discretization method, see [21] and [25].</p>
<section id="id2">
<h3><span class="section-number">1.6.1.2.14.1. </span>6.1. Description<a class="headerlink" href="#id2" title="Link to this heading">#</a></h3>
<p>The QA Generic PDE solver developed in QA is the engine used to solve the PDE. Similarly to what we described for the calibration, the planes method is used in pricing. Indeed, the plane levels are used to represent the different volatility states of the stochastic instantaneous volatility within the model.</p>
<p>Consider a derivative with final payoff f(S(T), T) at time T. We denote <span class="math notranslate nohighlight">\(V_i(X, t)\)</span> the value at time t of such derivative when the volatility is in state i, i.e. Σ(t) = σ_i(t). Through Feynman-Kac theorem we have</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\frac{\partial V_i}{\partial t} + \left(r_{d,f}(t) - \frac{1}{2}A(t, X)^2\Sigma(t)^2 \right) \frac{\partial V_i}{\partial X} + \frac{1}{2}A(t, X)^2\Sigma(t)^2\frac{\partial^2 V_i}{\partial X^2} - r_d(t)V_i = 0,\]</div>
</div>
<p>with initial condition V(exp(X_T), T) = f(exp(X_T), T), where X is the state variable representing log(S) the logarithm transform of the FX spot rate and r_d(t) deterministic short rate as derived from the domestic discounting curve. To take into account the fact that transitions are allowed between different volatility states, interfacing is done between the PDE solutions at the different planes as follows. Let us suppose that we rolled the PDE backwards from time t to time t - δt. At time t - δt, simultaneously for every i we have the following:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[V_i^I(t-\delta t) = \sum_{j=1}^{3} P_{ij}V_j(t-\delta t)\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[= \sum_{j=1}^{3} \left( \delta_{ij} + Q_{ij} \int_{t-\delta t}^{t} q(s)ds \right) V_j(t-\delta t)\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[= V_i(t-\delta t) + \sum_{j=1}^{3} \left( Q_{ij} \int_{t-\delta t}^{t} q(s)ds \right) V_j(t-\delta t),\]</div>
</div>
<p>where (6.1.1) uses again a first order approximation of <span class="math notranslate nohighlight">\(p_{ij}(t_k, t_{k+1})\)</span> and by abuse of notation <span class="math notranslate nohighlight">\(\delta_{ij}\)</span> stands for the Kronecker delta. The value of <span class="math notranslate nohighlight">\(V_j(t-\delta t)\)</span> is then updated to <span class="math notranslate nohighlight">\(V_i'(t-\delta t)\)</span>, for every i = 1, 2, 3. The discretization scheme used is Crank Nicolson which achieves a fast convergence being second order in time (this is implemented internally in the QA Library, we refer to [21] and the references therein).</p>
</section>
<section id="inputs">
<h3><span class="section-number">1.6.1.2.14.2. </span>6.2. Inputs<a class="headerlink" href="#inputs" title="Link to this heading">#</a></h3>
<section id="reference-data-market-data-and-other-data-inputs">
<h4><span class="section-number">1.6.1.2.14.2.1. </span>6.2.1. Reference Data: Market Data and Other Data Inputs<a class="headerlink" href="#reference-data-market-data-and-other-data-inputs" title="Link to this heading">#</a></h4>
<p>The inputs are the same as in case of the model and are listed in Section 4.5.</p>
<section id="data-quality-and-data-checks">
<h5><span class="section-number">1.6.1.2.14.2.1.1. </span>6.2.1.1. Data Quality and Data Checks<a class="headerlink" href="#data-quality-and-data-checks" title="Link to this heading">#</a></h5>
<p>The calibration and pricing quality relies on the quality of the input market data and on the condition that the volatility surface is arbitrage free. Please see [3] for information on the quality check for the FX implied volatility surface calibration. On top of this, as explained throughout the previous sections, an important role is played by the stochastic volatility parameters, which are marked directly by the trading desk.</p>
</section>
</section>
<section id="other-inputs">
<h4><span class="section-number">1.6.1.2.14.2.2. </span>6.2.2. Other Inputs<a class="headerlink" href="#other-inputs" title="Link to this heading">#</a></h4>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Example Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>PDEGridSettings[0].PDEGridName</p></td>
<td><p>Name of the grid observable in the PDE solver</p></td>
<td><p>spotFX</p></td>
</tr>
<tr class="row-odd"><td><p>PDEGridSettings[0].NumberOfSpaceStdDevs</p></td>
<td><p>The number of space standard deviations</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-even"><td><p>PDEGridSettings[0].NumberOfSpaceSteps</p></td>
<td><p>The number of space steps</p></td>
<td><p>200</p></td>
</tr>
<tr class="row-odd"><td><p>PDEGridSettings[0].UseNonUniformGrid</p></td>
<td><p>Whether to use a non uniform grid or not</p></td>
<td><p>True</p></td>
</tr>
<tr class="row-even"><td><p>PDEGridSettings[1].PDEGridName</p></td>
<td><p>Name of the grid observable in the PDE solver, in this case, the auxiliary variable if needed</p></td>
<td><p>PathDependentVariable</p></td>
</tr>
<tr class="row-odd"><td><p>PDEGridSettings[1].NumberOfSpaceStdDevs</p></td>
<td><p>The number of space standard deviations</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-even"><td><p>PDEGridSettings[1].NumberOfSpaceSteps</p></td>
<td><p>The number of space steps</p></td>
<td><p>200</p></td>
</tr>
<tr class="row-odd"><td><p>PDEGridSettings[1].UseNonUniformGrid</p></td>
<td><p>Whether to use a non uniform grid or not</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-even"><td><p>NumeraireCcy</p></td>
<td><p>The numeraire currency</p></td>
<td><p>Domestic Currency</p></td>
</tr>
<tr class="row-odd"><td><p>TotalNumberOfTimeSteps</p></td>
<td><p>The number of time steps</p></td>
<td><p>300</p></td>
</tr>
<tr class="row-even"><td><p>TotalNumberOfRannacherSteps</p></td>
<td><p>The number of Rannacher steps</p></td>
<td><p>30</p></td>
</tr>
</tbody>
</table>
</div>
<p>These are the parameter controlling the PDE grid settings and PDE solution algorithms at pricing time. They are contained in the PropertyPage FXPDEPricingInstructionsPP.
As for the calibration inputs, the total number of Time and Spot steps depends on the expiry of the trade: the longer the maturity, the greater those numbers would need to be. Further details can be found in Section 8.2.1.</p>
</section>
</section>
<section id="id3">
<h3><span class="section-number">1.6.1.2.14.3. </span>6.3. Limitations<a class="headerlink" href="#id3" title="Link to this heading">#</a></h3>
<p>[L.9] Discretization error in space due to derivative approximation. Since the Crank Nicolson scheme is used, the discretization error is reduced by increasing the number of spot steps.</p>
<p>[L.10] Discretization error in time due to discrete time stepping method. Since the Crank Nicolson scheme is used, the discretization error is reduced by increasing the number of time steps.</p>
<p>[L.11] Extra complexity needed to price path dependent products. This is a limitation common to any PDE solver, that is solved through the introduction of an auxiliary observable variable, which takes care of the path dependency. The size of problems is increased linearly with the number of additional states required.</p>
</section>
</section>
<section id="risk-measures">
<h2><span class="section-number">1.6.1.2.15. </span>7. Risk Measures<a class="headerlink" href="#risk-measures" title="Link to this heading">#</a></h2>
<p>Risks are calculated externally by QARisk2 risk engine. More details such as finite-difference style and bump sizes can be found on QA wiki page <a class="reference external" href="http://qa.barcapint.com:8080/wiki/QARisk_2">http://qa.barcapint.com:8080/wiki/QARisk_2</a>.</p>
<section id="id4">
<h3><span class="section-number">1.6.1.2.15.1. </span>7.1. Description<a class="headerlink" href="#id4" title="Link to this heading">#</a></h3>
<p>LSVMS outputs a calibrated model. When used for pricing on trade it calculates present value (PV) only. The risk engine modifies market data e.g. spot or implied volatility values based on the IT system stored risk discretion such as style and bump values and calls LSVMS to retrieve PV. The aggregation of PV values and calculation of risks is done in the risk engine. All available single asset risks described in [3] can be applied to LSVMS.</p>
</section>
<section id="id5">
<h3><span class="section-number">1.6.1.2.15.2. </span>7.2. Inputs<a class="headerlink" href="#id5" title="Link to this heading">#</a></h3>
<p>We refer to <a class="reference external" href="http://qa.barcapint.com:8080/wiki/QARisk_2">http://qa.barcapint.com:8080/wiki/QARisk_2</a>. In detail, please note that [3] provides an extensive description of the configuration inputs for each available risk.</p>
</section>
<section id="id6">
<h3><span class="section-number">1.6.1.2.15.3. </span>7.3. Limitations<a class="headerlink" href="#id6" title="Link to this heading">#</a></h3>
<p>[L.13] As in all models involving a smile volatility surface, failures can occur in risk if the original FX volatility surface is on the verge of breaking. This means that although the non-bumped volatility surface builds, a small change in the market data input can cause it to break in the bumped state. It is worth noticing however that the stability of the volatility surface has been extensively tested in Section 9.3 of [3], where the new feature allowing for constant moneyness interpolation proved to sensibly improve the quality of the volatility surface itself. This in turns reduces the probability of failures in the construction of the bumped volatility surface. In addition to the above, the desk has a validation put in place before publishing the volatility surface in order to minimize the occurrence of these failures (see Section 5.3) at pricing time. Moreover, as mentioned in Section 5.3, the end user has the ability to turn on exception messages whenever a step of the forward PDE scheme used for calibration fails, by setting the flag ExceptionOnLVFailure to True.</p>
</section>
</section>
<section id="testing-and-outcome-analyses">
<h2><span class="section-number">1.6.1.2.16. </span>8. Testing and Outcome Analyses<a class="headerlink" href="#testing-and-outcome-analyses" title="Link to this heading">#</a></h2>
<p>We pick a set of representative trades for testing. All trades start and are valued on 3rd January 2018. The underlying rate is EURUSD and the notional is 1, 000, 000 Euro. Market data inputs are as of London Close on this date. All model settings are the ones used in production, which have been specified in Sections 4.5 and 6.2.2. We use the following four type of instruments.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Definition</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Vanilla</p></td>
<td><p>European Put and Call options on different expiries and strike levels</p></td>
</tr>
<tr class="row-odd"><td><p>DNT</p></td>
<td><p>Double No Touch on different expiries and barrier levels</p></td>
</tr>
<tr class="row-even"><td><p>OT</p></td>
<td><p>One Touch on different expiries and barrier levels. We consider only Upper Barriers.</p></td>
</tr>
<tr class="row-odd"><td><p>KO</p></td>
<td><p>Knock Out Call options on different expiries and barrier levels. We consider only Upper Barriers. The strike of the call option is set to ATM Forward.</p></td>
</tr>
</tbody>
</table>
</div>
<p>All trades are cash settled in the domestic currency and the delivery date is standard 2 business days after expiry.</p>
<section id="testing-plan">
<h3><span class="section-number">1.6.1.2.16.1. </span>8.1. Testing Plan<a class="headerlink" href="#testing-plan" title="Link to this heading">#</a></h3>
<p>In this section we present an overview of all the tests that we have performed by grouping them according themes that logically cover the main features of the LSVMS model presented in Chapters 4, 5 and 6. The tests are grouped in these main themes:</p>
<ol class="arabic simple">
<li><p>Calibration Correctness: Repricing of FX volatility inputs.</p></li>
<li><p>Consistency with LV in the case of low vol-of-vol.</p></li>
<li><p>CCAR Scenario Stress testing.</p></li>
<li><p>Sensitivity Analysis with respect to market inputs.</p></li>
<li><p>Sensitivity Analysis with respect to model parameters.</p></li>
<li><p>Forward Smile comparison between LV and LSVMS model.</p></li>
<li><p>Impact of Transition Matrix Approximation</p></li>
</ol>
<p>In the following subsections, each covering one of the themes listed above, we provide the specific test performed, the official tests type that correspond to the official test grouping of the sections that will follow later in the chapter (like ‘Accuracy and Convergence’, ‘Stability’ or ‘Boundary Cases’, etc) and the corresponding section in the main part of the document that describes the feature being targeted by the test.</p>
<section id="calibration-correctness-repricing-of-fx-volatility-inputs">
<h4><span class="section-number">1.6.1.2.16.1.1. </span>8.1.1. Calibration Correctness: Repricing of FX Volatility Inputs<a class="headerlink" href="#calibration-correctness-repricing-of-fx-volatility-inputs" title="Link to this heading">#</a></h4>
<p>We test the quality of the calibration of the local volatility correction A(t, S(t)) of the LSVMS model. We do this by pricing vanilla options with maturities ranging from 1W to 20Y, divided between short-dated {1W, 1M, 2M, 3M, 6M, 1Y, 2Y} and long dated {3Y, 4Y, 5Y, 7Y, 10Y, 15Y, 20Y}, and strikes corresponding to ATM, 25D/10D points. For each combination of strike and expiry, we compute the price from LSVMS along with the analytic on-smile price. What we compare is not the PV itself,</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Test ID</p></th>
<th class="head"><p>Test Cases</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Section</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Test 1</p></td>
<td><p>Compare the absolute error in implied volatility between LSVMS and the analytic on-smile price for short dated options at ATM and 25D/10D strikes</p></td>
<td><p>Accuracy and Convergence</p></td>
<td><p>5.1</p></td>
</tr>
<tr class="row-odd"><td><p>Test 2</p></td>
<td><p>As in Test 1, using a constant vol-of-vol term structure of 0.0001 and comparing the accuracy also against the LV model</p></td>
<td><p>Accuracy and Convergence</p></td>
<td><p>5.1</p></td>
</tr>
<tr class="row-even"><td><p>Test 3</p></td>
<td><p>As in Test 1, shifting the vol-of-vol term structure on the following ladder {-40%, -20%, +20%, +40%, +60%, +80%}</p></td>
<td><p>Accuracy and Convergence</p></td>
<td><p>5.1</p></td>
</tr>
<tr class="row-odd"><td><p>Test 4</p></td>
<td><p>Show the convergence of the worst case from Test 3 by increasing the number of spot steps</p></td>
<td><p>Accuracy and Convergence</p></td>
<td><p>5.1</p></td>
</tr>
<tr class="row-even"><td><p>Test 5</p></td>
<td><p>Using the converged number of spot steps from Test 4, show the convergence of the absolute error against the analytic pricer by increasing the number of time steps</p></td>
<td><p>Accuracy and Convergence</p></td>
<td><p>5.1</p></td>
</tr>
<tr class="row-odd"><td><p>Test 6</p></td>
<td><p>As in Test 1, shifting the transition q term structure on the following ladder {+10%, +20%, +40%, +60%, +8%}</p></td>
<td><p>Accuracy and Convergence</p></td>
<td><p>5.1</p></td>
</tr>
<tr class="row-even"><td><p>Test 7</p></td>
<td><p>As in Test 1, for long-dated vanillas</p></td>
<td><p>Accuracy and Convergence</p></td>
<td><p>5.1</p></td>
</tr>
<tr class="row-odd"><td><p>Test 8</p></td>
<td><p>As in Test 2, for long-dated vanillas</p></td>
<td><p>Accuracy and Convergence</p></td>
<td><p>5.1</p></td>
</tr>
<tr class="row-even"><td><p>Test 9</p></td>
<td><p>As in Test 3, for long-dated vanillas</p></td>
<td><p>Accuracy and Convergence</p></td>
<td><p>5.1</p></td>
</tr>
<tr class="row-odd"><td><p>Test 10</p></td>
<td><p>As in Test 4, for long-dated vanillas</p></td>
<td><p>Accuracy and Convergence</p></td>
<td><p>5.1</p></td>
</tr>
<tr class="row-even"><td><p>Test 11</p></td>
<td><p>As in Test 5, for long-dated vanillas</p></td>
<td><p>Accuracy and Convergence</p></td>
<td><p>5.1</p></td>
</tr>
<tr class="row-odd"><td><p>Test 12</p></td>
<td><p>As in Test 6, for long-dated vanillas</p></td>
<td><p>Accuracy and Convergence</p></td>
<td><p>5.1</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="consistency-with-lv-in-the-case-of-low-vol-of-vol">
<h4><span class="section-number">1.6.1.2.16.1.2. </span>8.1.2. Consistency with LV in the case of low vol-of-vol<a class="headerlink" href="#consistency-with-lv-in-the-case-of-low-vol-of-vol" title="Link to this heading">#</a></h4>
<p>In this test we ensure that LSVMS degenerates to the Local Volatility model when the vol-of-vol is close to zero. In this case in fact, the stochasticity of the instantaneous spot volatility is approximatively reduced to zero.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Test ID</p></th>
<th class="head"><p>Test Cases</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Section</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Test 13</p></td>
<td><p>Compare the PVs of OTs, DNTs and KOs obtained using LSVMS, with constant vol-of-vol set to 0.0001, and LV</p></td>
<td><p>Boundary Case</p></td>
<td><p>4.2.2</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="forward-smile-comparison-between-lv-and-lsvms-model">
<h4><span class="section-number">1.6.1.2.16.1.3. </span>8.1.6. Forward Smile comparison between LV and LSVMS model<a class="headerlink" href="#forward-smile-comparison-between-lv-and-lsvms-model" title="Link to this heading">#</a></h4>
<p>The purpose of Test 26 is to compare the properties of the forward smile as reflected by vanilla PVs at the LV and LSVMS model.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Test ID</p></th>
<th class="head"><p>Test Cases</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Section</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Test 26</p></td>
<td><p>We look at 3-month forward vanilla options with various expiries, from 3M, 6M, 9M, 1Y, 2Y, 3Y, 5Y and maturities {3M + expiry}. We use vol-of-vol term structure with increasing values for the expiries mentioned. The forward smile is observed by pricing ATM, 25D Put, 25D Call, 10D Put, 10D Call vanilla options. The differences of LV model vs LSVMS model is observed.</p></td>
<td><p>Benchmarking</p></td>
<td><p>4.2.3</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="impact-of-transition-matrix-approximation">
<h4><span class="section-number">1.6.1.2.16.1.4. </span>8.1.7. Impact of Transition Matrix Approximation<a class="headerlink" href="#impact-of-transition-matrix-approximation" title="Link to this heading">#</a></h4>
<p>We test the impact of transition matrix approximation (exponential first order approximation v.s. no approximation) on three types of trades: DNT, OT and KO.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Test ID</p></th>
<th class="head"><p>Test Cases</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Section</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Test 26</p></td>
<td><p>We look at the impact of transition matrix approximation for different vol-of-vol relative bumps on PV of a OT trade</p></td>
<td><p>Sensitivity Analysis</p></td>
<td><p>5.1 and 6.1</p></td>
</tr>
<tr class="row-odd"><td><p>Test 27</p></td>
<td><p>As in Test 26, for a DNT trade</p></td>
<td><p>Sensitivity Analysis</p></td>
<td><p>5.1 and 6.1</p></td>
</tr>
<tr class="row-even"><td><p>Test 28</p></td>
<td><p>As in Test 26, for a KO trade</p></td>
<td><p>Sensitivity Analysis</p></td>
<td><p>5.1 and 6.1</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<section id="accuracy-robustness-and-stability-testing">
<h3><span class="section-number">1.6.1.2.16.2. </span>8.2. Accuracy, Robustness and Stability Testing<a class="headerlink" href="#accuracy-robustness-and-stability-testing" title="Link to this heading">#</a></h3>
<p>In this section we test the quality of the calibration fit of LSVMS model. We present here the results for vanillas re-pricing with short and long dated expiries.</p>
<section id="id7">
<h4><span class="section-number">1.6.1.2.16.2.1. </span>8.2.1. Calibration Correctness: Repricing of FX Volatility Inputs<a class="headerlink" href="#id7" title="Link to this heading">#</a></h4>
<p>For calibration and pricing of short dated vanillas we use the following PDE settings, which are standard in production.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Settings</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Number of time steps</p></td>
<td><p>300</p></td>
</tr>
<tr class="row-odd"><td><p>Number of FX space steps</p></td>
<td><p>200</p></td>
</tr>
<tr class="row-even"><td><p>Number of FX space standard deviations</p></td>
<td><p>5</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 8.8: PDE settings for pricing of short dated vanillas.</p>
<p>For long dated vanillas we adopt instead the following settings.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Settings</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Number of time steps</p></td>
<td><p>600</p></td>
</tr>
<tr class="row-odd"><td><p>Number of FX space steps</p></td>
<td><p>300</p></td>
</tr>
<tr class="row-even"><td><p>Number of FX space standard deviations</p></td>
<td><p>5</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 8.9: PDE settings for pricing of long dated vanillas.</p>
<p>As a reference, the bid-ask spread on a 1Y ATM vanilla is 25 bps.</p>
<section id="test-1">
<h5><span class="section-number">1.6.1.2.16.2.1.1. </span>8.2.1.1. Test 1<a class="headerlink" href="#test-1" title="Link to this heading">#</a></h5>
<p>LSVMS base parameters</p>
<p><img alt="LSVMS base parameters" src="market/LSV/FX LSV Markov Switching PDE/Fig/placeholder2.jpg" /></p>
<p>The errors are bounded by 2 bps.</p>
</section>
<section id="test-2">
<h5><span class="section-number">1.6.1.2.16.2.1.2. </span>8.2.1.2. Test 2<a class="headerlink" href="#test-2" title="Link to this heading">#</a></h5>
<p>Here we set a vol-of-vol close to zero, namely 0.0001, so that LSVMS collapses to a pure LV model. As a reference, we compare the results to those from the local volatility model.</p>
<p>LSVMS - Vol of vol set to 0.0001</p>
<p><img alt="LSVMS - Vol of vol set to 0.0001" src="market/LSV/FX LSV Markov Switching PDE/Fig/placeholder2.jpg" /></p>
<p>LV vs LSVMS with 0.0001 vol of vol</p>
<p><img alt="LV vs LSVMS with 0.0001 vol of vol" src="market/LSV/FX LSV Markov Switching PDE/Fig/placeholder2.jpg" /></p>
<p>As we can see from the two plots above, we get an excellent fit to vanillas in LSVMS with very low vol-of-vol. The errors in implied volatilities are similar to the errors found in a LV model and remain within a pricing point.</p>
<p>LSVMS - Vol of vol relative shift +40%</p>
<p><img alt="LSVMS - Vol of vol relative shift +40%" src="market/LSV/FX LSV Markov Switching PDE/Fig/placeholder2.jpg" /></p>
<p>LSVMS - Vol of vol relative shift +60%</p>
<p><img alt="LSVMS - Vol of vol relative shift +60%" src="market/LSV/FX LSV Markov Switching PDE/Fig/placeholder2.jpg" /></p>
<p>LSVMS - Vol of vol relative shift +80%</p>
<p><img alt="LSVMS - Vol of vol relative shift +80%" src="market/LSV/FX LSV Markov Switching PDE/Fig/placeholder2.jpg" /></p>
<p>For the different vol-of-vol parameter values, we get a very good agreement between the LSVMS model vanilla prices and the analytic vanilla prices. When the vol-of-vol becomes high (+60% and +80% cases), the pricing numerical error increases but it is still well below the bid-offer spread (we remind the bid-ask spread on a 1Y ATM vanilla is 25 bps).</p>
</section>
<section id="test-4">
<h5><span class="section-number">1.6.1.2.16.2.1.3. </span>8.2.1.4. Test 4<a class="headerlink" href="#test-4" title="Link to this heading">#</a></h5>
<p>We take a closer look at the biggest error that we get above which is 8 basis point for a 1Y 10 delta put vanilla when a high vol-of-vol (+80% shift from the base vol-of-vol parameters) is used on LSVMS. We calculate the absolute error in implied volatility between LSVMS with high vol-of-vol and the analytic pricer with different PDE settings. Let us examine first the spatial convergence.</p>
<p>Spot steps convergence - Short Dated Vanillas</p>
<p><img alt="Spot steps convergence - Short Dated Vanillas" src="market/LSV/FX LSV Markov Switching PDE/Fig/placeholder2.jpg" /></p>
<p>We see that with 300 spot steps we reach the converged price.</p>
</section>
<section id="test-5">
<h5><span class="section-number">1.6.1.2.16.2.1.4. </span>8.2.1.5. Test 5<a class="headerlink" href="#test-5" title="Link to this heading">#</a></h5>
<p>We fix the number of spot steps to be 300. From the results of Test 4, this means the convergence in spot steps is reached. We vary the number of time steps to verify the convergence of the implied volatility error.</p>
<p>Time steps convergence - Short Dated Vanillas</p>
<p><img alt="Time steps convergence - Short Dated Vanillas" src="market/LSV/FX LSV Markov Switching PDE/Fig/placeholder2.jpg" /></p>
<p>As the graph above shows, the error decreases as we increase the number of time steps, which shows that the problem is purely numerical and can be tackled with an increased number of PDE settings. The error is well inside the bid-ask spread for 1Y vanillas, which is around 25 bps on the date considered.</p>
</section>
<section id="test-6">
<h5><span class="section-number">1.6.1.2.16.2.1.5. </span>8.2.1.6. Test 6<a class="headerlink" href="#test-6" title="Link to this heading">#</a></h5>
<p>We vary now the transition q(t) parameters by applying a parallel relative shift with different sizes to the whole term structure. The vol-of-vol parameters are set to their base values. The relative shifts we adopt are the following {10%, 20%, 40%, 60%, 80%}.</p>
<p>LSVMS - q params 100% relative shift</p>
<p><img alt="LSVMS q params 100% relative shift" src="market/LSV/FX LSV Markov Switching PDE/Fig/placeholder2.jpg" /></p>
<p>We can see from above that we get a good agreement when repricing the vanillas for the different q(t) parameters variations. The error stays within 2.5 basis points. This shows that the accuracy of vanilla repricing within the model is not very sensitive to the transition parameters q(t).</p>
</section>
</section>
</section>
<section id="test-7">
<h3><span class="section-number">1.6.1.2.16.3. </span>8.2.1.7. Test 7<a class="headerlink" href="#test-7" title="Link to this heading">#</a></h3>
<p>We repeat the same analysis of Test 1 on long dated options. The consider vanilla options with maturities 3Y, 4Y, 5Y, 7Y, 10Y, 15Y and 20Y.</p>
<p>LSVMS base parameters</p>
<p><img alt="LSVMS base parameters" src="market/LSV/FX LSV Markov Switching PDE/Fig/placeholder2.jpg" /></p>
<p>The errors are bounded by 3 bps (as a reference, the bid-ask spread on a 10Y ATM vanilla is around 180 bps).</p>
</section>
<section id="test-8">
<h3><span class="section-number">1.6.1.2.16.4. </span>8.2.1.8. Test 8<a class="headerlink" href="#test-8" title="Link to this heading">#</a></h3>
<p>We set a vol-of-vol close to zero, namely 0.0001.</p>
<p>LSVMS - Vol of vol set to 0.0001</p>
<p><img alt="LSVMS - Vol of vol set to 0.0001" src="market/LSV/FX LSV Markov Switching PDE/Fig/placeholder2.jpg" /></p>
</section>
<section id="test-9">
<h3><span class="section-number">1.6.1.2.16.5. </span>8.2.1.9. Test 9<a class="headerlink" href="#test-9" title="Link to this heading">#</a></h3>
<p>LSVMS - Vol of vol relative shift +20%</p>
<p><img alt="LSVMS - Vol of vol relative shift +20%" src="market/LSV/FX LSV Markov Switching PDE/Fig/placeholder2.jpg" /></p>
<p>LSVMS - Vol of vol relative shift +40%</p>
<p><img alt="LSVMS - Vol of vol relative shift +40%" src="market/LSV/FX LSV Markov Switching PDE/Fig/placeholder2.jpg" /></p>
<p>LSVMS - Vol of vol relative shift +60%</p>
<p><img alt="LSVMS - Vol of vol relative shift +60%" src="market/LSV/FX LSV Markov Switching PDE/Fig/placeholder2.jpg" /></p>
<p>LSVMS - Vol of vol relative shift +80%</p>
<p><img alt="LSVMS - Vol of vol relative shift +80%" src="market/LSV/FX LSV Markov Switching PDE/Fig/placeholder2.jpg" /></p>
<p>For the different vol-of-vol parameter values, we get a very good agreement between the LSVMS vanilla prices and the analytic vanilla prices. When the vol-of-vol becomes high (+60% and +80% cases), the pricing numerical error increases.</p>
</section>
<section id="test-10">
<h3><span class="section-number">1.6.1.2.16.6. </span>8.2.1.10. Test 10<a class="headerlink" href="#test-10" title="Link to this heading">#</a></h3>
<p>We take a closer look at the biggest error that we get above which is 3.5 basis point for a 15Y 10 delta put vanilla when a high vol-of-vol (+80% shift from the base vol-of-vol parameters) is used in LSVMS. We calculate the absolute error in implied volatility between LSVMS with high vol-of-vol and the analytic pricer while varying the number of steps in the PDE settings.</p>
<p>We examine first the spatial convergence in the FX direction. We set the number of time steps to 600 and vary the number of FX steps and calculate the implied volatility from the vanilla price under LSVMS.</p>
<p>Spot steps convergence - Long Dated Vanillas</p>
<p><img alt="Spot steps convergence - Long Dated Vanillas" src="market/LSV/FX LSV Markov Switching PDE/Fig/placeholder2.jpg" /></p>
<p>We see that 400 space steps are enough to reach the converged price.</p>
</section>
<section id="test-11">
<h3><span class="section-number">1.6.1.2.16.7. </span>8.2.1.11. Test 11<a class="headerlink" href="#test-11" title="Link to this heading">#</a></h3>
<p>We fix the number of spot steps to be 400, vary the number of time steps and test the convergence of the implied volatility error.</p>
<p>Time steps convergence - Long Dated Vanillas</p>
<p><img alt="Time steps convergence - Long Dated Vanillas" src="market/LSV/FX LSV Markov Switching PDE/Fig/placeholder2.jpg" /></p>
</section>
</section>
<section id="scenario-and-stress-testing">
<h2><span class="section-number">1.6.1.2.17. </span>8.3. Scenario and Stress-testing<a class="headerlink" href="#scenario-and-stress-testing" title="Link to this heading">#</a></h2>
<p>The purpose of stress testing is to verify that the model continues to function under significant market movements.</p>
<section id="ccar-scenarios">
<h3><span class="section-number">1.6.1.2.17.1. </span>8.3.1. CCAR Scenarios<a class="headerlink" href="#ccar-scenarios" title="Link to this heading">#</a></h3>
<p>The model was tested using the CCAR 2018 Adverse Market shocks [1] and the CCAR 2018 Severely Adverse Market shocks [2] to bump the FX spot and the ATM volatility term structure.</p>
<section id="test-14">
<h4><span class="section-number">1.6.1.2.17.1.1. </span>8.3.1.1. Test 14<a class="headerlink" href="#test-14" title="Link to this heading">#</a></h4>
<p>We consider the following OT</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Product</p></th>
<th class="head"><p>Expiry</p></th>
<th class="head"><p>Upper Barrier</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>OT</p></td>
<td><p>1Y</p></td>
<td><p>1.322</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 8.11: OT trade details.</p>
<p>obtaining the following results.</p>
<p>OT Adverse Scenario</p>
<p><img alt="OT Adverse Scenario" src="market/LSV/FX LSV Markov Switching PDE/Fig/placeholder2.jpg" /></p>
<p>OT Severely Adverse Scenario</p>
<p><img alt="OT Severely Adverse Scenario" src="market/LSV/FX LSV Markov Switching PDE/Fig/placeholder2.jpg" /></p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Ladder</p></th>
<th class="head"><p>Adverse PV</p></th>
<th class="head"><p>Severely Adverse PV</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Base</p></td>
<td><p>346,540</p></td>
<td><p>346,540</p></td>
</tr>
<tr class="row-odd"><td><p>10%</p></td>
<td><p>340,290</p></td>
<td><p>501,443</p></td>
</tr>
<tr class="row-even"><td><p>20%</p></td>
<td><p>334,442</p></td>
<td><p>678,174</p></td>
</tr>
<tr class="row-odd"><td><p>30%</p></td>
<td><p>328,937</p></td>
<td><p>861,203</p></td>
</tr>
<tr class="row-even"><td><p>40%</p></td>
<td><p>323,729</p></td>
<td><p>1,036,442</p></td>
</tr>
<tr class="row-odd"><td><p>50%</p></td>
<td><p>318,780</p></td>
<td><p>1,196,534</p></td>
</tr>
<tr class="row-even"><td><p>60%</p></td>
<td><p>314,059</p></td>
<td><p>1,334,543</p></td>
</tr>
<tr class="row-odd"><td><p>70%</p></td>
<td><p>309,538</p></td>
<td><p>1,354,911</p></td>
</tr>
<tr class="row-even"><td><p>80%</p></td>
<td><p>305,195</p></td>
<td><p>1,375,278</p></td>
</tr>
<tr class="row-odd"><td><p>90%</p></td>
<td><p>301,011</p></td>
<td><p>1,395,645</p></td>
</tr>
<tr class="row-even"><td><p>100%</p></td>
<td><p>296,970</p></td>
<td><p>1,416,012</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="test-15">
<h4><span class="section-number">1.6.1.2.17.1.2. </span>8.3.1.2. Test 15<a class="headerlink" href="#test-15" title="Link to this heading">#</a></h4>
<p>We repeat the same analysis for the following DNT</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Product</p></th>
<th class="head"><p>Expiry</p></th>
<th class="head"><p>Lower Barrier</p></th>
<th class="head"><p>Upper Barrier</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>DNT</p></td>
<td><p>1Y</p></td>
<td><p>1.176</p></td>
<td><p>1.387</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 8.12: DNT trade details.</p>
<p>The following table shows the PVs obtained for different ladders of the Adverse and Severely Adverse CCAR scenarios.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Ladder</p></th>
<th class="head"><p>Adverse PV</p></th>
<th class="head"><p>Severely Adverse PV</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Base</p></td>
<td><p>349,514</p></td>
<td><p>349,514</p></td>
</tr>
<tr class="row-odd"><td><p>10%</p></td>
<td><p>251,828</p></td>
<td><p>455,243</p></td>
</tr>
<tr class="row-even"><td><p>20%</p></td>
<td><p>162,996</p></td>
<td><p>479,884</p></td>
</tr>
<tr class="row-odd"><td><p>30%</p></td>
<td><p>85,131</p></td>
<td><p>449,732</p></td>
</tr>
<tr class="row-even"><td><p>40%</p></td>
<td><p>19,032</p></td>
<td><p>384,238</p></td>
</tr>
<tr class="row-odd"><td><p>50%</p></td>
<td><p>0</p></td>
<td><p>300,356</p></td>
</tr>
<tr class="row-even"><td><p>60%</p></td>
<td><p>0</p></td>
<td><p>212,636</p></td>
</tr>
<tr class="row-odd"><td><p>70%</p></td>
<td><p>0</p></td>
<td><p>131,531</p></td>
</tr>
<tr class="row-even"><td><p>80%</p></td>
<td><p>0</p></td>
<td><p>62,453</p></td>
</tr>
<tr class="row-odd"><td><p>90%</p></td>
<td><p>0</p></td>
<td><p>6,667</p></td>
</tr>
<tr class="row-even"><td><p>100%</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
</tbody>
</table>
</div>
<p>DNT Adverse Scenario</p>
<p><img alt="DNT Adverse Scenario" src="market/LSV/FX LSV Markov Switching PDE/Fig/placeholder2.jpg" /></p>
<p>DNT Severely Adverse Scenario</p>
<p><img alt="DNT Severely Adverse Scenario" src="market/LSV/FX LSV Markov Switching PDE/Fig/placeholder2.jpg" /></p>
</section>
<section id="test-16">
<h4><span class="section-number">1.6.1.2.17.1.3. </span>8.3.1.3. Test 16<a class="headerlink" href="#test-16" title="Link to this heading">#</a></h4>
<p>Here we consider the following KO option</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Product</p></th>
<th class="head"><p>Expiry</p></th>
<th class="head"><p>Upper Barrier</p></th>
<th class="head"><p>Call Strike Level</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>KO</p></td>
<td><p>6M</p></td>
<td><p>1.3133</p></td>
<td><p>ATM Forward</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table 8.13: KO trade details.</p>
<p>By applying different ladders of the Adverse and Severely Adverse CCAR scenarios we get</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Ladder</p></th>
<th class="head"><p>Adverse PV</p></th>
<th class="head"><p>Severely Adverse PV</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Base</p></td>
<td><p>10,753</p></td>
<td><p>10,753</p></td>
</tr>
<tr class="row-odd"><td><p>10%</p></td>
<td><p>9,501</p></td>
<td><p>13,231</p></td>
</tr>
<tr class="row-even"><td><p>20%</p></td>
<td><p>8,461</p></td>
<td><p>12,992</p></td>
</tr>
<tr class="row-odd"><td><p>30%</p></td>
<td><p>7,587</p></td>
<td><p>10,035</p></td>
</tr>
<tr class="row-even"><td><p>40%</p></td>
<td><p>6,847</p></td>
<td><p>5,726</p></td>
</tr>
<tr class="row-odd"><td><p>50%</p></td>
<td><p>6,212</p></td>
<td><p>1,648</p></td>
</tr>
<tr class="row-even"><td><p>60%</p></td>
<td><p>5,664</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>70%</p></td>
<td><p>5,187</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>80%</p></td>
<td><p>4,769</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>90%</p></td>
<td><p>4,401</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>100%</p></td>
<td><p>4,072</p></td>
<td><p>0</p></td>
</tr>
</tbody>
</table>
</div>
<p>KO Adverse Scenario</p>
<p><img alt="KO Adverse Scenario" src="market/LSV/FX LSV Markov Switching PDE/Fig/placeholder2.jpg" /></p>
<p>KO Severely Adverse Scenario</p>
<p><img alt="KO Severely Adverse Scenario" src="market/LSV/FX LSV Markov Switching PDE/Fig/placeholder2.jpg" /></p>
<p>The results are smooth across the whole bump ladder.</p>
</section>
</section>
</section>
<section id="sensitivity-analysis">
<h2><span class="section-number">1.6.1.2.18. </span>8.4. Sensitivity Analysis<a class="headerlink" href="#sensitivity-analysis" title="Link to this heading">#</a></h2>
<p>The purpose of this section is to test the PV and risks sensitivities to incremental changes of market data and model parameters. In the model, the most impacting market variables are the spot rate and the market volatility surface. From the model parameters side, the volatility-of-volatility is the most important one.</p>
<p>We apply different shocks to these pieces of market data and model parameters and observe if PV, Delta, Gamma, Vega, Near Rega, Near Sega, Far Rega and Far Sega show any unstable performance under the LSVMS model.</p>
<section id="sensitivity-with-respect-to-market-inputs">
<h3><span class="section-number">1.6.1.2.18.1. </span>8.4.1. Sensitivity with respect to Market Inputs<a class="headerlink" href="#sensitivity-with-respect-to-market-inputs" title="Link to this heading">#</a></h3>
<p>We apply parallel multiplicative bumps to the ATM term structure of the implied volatility surface and to the FX rate.</p>
<section id="test-17">
<h4><span class="section-number">1.6.1.2.18.1.1. </span>8.4.1.1. Test 17<a class="headerlink" href="#test-17" title="Link to this heading">#</a></h4>
<p>We use the trade specified in Table 8.11.</p>
<p>The spot level at valuation date is S(0) = 1.2025 and the barrier is B = 1.322, from which</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\frac{B}{S} = 1.099.\]</div>
</div>
<p>The greatest value in the spot bump ladder is 1.09, which is close to the barrier level. All results look smooth.</p>
<p><img alt="Sensitivity graphs" src="market/LSV/FX LSV Markov Switching PDE/Fig/placeholder2.jpg" /></p>
</section>
<section id="test-18">
<h4><span class="section-number">1.6.1.2.18.1.2. </span>8.4.1.2. Test 18<a class="headerlink" href="#test-18" title="Link to this heading">#</a></h4>
<p>We use the trade specified in Table 8.12.</p>
<p>Notice that</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\frac{B_{upper}}{S} = \frac{1.387}{1.2025} = 0.978,\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\frac{B_{lower}}{S} = \frac{1.176}{1.2025} = 1.153,\]</div>
</div>
<p>which means that the boundaries of the spot bumps are close to the barriers level. Overall the results look smooth.</p>
<p><img alt="Sensitivity graphs" src="market/LSV/FX LSV Markov Switching PDE/Fig/placeholder2.jpg" /></p>
</section>
<section id="test-19">
<h4><span class="section-number">1.6.1.2.18.1.3. </span>8.4.1.3. Test 19<a class="headerlink" href="#test-19" title="Link to this heading">#</a></h4>
<p>We use the trade specified in Table 8.13.</p>
<p>The spot level at valuation date is S(0) = 1.2025 and the barrier is B = 1.3133, from which</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\frac{B}{S} = 1.092.\]</div>
</div>
<p>All results look smooth.</p>
<p><img alt="Sensitivity graphs" src="market/LSV/FX LSV Markov Switching PDE/Fig/placeholder2.jpg" /></p>
<p>Gamma seems to show a discontinuity in correspondence of the 0.98 spot bump. This is just due to the spot bump ladder: if we refine the bump grid around the discontinuity the result turns out to be smooth.</p>
<p><img alt="Gamma sensitivity" src="market/LSV/FX LSV Markov Switching PDE/Fig/placeholder2.jpg" /></p>
<p>In the same way Far Rega seems to be discontinuous across the first two volatility bump levels, which are 1 and 1.25. If we refine the bump grid around these two points we see that the Far Rega values follow a continuous pattern.</p>
<p><img alt="Far Rega sensitivity" src="market/LSV/FX LSV Markov Switching PDE/Fig/placeholder2.jpg" /></p>
</section>
</section>
<section id="sensitivity-with-respect-to-model-parameters">
<h3><span class="section-number">1.6.1.2.18.2. </span>8.4.2. Sensitivity with respect to Model Parameters<a class="headerlink" href="#sensitivity-with-respect-to-model-parameters" title="Link to this heading">#</a></h3>
<p>We apply parallel multiplicative bumps to the transition q and vol-of-vol a term structure.</p>
<section id="test-20">
<h4><span class="section-number">1.6.1.2.18.2.1. </span>8.4.2.1. Test 20<a class="headerlink" href="#test-20" title="Link to this heading">#</a></h4>
<p>We use the trade specified in Table 8.11.</p>
<p>It is immediately seen that the vol-of-vol is the most impacting factor. Bumping the transition term structure q generates small movements in the PV of the trade, while the vol-of-vol produces a parallel shift of the PV across all transition q levels. As a consequence, the trading desk can easily tune the vol-of-vol parameters to match the observed market values of OT trades.</p>
<p>Secondly we see that higher vol-of-vol values correspond to lower OT prices. It is important to stress that high volatility of volatility does not mean high spot volatility. In fact, as it is clear from Test 17, higher spot volatility values imply a higher probability of hitting the barrier, which in turn means a larger PV. This is the opposite of what we observe by increasing the vol-of-vol.</p>
<p>This is due to the impact of the forward skew at the time t in which the barrier is hit, in correspondence of the barrier level (see Section 9.7 in [17]). As the vol-of-vol gets smaller, the mean an LSV model collapses to the LV model, generating higher forward skew and higher OT prices. In the same way, as vol-of-vol builds higher, the lower the PV of OT trades becomes (for more details please see Test 25).</p>
<p><img alt="OT Price sensitivity" src="market/LSV/FX LSV Markov Switching PDE/Fig/placeholder2.jpg" /></p>
</section>
<section id="test-21">
<h4><span class="section-number">1.6.1.2.18.2.2. </span>8.4.2.2. Test 21<a class="headerlink" href="#test-21" title="Link to this heading">#</a></h4>
<p>We use the trade specified in Table 8.12. All results look smooth.</p>
<p>In the same way as in Test 20, we observe that the vol-of-vol is the most impacting factor. Vol-of-vol bumps generate parallel PV movements on the whole transition q bump ladder. As a consequence, vol-of-vol parameters can be easily used by the traders to mark observed market prices of DNT products.</p>
<p>By using the same type of reasoning as in Test 20, we see that higher values of vol-of-vol generate higher DNT prices.</p>
<p><img alt="DNT price sensitivity" src="market/LSV/FX LSV Markov Switching PDE/Fig/placeholder2.jpg" /></p>
</section>
<section id="test-22">
<h4><span class="section-number">1.6.1.2.18.2.3. </span>8.4.2.3. Test 22<a class="headerlink" href="#test-22" title="Link to this heading">#</a></h4>
<p>We use the trade specified in Table 8.13. All results look smooth.</p>
<p>In the same way as in Test 20, we observe that the vol-of-vol is the most impacting factor. Vol-of-vol bumps generates parallel movements of the whole transition q bump ladder.</p>
<p>By using the same type of reasoning as in Test 20, we see that higher values of vol-of-vol generate higher KO prices.</p>
<p><img alt="KO price sensitivity" src="market/LSV/FX LSV Markov Switching PDE/Fig/placeholder2.jpg" /></p>
<p><img alt="Volatility graphs" src="market/LSV/FX LSV Markov Switching PDE/Fig/placeholder.jpg" /></p>
</section>
</section>
</section>
<section id="back-testing">
<h2><span class="section-number">1.6.1.2.19. </span>8.5. Back-testing<a class="headerlink" href="#back-testing" title="Link to this heading">#</a></h2>
<p>This section is not applicable to pricing models.</p>
</section>
<section id="benchmarking">
<h2><span class="section-number">1.6.1.2.20. </span>8.6. Benchmarking<a class="headerlink" href="#benchmarking" title="Link to this heading">#</a></h2>
<p>Here we compare the forward smile generated by the LSVMS and LV models. Only in this section we assume a constant transition term structure q(t) = 1.</p>
<section id="test-23">
<h3><span class="section-number">1.6.1.2.20.1. </span>8.6.1. Test 23<a class="headerlink" href="#test-23" title="Link to this heading">#</a></h3>
<p>We consider the expected forward smile generated in correspondence of different start dates T₁, using the LV and LSVMS models. For LSVMS we take into account two vol-of-vol term structures, namely constant equal to 0.9 and 1.2, to analyze the effect of vol-of-vol on the expected forward smile.</p>
<p>We can see that in the LV model, the expected forward smile is flattening as the Start Date <span class="math notranslate nohighlight">\(T_1\)</span> goes forward in time: it becomes more symmetric and less convex. With LSVMS we also lose some asymmetry but we keep the convexity. This can be understood by looking at the dynamics of the LSVMS model: since <span class="math notranslate nohighlight">\(W\)</span> and <span class="math notranslate nohighlight">\(\xi\)</span> are independent, the skew (asymmetry) of the forward smile in only due to the local volatility correction, which explains why the skew of LSVMS looks like that of the LV model.</p>
<p>When we increase the value of the vol-of-vol, then it means that we increase the randomness of the volatility process, thus reducing the role of the local volatility correction, and we end up with a more convex expected forward smile.</p>
</section>
</section>
<section id="test-24">
<h2><span class="section-number">1.6.1.2.21. </span>8.6.2. Test 24<a class="headerlink" href="#test-24" title="Link to this heading">#</a></h2>
<p>We consider the expected forward smile generated in correspondence of <span class="math notranslate nohighlight">\(T_1 = 2Y\)</span> and <span class="math notranslate nohighlight">\(T_2 = 3Y\)</span>, using the LV and LSVMS models. For LSVMS we take into account the following constant vol-of-vol term structures, namely <span class="math notranslate nohighlight">\(a \in 1.2, 0.9, 0.6, 0.3, 0.1\)</span>.</p>
<p><img alt="Figure 8.9: Expected Forward Smile for T1 = 2Y and T2 = 3Y." src="market/LSV/FX LSV Markov Switching PDE/Fig/placeholder2.jpg" /></p>
<p>As it can be seen, the vol-of-vol affects the convexity of the forward smile. As vol-of-vol gets lower, the stochastic volatility components of LSVMS decreases and the forward smile of LSVMS degenerates to that produced by the LV model.</p>
</section>
<section id="test-25">
<h2><span class="section-number">1.6.1.2.22. </span>8.6.3. Test 25<a class="headerlink" href="#test-25" title="Link to this heading">#</a></h2>
<p>In this test we analyze the shape of the conditional forward smile when <span class="math notranslate nohighlight">\(S(T_1)\)</span> equals the barrier level of the OT trade considered in Test 20. This provides a deeper understanding of the results from Test 20, where the price of the trade decreases when the vol-of-vol builds up.</p>
<p>We compare the conditional forward smile for the LV and LSVMS model. We consider two possible vol-of-vol term structures for LSVMS, these being a constant to 0.9 and constant to 0.6.</p>
<p><img alt="Figure 8.10: Conditional Forward Smile for T1 = 3M and T2 = 9M." src="market/LSV/FX LSV Markov Switching PDE/Fig/placeholder2.jpg" /></p>
</section>
<section id="assumptions-and-limitations">
<h2><span class="section-number">1.6.1.2.23. </span>9. Assumptions and Limitations<a class="headerlink" href="#assumptions-and-limitations" title="Link to this heading">#</a></h2>
<section id="id8">
<h3><span class="section-number">1.6.1.2.23.1. </span>Model Assumptions<a class="headerlink" href="#id8" title="Link to this heading">#</a></h3>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Assumption</p></th>
<th class="head"><p>Justification &amp; Impact</p></th>
<th class="head"><p>Reference</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[A.0] No-arbitrage and frictionless market (no transaction cost, no bid-ask spread, no restrictions on trade such as margin requirements or short sale restrictions, no tax)</p></td>
<td><p>These are basic pricing assumptions, also very large institutional traders approximate frictionless markets since their transaction costs are minimal.</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-odd"><td><p>[A.1] The stochastic Markov chain is independent of the Brownian motion that drives the underlying spot.</p></td>
<td><p>The spot process S and the stochastic volatility Σ are naturally correlated by virtue of the very same dynamics of S. Moreover the local volatility correction A(t,S(t)) makes up for the independence of W driving the spot and ξ driving the instantaneous volatility dynamics.</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-even"><td><p>[A.2] The Transition Generator Matrix is chosen as in equation (A.2).</p></td>
<td><p>This choice comes from the use of the Markov Switching model with Monte Carlo pricing. The dynamic behavior of Q(s,t) is allowed by the time dependent function g(t).</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-odd"><td><p>[A.3] Both the domestic and foreign interest rates are assumed to be deterministic.</p></td>
<td><p>When valuing long dated structures, the stochastic interest rate effect is not taken into account. However, all products priced with LSVMS are first and foremost sensitive to the stochastic volatility rather than stochastic rates.</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-even"><td><p>[A.4] The volatility of volatility a and the transition matrix term structure q are piecewise constant in time.</p></td>
<td><p>Piecewise constancy is the choice maintaining the balance between accuracy and generality. It also allows the traders to easily mark the stochastic volatility model parameters across different tenors.</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-odd"><td><p>[A.5] The number of states for the Markov chain used in production is equal to 3.</p></td>
<td><p>This hypothesis can be relaxed as any odd value for the number of states is supported by the library.</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-even"><td><p>[A.7] We assume a first order approximation for P(s,t) ≈ I + Q(s,t).</p></td>
<td><p>The approximation is sufficient as time steps can be made small enough to justify a first order approach. The end user can also use the exact computation of P(s,t) by setting TransitionMatrixExponentialType equal to MSExponentialMatrixExact in SVMarkovSwitchingExponential_PP</p></td>
<td><p>N/A</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id9">
<h3><span class="section-number">1.6.1.2.23.2. </span>Model Limitations<a class="headerlink" href="#id9" title="Link to this heading">#</a></h3>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Limitation</p></th>
<th class="head"><p>Justification, Mitigation &amp; Impact</p></th>
<th class="head"><p>Reference</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[L.1] The stochastic Markov chain is independent of the Brownian motion that drives the underlying spot.</p></td>
<td><p>The local volatility correction A(t,S(t)) incorporated in the model dynamics naturally introduce correlation between the spot and the volatility process.</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-odd"><td><p>[L.2] The Transition Generator Matrix has to satisfy equation (A.2).</p></td>
<td><p>This is related to how the LSVMS model is implemented for Monte Carlo pricing and it makes easy to the trading desk to tune the desired structure of the instantaneous transition rate.</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-even"><td><p>[L.3] Both the domestic and foreign interest rates are assumed to be deterministic.</p></td>
<td><p>When valuing long dated structures, the stochastic interest rate effect is not taken into account.</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-odd"><td><p>[L.4] The volatility of volatility a and the transition matrix term structure q are piecewise constant in time.</p></td>
<td><p>It is possible to refine the specification of a(w) and q(w) by marking their values on a finer time grid.</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-even"><td><p>[L.5] The number of states for the Markov chain used in production is equal to 3.</p></td>
<td><p>The end-user can change this value to be any desired odd value, as long as the other stochastic volatility parameters are consistent with that choice.</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-odd"><td><p>[L.6] The matrix Q is set by default at (L.6).</p></td>
<td><p>It is possible to use any other matrix which satisfies conditions (i)-(iv) from Section 4.2.1.</p></td>
<td><p>Testing shows that the model is robust with respect to extreme market scenarios (see Section 8.3.1)</p></td>
</tr>
<tr class="row-even"><td><p>[L.7] Calibration limitations: as the local volatility correction is calibrated to the smile volatility surface, there is a direct dependence on the quality of the input market data.</p></td>
<td><p>If the volatility surface implies noisy local volatility, this will feed directly to the local volatility correction parameters in the model.</p></td>
<td><p>Section 8.3.1)</p></td>
</tr>
<tr class="row-odd"><td><p>[L.8] Calibration limitations: as in any LSV model, care needs to be taken with high vol-of-vols as trade maturity increases. It can be numerically challenging and the accuracy of the calibration to vanillas could suffer.</p></td>
<td><p>An increase of the number of steps in the PDE settings is required to improve the accuracy.</p></td>
<td><p>Section 8.2.1, in particular Tests 10 and 11.</p></td>
</tr>
<tr class="row-even"><td><p>[L.9] Pricing limitations: discretization error in space due to derivative approximation.</p></td>
<td><p>Since the Crank Nicolson scheme is used, the discretization error is reduced by increasing the number of spot steps.</p></td>
<td><p>Section 8.2.1.</p></td>
</tr>
<tr class="row-odd"><td><p>[L.10] Pricing limitations: discretization error in time due to discrete time-stepping method.</p></td>
<td><p>Since the Crank Nicolson scheme is used, the discretization error is reduced by increasing the number of time steps.</p></td>
<td><p>Section 8.2.1.</p></td>
</tr>
<tr class="row-even"><td><p>[L.11] Pricing limitations: extra complexity needed to price path dependent products.</p></td>
<td><p>This is a limitation common to any PDE pricer, and is tackled by suitably choosing auxiliary variable(s) (the PathDependentVariable from Section 6.2.2).</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-odd"><td><p>[L.12] Pricing limitations: the current PDE implementation for the model is limited to single asset trades.</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<section id="qa-implementation-environment-and-controls">
<h2><span class="section-number">1.6.1.2.24. </span>10. QA Implementation Environment and Controls<a class="headerlink" href="#qa-implementation-environment-and-controls" title="Link to this heading">#</a></h2>
<p>The LSVMS model is implemented in QALib and the controls are the same that apply to the library as a whole (see [10]).</p>
<p>In addition to this, ad-hoc tests have been created to check the stability and robustness of the model. They are constantly monitored and can be found in the following Perforce folder //depot/QA/QAConsultancy/QAConsultancy_main.be/Testing/Tests/QAburn/FX/Regression/MSM/4388.</p>
</section>
<section id="references">
<h2><span class="section-number">1.6.1.2.25. </span>12. References<a class="headerlink" href="#references" title="Link to this heading">#</a></h2>
<p>[1] CCAR 2018 Adverse Market Shocks. <a class="reference external" href="https://www.federalreserve.gov/supervisionreg/files/ccar-2018-adverse-market-shocks.xlsx">https://www.federalreserve.gov/supervisionreg/files/ccar-2018-adverse-market-shocks.xlsx</a>.</p>
<p>[2] CCAR 2018 Severely Adverse Market Shocks. <a class="reference external" href="https://www.federalreserve.gov/supervisionreg/files/ccar-2018-severely-adverse-market-shocks.xlsx">https://www.federalreserve.gov/supervisionreg/files/ccar-2018-severely-adverse-market-shocks.xlsx</a>.</p>
<p>[3] FX Analytic Volatility Surface : Build QA, Xsigma Capital, London, GMD4181. <a class="reference external" href="http://qa.barcapint.com/Publications/Models/Macro/FX/MarketData/FXVolSurfaces/FX_opt_spt_Analytic_VolatilitySurface_Build.pdf">http://qa.barcapint.com/Publications/Models/Macro/FX/MarketData/FXVolSurfaces/FX_opt_spt_Analytic_VolatilitySurface_Build.pdf</a>.</p>
<p>[4] FX European Option PTax QA, Xsigma Capital, London, PTax131. <a class="reference external" href="http://qa.barcapint.com/Publications/Models/Macro/FX/Trades/PTax/PTax_131_FX_European_Option.PDF">http://qa.barcapint.com/Publications/Models/Macro/FX/Trades/PTax/PTax_131_FX_European_Option.PDF</a>.</p>
<p>[5] FX One Touch PTax QA, Xsigma Capital, London, PTax138. <a class="reference external" href="http://qa.barcapint.com/Publications/Models/Macro/FX/Trades/PTax/PTax_138_FX_One_Touch.pdf">http://qa.barcapint.com/Publications/Models/Macro/FX/Trades/PTax/PTax_138_FX_One_Touch.pdf</a>.</p>
<p>[6] FX Double No Touch PTax QA, Xsigma Capital, London, PTax140. <a class="reference external" href="http://qa.barcapint.com/Publications/Models/Macro/FX/Trades/PTax/PTax_140_FX_Double_No_Touch.pdf">http://qa.barcapint.com/Publications/Models/Macro/FX/Trades/PTax/PTax_140_FX_Double_No_Touch.pdf</a>.</p>
<p>[7] FX Knock-In-Knock-Out Barrier Option PTax QA, Xsigma Capital, London, PTax145. <a class="reference external" href="http://qa.barcapint.com/Publications/Models/Macro/FX/Trades/PTax/PTax_145_FX_Knock_In_Knock_Out_Barrier_Option.pdf">http://qa.barcapint.com/Publications/Models/Macro/FX/Trades/PTax/PTax_145_FX_Knock_In_Knock_Out_Barrier_Option.pdf</a>.</p>
<p>[8] FX Vanilla on Black QA, Xsigma Capital, London, GMD4187. <a class="reference external" href="http://qa.barcapint.com/Publications/Models/Macro/FX/Models/FXVanillaBlack/FXVanillaOptionOnBlack.pdf">http://qa.barcapint.com/Publications/Models/Macro/FX/Models/FXVanillaBlack/FXVanillaOptionOnBlack.pdf</a>.</p>
<p>[9] FX LSV Markov Switching: Monte Carlo. QA, Xsigma Capital, London, GMD4198.</p>
<p>[10] Procedures and Control for Model Development Documentation and QA Library Development. QA, Xsigma Capital, London. <a class="reference external" href="http://qa.barcapint.com/Publications/QAProcedures/Procedures%20and%20Controls%20for%20Model%20Development%20and%20QA%20Library%20Development.pdf">http://qa.barcapint.com/Publications/QAProcedures/Procedures and Controls for Model Development and QA Library Development.pdf</a>.</p>
<p>[11] Local Volatility: PDE and MC QA, Xsigma Capital, London, GMD2755. <a class="reference external" href="http://qa.barcapint.com/Publications/Models/Macro/FX/Models/LV/FX%20Local%20Volatility%20-%20PDE%20and%20MC.pdf">http://qa.barcapint.com/Publications/Models/Macro/FX/Models/LV/FX Local Volatility - PDE and MC.pdf</a>.</p>
<p>[12] P Austing, Smile Pricing Explained. Palgrave Macmillan UK, 2014.</p>
<p>[13] M. Bastianici and L. Sadiq, Mixture model One Plus, Xsigma Capital, QA internal document (2010). <a class="reference external" href="http://qa.barcapint.com/Publications/Models/Macro/FX/Models/LSV/MixtureOnePlusModel.pdf">http://qa.barcapint.com/Publications/Models/Macro/FX/Models/LSV/MixtureOnePlusModel.pdf</a>.</p>
<p>[14] Black, Fischer and Piotr Karasinski (1991), Bond and Option Pricing when Short Rates are Lognormal, Financial Analysts Journal, July-August 1991, pp. 52-59.</p>
<p>[15] J. Busquets Blanco, LSV TD Heston calibration and pricing issues in QALib, Xsigma Capital, QA internal document (2007). <a class="reference external" href="http://qa.barcapint.com/Publications/Models/Macro/FX/Models/LSV/LSVTDHeston/Issues_with_LSV_calibration_and_pricing.pdf">http://qa.barcapint.com/Publications/Models/Macro/FX/Models/LSV/LSVTDHeston/Issues_with_LSV_calibration_and_pricing.pdf</a>.</p>
<p>[16] I. J. Clark, Foreign Exchange Option Pricing - A Practitioner’s guide. Wiley Finance, 2015.</p>
<p>[17] B. Dupire, Pricing With a Smile, Risk Magazine, 18-20, 2007.</p>
<p>[18] P. Glasserman, Forward and Future Implied Volatility, International Journal of Theoretical and Applied Finance, Vol. 14, No. 03, 2011.</p>
<p>[19] I. Gyongy, Mimicking the one-dimensional distributions of processes having an Ito differential, Prob. Th. Rel. Fields, 71:501-516, 1986.</p>
<p>[20] S. Heston, A closed-form solution for options with stochastic volatility with applications to bond and currency options. Review of Financial Studies, 6:327-343, 1993.</p>
<p>[21] N. Oliver, Generic pde solver - mathematical documentation. Xsigma Capital, QA internal document (2007). <a class="reference external" href="http://qa.barcapint.com/Publications/Models/Macro/PDESolver/Generic%20PDE%20Solver%20-%20Mathematical%20Documentation.pdf">http://qa.barcapint.com/Publications/Models/Macro/PDESolver/Generic PDE Solver - Mathematical Documentation.pdf</a>.</p>
<p>[22] V. Piterbarg, Mixture of models: A simple recipe for a hangover. Wilmott Magazine, 2003.</p>
<p>[23] W.H. Press, S.A. Teukolsky, W.T. Vetterling, B.P. Flannery, “Section 9.3 Van Wijngarden-Dekker-Brent Method”. Numerical Recipes: The Art of Scientific Computing (3rd ed.). New York: Cambridge University Press, 2007.</p>
<p>[24] L. Sadiq, LSV Markov Switching qualitative analysis. Xsigma Capital, QA internal document (2011). <a class="reference external" href="http://qa.barcapint.com/Publications/Models/Macro/FX/Models/LSV/QualitativeAnalysisLSVMarkovSwitchingOneplus.pdf">http://qa.barcapint.com/Publications/Models/Macro/FX/Models/LSV/QualitativeAnalysisLSVMarkovSwitchingOneplus.pdf</a>.</p>
<p>[25] D. Tavella and C. Randall, Pricing Financial Instruments: The Finite Difference Method. John Wiley &amp; Sons, Inc., 2000.</p>
<p>[26] C. Waddell and F. Waldtreufel, LSV model. Xsigma Capital, QA internal document (2006). <a class="reference external" href="http://qa.barcapint.com/Publications/Models/Macro/FX/Models/LSV/LSVTermStructure/LSV%20Model.doc">http://qa.barcapint.com/Publications/Models/Macro/FX/Models/LSV/LSVTermStructure/LSV Model.doc</a>.</p>
</section>
<section id="a-appendix-glossary">
<h2><span class="section-number">1.6.1.2.26. </span>A. Appendix: Glossary<a class="headerlink" href="#a-appendix-glossary" title="Link to this heading">#</a></h2>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Definition</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>DNT</p></td>
<td><p>Double No Touch</p></td>
</tr>
<tr class="row-odd"><td><p>FVA</p></td>
<td><p>Forward Volatility Agreement</p></td>
</tr>
<tr class="row-even"><td><p>KO</p></td>
<td><p>Knock Out</p></td>
</tr>
<tr class="row-odd"><td><p>LV</p></td>
<td><p>Local Volatility</p></td>
</tr>
<tr class="row-even"><td><p>LSV</p></td>
<td><p>Local Stochastic Volatility</p></td>
</tr>
<tr class="row-odd"><td><p>LSVMS</p></td>
<td><p>Local Stochastic Volatility Markov Switching</p></td>
</tr>
<tr class="row-even"><td><p>MC</p></td>
<td><p>Monte Carlo</p></td>
</tr>
<tr class="row-odd"><td><p>PDE</p></td>
<td><p>Partial Differential Equation</p></td>
</tr>
<tr class="row-even"><td><p>PV</p></td>
<td><p>Present Value</p></td>
</tr>
<tr class="row-odd"><td><p>SDE</p></td>
<td><p>Stochastic Differential Equation</p></td>
</tr>
<tr class="row-even"><td><p>SV</p></td>
<td><p>Stochastic Volatility</p></td>
</tr>
<tr class="row-odd"><td><p>TARF</p></td>
<td><p>Targeted Accrual Redemption Forward</p></td>
</tr>
<tr class="row-even"><td><p>UMIFX</p></td>
<td><p>Unified model interface for FX, <a class="reference external" href="https://qa:8080/wiki/UMI_FX_-_Unified_model_interface_for_FX">https://qa:8080/wiki/UMI_FX_-_Unified_model_interface_for_FX</a></p></td>
</tr>
<tr class="row-odd"><td><p>Vol-of-vol</p></td>
<td><p>Volatility of volatility</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="b-appendix-peer-reviewer-sign-off">
<h2><span class="section-number">1.6.1.2.27. </span>B. Appendix: Peer Reviewer Sign off<a class="headerlink" href="#b-appendix-peer-reviewer-sign-off" title="Link to this heading">#</a></h2>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Peer Reviewer: Matthieu Mariapragassam</p></th>
<th class="head"><p>Version: 9</p></th>
<th class="head"><p></p></th>
<th class="head"><p></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>MRM Model Documentation Standard Requirements:</p></td>
<td><p>MRM Reference</p></td>
<td><p>Template Reference</p></td>
<td><p>Signed off by Peer Reviewer</p></td>
</tr>
<tr class="row-odd"><td><p>Executive Summary: Executive summary describing the model, its purpose, tests and results, and material limitations. This summary should be concise and enable a senior manager or a regulator to understand the model and its context.</p></td>
<td><p>MDS 1.2.7 (Assist MO)</p></td>
<td><p>1</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>Scope and Use: Scope of application of the model, including usage, portfolio, regulatory/legal entities where used, product, segmentation, limitations on model use</p></td>
<td><p>MDS 1.2.7 (Assist MO)</p></td>
<td><p>2-3</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>Weaknesses and Limitations: A table detailing model weaknesses and limitations, including the identification and categorization of model limitations by description.</p></td>
<td><p>MDS 1.2.7 (Assist MO)</p></td>
<td><p>9</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>Model Interactions: Description of feeder models and model interactions, including an end to end assessment of the interactions, limitations and governance issues associated with the models, data flows and outputs that may impact the model use, and governance status</p></td>
<td><p>MDS 1.2.7</p></td>
<td><p>2,4,7</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>Development Data Assessment: Development Data assessment will include, as applicable: • Data Descriptors • Quality • Processing</p></td>
<td><p>MDS 1.2.7</p></td>
<td><p>5</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>Model Framework: Model framework will include: The purpose of the model, the requirements established by the businesses or functions that are using the model, regulatory requirements on the model and a description of how the proposed model meets these requirements.</p></td>
<td><p>MDS 1.2.7</p></td>
<td><p>4.1, 4.2</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>Model Framework: Business engagement and sponsorship.</p></td>
<td><p>MDS 1.2.7</p></td>
<td><p>4.1</p></td>
<td><p>Yes</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="c-appendix-feedback-received-during-development">
<h2><span class="section-number">1.6.1.2.28. </span>C. Appendix: Feedback Received During Development<a class="headerlink" href="#c-appendix-feedback-received-during-development" title="Link to this heading">#</a></h2>
<p>The FX trading team has been heavily involved in looking at this model, including runs of the whole short dated and long dated barrier books.
The feedback from the model use is that the LSVMS is able to match well the prices of first generation exotics in the market while providing good stability and speed performance.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Role</p></th>
<th class="head"><p>Feedback Detail</p></th>
<th class="head"><p>Developer Actions (Incl. impacted sections)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>FX Trading</p></td>
<td><p>In order to be able to risk manage the barrier book on a LSV model, Trading has requested that QA implemented in the library a fast LSV model</p></td>
<td><p>Calibration and Pricing implementation work has been carried out by QA to have a production quality LSVMS model integrated into UMIFX and connected to FX PDE.</p></td>
</tr>
<tr class="row-odd"><td><p>FX QA</p></td>
<td><p>The BARX Risk run that were done by QAFX have shown that for some long dated trades we may struggle to generate enough convexity in the long end when using a constant transition rate matrix.</p></td>
<td><p>QA have implemented an extension the LSVMS model to have a piecewise constant transition matrix so that it is possible to specify different transition rates between the long and short end to tailor for different forward smile profiles. The recommended setting for the transition matrix scaling function is piecewise constant. (QA2184.00)</p></td>
</tr>
<tr class="row-even"><td><p>FX Trading</p></td>
<td><p>Trading expressed interest in marking directly the stochastic volatility parameters in LSVMS.</p></td>
<td><p>The transition probability and vol-of-vol term structures can be now specified as market data inputs instead of being part of the calibration instructions property page. Added in QA2214.00</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="d-appendix-forward-smile-derivation">
<h2><span class="section-number">1.6.1.2.29. </span>D. Appendix: Forward Smile Derivation<a class="headerlink" href="#d-appendix-forward-smile-derivation" title="Link to this heading">#</a></h2>
<section id="d-1-expected-forward-smile-derivation">
<h3><span class="section-number">1.6.1.2.29.1. </span>D.1. Expected Forward Smile Derivation<a class="headerlink" href="#d-1-expected-forward-smile-derivation" title="Link to this heading">#</a></h3>
<p>In Black &amp; Scholes framework, we can derive a closed-form formula for the price of forward starting options. Under Black &amp; Scholes assumptions, the stochastic differential equation for the underlying asset process <span class="math notranslate nohighlight">\(S(t)\)</span> in the FX market is:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\frac{dS(t)}{S(t)} = (r_d - r_f) dt + \sigma dW_t,\]</div>
</div>
<p>where the instantaneous volatility is assumed to be constant. Today’s Black-Scholes premium for a forward-starting call with an absolute payoff <span class="math notranslate nohighlight">\((S(T_2) - m S(T_1))^+\)</span> is calculated as the discounted expected value of the payoff under the risk-neutral measure:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[PV = \mathbb{E}\left[e^{-r_dT_2}(S(T_2) - m S(T_1))^+|F_0\right]\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[= e^{-r_dT_2} \mathbb{E}\left[\mathbb{E}((S(T_2) - m S(T_1))^+|F_{T_1}) |F_0\right]\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[= e^{-r_dT_2} \mathbb{E}\left[\mathbb{E}\left(\left(S(T_1) e^{(r_d-r_f-\frac{\sigma^2}{2})(T_2-T_1)+\sigma W_{T_2-T_1}} - m S(T_1)\right)^+|F_{T_1}\right) \right|F_0\right]\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[= e^{-r_dT_2} \mathbb{E}\left[S(T_1)\mathbb{E}\left(\left(e^{(r_d-r_f-\frac{\sigma^2}{2})(T_2-T_1)+\sigma W_{T_2-T_1}} - m\right)^+ \right|F_0\right]\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[= e^{-r_dT_2} \mathbb{E}[S(T_1)|F_0] \mathbb{E}\left[\left(e^{(r_d-r_f-\frac{\sigma^2}{2})(T_2-T_1)+\sigma W_{T_2-T_1}} - m\right)^+ \right]\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[= e^{-r_dT_2} S(0) e^{(r_d-r_f)T_1} \mathbb{E}\left[\left(e^{(r_d-r_f-\frac{\sigma^2}{2})(T_2-T_1)+\sigma W_{T_2-T_1}} - m\right)^+ \right]\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[= e^{-r_dT_2}S(0) e^{(r_d-r_f)T_1} \left(e^{(r_d-r_f-\frac{\sigma^2}{2})(T_2-T_1)} \mathbb{E}\left[e^{\sigma W_{T_2-T_1}}\mathbf{1}_{\frac{S(T_2)}{S(T_1)}&gt;m}\right] - m\mathbb{E}\left[\mathbf{1}_{\frac{S(T_2)}{S(T_1)}&gt;m}\right]\right)\]</div>
</div>
<p>Let us have a look at the first expectation:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\mathbb{E}\left[e^{\sigma W_{T_2-T_1}}\mathbf{1}_{\frac{S(T_2)}{S(T_1)}&gt;m}\right] = e^{\frac{\sigma^2}{2}(T_2-T_1)} \mathbb{E}\left[\frac{dQ_S}{dQ}\mathbf{1}_{\frac{S(T_2)}{S(T_1)}&gt;m}\right]\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[= e^{\frac{\sigma^2}{2}(T_2-T_1)} \mathbb{E}_{Q_S}\left[\mathbf{1}_{\frac{S(T_2)}{S(T_1)}&gt;m}\right]\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[= e^{\frac{\sigma^2}{2}(T_2-T_1)} Q_S\left(\frac{S(T_2)}{S(T_1)} &gt; m\right)\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[= e^{\frac{\sigma^2}{2}(T_2-T_1)} Q_S\left(\sigma W_{T_2-T_1} &gt; \ln m - (r_d-r_f-\frac{\sigma^2}{2})(T_2-T_1)\right)\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[= e^{\frac{\sigma^2}{2}(T_2-T_1)} Q_S\left(\sigma \tilde{W}_{T_2-T_1} &gt; \ln m - (r_d-r_f+\frac{\sigma^2}{2})(T_2-T_1)\right)\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[= e^{\frac{\sigma^2}{2}(T_2-T_1)} Q_S\left(N(0,1) &gt; \frac{\ln m - (r_d-r_f+\frac{\sigma^2}{2})(T_2-T_1)}{\sigma\sqrt{T_2-T_1}}\right)\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[= e^{\frac{\sigma^2}{2}(T_2-T_1)} N(d^+(F(T_2), mF(T_1), \sigma, T_2-T_1)),\]</div>
</div>
<p>where:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(N(0,1)\)</span> is a standard Gaussian variable.</p></li>
<li><p><span class="math notranslate nohighlight">\(N\)</span> denotes the standard normal cumulative distribution function.</p></li>
<li><p><span class="math notranslate nohighlight">\(F(T_i) = S(0) e^{(r_d-r_f)T_i}\)</span> is the forward price at time <span class="math notranslate nohighlight">\(T_i\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(d^+(F, K, \sigma, \tau) = \frac{\ln\frac{F}{K} + \frac{\sigma^2\tau}{2}}{\sigma\sqrt{\tau}}\)</span>.</p></li>
</ul>
<p>On the other hand,</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\mathbb{E}\left[\mathbf{1}_{\frac{S(T_2)}{S(T_1)}&gt;m}\right] = Q\left(\sigma W_{T_2-T_1} &gt; \ln m - (r_d-r_f-\frac{\sigma^2}{2})(T_2-T_1)\right)\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[= N(d^-(F(T_2), mF(T_1), \sigma, T_2-T_1))\]</div>
</div>
<p>with <span class="math notranslate nohighlight">\(d^-(F, K, \sigma, \tau) = d^+(F, K, \sigma, \tau) - \sigma\sqrt{\tau}\)</span>. Thus we have</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[PV = S(0) e^{-r_dT_2}e^{(r_d-r_f)T_1} \left[e^{(r_d-r_f)(T_2-T_1)}N(d^+(F(T_2), mF(T_1), \sigma, T_2-T_1))\right.\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\left. - mN(d^-(F(T_2), mF(T_1), \sigma, T_2-T_1))\right]\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[= S(0) e^{-r_fT_2}N(d^+(F(T_2), mF(T_1), \sigma, T_2-T_1))\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[- m S(0) e^{-r_fT_1} e^{-r_d(T_2-T_1)}N(d^-(F(T_2), mF(T_1), \sigma, T_2-T_1))\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[= F(T_2) e^{-r_dT_2}N(d^+(F(T_2), mF(T_1), \sigma, T_2-T_1))\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[- m F(T_1) e^{-r_dT_1}N(d^-(F(T_2), mF(T_1), \sigma, T_2-T_1))\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[= e^{-r_dT_2}[F(T_2) N(d^+(F(T_2), mF(T_1), \sigma, T_2-T_1)) - m F(T_1) e^{r_d(T_2-T_1)}N(d^-(F(T_2), mF(T_1), \sigma, T_2-T_1))]\]</div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[= e^{-r_dT_2}BS(F(T_2), m F(T_1), \sigma, T_2-T_1)\]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(BS(F, K, \sigma, T)\)</span> the Black-Scholes premium for a call option with forward price <span class="math notranslate nohighlight">\(F\)</span>, strike price <span class="math notranslate nohighlight">\(K\)</span>, volatility <span class="math notranslate nohighlight">\(\sigma\)</span> and maturity <span class="math notranslate nohighlight">\(T\)</span>. We can then use expression (D.1.1) to back out <span class="math notranslate nohighlight">\(\sigma\)</span>, the expected forward volatility, from the present value of a forward starting call option computed from any desired model.</p>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../Local%20Volatility%20PDE%20and%20MC/Local_Volatility_PDE_and_MC.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title"><span class="section-number">1.6.1.3. </span>Local Volatility: PDE and MC</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../FX%20LSV%20Markov%20Switching%20%20Monte%20Carlo/FX_LSV_Markov_Switching_Monte_Carlo.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title"><span class="section-number">1.6.1.1. </span>FX LSV Markov Switching : Monte Carlo</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2023-2025, PRETORIAN Development Team
            </div>
            Made with 
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/pretorian-project" aria-label="GitHub">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
            </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">1.6.1.2. FX LSV Markov Switching : PDE</a><ul>
<li><a class="reference internal" href="#executive-summary">1.6.1.2.1. 1. Executive Summary</a></li>
<li><a class="reference internal" href="#scope-and-use">1.6.1.2.2. 2. Scope and Use</a></li>
<li><a class="reference internal" href="#product-and-portfolio">1.6.1.2.3. 3. Product and Portfolio</a><ul>
<li><a class="reference internal" href="#description">1.6.1.2.3.1. 3.1. Description</a><ul>
<li><a class="reference internal" href="#vanilla-options">1.6.1.2.3.1.1. 3.1.1. Vanilla Options</a></li>
<li><a class="reference internal" href="#one-touch-option">1.6.1.2.3.1.2. 3.1.2. One Touch Option</a></li>
<li><a class="reference internal" href="#double-no-touch">1.6.1.2.3.1.3. 3.1.3. Double No Touch</a></li>
<li><a class="reference internal" href="#fx-single-knock-out-barrier">1.6.1.2.3.1.4. 3.1.4. FX Single Knock-Out Barrier</a></li>
</ul>
</li>
<li><a class="reference internal" href="#relationship-to-other-approved-models">1.6.1.2.3.2. 3.2. Relationship to Other Approved Models</a></li>
</ul>
</li>
<li><a class="reference internal" href="#model-assumptions">1.6.1.2.4. 4. Model Assumptions</a></li>
<li><a class="reference internal" href="#model-limitations">1.6.1.2.5. 4.4. Model Limitations</a></li>
<li><a class="reference internal" href="#model-inputs-and-parameters">1.6.1.2.6. 4.5. Model Inputs and Parameters</a></li>
<li><a class="reference internal" href="#model-outputs">1.6.1.2.7. 4.6. Model Outputs</a></li>
<li><a class="reference internal" href="#feeder-models">1.6.1.2.8. 4.7. Feeder Models</a></li>
<li><a class="reference internal" href="#conceptual-soundness-and-model-selection">1.6.1.2.9. 4.8. Conceptual Soundness and Model Selection</a></li>
<li><a class="reference internal" href="#data-processing-and-calibration">1.6.1.2.10. 5. Data Processing and Calibration</a><ul>
<li><a class="reference internal" href="#id1">1.6.1.2.10.1. 5.1. Description</a></li>
<li><a class="reference internal" href="#calibration-input-parameters">1.6.1.2.10.2. 5.1.1. Calibration Input Parameters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#alternative-approaches">1.6.1.2.11. 5.2. Alternative Approaches</a></li>
<li><a class="reference internal" href="#quality-control">1.6.1.2.12. 5.3. Quality control</a></li>
<li><a class="reference internal" href="#limitations">1.6.1.2.13. 5.4. Limitations</a></li>
<li><a class="reference internal" href="#numerical-implementation">1.6.1.2.14. 6. Numerical Implementation</a><ul>
<li><a class="reference internal" href="#id2">1.6.1.2.14.1. 6.1. Description</a></li>
<li><a class="reference internal" href="#inputs">1.6.1.2.14.2. 6.2. Inputs</a><ul>
<li><a class="reference internal" href="#reference-data-market-data-and-other-data-inputs">1.6.1.2.14.2.1. 6.2.1. Reference Data: Market Data and Other Data Inputs</a><ul>
<li><a class="reference internal" href="#data-quality-and-data-checks">1.6.1.2.14.2.1.1. 6.2.1.1. Data Quality and Data Checks</a></li>
</ul>
</li>
<li><a class="reference internal" href="#other-inputs">1.6.1.2.14.2.2. 6.2.2. Other Inputs</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id3">1.6.1.2.14.3. 6.3. Limitations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#risk-measures">1.6.1.2.15. 7. Risk Measures</a><ul>
<li><a class="reference internal" href="#id4">1.6.1.2.15.1. 7.1. Description</a></li>
<li><a class="reference internal" href="#id5">1.6.1.2.15.2. 7.2. Inputs</a></li>
<li><a class="reference internal" href="#id6">1.6.1.2.15.3. 7.3. Limitations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#testing-and-outcome-analyses">1.6.1.2.16. 8. Testing and Outcome Analyses</a><ul>
<li><a class="reference internal" href="#testing-plan">1.6.1.2.16.1. 8.1. Testing Plan</a><ul>
<li><a class="reference internal" href="#calibration-correctness-repricing-of-fx-volatility-inputs">1.6.1.2.16.1.1. 8.1.1. Calibration Correctness: Repricing of FX Volatility Inputs</a></li>
<li><a class="reference internal" href="#consistency-with-lv-in-the-case-of-low-vol-of-vol">1.6.1.2.16.1.2. 8.1.2. Consistency with LV in the case of low vol-of-vol</a></li>
<li><a class="reference internal" href="#forward-smile-comparison-between-lv-and-lsvms-model">1.6.1.2.16.1.3. 8.1.6. Forward Smile comparison between LV and LSVMS model</a></li>
<li><a class="reference internal" href="#impact-of-transition-matrix-approximation">1.6.1.2.16.1.4. 8.1.7. Impact of Transition Matrix Approximation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#accuracy-robustness-and-stability-testing">1.6.1.2.16.2. 8.2. Accuracy, Robustness and Stability Testing</a><ul>
<li><a class="reference internal" href="#id7">1.6.1.2.16.2.1. 8.2.1. Calibration Correctness: Repricing of FX Volatility Inputs</a><ul>
<li><a class="reference internal" href="#test-1">1.6.1.2.16.2.1.1. 8.2.1.1. Test 1</a></li>
<li><a class="reference internal" href="#test-2">1.6.1.2.16.2.1.2. 8.2.1.2. Test 2</a></li>
<li><a class="reference internal" href="#test-4">1.6.1.2.16.2.1.3. 8.2.1.4. Test 4</a></li>
<li><a class="reference internal" href="#test-5">1.6.1.2.16.2.1.4. 8.2.1.5. Test 5</a></li>
<li><a class="reference internal" href="#test-6">1.6.1.2.16.2.1.5. 8.2.1.6. Test 6</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#test-7">1.6.1.2.16.3. 8.2.1.7. Test 7</a></li>
<li><a class="reference internal" href="#test-8">1.6.1.2.16.4. 8.2.1.8. Test 8</a></li>
<li><a class="reference internal" href="#test-9">1.6.1.2.16.5. 8.2.1.9. Test 9</a></li>
<li><a class="reference internal" href="#test-10">1.6.1.2.16.6. 8.2.1.10. Test 10</a></li>
<li><a class="reference internal" href="#test-11">1.6.1.2.16.7. 8.2.1.11. Test 11</a></li>
</ul>
</li>
<li><a class="reference internal" href="#scenario-and-stress-testing">1.6.1.2.17. 8.3. Scenario and Stress-testing</a><ul>
<li><a class="reference internal" href="#ccar-scenarios">1.6.1.2.17.1. 8.3.1. CCAR Scenarios</a><ul>
<li><a class="reference internal" href="#test-14">1.6.1.2.17.1.1. 8.3.1.1. Test 14</a></li>
<li><a class="reference internal" href="#test-15">1.6.1.2.17.1.2. 8.3.1.2. Test 15</a></li>
<li><a class="reference internal" href="#test-16">1.6.1.2.17.1.3. 8.3.1.3. Test 16</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#sensitivity-analysis">1.6.1.2.18. 8.4. Sensitivity Analysis</a><ul>
<li><a class="reference internal" href="#sensitivity-with-respect-to-market-inputs">1.6.1.2.18.1. 8.4.1. Sensitivity with respect to Market Inputs</a><ul>
<li><a class="reference internal" href="#test-17">1.6.1.2.18.1.1. 8.4.1.1. Test 17</a></li>
<li><a class="reference internal" href="#test-18">1.6.1.2.18.1.2. 8.4.1.2. Test 18</a></li>
<li><a class="reference internal" href="#test-19">1.6.1.2.18.1.3. 8.4.1.3. Test 19</a></li>
</ul>
</li>
<li><a class="reference internal" href="#sensitivity-with-respect-to-model-parameters">1.6.1.2.18.2. 8.4.2. Sensitivity with respect to Model Parameters</a><ul>
<li><a class="reference internal" href="#test-20">1.6.1.2.18.2.1. 8.4.2.1. Test 20</a></li>
<li><a class="reference internal" href="#test-21">1.6.1.2.18.2.2. 8.4.2.2. Test 21</a></li>
<li><a class="reference internal" href="#test-22">1.6.1.2.18.2.3. 8.4.2.3. Test 22</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#back-testing">1.6.1.2.19. 8.5. Back-testing</a></li>
<li><a class="reference internal" href="#benchmarking">1.6.1.2.20. 8.6. Benchmarking</a><ul>
<li><a class="reference internal" href="#test-23">1.6.1.2.20.1. 8.6.1. Test 23</a></li>
</ul>
</li>
<li><a class="reference internal" href="#test-24">1.6.1.2.21. 8.6.2. Test 24</a></li>
<li><a class="reference internal" href="#test-25">1.6.1.2.22. 8.6.3. Test 25</a></li>
<li><a class="reference internal" href="#assumptions-and-limitations">1.6.1.2.23. 9. Assumptions and Limitations</a><ul>
<li><a class="reference internal" href="#id8">1.6.1.2.23.1. Model Assumptions</a></li>
<li><a class="reference internal" href="#id9">1.6.1.2.23.2. Model Limitations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#qa-implementation-environment-and-controls">1.6.1.2.24. 10. QA Implementation Environment and Controls</a></li>
<li><a class="reference internal" href="#references">1.6.1.2.25. 12. References</a></li>
<li><a class="reference internal" href="#a-appendix-glossary">1.6.1.2.26. A. Appendix: Glossary</a></li>
<li><a class="reference internal" href="#b-appendix-peer-reviewer-sign-off">1.6.1.2.27. B. Appendix: Peer Reviewer Sign off</a></li>
<li><a class="reference internal" href="#c-appendix-feedback-received-during-development">1.6.1.2.28. C. Appendix: Feedback Received During Development</a></li>
<li><a class="reference internal" href="#d-appendix-forward-smile-derivation">1.6.1.2.29. D. Appendix: Forward Smile Derivation</a><ul>
<li><a class="reference internal" href="#d-1-expected-forward-smile-derivation">1.6.1.2.29.1. D.1. Expected Forward Smile Derivation</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../../../_static/documentation_options.js?v=454d727b"></script>
    <script src="../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/scripts/furo.js?v=32e29ea5"></script>
    <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../_static/copybutton.js?v=ab308175"></script>
    <script src="../../../_static/custom.js?v=92eda4d4"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script src="../../../_static/design-tabs.js?v=36754332"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "displayMath": [["$$", "$$"], ["\\[", "\\]"]], "processEscapes": true, "processEnvironments": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../../_static/custom.js?v=92eda4d4"></script>
    </body>
</html>